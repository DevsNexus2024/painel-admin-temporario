const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-2poHRMYr.js","assets/vendor-DWsAdE5j.js","assets/ui-Bw0PkY4B.js"])))=>i.map(i=>d[i]);
var _focused,_cleanup,_setup,_a2,_online,_cleanup2,_setup2,_b2,_gcTimeout,_c,_initialState,_revertState,_cache,_client,_retryer,_defaultOptions,_abortSignalConsumed,_Query_instances,dispatch_fn,_d,_queries,_e2,_observers,_mutationCache,_retryer2,_Mutation_instances,dispatch_fn2,_f,_mutations,_scopes,_mutationId,_g,_queryCache,_mutationCache2,_defaultOptions2,_queryDefaults,_mutationDefaults,_mountCount,_unsubscribeFocus,_unsubscribeOnline,_h,_client2,_currentQuery,_currentQueryInitialState,_currentResult,_currentResultState,_currentResultOptions,_currentThenable,_selectError,_selectFn,_selectResult,_lastQueryWithDefinedData,_staleTimeoutId,_refetchIntervalId,_currentRefetchInterval,_trackedProps,_QueryObserver_instances,executeFetch_fn,updateStaleTimeout_fn,computeRefetchInterval_fn,updateRefetchInterval_fn,updateTimers_fn,clearStaleTimeout_fn,clearRefetchInterval_fn,updateQuery_fn,notify_fn,_i,_client3,_currentResult2,_currentMutation,_mutateOptions,_MutationObserver_instances,updateResult_fn,notify_fn2,_j,__defProp=Object.defineProperty,__typeError=msg=>{throw TypeError(msg)},__publicField=(obj,key,value)=>((obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value:value}):obj[key]=value)(obj,"symbol"!=typeof key?key+"":key,value),__accessCheck=(obj,member,msg)=>member.has(obj)||__typeError("Cannot "+msg),__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>member.has(obj)?__typeError("Cannot add the same private member more than once"):member instanceof WeakSet?member.add(obj):member.set(obj,value),__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),__privateMethod=(obj,member,method)=>(__accessCheck(obj,member,"access private method"),method),__privateWrapper=(obj,member,setter,getter)=>({set _(value){__privateSet(obj,member,value,setter)},get _(){return __privateGet(obj,member,getter)}});import{j as jsxRuntimeExports,P as Primitive,c as createContextScope,a as createCollection,u as useComposedRefs,B as Branch,b as useControllableState,d as Presence,e as composeEventHandlers,f as useCallbackRef,R as Root$7,g as Portal$2,h as useLayoutEffect2,i as dispatchDiscreteCustomEvent,k as createPopperScope,D as DismissableLayer,C as Content$1,l as createSlottable,A as Anchor,m as Arrow,S as Slot$2,n as useDirection,o as SubTrigger2,p as SubContent2,q as Portal2$1,r as Content2$4,I as Item2$1,s as CheckboxItem2,t as ItemIndicator2,v as RadioItem2,L as Label2,w as Separator2,x as Root2$6,T as Trigger$3,y as createRovingFocusGroupScope,z as Root$8,E as Item$1,F as useId$1,G as hideOthers,H as ReactRemoveScroll,J as createSlot,K as useFocusGuards,M as FocusScope,N as Root2$7,O as useSize,Q as Overlay,U as Portal$3,V as Content$2,W as Close$1,X as Title$1,Y as Description$1,Z as Root$9,_ as Trigger$4,$ as composeRefs,a0 as createDialogScope,a1 as WarningProvider}from"./ui-Bw0PkY4B.js";import{a as reactDomExports,r as reactExports,R as React$1,b as ReactDOM,c as React$2,d as commonjsGlobal,g as getDefaultExportFromCjs}from"./vendor-DWsAdE5j.js";!function(){const relList=document.createElement("link").relList;if(!(relList&&relList.supports&&relList.supports("modulepreload"))){for(const link of document.querySelectorAll('link[rel="modulepreload"]'))processPreload(link);new MutationObserver(mutations=>{for(const mutation of mutations)if("childList"===mutation.type)for(const node of mutation.addedNodes)"LINK"===node.tagName&&"modulepreload"===node.rel&&processPreload(node)}).observe(document,{childList:!0,subtree:!0})}function processPreload(link){if(link.ep)return;link.ep=!0;const fetchOpts=function(link){const fetchOpts={};return link.integrity&&(fetchOpts.integrity=link.integrity),link.referrerPolicy&&(fetchOpts.referrerPolicy=link.referrerPolicy),"use-credentials"===link.crossOrigin?fetchOpts.credentials="include":"anonymous"===link.crossOrigin?fetchOpts.credentials="omit":fetchOpts.credentials="same-origin",fetchOpts}(link);fetch(link.href,fetchOpts)}}();var client={},m$3=reactDomExports;client.createRoot=m$3.createRoot,client.hydrateRoot=m$3.hydrateRoot;let count$1=0;const toastTimeouts=new Map,addToRemoveQueue=toastId=>{if(toastTimeouts.has(toastId))return;const timeout=setTimeout(()=>{toastTimeouts.delete(toastId),dispatch({type:"REMOVE_TOAST",toastId:toastId})},1e6);toastTimeouts.set(toastId,timeout)},reducer=(state,action)=>{switch(action.type){case"ADD_TOAST":return{...state,toasts:[action.toast,...state.toasts].slice(0,1)};case"UPDATE_TOAST":return{...state,toasts:state.toasts.map(t3=>t3.id===action.toast.id?{...t3,...action.toast}:t3)};case"DISMISS_TOAST":{const{toastId:toastId}=action;return toastId?addToRemoveQueue(toastId):state.toasts.forEach(toast2=>{addToRemoveQueue(toast2.id)}),{...state,toasts:state.toasts.map(t3=>t3.id===toastId||void 0===toastId?{...t3,open:!1}:t3)}}case"REMOVE_TOAST":return void 0===action.toastId?{...state,toasts:[]}:{...state,toasts:state.toasts.filter(t3=>t3.id!==action.toastId)}}},listeners=[];let memoryState={toasts:[]};function dispatch(action){memoryState=reducer(memoryState,action),listeners.forEach(listener=>{listener(memoryState)})}function toast({...props}){const id2=(count$1=(count$1+1)%Number.MAX_SAFE_INTEGER,count$1.toString()),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:id2});return dispatch({type:"ADD_TOAST",toast:{...props,id:id2,open:!0,onOpenChange:open2=>{open2||dismiss()}}}),{id:id2,dismiss:dismiss,update:props2=>dispatch({type:"UPDATE_TOAST",toast:{...props2,id:id2}})}}function useToast(){const[state,setState]=reactExports.useState(memoryState);return reactExports.useEffect(()=>(listeners.push(setState),()=>{const index=listeners.indexOf(setState);index>-1&&listeners.splice(index,1)}),[state]),{...state,toast:toast,dismiss:toastId=>dispatch({type:"DISMISS_TOAST",toastId:toastId})}}var VISUALLY_HIDDEN_STYLES=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VisuallyHidden=reactExports.forwardRef((props,forwardedRef)=>jsxRuntimeExports.jsx(Primitive.span,{...props,ref:forwardedRef,style:{...VISUALLY_HIDDEN_STYLES,...props.style}}));VisuallyHidden.displayName="VisuallyHidden";var Root$6=VisuallyHidden,[Collection$1,useCollection$1,createCollectionScope$1]=createCollection("Toast"),[createToastContext,createToastScope]=createContextScope("Toast",[createCollectionScope$1]),[ToastProviderProvider,useToastProviderContext]=createToastContext("ToastProvider"),ToastProvider$1=props=>{const{__scopeToast:__scopeToast,label:label="Notification",duration:duration=5e3,swipeDirection:swipeDirection="right",swipeThreshold:swipeThreshold=50,children:children}=props,[viewport,setViewport]=reactExports.useState(null),[toastCount,setToastCount]=reactExports.useState(0),isFocusedToastEscapeKeyDownRef=reactExports.useRef(!1),isClosePausedRef=reactExports.useRef(!1);return label.trim(),jsxRuntimeExports.jsx(Collection$1.Provider,{scope:__scopeToast,children:jsxRuntimeExports.jsx(ToastProviderProvider,{scope:__scopeToast,label:label,duration:duration,swipeDirection:swipeDirection,swipeThreshold:swipeThreshold,toastCount:toastCount,viewport:viewport,onViewportChange:setViewport,onToastAdd:reactExports.useCallback(()=>setToastCount(prevCount=>prevCount+1),[]),onToastRemove:reactExports.useCallback(()=>setToastCount(prevCount=>prevCount-1),[]),isFocusedToastEscapeKeyDownRef:isFocusedToastEscapeKeyDownRef,isClosePausedRef:isClosePausedRef,children:children})})};ToastProvider$1.displayName="ToastProvider";var VIEWPORT_DEFAULT_HOTKEY=["F8"],ToastViewport$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeToast:__scopeToast,hotkey:hotkey=VIEWPORT_DEFAULT_HOTKEY,label:label="Notifications ({hotkey})",...viewportProps}=props,context=useToastProviderContext("ToastViewport",__scopeToast),getItems=useCollection$1(__scopeToast),wrapperRef=reactExports.useRef(null),headFocusProxyRef=reactExports.useRef(null),tailFocusProxyRef=reactExports.useRef(null),ref=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,ref,context.onViewportChange),hotkeyLabel=hotkey.join("+").replace(/Key/g,"").replace(/Digit/g,""),hasToasts=context.toastCount>0;reactExports.useEffect(()=>{const handleKeyDown=event=>{var _a3;0!==hotkey.length&&hotkey.every(key=>event[key]||event.code===key)&&(null==(_a3=ref.current)||_a3.focus())};return document.addEventListener("keydown",handleKeyDown),()=>document.removeEventListener("keydown",handleKeyDown)},[hotkey]),reactExports.useEffect(()=>{const wrapper=wrapperRef.current,viewport=ref.current;if(hasToasts&&wrapper&&viewport){const handlePause=()=>{if(!context.isClosePausedRef.current){const pauseEvent=new CustomEvent("toast.viewportPause");viewport.dispatchEvent(pauseEvent),context.isClosePausedRef.current=!0}},handleResume=()=>{if(context.isClosePausedRef.current){const resumeEvent=new CustomEvent("toast.viewportResume");viewport.dispatchEvent(resumeEvent),context.isClosePausedRef.current=!1}},handleFocusOutResume=event=>{!wrapper.contains(event.relatedTarget)&&handleResume()},handlePointerLeaveResume=()=>{wrapper.contains(document.activeElement)||handleResume()};return wrapper.addEventListener("focusin",handlePause),wrapper.addEventListener("focusout",handleFocusOutResume),wrapper.addEventListener("pointermove",handlePause),wrapper.addEventListener("pointerleave",handlePointerLeaveResume),window.addEventListener("blur",handlePause),window.addEventListener("focus",handleResume),()=>{wrapper.removeEventListener("focusin",handlePause),wrapper.removeEventListener("focusout",handleFocusOutResume),wrapper.removeEventListener("pointermove",handlePause),wrapper.removeEventListener("pointerleave",handlePointerLeaveResume),window.removeEventListener("blur",handlePause),window.removeEventListener("focus",handleResume)}}},[hasToasts,context.isClosePausedRef]);const getSortedTabbableCandidates=reactExports.useCallback(({tabbingDirection:tabbingDirection})=>{const tabbableCandidates=getItems().map(toastItem=>{const toastNode=toastItem.ref.current,toastTabbableCandidates=[toastNode,...getTabbableCandidates(toastNode)];return"forwards"===tabbingDirection?toastTabbableCandidates:toastTabbableCandidates.reverse()});return("forwards"===tabbingDirection?tabbableCandidates.reverse():tabbableCandidates).flat()},[getItems]);return reactExports.useEffect(()=>{const viewport=ref.current;if(viewport){const handleKeyDown=event=>{var _a3,_b3,_c2;const isMetaKey=event.altKey||event.ctrlKey||event.metaKey;if("Tab"===event.key&&!isMetaKey){const focusedElement=document.activeElement,isTabbingBackwards=event.shiftKey;if(event.target===viewport&&isTabbingBackwards)return void(null==(_a3=headFocusProxyRef.current)||_a3.focus());const sortedCandidates=getSortedTabbableCandidates({tabbingDirection:isTabbingBackwards?"backwards":"forwards"}),index=sortedCandidates.findIndex(candidate=>candidate===focusedElement);focusFirst(sortedCandidates.slice(index+1))?event.preventDefault():isTabbingBackwards?null==(_b3=headFocusProxyRef.current)||_b3.focus():null==(_c2=tailFocusProxyRef.current)||_c2.focus()}};return viewport.addEventListener("keydown",handleKeyDown),()=>viewport.removeEventListener("keydown",handleKeyDown)}},[getItems,getSortedTabbableCandidates]),jsxRuntimeExports.jsxs(Branch,{ref:wrapperRef,role:"region","aria-label":label.replace("{hotkey}",hotkeyLabel),tabIndex:-1,style:{pointerEvents:hasToasts?void 0:"none"},children:[hasToasts&&jsxRuntimeExports.jsx(FocusProxy,{ref:headFocusProxyRef,onFocusFromOutsideViewport:()=>{focusFirst(getSortedTabbableCandidates({tabbingDirection:"forwards"}))}}),jsxRuntimeExports.jsx(Collection$1.Slot,{scope:__scopeToast,children:jsxRuntimeExports.jsx(Primitive.ol,{tabIndex:-1,...viewportProps,ref:composedRefs})}),hasToasts&&jsxRuntimeExports.jsx(FocusProxy,{ref:tailFocusProxyRef,onFocusFromOutsideViewport:()=>{focusFirst(getSortedTabbableCandidates({tabbingDirection:"backwards"}))}})]})});ToastViewport$1.displayName="ToastViewport";var FocusProxy=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeToast:__scopeToast,onFocusFromOutsideViewport:onFocusFromOutsideViewport,...proxyProps}=props,context=useToastProviderContext("ToastFocusProxy",__scopeToast);return jsxRuntimeExports.jsx(VisuallyHidden,{"aria-hidden":!0,tabIndex:0,...proxyProps,ref:forwardedRef,style:{position:"fixed"},onFocus:event=>{var _a3;const prevFocusedElement=event.relatedTarget;!(null==(_a3=context.viewport)?void 0:_a3.contains(prevFocusedElement))&&onFocusFromOutsideViewport()}})});FocusProxy.displayName="ToastFocusProxy";var Toast$1=reactExports.forwardRef((props,forwardedRef)=>{const{forceMount:forceMount,open:openProp,defaultOpen:defaultOpen,onOpenChange:onOpenChange,...toastProps}=props,[open2,setOpen]=useControllableState({prop:openProp,defaultProp:defaultOpen??!0,onChange:onOpenChange,caller:"Toast"});return jsxRuntimeExports.jsx(Presence,{present:forceMount||open2,children:jsxRuntimeExports.jsx(ToastImpl,{open:open2,...toastProps,ref:forwardedRef,onClose:()=>setOpen(!1),onPause:useCallbackRef(props.onPause),onResume:useCallbackRef(props.onResume),onSwipeStart:composeEventHandlers(props.onSwipeStart,event=>{event.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:composeEventHandlers(props.onSwipeMove,event=>{const{x:x2,y:y2}=event.detail.delta;event.currentTarget.setAttribute("data-swipe","move"),event.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x2}px`),event.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y2}px`)}),onSwipeCancel:composeEventHandlers(props.onSwipeCancel,event=>{event.currentTarget.setAttribute("data-swipe","cancel"),event.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),event.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),event.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),event.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:composeEventHandlers(props.onSwipeEnd,event=>{const{x:x2,y:y2}=event.detail.delta;event.currentTarget.setAttribute("data-swipe","end"),event.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),event.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),event.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x2}px`),event.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y2}px`),setOpen(!1)})})})});Toast$1.displayName="Toast";var[ToastInteractiveProvider,useToastInteractiveContext]=createToastContext("Toast",{onClose(){}}),ToastImpl=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeToast:__scopeToast,type:type="foreground",duration:durationProp,open:open2,onClose:onClose,onEscapeKeyDown:onEscapeKeyDown,onPause:onPause,onResume:onResume,onSwipeStart:onSwipeStart,onSwipeMove:onSwipeMove,onSwipeCancel:onSwipeCancel,onSwipeEnd:onSwipeEnd,...toastProps}=props,context=useToastProviderContext("Toast",__scopeToast),[node,setNode]=reactExports.useState(null),composedRefs=useComposedRefs(forwardedRef,node2=>setNode(node2)),pointerStartRef=reactExports.useRef(null),swipeDeltaRef=reactExports.useRef(null),duration=durationProp||context.duration,closeTimerStartTimeRef=reactExports.useRef(0),closeTimerRemainingTimeRef=reactExports.useRef(duration),closeTimerRef=reactExports.useRef(0),{onToastAdd:onToastAdd,onToastRemove:onToastRemove}=context,handleClose=useCallbackRef(()=>{var _a3;(null==node?void 0:node.contains(document.activeElement))&&(null==(_a3=context.viewport)||_a3.focus()),onClose()}),startTimer=reactExports.useCallback(duration2=>{duration2&&duration2!==1/0&&(window.clearTimeout(closeTimerRef.current),closeTimerStartTimeRef.current=(new Date).getTime(),closeTimerRef.current=window.setTimeout(handleClose,duration2))},[handleClose]);reactExports.useEffect(()=>{const viewport=context.viewport;if(viewport){const handleResume=()=>{startTimer(closeTimerRemainingTimeRef.current),null==onResume||onResume()},handlePause=()=>{const elapsedTime=(new Date).getTime()-closeTimerStartTimeRef.current;closeTimerRemainingTimeRef.current=closeTimerRemainingTimeRef.current-elapsedTime,window.clearTimeout(closeTimerRef.current),null==onPause||onPause()};return viewport.addEventListener("toast.viewportPause",handlePause),viewport.addEventListener("toast.viewportResume",handleResume),()=>{viewport.removeEventListener("toast.viewportPause",handlePause),viewport.removeEventListener("toast.viewportResume",handleResume)}}},[context.viewport,duration,onPause,onResume,startTimer]),reactExports.useEffect(()=>{open2&&!context.isClosePausedRef.current&&startTimer(duration)},[open2,duration,context.isClosePausedRef,startTimer]),reactExports.useEffect(()=>(onToastAdd(),()=>onToastRemove()),[onToastAdd,onToastRemove]);const announceTextContent=reactExports.useMemo(()=>node?getAnnounceTextContent(node):null,[node]);return context.viewport?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[announceTextContent&&jsxRuntimeExports.jsx(ToastAnnounce,{__scopeToast:__scopeToast,role:"status","aria-live":"foreground"===type?"assertive":"polite","aria-atomic":!0,children:announceTextContent}),jsxRuntimeExports.jsx(ToastInteractiveProvider,{scope:__scopeToast,onClose:handleClose,children:reactDomExports.createPortal(jsxRuntimeExports.jsx(Collection$1.ItemSlot,{scope:__scopeToast,children:jsxRuntimeExports.jsx(Root$7,{asChild:!0,onEscapeKeyDown:composeEventHandlers(onEscapeKeyDown,()=>{context.isFocusedToastEscapeKeyDownRef.current||handleClose(),context.isFocusedToastEscapeKeyDownRef.current=!1}),children:jsxRuntimeExports.jsx(Primitive.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":open2?"open":"closed","data-swipe-direction":context.swipeDirection,...toastProps,ref:composedRefs,style:{userSelect:"none",touchAction:"none",...props.style},onKeyDown:composeEventHandlers(props.onKeyDown,event=>{"Escape"===event.key&&(null==onEscapeKeyDown||onEscapeKeyDown(event.nativeEvent),event.nativeEvent.defaultPrevented||(context.isFocusedToastEscapeKeyDownRef.current=!0,handleClose()))}),onPointerDown:composeEventHandlers(props.onPointerDown,event=>{0===event.button&&(pointerStartRef.current={x:event.clientX,y:event.clientY})}),onPointerMove:composeEventHandlers(props.onPointerMove,event=>{if(!pointerStartRef.current)return;const x2=event.clientX-pointerStartRef.current.x,y2=event.clientY-pointerStartRef.current.y,hasSwipeMoveStarted=Boolean(swipeDeltaRef.current),isHorizontalSwipe=["left","right"].includes(context.swipeDirection),clamp2=["left","up"].includes(context.swipeDirection)?Math.min:Math.max,clampedX=isHorizontalSwipe?clamp2(0,x2):0,clampedY=isHorizontalSwipe?0:clamp2(0,y2),moveStartBuffer="touch"===event.pointerType?10:2,delta={x:clampedX,y:clampedY},eventDetail={originalEvent:event,delta:delta};hasSwipeMoveStarted?(swipeDeltaRef.current=delta,handleAndDispatchCustomEvent("toast.swipeMove",onSwipeMove,eventDetail,{discrete:!1})):isDeltaInDirection(delta,context.swipeDirection,moveStartBuffer)?(swipeDeltaRef.current=delta,handleAndDispatchCustomEvent("toast.swipeStart",onSwipeStart,eventDetail,{discrete:!1}),event.target.setPointerCapture(event.pointerId)):(Math.abs(x2)>moveStartBuffer||Math.abs(y2)>moveStartBuffer)&&(pointerStartRef.current=null)}),onPointerUp:composeEventHandlers(props.onPointerUp,event=>{const delta=swipeDeltaRef.current,target=event.target;if(target.hasPointerCapture(event.pointerId)&&target.releasePointerCapture(event.pointerId),swipeDeltaRef.current=null,pointerStartRef.current=null,delta){const toast2=event.currentTarget,eventDetail={originalEvent:event,delta:delta};isDeltaInDirection(delta,context.swipeDirection,context.swipeThreshold)?handleAndDispatchCustomEvent("toast.swipeEnd",onSwipeEnd,eventDetail,{discrete:!0}):handleAndDispatchCustomEvent("toast.swipeCancel",onSwipeCancel,eventDetail,{discrete:!0}),toast2.addEventListener("click",event2=>event2.preventDefault(),{once:!0})}})})})}),context.viewport)})]}):null}),ToastAnnounce=props=>{const{__scopeToast:__scopeToast,children:children,...announceProps}=props,context=useToastProviderContext("Toast",__scopeToast),[renderAnnounceText,setRenderAnnounceText]=reactExports.useState(!1),[isAnnounced,setIsAnnounced]=reactExports.useState(!1);return function(callback=()=>{}){const fn=useCallbackRef(callback);useLayoutEffect2(()=>{let raf1=0,raf2=0;return raf1=window.requestAnimationFrame(()=>raf2=window.requestAnimationFrame(fn)),()=>{window.cancelAnimationFrame(raf1),window.cancelAnimationFrame(raf2)}},[fn])}(()=>setRenderAnnounceText(!0)),reactExports.useEffect(()=>{const timer=window.setTimeout(()=>setIsAnnounced(!0),1e3);return()=>window.clearTimeout(timer)},[]),isAnnounced?null:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,children:jsxRuntimeExports.jsx(VisuallyHidden,{...announceProps,children:renderAnnounceText&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[context.label," ",children]})})})},ToastTitle$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeToast:__scopeToast,...titleProps}=props;return jsxRuntimeExports.jsx(Primitive.div,{...titleProps,ref:forwardedRef})});ToastTitle$1.displayName="ToastTitle";var ToastDescription$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeToast:__scopeToast,...descriptionProps}=props;return jsxRuntimeExports.jsx(Primitive.div,{...descriptionProps,ref:forwardedRef})});ToastDescription$1.displayName="ToastDescription";var ToastAction$1=reactExports.forwardRef((props,forwardedRef)=>{const{altText:altText,...actionProps}=props;return altText.trim()?jsxRuntimeExports.jsx(ToastAnnounceExclude,{altText:altText,asChild:!0,children:jsxRuntimeExports.jsx(ToastClose$1,{...actionProps,ref:forwardedRef})}):null});ToastAction$1.displayName="ToastAction";var ToastClose$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeToast:__scopeToast,...closeProps}=props,interactiveContext=useToastInteractiveContext("ToastClose",__scopeToast);return jsxRuntimeExports.jsx(ToastAnnounceExclude,{asChild:!0,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",...closeProps,ref:forwardedRef,onClick:composeEventHandlers(props.onClick,interactiveContext.onClose)})})});ToastClose$1.displayName="ToastClose";var ToastAnnounceExclude=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeToast:__scopeToast,altText:altText,...announceExcludeProps}=props;return jsxRuntimeExports.jsx(Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":altText||void 0,...announceExcludeProps,ref:forwardedRef})});function getAnnounceTextContent(container){const textContent=[];return Array.from(container.childNodes).forEach(node=>{if(node.nodeType===node.TEXT_NODE&&node.textContent&&textContent.push(node.textContent),function(node){return node.nodeType===node.ELEMENT_NODE}(node)){const isHidden=node.ariaHidden||node.hidden||"none"===node.style.display,isExcluded=""===node.dataset.radixToastAnnounceExclude;if(!isHidden)if(isExcluded){const altText=node.dataset.radixToastAnnounceAlt;altText&&textContent.push(altText)}else textContent.push(...getAnnounceTextContent(node))}}),textContent}function handleAndDispatchCustomEvent(name,handler,detail,{discrete:discrete}){const currentTarget=detail.originalEvent.currentTarget,event=new CustomEvent(name,{bubbles:!0,cancelable:!0,detail:detail});handler&&currentTarget.addEventListener(name,handler,{once:!0}),discrete?dispatchDiscreteCustomEvent(currentTarget,event):currentTarget.dispatchEvent(event)}var isDeltaInDirection=(delta,direction,threshold2=0)=>{const deltaX=Math.abs(delta.x),deltaY=Math.abs(delta.y),isDeltaX=deltaX>deltaY;return"left"===direction||"right"===direction?isDeltaX&&deltaX>threshold2:!isDeltaX&&deltaY>threshold2};function getTabbableCandidates(container){const nodes=[],walker=document.createTreeWalker(container,NodeFilter.SHOW_ELEMENT,{acceptNode:node=>{const isHiddenInput="INPUT"===node.tagName&&"hidden"===node.type;return node.disabled||node.hidden||isHiddenInput?NodeFilter.FILTER_SKIP:node.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;walker.nextNode();)nodes.push(walker.currentNode);return nodes}function focusFirst(candidates){const previouslyFocusedElement=document.activeElement;return candidates.some(candidate=>candidate===previouslyFocusedElement||(candidate.focus(),document.activeElement!==previouslyFocusedElement))}var Provider$1=ToastProvider$1,Viewport$2=ToastViewport$1,Root2$5=Toast$1,Title=ToastTitle$1,Description=ToastDescription$1,Action$2=ToastAction$1,Close=ToastClose$1;function r$1(e3){var t3,f2,n2="";if("string"==typeof e3||"number"==typeof e3)n2+=e3;else if("object"==typeof e3)if(Array.isArray(e3)){var o2=e3.length;for(t3=0;t3<o2;t3++)e3[t3]&&(f2=r$1(e3[t3]))&&(n2&&(n2+=" "),n2+=f2)}else for(f2 in e3)e3[f2]&&(n2&&(n2+=" "),n2+=f2);return n2}function clsx(){for(var e3,t3,f2=0,n2="",o2=arguments.length;f2<o2;f2++)(e3=arguments[f2])&&(t3=r$1(e3))&&(n2&&(n2+=" "),n2+=t3);return n2}const falsyToString=value=>"boolean"==typeof value?`${value}`:0===value?"0":value,cx=clsx,cva=(base,config2)=>props=>{var _config_compoundVariants;if(null==(null==config2?void 0:config2.variants))return cx(base,null==props?void 0:props.class,null==props?void 0:props.className);const{variants:variants,defaultVariants:defaultVariants}=config2,getVariantClassNames=Object.keys(variants).map(variant=>{const variantProp=null==props?void 0:props[variant],defaultVariantProp=null==defaultVariants?void 0:defaultVariants[variant];if(null===variantProp)return null;const variantKey=falsyToString(variantProp)||falsyToString(defaultVariantProp);return variants[variant][variantKey]}),propsWithoutUndefined=props&&Object.entries(props).reduce((acc,param)=>{let[key,value]=param;return void 0===value||(acc[key]=value),acc},{}),getCompoundVariantClassNames=null==config2||null===(_config_compoundVariants=config2.compoundVariants)||void 0===_config_compoundVariants?void 0:_config_compoundVariants.reduce((acc,param)=>{let{class:cvClass,className:cvClassName,...compoundVariantOptions}=param;return Object.entries(compoundVariantOptions).every(param2=>{let[key,value]=param2;return Array.isArray(value)?value.includes({...defaultVariants,...propsWithoutUndefined}[key]):{...defaultVariants,...propsWithoutUndefined}[key]===value})?[...acc,cvClass,cvClassName]:acc},[]);return cx(base,getVariantClassNames,getCompoundVariantClassNames,null==props?void 0:props.class,null==props?void 0:props.className)},mergeClasses=(...classes2)=>classes2.filter((className,index,array2)=>Boolean(className)&&""!==className.trim()&&array2.indexOf(className)===index).join(" ").trim();var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon$1=reactExports.forwardRef(({color:color2="currentColor",size:size=24,strokeWidth:strokeWidth=2,absoluteStrokeWidth:absoluteStrokeWidth,className:className="",children:children,iconNode:iconNode,...rest},ref)=>reactExports.createElement("svg",{ref:ref,...defaultAttributes,width:size,height:size,stroke:color2,strokeWidth:absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth,className:mergeClasses("lucide",className),...rest},[...iconNode.map(([tag,attrs])=>reactExports.createElement(tag,attrs)),...Array.isArray(children)?children:[children]])),createLucideIcon=(iconName,iconNode)=>{const Component=reactExports.forwardRef(({className:className,...props},ref)=>{return reactExports.createElement(Icon$1,{ref:ref,iconNode:iconNode,className:mergeClasses(`lucide-${string2=iconName,string2.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,className),...props});var string2});return Component.displayName=`${iconName}`,Component},Activity=createLucideIcon("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),ArrowDownRight=createLucideIcon("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]),ArrowDownToLine=createLucideIcon("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]),ArrowDown=createLucideIcon("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),ArrowLeft=createLucideIcon("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ArrowRightLeft=createLucideIcon("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),ArrowUpDown=createLucideIcon("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),ArrowUpRight=createLucideIcon("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),ArrowUp=createLucideIcon("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Ban=createLucideIcon("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]),Banknote=createLucideIcon("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Bell=createLucideIcon("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Bitcoin=createLucideIcon("Bitcoin",[["path",{d:"M11.767 19.089c4.924.868 6.14-6.025 1.216-6.894m-1.216 6.894L5.86 18.047m5.908 1.042-.347 1.97m1.563-8.864c4.924.869 6.14-6.025 1.215-6.893m-1.215 6.893-3.94-.694m5.155-6.2L8.29 4.26m5.908 1.042.348-1.97M7.48 20.364l3.126-17.727",key:"yr8idg"}]]),Bot=createLucideIcon("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Brain=createLucideIcon("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),Building2=createLucideIcon("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Building=createLucideIcon("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),CalendarDays=createLucideIcon("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Calendar$1=createLucideIcon("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),ChartColumn=createLucideIcon("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),ChartLine=createLucideIcon("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),ChartNoAxesColumn=createLucideIcon("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),ChartPie=createLucideIcon("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]),Check=createLucideIcon("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ChevronDown=createLucideIcon("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ChevronFirst=createLucideIcon("ChevronFirst",[["path",{d:"m17 18-6-6 6-6",key:"1yerx2"}],["path",{d:"M7 6v12",key:"1p53r6"}]]),ChevronLast=createLucideIcon("ChevronLast",[["path",{d:"m7 18 6-6-6-6",key:"lwmzdw"}],["path",{d:"M17 6v12",key:"1o0aio"}]]),ChevronLeft=createLucideIcon("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),ChevronRight=createLucideIcon("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),ChevronUp=createLucideIcon("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),ChevronsLeft=createLucideIcon("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]),ChevronsRight=createLucideIcon("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]),CircleAlert=createLucideIcon("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),CircleArrowDown=createLucideIcon("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]),CircleArrowUp=createLucideIcon("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),CircleCheckBig=createLucideIcon("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),CircleCheck=createLucideIcon("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),CircleX=createLucideIcon("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Circle=createLucideIcon("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Clock=createLucideIcon("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Copy=createLucideIcon("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),CreditCard=createLucideIcon("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),DollarSign=createLucideIcon("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Download=createLucideIcon("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Ellipsis=createLucideIcon("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),ExternalLink=createLucideIcon("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),EyeOff=createLucideIcon("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Eye=createLucideIcon("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),FileText=createLucideIcon("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Filter=createLucideIcon("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Hash$2=createLucideIcon("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),IdCard=createLucideIcon("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]),Info=createLucideIcon("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Key=createLucideIcon("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),Landmark=createLucideIcon("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),LayoutDashboard=createLucideIcon("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),ListChecks=createLucideIcon("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),LoaderCircle=createLucideIcon("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Lock=createLucideIcon("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),LogOut=createLucideIcon("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Mail=createLucideIcon("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Menu=createLucideIcon("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),MessageSquare=createLucideIcon("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Minus=createLucideIcon("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Pencil=createLucideIcon("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Phone=createLucideIcon("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Plus=createLucideIcon("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),QrCode=createLucideIcon("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),RefreshCcw=createLucideIcon("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),RefreshCw=createLucideIcon("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Repeat=createLucideIcon("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]),RotateCcw=createLucideIcon("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Save=createLucideIcon("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),ScanLine=createLucideIcon("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]),Search=createLucideIcon("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),SendHorizontal=createLucideIcon("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]),Send=createLucideIcon("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),Settings=createLucideIcon("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Shield=createLucideIcon("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),SquareCheckBig=createLucideIcon("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),SquarePen=createLucideIcon("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),Trash2=createLucideIcon("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),TrendingDown=createLucideIcon("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),TrendingUp=createLucideIcon("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),TriangleAlert=createLucideIcon("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Upload=createLucideIcon("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),UserCheck=createLucideIcon("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),UserPlus=createLucideIcon("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),UserSearch=createLucideIcon("UserSearch",[["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}],["path",{d:"M10.3 15H7a4 4 0 0 0-4 4v2",key:"3bnktk"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}]]),UserX=createLucideIcon("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),User=createLucideIcon("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Users=createLucideIcon("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Wallet=createLucideIcon("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]),WifiOff=createLucideIcon("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Wifi=createLucideIcon("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),X$2=createLucideIcon("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Zap=createLucideIcon("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),createClassGroupUtils=config2=>{const classMap=createClassMap(config2),{conflictingClassGroups:conflictingClassGroups,conflictingClassGroupModifiers:conflictingClassGroupModifiers}=config2;return{getClassGroupId:className=>{const classParts=className.split("-");return""===classParts[0]&&1!==classParts.length&&classParts.shift(),getGroupRecursive(classParts,classMap)||getGroupIdForArbitraryProperty(className)},getConflictingClassGroupIds:(classGroupId,hasPostfixModifier)=>{const conflicts=conflictingClassGroups[classGroupId]||[];return hasPostfixModifier&&conflictingClassGroupModifiers[classGroupId]?[...conflicts,...conflictingClassGroupModifiers[classGroupId]]:conflicts}}},getGroupRecursive=(classParts,classPartObject)=>{var _a3;if(0===classParts.length)return classPartObject.classGroupId;const currentClassPart=classParts[0],nextClassPartObject=classPartObject.nextPart.get(currentClassPart),classGroupFromNextClassPart=nextClassPartObject?getGroupRecursive(classParts.slice(1),nextClassPartObject):void 0;if(classGroupFromNextClassPart)return classGroupFromNextClassPart;if(0===classPartObject.validators.length)return;const classRest=classParts.join("-");return null==(_a3=classPartObject.validators.find(({validator:validator})=>validator(classRest)))?void 0:_a3.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=className=>{if(arbitraryPropertyRegex.test(className)){const arbitraryPropertyClassName=arbitraryPropertyRegex.exec(className)[1],property2=null==arbitraryPropertyClassName?void 0:arbitraryPropertyClassName.substring(0,arbitraryPropertyClassName.indexOf(":"));if(property2)return"arbitrary.."+property2}},createClassMap=config2=>{const{theme:theme,prefix:prefix2}=config2,classMap={nextPart:new Map,validators:[]};return getPrefixedClassGroupEntries(Object.entries(config2.classGroups),prefix2).forEach(([classGroupId,classGroup])=>{processClassesRecursively(classGroup,classMap,classGroupId,theme)}),classMap},processClassesRecursively=(classGroup,classPartObject,classGroupId,theme)=>{classGroup.forEach(classDefinition=>{if("string"==typeof classDefinition){return void((""===classDefinition?classPartObject:getPart(classPartObject,classDefinition)).classGroupId=classGroupId)}if("function"==typeof classDefinition)return isThemeGetter(classDefinition)?void processClassesRecursively(classDefinition(theme),classPartObject,classGroupId,theme):void classPartObject.validators.push({validator:classDefinition,classGroupId:classGroupId});Object.entries(classDefinition).forEach(([key,classGroup2])=>{processClassesRecursively(classGroup2,getPart(classPartObject,key),classGroupId,theme)})})},getPart=(classPartObject,path)=>{let currentClassPartObject=classPartObject;return path.split("-").forEach(pathPart=>{currentClassPartObject.nextPart.has(pathPart)||currentClassPartObject.nextPart.set(pathPart,{nextPart:new Map,validators:[]}),currentClassPartObject=currentClassPartObject.nextPart.get(pathPart)}),currentClassPartObject},isThemeGetter=func=>func.isThemeGetter,getPrefixedClassGroupEntries=(classGroupEntries,prefix2)=>prefix2?classGroupEntries.map(([classGroupId,classGroup])=>[classGroupId,classGroup.map(classDefinition=>"string"==typeof classDefinition?prefix2+classDefinition:"object"==typeof classDefinition?Object.fromEntries(Object.entries(classDefinition).map(([key,value])=>[prefix2+key,value])):classDefinition)]):classGroupEntries,createLruCache=maxCacheSize=>{if(maxCacheSize<1)return{get:()=>{},set:()=>{}};let cacheSize=0,cache=new Map,previousCache=new Map;const update=(key,value)=>{cache.set(key,value),cacheSize++,cacheSize>maxCacheSize&&(cacheSize=0,previousCache=cache,cache=new Map)};return{get(key){let value=cache.get(key);return void 0!==value?value:void 0!==(value=previousCache.get(key))?(update(key,value),value):void 0},set(key,value){cache.has(key)?cache.set(key,value):update(key,value)}}},createParseClassName=config2=>{const{separator:separator,experimentalParseClassName:experimentalParseClassName}=config2,isSeparatorSingleCharacter=1===separator.length,firstSeparatorCharacter=separator[0],separatorLength=separator.length,parseClassName=className=>{const modifiers=[];let postfixModifierPosition,bracketDepth=0,modifierStart=0;for(let index=0;index<className.length;index++){let currentCharacter=className[index];if(0===bracketDepth){if(currentCharacter===firstSeparatorCharacter&&(isSeparatorSingleCharacter||className.slice(index,index+separatorLength)===separator)){modifiers.push(className.slice(modifierStart,index)),modifierStart=index+separatorLength;continue}if("/"===currentCharacter){postfixModifierPosition=index;continue}}"["===currentCharacter?bracketDepth++:"]"===currentCharacter&&bracketDepth--}const baseClassNameWithImportantModifier=0===modifiers.length?className:className.substring(modifierStart),hasImportantModifier=baseClassNameWithImportantModifier.startsWith("!");return{modifiers:modifiers,hasImportantModifier:hasImportantModifier,baseClassName:hasImportantModifier?baseClassNameWithImportantModifier.substring(1):baseClassNameWithImportantModifier,maybePostfixModifierPosition:postfixModifierPosition&&postfixModifierPosition>modifierStart?postfixModifierPosition-modifierStart:void 0}};return experimentalParseClassName?className=>experimentalParseClassName({className:className,parseClassName:parseClassName}):parseClassName},sortModifiers=modifiers=>{if(modifiers.length<=1)return modifiers;const sortedModifiers=[];let unsortedModifiers=[];return modifiers.forEach(modifier=>{"["===modifier[0]?(sortedModifiers.push(...unsortedModifiers.sort(),modifier),unsortedModifiers=[]):unsortedModifiers.push(modifier)}),sortedModifiers.push(...unsortedModifiers.sort()),sortedModifiers},SPLIT_CLASSES_REGEX=/\s+/;function twJoin(){let argument,resolvedValue,index=0,string2="";for(;index<arguments.length;)(argument=arguments[index++])&&(resolvedValue=toValue(argument))&&(string2&&(string2+=" "),string2+=resolvedValue);return string2}const toValue=mix=>{if("string"==typeof mix)return mix;let resolvedValue,string2="";for(let k2=0;k2<mix.length;k2++)mix[k2]&&(resolvedValue=toValue(mix[k2]))&&(string2&&(string2+=" "),string2+=resolvedValue);return string2};function createTailwindMerge(createConfigFirst,...createConfigRest){let configUtils,cacheGet,cacheSet,functionToCall=function(classList){const config2=createConfigRest.reduce((previousConfig,createConfigCurrent)=>createConfigCurrent(previousConfig),createConfigFirst());return configUtils=(config2=>({cache:createLruCache(config2.cacheSize),parseClassName:createParseClassName(config2),...createClassGroupUtils(config2)}))(config2),cacheGet=configUtils.cache.get,cacheSet=configUtils.cache.set,functionToCall=tailwindMerge,tailwindMerge(classList)};function tailwindMerge(classList){const cachedResult=cacheGet(classList);if(cachedResult)return cachedResult;const result=((classList,configUtils)=>{const{parseClassName:parseClassName,getClassGroupId:getClassGroupId,getConflictingClassGroupIds:getConflictingClassGroupIds}=configUtils,classGroupsInConflict=[],classNames2=classList.trim().split(SPLIT_CLASSES_REGEX);let result="";for(let index=classNames2.length-1;index>=0;index-=1){const originalClassName=classNames2[index],{modifiers:modifiers,hasImportantModifier:hasImportantModifier,baseClassName:baseClassName,maybePostfixModifierPosition:maybePostfixModifierPosition}=parseClassName(originalClassName);let hasPostfixModifier=Boolean(maybePostfixModifierPosition),classGroupId=getClassGroupId(hasPostfixModifier?baseClassName.substring(0,maybePostfixModifierPosition):baseClassName);if(!classGroupId){if(!hasPostfixModifier){result=originalClassName+(result.length>0?" "+result:result);continue}if(classGroupId=getClassGroupId(baseClassName),!classGroupId){result=originalClassName+(result.length>0?" "+result:result);continue}hasPostfixModifier=!1}const variantModifier=sortModifiers(modifiers).join(":"),modifierId=hasImportantModifier?variantModifier+"!":variantModifier,classId=modifierId+classGroupId;if(classGroupsInConflict.includes(classId))continue;classGroupsInConflict.push(classId);const conflictGroups=getConflictingClassGroupIds(classGroupId,hasPostfixModifier);for(let i2=0;i2<conflictGroups.length;++i2){const group=conflictGroups[i2];classGroupsInConflict.push(modifierId+group)}result=originalClassName+(result.length>0?" "+result:result)}return result})(classList,configUtils);return cacheSet(classList,result),result}return function(){return functionToCall(twJoin.apply(null,arguments))}}const fromTheme=key=>{const themeGetter=theme=>theme[key]||[];return themeGetter.isThemeGetter=!0,themeGetter},arbitraryValueRegex=/^\[(?:([a-z-]+):)?(.+)\]$/i,fractionRegex=/^\d+\/\d+$/,stringLengths=new Set(["px","full","screen"]),tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isLength$4=value=>isNumber$4(value)||stringLengths.has(value)||fractionRegex.test(value),isArbitraryLength=value=>getIsArbitraryValue(value,"length",isLengthOnly),isNumber$4=value=>Boolean(value)&&!Number.isNaN(Number(value)),isArbitraryNumber=value=>getIsArbitraryValue(value,"number",isNumber$4),isInteger=value=>Boolean(value)&&Number.isInteger(Number(value)),isPercent$1=value=>value.endsWith("%")&&isNumber$4(value.slice(0,-1)),isArbitraryValue=value=>arbitraryValueRegex.test(value),isTshirtSize=value=>tshirtUnitRegex.test(value),sizeLabels=new Set(["length","size","percentage"]),isArbitrarySize=value=>getIsArbitraryValue(value,sizeLabels,isNever),isArbitraryPosition=value=>getIsArbitraryValue(value,"position",isNever),imageLabels=new Set(["image","url"]),isArbitraryImage=value=>getIsArbitraryValue(value,imageLabels,isImage),isArbitraryShadow=value=>getIsArbitraryValue(value,"",isShadow),isAny=()=>!0,getIsArbitraryValue=(value,label,testValue)=>{const result=arbitraryValueRegex.exec(value);return!!result&&(result[1]?"string"==typeof label?result[1]===label:label.has(result[1]):testValue(result[2]))},isLengthOnly=value=>lengthUnitRegex.test(value)&&!colorFunctionRegex.test(value),isNever=()=>!1,isShadow=value=>shadowRegex.test(value),isImage=value=>imageRegex.test(value),twMerge=createTailwindMerge(()=>{const colors=fromTheme("colors"),spacing=fromTheme("spacing"),blur=fromTheme("blur"),brightness=fromTheme("brightness"),borderColor=fromTheme("borderColor"),borderRadius=fromTheme("borderRadius"),borderSpacing=fromTheme("borderSpacing"),borderWidth=fromTheme("borderWidth"),contrast=fromTheme("contrast"),grayscale=fromTheme("grayscale"),hueRotate=fromTheme("hueRotate"),invert=fromTheme("invert"),gap=fromTheme("gap"),gradientColorStops=fromTheme("gradientColorStops"),gradientColorStopPositions=fromTheme("gradientColorStopPositions"),inset=fromTheme("inset"),margin=fromTheme("margin"),opacity=fromTheme("opacity"),padding=fromTheme("padding"),saturate=fromTheme("saturate"),scale=fromTheme("scale"),sepia=fromTheme("sepia"),skew=fromTheme("skew"),space=fromTheme("space"),translate=fromTheme("translate"),getSpacingWithAutoAndArbitrary=()=>["auto",isArbitraryValue,spacing],getSpacingWithArbitrary=()=>[isArbitraryValue,spacing],getLengthWithEmptyAndArbitrary=()=>["",isLength$4,isArbitraryLength],getNumberWithAutoAndArbitrary=()=>["auto",isNumber$4,isArbitraryValue],getZeroAndEmpty=()=>["","0",isArbitraryValue],getNumberAndArbitrary=()=>[isNumber$4,isArbitraryValue];return{cacheSize:500,separator:":",theme:{colors:[isAny],spacing:[isLength$4,isArbitraryLength],blur:["none","",isTshirtSize,isArbitraryValue],brightness:getNumberAndArbitrary(),borderColor:[colors],borderRadius:["none","","full",isTshirtSize,isArbitraryValue],borderSpacing:getSpacingWithArbitrary(),borderWidth:getLengthWithEmptyAndArbitrary(),contrast:getNumberAndArbitrary(),grayscale:getZeroAndEmpty(),hueRotate:getNumberAndArbitrary(),invert:getZeroAndEmpty(),gap:getSpacingWithArbitrary(),gradientColorStops:[colors],gradientColorStopPositions:[isPercent$1,isArbitraryLength],inset:getSpacingWithAutoAndArbitrary(),margin:getSpacingWithAutoAndArbitrary(),opacity:getNumberAndArbitrary(),padding:getSpacingWithArbitrary(),saturate:getNumberAndArbitrary(),scale:getNumberAndArbitrary(),sepia:getZeroAndEmpty(),skew:getNumberAndArbitrary(),space:getSpacingWithArbitrary(),translate:getSpacingWithArbitrary()},classGroups:{aspect:[{aspect:["auto","square","video",isArbitraryValue]}],container:["container"],columns:[{columns:[isTshirtSize]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",isArbitraryValue]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[inset]}],"inset-x":[{"inset-x":[inset]}],"inset-y":[{"inset-y":[inset]}],start:[{start:[inset]}],end:[{end:[inset]}],top:[{top:[inset]}],right:[{right:[inset]}],bottom:[{bottom:[inset]}],left:[{left:[inset]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",isInteger,isArbitraryValue]}],basis:[{basis:getSpacingWithAutoAndArbitrary()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",isArbitraryValue]}],grow:[{grow:getZeroAndEmpty()}],shrink:[{shrink:getZeroAndEmpty()}],order:[{order:["first","last","none",isInteger,isArbitraryValue]}],"grid-cols":[{"grid-cols":[isAny]}],"col-start-end":[{col:["auto",{span:["full",isInteger,isArbitraryValue]},isArbitraryValue]}],"col-start":[{"col-start":getNumberWithAutoAndArbitrary()}],"col-end":[{"col-end":getNumberWithAutoAndArbitrary()}],"grid-rows":[{"grid-rows":[isAny]}],"row-start-end":[{row:["auto",{span:[isInteger,isArbitraryValue]},isArbitraryValue]}],"row-start":[{"row-start":getNumberWithAutoAndArbitrary()}],"row-end":[{"row-end":getNumberWithAutoAndArbitrary()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",isArbitraryValue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",isArbitraryValue]}],gap:[{gap:[gap]}],"gap-x":[{"gap-x":[gap]}],"gap-y":[{"gap-y":[gap]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[padding]}],px:[{px:[padding]}],py:[{py:[padding]}],ps:[{ps:[padding]}],pe:[{pe:[padding]}],pt:[{pt:[padding]}],pr:[{pr:[padding]}],pb:[{pb:[padding]}],pl:[{pl:[padding]}],m:[{m:[margin]}],mx:[{mx:[margin]}],my:[{my:[margin]}],ms:[{ms:[margin]}],me:[{me:[margin]}],mt:[{mt:[margin]}],mr:[{mr:[margin]}],mb:[{mb:[margin]}],ml:[{ml:[margin]}],"space-x":[{"space-x":[space]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[space]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",isArbitraryValue,spacing]}],"min-w":[{"min-w":[isArbitraryValue,spacing,"min","max","fit"]}],"max-w":[{"max-w":[isArbitraryValue,spacing,"none","full","min","max","fit","prose",{screen:[isTshirtSize]},isTshirtSize]}],h:[{h:[isArbitraryValue,spacing,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[isArbitraryValue,spacing,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[isArbitraryValue,spacing,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[isArbitraryValue,spacing,"auto","min","max","fit"]}],"font-size":[{text:["base",isTshirtSize,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",isArbitraryNumber]}],"font-family":[{font:[isAny]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",isArbitraryValue]}],"line-clamp":[{"line-clamp":["none",isNumber$4,isArbitraryNumber]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",isLength$4,isArbitraryValue]}],"list-image":[{"list-image":["none",isArbitraryValue]}],"list-style-type":[{list:["none","disc","decimal",isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[colors]}],"placeholder-opacity":[{"placeholder-opacity":[opacity]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[colors]}],"text-opacity":[{"text-opacity":[opacity]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",isLength$4,isArbitraryLength]}],"underline-offset":[{"underline-offset":["auto",isLength$4,isArbitraryValue]}],"text-decoration-color":[{decoration:[colors]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:getSpacingWithArbitrary()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[opacity]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",isArbitraryPosition]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",isArbitrarySize]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},isArbitraryImage]}],"bg-color":[{bg:[colors]}],"gradient-from-pos":[{from:[gradientColorStopPositions]}],"gradient-via-pos":[{via:[gradientColorStopPositions]}],"gradient-to-pos":[{to:[gradientColorStopPositions]}],"gradient-from":[{from:[gradientColorStops]}],"gradient-via":[{via:[gradientColorStops]}],"gradient-to":[{to:[gradientColorStops]}],rounded:[{rounded:[borderRadius]}],"rounded-s":[{"rounded-s":[borderRadius]}],"rounded-e":[{"rounded-e":[borderRadius]}],"rounded-t":[{"rounded-t":[borderRadius]}],"rounded-r":[{"rounded-r":[borderRadius]}],"rounded-b":[{"rounded-b":[borderRadius]}],"rounded-l":[{"rounded-l":[borderRadius]}],"rounded-ss":[{"rounded-ss":[borderRadius]}],"rounded-se":[{"rounded-se":[borderRadius]}],"rounded-ee":[{"rounded-ee":[borderRadius]}],"rounded-es":[{"rounded-es":[borderRadius]}],"rounded-tl":[{"rounded-tl":[borderRadius]}],"rounded-tr":[{"rounded-tr":[borderRadius]}],"rounded-br":[{"rounded-br":[borderRadius]}],"rounded-bl":[{"rounded-bl":[borderRadius]}],"border-w":[{border:[borderWidth]}],"border-w-x":[{"border-x":[borderWidth]}],"border-w-y":[{"border-y":[borderWidth]}],"border-w-s":[{"border-s":[borderWidth]}],"border-w-e":[{"border-e":[borderWidth]}],"border-w-t":[{"border-t":[borderWidth]}],"border-w-r":[{"border-r":[borderWidth]}],"border-w-b":[{"border-b":[borderWidth]}],"border-w-l":[{"border-l":[borderWidth]}],"border-opacity":[{"border-opacity":[opacity]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[borderWidth]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[borderWidth]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[opacity]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[borderColor]}],"border-color-x":[{"border-x":[borderColor]}],"border-color-y":[{"border-y":[borderColor]}],"border-color-s":[{"border-s":[borderColor]}],"border-color-e":[{"border-e":[borderColor]}],"border-color-t":[{"border-t":[borderColor]}],"border-color-r":[{"border-r":[borderColor]}],"border-color-b":[{"border-b":[borderColor]}],"border-color-l":[{"border-l":[borderColor]}],"divide-color":[{divide:[borderColor]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[isLength$4,isArbitraryValue]}],"outline-w":[{outline:[isLength$4,isArbitraryLength]}],"outline-color":[{outline:[colors]}],"ring-w":[{ring:getLengthWithEmptyAndArbitrary()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[colors]}],"ring-opacity":[{"ring-opacity":[opacity]}],"ring-offset-w":[{"ring-offset":[isLength$4,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":[colors]}],shadow:[{shadow:["","inner","none",isTshirtSize,isArbitraryShadow]}],"shadow-color":[{shadow:[isAny]}],opacity:[{opacity:[opacity]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[blur]}],brightness:[{brightness:[brightness]}],contrast:[{contrast:[contrast]}],"drop-shadow":[{"drop-shadow":["","none",isTshirtSize,isArbitraryValue]}],grayscale:[{grayscale:[grayscale]}],"hue-rotate":[{"hue-rotate":[hueRotate]}],invert:[{invert:[invert]}],saturate:[{saturate:[saturate]}],sepia:[{sepia:[sepia]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[blur]}],"backdrop-brightness":[{"backdrop-brightness":[brightness]}],"backdrop-contrast":[{"backdrop-contrast":[contrast]}],"backdrop-grayscale":[{"backdrop-grayscale":[grayscale]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[hueRotate]}],"backdrop-invert":[{"backdrop-invert":[invert]}],"backdrop-opacity":[{"backdrop-opacity":[opacity]}],"backdrop-saturate":[{"backdrop-saturate":[saturate]}],"backdrop-sepia":[{"backdrop-sepia":[sepia]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[borderSpacing]}],"border-spacing-x":[{"border-spacing-x":[borderSpacing]}],"border-spacing-y":[{"border-spacing-y":[borderSpacing]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",isArbitraryValue]}],duration:[{duration:getNumberAndArbitrary()}],ease:[{ease:["linear","in","out","in-out",isArbitraryValue]}],delay:[{delay:getNumberAndArbitrary()}],animate:[{animate:["none","spin","ping","pulse","bounce",isArbitraryValue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[scale]}],"scale-x":[{"scale-x":[scale]}],"scale-y":[{"scale-y":[scale]}],rotate:[{rotate:[isInteger,isArbitraryValue]}],"translate-x":[{"translate-x":[translate]}],"translate-y":[{"translate-y":[translate]}],"skew-x":[{"skew-x":[skew]}],"skew-y":[{"skew-y":[skew]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",isArbitraryValue]}],accent:[{accent:["auto",colors]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryValue]}],"caret-color":[{caret:[colors]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":getSpacingWithArbitrary()}],"scroll-mx":[{"scroll-mx":getSpacingWithArbitrary()}],"scroll-my":[{"scroll-my":getSpacingWithArbitrary()}],"scroll-ms":[{"scroll-ms":getSpacingWithArbitrary()}],"scroll-me":[{"scroll-me":getSpacingWithArbitrary()}],"scroll-mt":[{"scroll-mt":getSpacingWithArbitrary()}],"scroll-mr":[{"scroll-mr":getSpacingWithArbitrary()}],"scroll-mb":[{"scroll-mb":getSpacingWithArbitrary()}],"scroll-ml":[{"scroll-ml":getSpacingWithArbitrary()}],"scroll-p":[{"scroll-p":getSpacingWithArbitrary()}],"scroll-px":[{"scroll-px":getSpacingWithArbitrary()}],"scroll-py":[{"scroll-py":getSpacingWithArbitrary()}],"scroll-ps":[{"scroll-ps":getSpacingWithArbitrary()}],"scroll-pe":[{"scroll-pe":getSpacingWithArbitrary()}],"scroll-pt":[{"scroll-pt":getSpacingWithArbitrary()}],"scroll-pr":[{"scroll-pr":getSpacingWithArbitrary()}],"scroll-pb":[{"scroll-pb":getSpacingWithArbitrary()}],"scroll-pl":[{"scroll-pl":getSpacingWithArbitrary()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryValue]}],fill:[{fill:[colors,"none"]}],"stroke-w":[{stroke:[isLength$4,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:[colors,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function cn(...inputs){return twMerge(clsx(inputs))}const ToastProvider=Provider$1,ToastViewport=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Viewport$2,{ref:ref,className:cn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",className),...props}));ToastViewport.displayName=Viewport$2.displayName;const toastVariants=cva("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Toast=reactExports.forwardRef(({className:className,variant:variant,...props},ref)=>jsxRuntimeExports.jsx(Root2$5,{ref:ref,className:cn(toastVariants({variant:variant}),className),...props}));Toast.displayName=Root2$5.displayName;reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Action$2,{ref:ref,className:cn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",className),...props})).displayName=Action$2.displayName;const ToastClose=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Close,{ref:ref,className:cn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",className),"toast-close":"",...props,children:jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4"})}));ToastClose.displayName=Close.displayName;const ToastTitle=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Title,{ref:ref,className:cn("text-sm font-semibold",className),...props}));ToastTitle.displayName=Title.displayName;const ToastDescription=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Description,{ref:ref,className:cn("text-sm opacity-90",className),...props}));function Toaster$1(){const{toasts:toasts}=useToast();return jsxRuntimeExports.jsxs(ToastProvider,{children:[toasts.map(function({id:id2,title:title,description:description,action:action,...props}){return jsxRuntimeExports.jsxs(Toast,{...props,children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-1",children:[title&&jsxRuntimeExports.jsx(ToastTitle,{children:title}),description&&jsxRuntimeExports.jsx(ToastDescription,{children:description})]}),action,jsxRuntimeExports.jsx(ToastClose,{})]},id2)}),jsxRuntimeExports.jsx(ToastViewport,{})]})}ToastDescription.displayName=Description.displayName;var P$3=["light","dark"],L$2=reactExports.createContext(void 0),D$2={setTheme:e3=>{},themes:[]};reactExports.memo(({forcedTheme:e3,storageKey:a2,attribute:n2,enableSystem:g2,enableColorScheme:m2,defaultTheme:c2,value:o2,attrs:y2,nonce:h2})=>{let k2="system"===c2,w2="class"===n2?`var d=document.documentElement,c=d.classList;c.remove(${y2.map(u2=>`'${u2}'`).join(",")});`:`var d=document.documentElement,n='${n2}',s='setAttribute';`,i2=m2?P$3.includes(c2)&&c2?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${c2}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d2=(l2,u2=!1,R2=!0)=>{let f2=o2?o2[l2]:l2,p2=u2?l2+"|| ''":`'${f2}'`,$2="";return m2&&R2&&!u2&&P$3.includes(l2)&&($2+=`d.style.colorScheme = '${l2}';`),"class"===n2?$2+=u2||f2?`c.add(${p2})`:"null":f2&&($2+=`d[s](n,${p2})`),$2},S2=e3?`!function(){${w2}${d2(e3)}}()`:g2?`!function(){try{${w2}var e=localStorage.getItem('${a2}');if('system'===e||(!e&&${k2})){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){${d2("dark")}}else{${d2("light")}}}else if(e){${o2?`var x=${JSON.stringify(o2)};`:""}${d2(o2?"x[e]":"e",!0)}}${k2?"":"else{"+d2(c2,!1,!1)+"}"}${i2}}catch(e){}}()`:`!function(){try{${w2}var e=localStorage.getItem('${a2}');if(e){${o2?`var x=${JSON.stringify(o2)};`:""}${d2(o2?"x[e]":"e",!0)}}else{${d2(c2,!1,!1)};}${i2}}catch(t){}}();`;return reactExports.createElement("script",{nonce:h2,dangerouslySetInnerHTML:{__html:S2}})});var te$1=Array(12).fill(0),Yt$1=({visible:n2,className:e3})=>React$1.createElement("div",{className:["sonner-loading-wrapper",e3].filter(Boolean).join(" "),"data-visible":n2},React$1.createElement("div",{className:"sonner-spinner"},te$1.map((t3,a2)=>React$1.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a2}`})))),ee$2=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React$1.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),oe$1=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},React$1.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ae$1=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React$1.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),se$1=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},React$1.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Ot$1=React$1.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},React$1.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),React$1.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bt$1=1,v$2=new class{constructor(){this.subscribe=e3=>(this.subscribers.push(e3),()=>{let t3=this.subscribers.indexOf(e3);this.subscribers.splice(t3,1)}),this.publish=e3=>{this.subscribers.forEach(t3=>t3(e3))},this.addToast=e3=>{this.publish(e3),this.toasts=[...this.toasts,e3]},this.create=e3=>{var S2;let{message:t3,...a2}=e3,u2="number"==typeof(null==e3?void 0:e3.id)||(null==(S2=e3.id)?void 0:S2.length)>0?e3.id:bt$1++,f2=this.toasts.find(g2=>g2.id===u2),w2=void 0===e3.dismissible||e3.dismissible;return this.dismissedToasts.has(u2)&&this.dismissedToasts.delete(u2),f2?this.toasts=this.toasts.map(g2=>g2.id===u2?(this.publish({...g2,...e3,id:u2,title:t3}),{...g2,...e3,id:u2,dismissible:w2,title:t3}):g2):this.addToast({title:t3,...a2,dismissible:w2,id:u2}),u2},this.dismiss=e3=>(this.dismissedToasts.add(e3),e3||this.toasts.forEach(t3=>{this.subscribers.forEach(a2=>a2({id:t3.id,dismiss:!0}))}),this.subscribers.forEach(t3=>t3({id:e3,dismiss:!0})),e3),this.message=(e3,t3)=>this.create({...t3,message:e3}),this.error=(e3,t3)=>this.create({...t3,message:e3,type:"error"}),this.success=(e3,t3)=>this.create({...t3,type:"success",message:e3}),this.info=(e3,t3)=>this.create({...t3,type:"info",message:e3}),this.warning=(e3,t3)=>this.create({...t3,type:"warning",message:e3}),this.loading=(e3,t3)=>this.create({...t3,type:"loading",message:e3}),this.promise=(e3,t3)=>{if(!t3)return;let a2;void 0!==t3.loading&&(a2=this.create({...t3,promise:e3,type:"loading",message:t3.loading,description:"function"!=typeof t3.description?t3.description:void 0}));let w2,u2=e3 instanceof Promise?e3:e3(),f2=void 0!==a2,S2=u2.then(async i2=>{if(w2=["resolve",i2],React$1.isValidElement(i2))f2=!1,this.create({id:a2,type:"default",message:i2});else if(ie$1(i2)&&!i2.ok){f2=!1;let T2="function"==typeof t3.error?await t3.error(`HTTP error! status: ${i2.status}`):t3.error,F2="function"==typeof t3.description?await t3.description(`HTTP error! status: ${i2.status}`):t3.description;this.create({id:a2,type:"error",message:T2,description:F2})}else if(void 0!==t3.success){f2=!1;let T2="function"==typeof t3.success?await t3.success(i2):t3.success,F2="function"==typeof t3.description?await t3.description(i2):t3.description;this.create({id:a2,type:"success",message:T2,description:F2})}}).catch(async i2=>{if(w2=["reject",i2],void 0!==t3.error){f2=!1;let D2="function"==typeof t3.error?await t3.error(i2):t3.error,T2="function"==typeof t3.description?await t3.description(i2):t3.description;this.create({id:a2,type:"error",message:D2,description:T2})}}).finally(()=>{var i2;f2&&(this.dismiss(a2),a2=void 0),null==(i2=t3.finally)||i2.call(t3)}),g2=()=>new Promise((i2,D2)=>S2.then(()=>"reject"===w2[0]?D2(w2[1]):i2(w2[1])).catch(D2));return"string"!=typeof a2&&"number"!=typeof a2?{unwrap:g2}:Object.assign(a2,{unwrap:g2})},this.custom=(e3,t3)=>{let a2=(null==t3?void 0:t3.id)||bt$1++;return this.create({jsx:e3(a2),id:a2,...t3}),a2},this.getActiveToasts=()=>this.toasts.filter(e3=>!this.dismissedToasts.has(e3.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ie$1=n2=>n2&&"object"==typeof n2&&"ok"in n2&&"boolean"==typeof n2.ok&&"status"in n2&&"number"==typeof n2.status,le$2=(n2,e3)=>{let t3=(null==e3?void 0:e3.id)||bt$1++;return v$2.addToast({title:n2,...e3,id:t3}),t3},ue$2=Object.assign(le$2,{success:v$2.success,info:v$2.info,warning:v$2.warning,error:v$2.error,custom:v$2.custom,message:v$2.message,promise:v$2.promise,dismiss:v$2.dismiss,loading:v$2.loading},{getHistory:()=>v$2.toasts,getToasts:()=>v$2.getActiveToasts()});function tt$1(n2){return void 0!==n2.label}!function(n2,{insertAt:e3}={}){if("undefined"==typeof document)return;let t3=document.head||document.getElementsByTagName("head")[0],a2=document.createElement("style");a2.type="text/css","top"===e3&&t3.firstChild?t3.insertBefore(a2,t3.firstChild):t3.appendChild(a2),a2.styleSheet?a2.styleSheet.cssText=n2:a2.appendChild(document.createTextNode(n2))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var pe$2=3,be$2=14;function M$1(...n2){return n2.filter(Boolean).join(" ")}var ve$2=n2=>{var Dt2,Pt2,Nt2,Bt2,Ct2,kt2,It2,Mt2,Ht2,At2,Lt2;let{invert:e3,toast:t3,unstyled:a2,interacting:u2,setHeights:f2,visibleToasts:w2,heights:S2,index:g2,toasts:i2,expanded:D2,removeToast:T2,defaultRichColors:F2,closeButton:et2,style:ut2,cancelButtonStyle:ft2,actionButtonStyle:l2,className:ot2="",descriptionClassName:at2="",duration:X2,position:st2,gap:pt2,loadingIcon:rt2,expandByDefault:B2,classNames:s2,icons:P2,closeButtonAriaLabel:nt2="Close toast",pauseWhenPageIsHidden:it2}=n2,[Y2,C2]=React$1.useState(null),[lt2,J2]=React$1.useState(null),[W2,H2]=React$1.useState(!1),[A2,mt2]=React$1.useState(!1),[L2,z2]=React$1.useState(!1),[ct2,d2]=React$1.useState(!1),[h2,y2]=React$1.useState(!1),[R2,j2]=React$1.useState(0),[p2,_2]=React$1.useState(0),O2=React$1.useRef(t3.duration||X2||4e3),G2=React$1.useRef(null),k2=React$1.useRef(null),Vt2=0===g2,Ut2=g2+1<=w2,N2=t3.type,V2=!1!==t3.dismissible,Kt2=t3.className||"",Xt2=t3.descriptionClassName||"",dt2=React$1.useMemo(()=>S2.findIndex(r2=>r2.toastId===t3.id)||0,[S2,t3.id]),Jt2=React$1.useMemo(()=>{var r2;return null!=(r2=t3.closeButton)?r2:et2},[t3.closeButton,et2]),Tt2=React$1.useMemo(()=>t3.duration||X2||4e3,[t3.duration,X2]),gt2=React$1.useRef(0),U2=React$1.useRef(0),St=React$1.useRef(0),K2=React$1.useRef(null),[Gt2,Qt2]=st2.split("-"),Rt2=React$1.useMemo(()=>S2.reduce((r2,m2,c2)=>c2>=dt2?r2:r2+m2.height,0),[S2,dt2]),Et2=(()=>{let[n2,e3]=React$1.useState(document.hidden);return React$1.useEffect(()=>{let t3=()=>{e3(document.hidden)};return document.addEventListener("visibilitychange",t3),()=>window.removeEventListener("visibilitychange",t3)},[]),n2})(),qt2=t3.invert||e3,ht2="loading"===N2;U2.current=React$1.useMemo(()=>dt2*pt2+Rt2,[dt2,Rt2]),React$1.useEffect(()=>{O2.current=Tt2},[Tt2]),React$1.useEffect(()=>{H2(!0)},[]),React$1.useEffect(()=>{let r2=k2.current;if(r2){let m2=r2.getBoundingClientRect().height;return _2(m2),f2(c2=>[{toastId:t3.id,height:m2,position:t3.position},...c2]),()=>f2(c2=>c2.filter(b2=>b2.toastId!==t3.id))}},[f2,t3.id]),React$1.useLayoutEffect(()=>{if(!W2)return;let r2=k2.current,m2=r2.style.height;r2.style.height="auto";let c2=r2.getBoundingClientRect().height;r2.style.height=m2,_2(c2),f2(b2=>b2.find(x2=>x2.toastId===t3.id)?b2.map(x2=>x2.toastId===t3.id?{...x2,height:c2}:x2):[{toastId:t3.id,height:c2,position:t3.position},...b2])},[W2,t3.title,t3.description,f2,t3.id]);let $2=React$1.useCallback(()=>{mt2(!0),j2(U2.current),f2(r2=>r2.filter(m2=>m2.toastId!==t3.id)),setTimeout(()=>{T2(t3)},200)},[t3,T2,f2,U2]);return React$1.useEffect(()=>{if(t3.promise&&"loading"===N2||t3.duration===1/0||"loading"===t3.type)return;let r2;return D2||u2||it2&&Et2?(()=>{if(St.current<gt2.current){let b2=(new Date).getTime()-gt2.current;O2.current=O2.current-b2}St.current=(new Date).getTime()})():O2.current!==1/0&&(gt2.current=(new Date).getTime(),r2=setTimeout(()=>{var b2;null==(b2=t3.onAutoClose)||b2.call(t3,t3),$2()},O2.current)),()=>clearTimeout(r2)},[D2,u2,t3,N2,it2,Et2,$2]),React$1.useEffect(()=>{t3.delete&&$2()},[$2,t3.delete]),React$1.createElement("li",{tabIndex:0,ref:k2,className:M$1(ot2,Kt2,null==s2?void 0:s2.toast,null==(Dt2=null==t3?void 0:t3.classNames)?void 0:Dt2.toast,null==s2?void 0:s2.default,null==s2?void 0:s2[N2],null==(Pt2=null==t3?void 0:t3.classNames)?void 0:Pt2[N2]),"data-sonner-toast":"","data-rich-colors":null!=(Nt2=t3.richColors)?Nt2:F2,"data-styled":!(t3.jsx||t3.unstyled||a2),"data-mounted":W2,"data-promise":!!t3.promise,"data-swiped":h2,"data-removed":A2,"data-visible":Ut2,"data-y-position":Gt2,"data-x-position":Qt2,"data-index":g2,"data-front":Vt2,"data-swiping":L2,"data-dismissible":V2,"data-type":N2,"data-invert":qt2,"data-swipe-out":ct2,"data-swipe-direction":lt2,"data-expanded":!!(D2||B2&&W2),style:{"--index":g2,"--toasts-before":g2,"--z-index":i2.length-g2,"--offset":`${A2?R2:U2.current}px`,"--initial-height":B2?"auto":`${p2}px`,...ut2,...t3.style},onDragEnd:()=>{z2(!1),C2(null),K2.current=null},onPointerDown:r2=>{ht2||!V2||(G2.current=new Date,j2(U2.current),r2.target.setPointerCapture(r2.pointerId),"BUTTON"!==r2.target.tagName&&(z2(!0),K2.current={x:r2.clientX,y:r2.clientY}))},onPointerUp:()=>{var x2,Q2,q2,Z2;if(ct2||!V2)return;K2.current=null;let r2=Number((null==(x2=k2.current)?void 0:x2.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),m2=Number((null==(Q2=k2.current)?void 0:Q2.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),c2=(new Date).getTime()-(null==(q2=G2.current)?void 0:q2.getTime()),b2="x"===Y2?r2:m2,I2=Math.abs(b2)/c2;if(Math.abs(b2)>=20||I2>.11)return j2(U2.current),null==(Z2=t3.onDismiss)||Z2.call(t3,t3),J2("x"===Y2?r2>0?"right":"left":m2>0?"down":"up"),$2(),d2(!0),void y2(!1);z2(!1),C2(null)},onPointerMove:r2=>{var Q2,q2,Z2,zt2;if(!K2.current||!V2||(null==(Q2=window.getSelection())?void 0:Q2.toString().length)>0)return;let c2=r2.clientY-K2.current.y,b2=r2.clientX-K2.current.x,I2=null!=(q2=n2.swipeDirections)?q2:function(n2){let[e3,t3]=n2.split("-"),a2=[];return e3&&a2.push(e3),t3&&a2.push(t3),a2}(st2);!Y2&&(Math.abs(b2)>1||Math.abs(c2)>1)&&C2(Math.abs(b2)>Math.abs(c2)?"x":"y");let x2={x:0,y:0};"y"===Y2?(I2.includes("top")||I2.includes("bottom"))&&(I2.includes("top")&&c2<0||I2.includes("bottom")&&c2>0)&&(x2.y=c2):"x"===Y2&&(I2.includes("left")||I2.includes("right"))&&(I2.includes("left")&&b2<0||I2.includes("right")&&b2>0)&&(x2.x=b2),(Math.abs(x2.x)>0||Math.abs(x2.y)>0)&&y2(!0),null==(Z2=k2.current)||Z2.style.setProperty("--swipe-amount-x",`${x2.x}px`),null==(zt2=k2.current)||zt2.style.setProperty("--swipe-amount-y",`${x2.y}px`)}},Jt2&&!t3.jsx?React$1.createElement("button",{"aria-label":nt2,"data-disabled":ht2,"data-close-button":!0,onClick:ht2||!V2?()=>{}:()=>{var r2;$2(),null==(r2=t3.onDismiss)||r2.call(t3,t3)},className:M$1(null==s2?void 0:s2.closeButton,null==(Bt2=null==t3?void 0:t3.classNames)?void 0:Bt2.closeButton)},null!=(Ct2=null==P2?void 0:P2.close)?Ct2:Ot$1):null,t3.jsx||reactExports.isValidElement(t3.title)?t3.jsx?t3.jsx:"function"==typeof t3.title?t3.title():t3.title:React$1.createElement(React$1.Fragment,null,N2||t3.icon||t3.promise?React$1.createElement("div",{"data-icon":"",className:M$1(null==s2?void 0:s2.icon,null==(kt2=null==t3?void 0:t3.classNames)?void 0:kt2.icon)},t3.promise||"loading"===t3.type&&!t3.icon?t3.icon||(null!=P2&&P2.loading?React$1.createElement("div",{className:M$1(null==s2?void 0:s2.loader,null==(r2=null==t3?void 0:t3.classNames)?void 0:r2.loader,"sonner-loader"),"data-visible":"loading"===N2},P2.loading):rt2?React$1.createElement("div",{className:M$1(null==s2?void 0:s2.loader,null==(m2=null==t3?void 0:t3.classNames)?void 0:m2.loader,"sonner-loader"),"data-visible":"loading"===N2},rt2):React$1.createElement(Yt$1,{className:M$1(null==s2?void 0:s2.loader,null==(c2=null==t3?void 0:t3.classNames)?void 0:c2.loader),visible:"loading"===N2})):null,"loading"!==t3.type?t3.icon||(null==P2?void 0:P2[N2])||(n2=>{switch(n2){case"success":return ee$2;case"info":return ae$1;case"warning":return oe$1;case"error":return se$1;default:return null}})(N2):null):null,React$1.createElement("div",{"data-content":"",className:M$1(null==s2?void 0:s2.content,null==(It2=null==t3?void 0:t3.classNames)?void 0:It2.content)},React$1.createElement("div",{"data-title":"",className:M$1(null==s2?void 0:s2.title,null==(Mt2=null==t3?void 0:t3.classNames)?void 0:Mt2.title)},"function"==typeof t3.title?t3.title():t3.title),t3.description?React$1.createElement("div",{"data-description":"",className:M$1(at2,Xt2,null==s2?void 0:s2.description,null==(Ht2=null==t3?void 0:t3.classNames)?void 0:Ht2.description)},"function"==typeof t3.description?t3.description():t3.description):null),reactExports.isValidElement(t3.cancel)?t3.cancel:t3.cancel&&tt$1(t3.cancel)?React$1.createElement("button",{"data-button":!0,"data-cancel":!0,style:t3.cancelButtonStyle||ft2,onClick:r2=>{var m2,c2;tt$1(t3.cancel)&&V2&&(null==(c2=(m2=t3.cancel).onClick)||c2.call(m2,r2),$2())},className:M$1(null==s2?void 0:s2.cancelButton,null==(At2=null==t3?void 0:t3.classNames)?void 0:At2.cancelButton)},t3.cancel.label):null,reactExports.isValidElement(t3.action)?t3.action:t3.action&&tt$1(t3.action)?React$1.createElement("button",{"data-button":!0,"data-action":!0,style:t3.actionButtonStyle||l2,onClick:r2=>{var m2,c2;tt$1(t3.action)&&(null==(c2=(m2=t3.action).onClick)||c2.call(m2,r2),!r2.defaultPrevented&&$2())},className:M$1(null==s2?void 0:s2.actionButton,null==(Lt2=null==t3?void 0:t3.classNames)?void 0:Lt2.actionButton)},t3.action.label):null));var r2,m2,c2};function _t$1(){if("undefined"==typeof window||"undefined"==typeof document)return"ltr";let n2=document.documentElement.getAttribute("dir");return"auto"!==n2&&n2?n2:window.getComputedStyle(document.documentElement).direction}function Te$1(n2,e3){let t3={};return[n2,e3].forEach((a2,u2)=>{let f2=1===u2,w2=f2?"--mobile-offset":"--offset",S2=f2?"16px":"32px";function g2(i2){["top","right","bottom","left"].forEach(D2=>{t3[`${w2}-${D2}`]="number"==typeof i2?`${i2}px`:i2})}"number"==typeof a2||"string"==typeof a2?g2(a2):"object"==typeof a2?["top","right","bottom","left"].forEach(i2=>{void 0===a2[i2]?t3[`${w2}-${i2}`]=S2:t3[`${w2}-${i2}`]="number"==typeof a2[i2]?`${a2[i2]}px`:a2[i2]}):g2(S2)}),t3}var $e=reactExports.forwardRef(function(e3,t3){let{invert:a2,position:u2="bottom-right",hotkey:f2=["altKey","KeyT"],expand:w2,closeButton:S2,className:g2,offset:i2,mobileOffset:D2,theme:T2="light",richColors:F2,duration:et2,style:ut2,visibleToasts:ft2=pe$2,toastOptions:l2,dir:ot2=_t$1(),gap:at2=be$2,loadingIcon:X2,icons:st2,containerAriaLabel:pt2="Notifications",pauseWhenPageIsHidden:rt2}=e3,[B2,s2]=React$1.useState([]),P2=React$1.useMemo(()=>Array.from(new Set([u2].concat(B2.filter(d2=>d2.position).map(d2=>d2.position)))),[B2,u2]),[nt2,it2]=React$1.useState([]),[Y2,C2]=React$1.useState(!1),[lt2,J2]=React$1.useState(!1),[W2,H2]=React$1.useState("system"!==T2?T2:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),A2=React$1.useRef(null),mt2=f2.join("+").replace(/Key/g,"").replace(/Digit/g,""),L2=React$1.useRef(null),z2=React$1.useRef(!1),ct2=React$1.useCallback(d2=>{s2(h2=>{var y2;return null!=(y2=h2.find(R2=>R2.id===d2.id))&&y2.delete||v$2.dismiss(d2.id),h2.filter(({id:R2})=>R2!==d2.id)})},[]);return React$1.useEffect(()=>v$2.subscribe(d2=>{d2.dismiss?s2(h2=>h2.map(y2=>y2.id===d2.id?{...y2,delete:!0}:y2)):setTimeout(()=>{ReactDOM.flushSync(()=>{s2(h2=>{let y2=h2.findIndex(R2=>R2.id===d2.id);return-1!==y2?[...h2.slice(0,y2),{...h2[y2],...d2},...h2.slice(y2+1)]:[d2,...h2]})})})}),[]),React$1.useEffect(()=>{if("system"!==T2)return void H2(T2);if("system"===T2&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H2("dark"):H2("light")),"undefined"==typeof window)return;let d2=window.matchMedia("(prefers-color-scheme: dark)");try{d2.addEventListener("change",({matches:h2})=>{H2(h2?"dark":"light")})}catch(h2){d2.addListener(({matches:y2})=>{try{H2(y2?"dark":"light")}catch(R2){}})}},[T2]),React$1.useEffect(()=>{B2.length<=1&&C2(!1)},[B2]),React$1.useEffect(()=>{let d2=h2=>{var R2,j2;f2.every(p2=>h2[p2]||h2.code===p2)&&(C2(!0),null==(R2=A2.current)||R2.focus()),"Escape"===h2.code&&(document.activeElement===A2.current||null!=(j2=A2.current)&&j2.contains(document.activeElement))&&C2(!1)};return document.addEventListener("keydown",d2),()=>document.removeEventListener("keydown",d2)},[f2]),React$1.useEffect(()=>{if(A2.current)return()=>{L2.current&&(L2.current.focus({preventScroll:!0}),L2.current=null,z2.current=!1)}},[A2.current]),React$1.createElement("section",{ref:t3,"aria-label":`${pt2} ${mt2}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P2.map((d2,h2)=>{var j2;let[y2,R2]=d2.split("-");return B2.length?React$1.createElement("ol",{key:d2,dir:"auto"===ot2?_t$1():ot2,tabIndex:-1,ref:A2,className:g2,"data-sonner-toaster":!0,"data-theme":W2,"data-y-position":y2,"data-lifted":Y2&&B2.length>1&&!w2,"data-x-position":R2,style:{"--front-toast-height":`${(null==(j2=nt2[0])?void 0:j2.height)||0}px`,"--width":"356px","--gap":`${at2}px`,...ut2,...Te$1(i2,D2)},onBlur:p2=>{z2.current&&!p2.currentTarget.contains(p2.relatedTarget)&&(z2.current=!1,L2.current&&(L2.current.focus({preventScroll:!0}),L2.current=null))},onFocus:p2=>{p2.target instanceof HTMLElement&&"false"===p2.target.dataset.dismissible||z2.current||(z2.current=!0,L2.current=p2.relatedTarget)},onMouseEnter:()=>C2(!0),onMouseMove:()=>C2(!0),onMouseLeave:()=>{lt2||C2(!1)},onDragEnd:()=>C2(!1),onPointerDown:p2=>{p2.target instanceof HTMLElement&&"false"===p2.target.dataset.dismissible||J2(!0)},onPointerUp:()=>J2(!1)},B2.filter(p2=>!p2.position&&0===h2||p2.position===d2).map((p2,_2)=>{var O2,G2;return React$1.createElement(ve$2,{key:p2.id,icons:st2,index:_2,toast:p2,defaultRichColors:F2,duration:null!=(O2=null==l2?void 0:l2.duration)?O2:et2,className:null==l2?void 0:l2.className,descriptionClassName:null==l2?void 0:l2.descriptionClassName,invert:a2,visibleToasts:ft2,closeButton:null!=(G2=null==l2?void 0:l2.closeButton)?G2:S2,interacting:lt2,position:d2,style:null==l2?void 0:l2.style,unstyled:null==l2?void 0:l2.unstyled,classNames:null==l2?void 0:l2.classNames,cancelButtonStyle:null==l2?void 0:l2.cancelButtonStyle,actionButtonStyle:null==l2?void 0:l2.actionButtonStyle,removeToast:ct2,toasts:B2.filter(k2=>k2.position==p2.position),heights:nt2.filter(k2=>k2.position==p2.position),setHeights:it2,expandByDefault:w2,gap:at2,loadingIcon:X2,expanded:Y2,pauseWhenPageIsHidden:rt2,swipeDirections:e3.swipeDirections})})):null}))});const Toaster=({...props})=>{const{theme:theme="system"}=null!=(e3=reactExports.useContext(L$2))?e3:D$2;var e3;return jsxRuntimeExports.jsx($e,{theme:theme,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...props})};var[createTooltipContext,createTooltipScope]=createContextScope("Tooltip",[createPopperScope]),usePopperScope$2=createPopperScope(),DEFAULT_DELAY_DURATION=700,[TooltipProviderContextProvider,useTooltipProviderContext]=createTooltipContext("TooltipProvider"),TooltipProvider$1=props=>{const{__scopeTooltip:__scopeTooltip,delayDuration:delayDuration=DEFAULT_DELAY_DURATION,skipDelayDuration:skipDelayDuration=300,disableHoverableContent:disableHoverableContent=!1,children:children}=props,isOpenDelayedRef=reactExports.useRef(!0),isPointerInTransitRef=reactExports.useRef(!1),skipDelayTimerRef=reactExports.useRef(0);return reactExports.useEffect(()=>{const skipDelayTimer=skipDelayTimerRef.current;return()=>window.clearTimeout(skipDelayTimer)},[]),jsxRuntimeExports.jsx(TooltipProviderContextProvider,{scope:__scopeTooltip,isOpenDelayedRef:isOpenDelayedRef,delayDuration:delayDuration,onOpen:reactExports.useCallback(()=>{window.clearTimeout(skipDelayTimerRef.current),isOpenDelayedRef.current=!1},[]),onClose:reactExports.useCallback(()=>{window.clearTimeout(skipDelayTimerRef.current),skipDelayTimerRef.current=window.setTimeout(()=>isOpenDelayedRef.current=!0,skipDelayDuration)},[skipDelayDuration]),isPointerInTransitRef:isPointerInTransitRef,onPointerInTransitChange:reactExports.useCallback(inTransit=>{isPointerInTransitRef.current=inTransit},[]),disableHoverableContent:disableHoverableContent,children:children})};TooltipProvider$1.displayName="TooltipProvider";var[TooltipContextProvider,useTooltipContext]=createTooltipContext("Tooltip");reactExports.forwardRef((props,forwardedRef)=>{const{__scopeTooltip:__scopeTooltip,...triggerProps}=props,context=useTooltipContext("TooltipTrigger",__scopeTooltip),providerContext=useTooltipProviderContext("TooltipTrigger",__scopeTooltip),popperScope=usePopperScope$2(__scopeTooltip),ref=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,ref,context.onTriggerChange),isPointerDownRef=reactExports.useRef(!1),hasPointerMoveOpenedRef=reactExports.useRef(!1),handlePointerUp=reactExports.useCallback(()=>isPointerDownRef.current=!1,[]);return reactExports.useEffect(()=>()=>document.removeEventListener("pointerup",handlePointerUp),[handlePointerUp]),jsxRuntimeExports.jsx(Anchor,{asChild:!0,...popperScope,children:jsxRuntimeExports.jsx(Primitive.button,{"aria-describedby":context.open?context.contentId:void 0,"data-state":context.stateAttribute,...triggerProps,ref:composedRefs,onPointerMove:composeEventHandlers(props.onPointerMove,event=>{"touch"!==event.pointerType&&(hasPointerMoveOpenedRef.current||providerContext.isPointerInTransitRef.current||(context.onTriggerEnter(),hasPointerMoveOpenedRef.current=!0))}),onPointerLeave:composeEventHandlers(props.onPointerLeave,()=>{context.onTriggerLeave(),hasPointerMoveOpenedRef.current=!1}),onPointerDown:composeEventHandlers(props.onPointerDown,()=>{context.open&&context.onClose(),isPointerDownRef.current=!0,document.addEventListener("pointerup",handlePointerUp,{once:!0})}),onFocus:composeEventHandlers(props.onFocus,()=>{isPointerDownRef.current||context.onOpen()}),onBlur:composeEventHandlers(props.onBlur,context.onClose),onClick:composeEventHandlers(props.onClick,context.onClose)})})}).displayName="TooltipTrigger";var[PortalProvider$1,usePortalContext$1]=createTooltipContext("TooltipPortal",{forceMount:void 0}),TooltipContent$1=reactExports.forwardRef((props,forwardedRef)=>{const portalContext=usePortalContext$1("TooltipContent",props.__scopeTooltip),{forceMount:forceMount=portalContext.forceMount,side:side="top",...contentProps}=props,context=useTooltipContext("TooltipContent",props.__scopeTooltip);return jsxRuntimeExports.jsx(Presence,{present:forceMount||context.open,children:context.disableHoverableContent?jsxRuntimeExports.jsx(TooltipContentImpl,{side:side,...contentProps,ref:forwardedRef}):jsxRuntimeExports.jsx(TooltipContentHoverable,{side:side,...contentProps,ref:forwardedRef})})}),TooltipContentHoverable=reactExports.forwardRef((props,forwardedRef)=>{const context=useTooltipContext("TooltipContent",props.__scopeTooltip),providerContext=useTooltipProviderContext("TooltipContent",props.__scopeTooltip),ref=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,ref),[pointerGraceArea,setPointerGraceArea]=reactExports.useState(null),{trigger:trigger,onClose:onClose}=context,content=ref.current,{onPointerInTransitChange:onPointerInTransitChange}=providerContext,handleRemoveGraceArea=reactExports.useCallback(()=>{setPointerGraceArea(null),onPointerInTransitChange(!1)},[onPointerInTransitChange]),handleCreateGraceArea=reactExports.useCallback((event,hoverTarget)=>{const currentTarget=event.currentTarget,exitPoint={x:event.clientX,y:event.clientY},paddedExitPoints=function(exitPoint,exitSide,padding=5){const paddedExitPoints=[];switch(exitSide){case"top":paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y+padding},{x:exitPoint.x+padding,y:exitPoint.y+padding});break;case"bottom":paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y-padding},{x:exitPoint.x+padding,y:exitPoint.y-padding});break;case"left":paddedExitPoints.push({x:exitPoint.x+padding,y:exitPoint.y-padding},{x:exitPoint.x+padding,y:exitPoint.y+padding});break;case"right":paddedExitPoints.push({x:exitPoint.x-padding,y:exitPoint.y-padding},{x:exitPoint.x-padding,y:exitPoint.y+padding})}return paddedExitPoints}(exitPoint,function(point2,rect){const top=Math.abs(rect.top-point2.y),bottom=Math.abs(rect.bottom-point2.y),right=Math.abs(rect.right-point2.x),left=Math.abs(rect.left-point2.x);switch(Math.min(top,bottom,right,left)){case left:return"left";case right:return"right";case top:return"top";case bottom:return"bottom";default:throw new Error("unreachable")}}(exitPoint,currentTarget.getBoundingClientRect())),graceArea=function(points){const newPoints=points.slice();return newPoints.sort((a2,b2)=>a2.x<b2.x?-1:a2.x>b2.x?1:a2.y<b2.y?-1:a2.y>b2.y?1:0),function(points){if(points.length<=1)return points.slice();const upperHull=[];for(let i2=0;i2<points.length;i2++){const p2=points[i2];for(;upperHull.length>=2;){const q2=upperHull[upperHull.length-1],r2=upperHull[upperHull.length-2];if(!((q2.x-r2.x)*(p2.y-r2.y)>=(q2.y-r2.y)*(p2.x-r2.x)))break;upperHull.pop()}upperHull.push(p2)}upperHull.pop();const lowerHull=[];for(let i2=points.length-1;i2>=0;i2--){const p2=points[i2];for(;lowerHull.length>=2;){const q2=lowerHull[lowerHull.length-1],r2=lowerHull[lowerHull.length-2];if(!((q2.x-r2.x)*(p2.y-r2.y)>=(q2.y-r2.y)*(p2.x-r2.x)))break;lowerHull.pop()}lowerHull.push(p2)}return lowerHull.pop(),1===upperHull.length&&1===lowerHull.length&&upperHull[0].x===lowerHull[0].x&&upperHull[0].y===lowerHull[0].y?upperHull:upperHull.concat(lowerHull)}(newPoints)}([...paddedExitPoints,...function(rect){const{top:top,right:right,bottom:bottom,left:left}=rect;return[{x:left,y:top},{x:right,y:top},{x:right,y:bottom},{x:left,y:bottom}]}(hoverTarget.getBoundingClientRect())]);setPointerGraceArea(graceArea),onPointerInTransitChange(!0)},[onPointerInTransitChange]);return reactExports.useEffect(()=>()=>handleRemoveGraceArea(),[handleRemoveGraceArea]),reactExports.useEffect(()=>{if(trigger&&content){const handleTriggerLeave=event=>handleCreateGraceArea(event,content),handleContentLeave=event=>handleCreateGraceArea(event,trigger);return trigger.addEventListener("pointerleave",handleTriggerLeave),content.addEventListener("pointerleave",handleContentLeave),()=>{trigger.removeEventListener("pointerleave",handleTriggerLeave),content.removeEventListener("pointerleave",handleContentLeave)}}},[trigger,content,handleCreateGraceArea,handleRemoveGraceArea]),reactExports.useEffect(()=>{if(pointerGraceArea){const handleTrackPointerGrace=event=>{const target=event.target,pointerPosition={x:event.clientX,y:event.clientY},hasEnteredTarget=(null==trigger?void 0:trigger.contains(target))||(null==content?void 0:content.contains(target)),isPointerOutsideGraceArea=!function(point2,polygon){const{x:x2,y:y2}=point2;let inside=!1;for(let i2=0,j2=polygon.length-1;i2<polygon.length;j2=i2++){const ii=polygon[i2],jj=polygon[j2],xi=ii.x,yi=ii.y,xj=jj.x,yj=jj.y;yi>y2!=yj>y2&&x2<(xj-xi)*(y2-yi)/(yj-yi)+xi&&(inside=!inside)}return inside}(pointerPosition,pointerGraceArea);hasEnteredTarget?handleRemoveGraceArea():isPointerOutsideGraceArea&&(handleRemoveGraceArea(),onClose())};return document.addEventListener("pointermove",handleTrackPointerGrace),()=>document.removeEventListener("pointermove",handleTrackPointerGrace)}},[trigger,content,pointerGraceArea,onClose,handleRemoveGraceArea]),jsxRuntimeExports.jsx(TooltipContentImpl,{...props,ref:composedRefs})}),[VisuallyHiddenContentContextProvider,useVisuallyHiddenContentContext]=createTooltipContext("Tooltip",{isInside:!1}),Slottable$1=createSlottable("TooltipContent"),TooltipContentImpl=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeTooltip:__scopeTooltip,children:children,"aria-label":ariaLabel,onEscapeKeyDown:onEscapeKeyDown,onPointerDownOutside:onPointerDownOutside,...contentProps}=props,context=useTooltipContext("TooltipContent",__scopeTooltip),popperScope=usePopperScope$2(__scopeTooltip),{onClose:onClose}=context;return reactExports.useEffect(()=>(document.addEventListener("tooltip.open",onClose),()=>document.removeEventListener("tooltip.open",onClose)),[onClose]),reactExports.useEffect(()=>{if(context.trigger){const handleScroll=event=>{const target=event.target;(null==target?void 0:target.contains(context.trigger))&&onClose()};return window.addEventListener("scroll",handleScroll,{capture:!0}),()=>window.removeEventListener("scroll",handleScroll,{capture:!0})}},[context.trigger,onClose]),jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:onEscapeKeyDown,onPointerDownOutside:onPointerDownOutside,onFocusOutside:event=>event.preventDefault(),onDismiss:onClose,children:jsxRuntimeExports.jsxs(Content$1,{"data-state":context.stateAttribute,...popperScope,...contentProps,ref:forwardedRef,style:{...contentProps.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[jsxRuntimeExports.jsx(Slottable$1,{children:children}),jsxRuntimeExports.jsx(VisuallyHiddenContentContextProvider,{scope:__scopeTooltip,isInside:!0,children:jsxRuntimeExports.jsx(Root$6,{id:context.contentId,role:"tooltip",children:ariaLabel||children})})]})})});TooltipContent$1.displayName="TooltipContent";reactExports.forwardRef((props,forwardedRef)=>{const{__scopeTooltip:__scopeTooltip,...arrowProps}=props,popperScope=usePopperScope$2(__scopeTooltip);return useVisuallyHiddenContentContext("TooltipArrow",__scopeTooltip).isInside?null:jsxRuntimeExports.jsx(Arrow,{...popperScope,...arrowProps,ref:forwardedRef})}).displayName="TooltipArrow";var Content2$3=TooltipContent$1;const TooltipProvider=TooltipProvider$1;reactExports.forwardRef(({className:className,sideOffset:sideOffset=4,...props},ref)=>jsxRuntimeExports.jsx(Content2$3,{ref:ref,sideOffset:sideOffset,className:cn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",className),...props})).displayName=Content2$3.displayName;var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(listener){return this.listeners.add(listener),this.onSubscribe(),()=>{this.listeners.delete(listener),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer="undefined"==typeof window||"Deno"in globalThis;function noop$3(){}function isValidTimeout(value){return"number"==typeof value&&value>=0&&value!==1/0}function timeUntilStale(updatedAt,staleTime){return Math.max(updatedAt+(staleTime||0)-Date.now(),0)}function resolveStaleTime(staleTime,query){return"function"==typeof staleTime?staleTime(query):staleTime}function resolveEnabled(enabled,query){return"function"==typeof enabled?enabled(query):enabled}function matchQuery(filters,query){const{type:type="all",exact:exact,fetchStatus:fetchStatus,predicate:predicate,queryKey:queryKey,stale:stale}=filters;if(queryKey)if(exact){if(query.queryHash!==hashQueryKeyByOptions(queryKey,query.options))return!1}else if(!partialMatchKey(query.queryKey,queryKey))return!1;if("all"!==type){const isActive=query.isActive();if("active"===type&&!isActive)return!1;if("inactive"===type&&isActive)return!1}return("boolean"!=typeof stale||query.isStale()===stale)&&((!fetchStatus||fetchStatus===query.state.fetchStatus)&&!(predicate&&!predicate(query)))}function matchMutation(filters,mutation){const{exact:exact,status:status,predicate:predicate,mutationKey:mutationKey}=filters;if(mutationKey){if(!mutation.options.mutationKey)return!1;if(exact){if(hashKey(mutation.options.mutationKey)!==hashKey(mutationKey))return!1}else if(!partialMatchKey(mutation.options.mutationKey,mutationKey))return!1}return(!status||mutation.state.status===status)&&!(predicate&&!predicate(mutation))}function hashQueryKeyByOptions(queryKey,options){return((null==options?void 0:options.queryKeyHashFn)||hashKey)(queryKey)}function hashKey(queryKey){return JSON.stringify(queryKey,(_2,val)=>isPlainObject$3(val)?Object.keys(val).sort().reduce((result,key)=>(result[key]=val[key],result),{}):val)}function partialMatchKey(a2,b2){return a2===b2||typeof a2==typeof b2&&(!(!a2||!b2||"object"!=typeof a2||"object"!=typeof b2)&&Object.keys(b2).every(key=>partialMatchKey(a2[key],b2[key])))}function replaceEqualDeep(a2,b2){if(a2===b2)return a2;const array2=isPlainArray(a2)&&isPlainArray(b2);if(array2||isPlainObject$3(a2)&&isPlainObject$3(b2)){const aItems=array2?a2:Object.keys(a2),aSize=aItems.length,bItems=array2?b2:Object.keys(b2),bSize=bItems.length,copy2=array2?[]:{},aItemsSet=new Set(aItems);let equalItems=0;for(let i2=0;i2<bSize;i2++){const key=array2?i2:bItems[i2];(!array2&&aItemsSet.has(key)||array2)&&void 0===a2[key]&&void 0===b2[key]?(copy2[key]=void 0,equalItems++):(copy2[key]=replaceEqualDeep(a2[key],b2[key]),copy2[key]===a2[key]&&void 0!==a2[key]&&equalItems++)}return aSize===bSize&&equalItems===aSize?a2:copy2}return b2}function shallowEqualObjects(a2,b2){if(!b2||Object.keys(a2).length!==Object.keys(b2).length)return!1;for(const key in a2)if(a2[key]!==b2[key])return!1;return!0}function isPlainArray(value){return Array.isArray(value)&&value.length===Object.keys(value).length}function isPlainObject$3(o2){if(!hasObjectPrototype(o2))return!1;const ctor=o2.constructor;if(void 0===ctor)return!0;const prot=ctor.prototype;return!!hasObjectPrototype(prot)&&(!!prot.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(o2)===Object.prototype)}function hasObjectPrototype(o2){return"[object Object]"===Object.prototype.toString.call(o2)}function replaceData(prevData,data,options){return"function"==typeof options.structuralSharing?options.structuralSharing(prevData,data):!1!==options.structuralSharing?replaceEqualDeep(prevData,data):data}function addToEnd(items,item,max2=0){const newItems=[...items,item];return max2&&newItems.length>max2?newItems.slice(1):newItems}function addToStart(items,item,max2=0){const newItems=[item,...items];return max2&&newItems.length>max2?newItems.slice(0,-1):newItems}var skipToken=Symbol();function ensureQueryFn(options,fetchOptions){return!options.queryFn&&(null==fetchOptions?void 0:fetchOptions.initialPromise)?()=>fetchOptions.initialPromise:options.queryFn&&options.queryFn!==skipToken?options.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${options.queryHash}'`))}function shouldThrowError(throwOnError,params){return"function"==typeof throwOnError?throwOnError(...params):!!throwOnError}var focusManager=new(_a2=class extends Subscribable{constructor(){super(),__privateAdd(this,_focused),__privateAdd(this,_cleanup),__privateAdd(this,_setup),__privateSet(this,_setup,onFocus=>{if(!isServer&&window.addEventListener){const listener=()=>onFocus();return window.addEventListener("visibilitychange",listener,!1),()=>{window.removeEventListener("visibilitychange",listener)}}})}onSubscribe(){__privateGet(this,_cleanup)||this.setEventListener(__privateGet(this,_setup))}onUnsubscribe(){var _a3;this.hasListeners()||(null==(_a3=__privateGet(this,_cleanup))||_a3.call(this),__privateSet(this,_cleanup,void 0))}setEventListener(setup){var _a3;__privateSet(this,_setup,setup),null==(_a3=__privateGet(this,_cleanup))||_a3.call(this),__privateSet(this,_cleanup,setup(focused=>{"boolean"==typeof focused?this.setFocused(focused):this.onFocus()}))}setFocused(focused){__privateGet(this,_focused)!==focused&&(__privateSet(this,_focused,focused),this.onFocus())}onFocus(){const isFocused=this.isFocused();this.listeners.forEach(listener=>{listener(isFocused)})}isFocused(){var _a3;return"boolean"==typeof __privateGet(this,_focused)?__privateGet(this,_focused):"hidden"!==(null==(_a3=globalThis.document)?void 0:_a3.visibilityState)}},_focused=new WeakMap,_cleanup=new WeakMap,_setup=new WeakMap,_a2),onlineManager=new(_b2=class extends Subscribable{constructor(){super(),__privateAdd(this,_online,!0),__privateAdd(this,_cleanup2),__privateAdd(this,_setup2),__privateSet(this,_setup2,onOnline=>{if(!isServer&&window.addEventListener){const onlineListener=()=>onOnline(!0),offlineListener=()=>onOnline(!1);return window.addEventListener("online",onlineListener,!1),window.addEventListener("offline",offlineListener,!1),()=>{window.removeEventListener("online",onlineListener),window.removeEventListener("offline",offlineListener)}}})}onSubscribe(){__privateGet(this,_cleanup2)||this.setEventListener(__privateGet(this,_setup2))}onUnsubscribe(){var _a3;this.hasListeners()||(null==(_a3=__privateGet(this,_cleanup2))||_a3.call(this),__privateSet(this,_cleanup2,void 0))}setEventListener(setup){var _a3;__privateSet(this,_setup2,setup),null==(_a3=__privateGet(this,_cleanup2))||_a3.call(this),__privateSet(this,_cleanup2,setup(this.setOnline.bind(this)))}setOnline(online){__privateGet(this,_online)!==online&&(__privateSet(this,_online,online),this.listeners.forEach(listener=>{listener(online)}))}isOnline(){return __privateGet(this,_online)}},_online=new WeakMap,_cleanup2=new WeakMap,_setup2=new WeakMap,_b2);function pendingThenable(){let resolve,reject;const thenable=new Promise((_resolve,_reject)=>{resolve=_resolve,reject=_reject});function finalize(data){Object.assign(thenable,data),delete thenable.resolve,delete thenable.reject}return thenable.status="pending",thenable.catch(()=>{}),thenable.resolve=value=>{finalize({status:"fulfilled",value:value}),resolve(value)},thenable.reject=reason=>{finalize({status:"rejected",reason:reason}),reject(reason)},thenable}function defaultRetryDelay(failureCount){return Math.min(1e3*2**failureCount,3e4)}function canFetch(networkMode){return"online"!==(networkMode??"online")||onlineManager.isOnline()}var CancelledError=class extends Error{constructor(options){super("CancelledError"),this.revert=null==options?void 0:options.revert,this.silent=null==options?void 0:options.silent}};function isCancelledError(value){return value instanceof CancelledError}function createRetryer(config2){let continueFn,isRetryCancelled=!1,failureCount=0,isResolved=!1;const thenable=pendingThenable(),canContinue=()=>focusManager.isFocused()&&("always"===config2.networkMode||onlineManager.isOnline())&&config2.canRun(),canStart=()=>canFetch(config2.networkMode)&&config2.canRun(),resolve=value=>{var _a3;isResolved||(isResolved=!0,null==(_a3=config2.onSuccess)||_a3.call(config2,value),null==continueFn||continueFn(),thenable.resolve(value))},reject=value=>{var _a3;isResolved||(isResolved=!0,null==(_a3=config2.onError)||_a3.call(config2,value),null==continueFn||continueFn(),thenable.reject(value))},pause=()=>new Promise(continueResolve=>{var _a3;continueFn=value=>{(isResolved||canContinue())&&continueResolve(value)},null==(_a3=config2.onPause)||_a3.call(config2)}).then(()=>{var _a3;continueFn=void 0,isResolved||null==(_a3=config2.onContinue)||_a3.call(config2)}),run=()=>{if(isResolved)return;let promiseOrValue;const initialPromise=0===failureCount?config2.initialPromise:void 0;try{promiseOrValue=initialPromise??config2.fn()}catch(error){promiseOrValue=Promise.reject(error)}Promise.resolve(promiseOrValue).then(resolve).catch(error=>{var _a3;if(isResolved)return;const retry=config2.retry??(isServer?0:3),retryDelay=config2.retryDelay??defaultRetryDelay,delay="function"==typeof retryDelay?retryDelay(failureCount,error):retryDelay,shouldRetry=!0===retry||"number"==typeof retry&&failureCount<retry||"function"==typeof retry&&retry(failureCount,error);var timeout;!isRetryCancelled&&shouldRetry?(failureCount++,null==(_a3=config2.onFail)||_a3.call(config2,failureCount,error),(timeout=delay,new Promise(resolve=>{setTimeout(resolve,timeout)})).then(()=>canContinue()?void 0:pause()).then(()=>{isRetryCancelled?reject(error):run()})):reject(error)})};return{promise:thenable,cancel:cancelOptions=>{var _a3;isResolved||(reject(new CancelledError(cancelOptions)),null==(_a3=config2.abort)||_a3.call(config2))},continue:()=>(null==continueFn||continueFn(),thenable),cancelRetry:()=>{isRetryCancelled=!0},continueRetry:()=>{isRetryCancelled=!1},canStart:canStart,start:()=>(canStart()?run():pause().then(run),thenable)}}var defaultScheduler=cb=>setTimeout(cb,0);var notifyManager=function(){let queue=[],transactions=0,notifyFn=callback=>{callback()},batchNotifyFn=callback=>{callback()},scheduleFn=defaultScheduler;const schedule=callback=>{transactions?queue.push(callback):scheduleFn(()=>{notifyFn(callback)})};return{batch:callback=>{let result;transactions++;try{result=callback()}finally{transactions--,transactions||(()=>{const originalQueue=queue;queue=[],originalQueue.length&&scheduleFn(()=>{batchNotifyFn(()=>{originalQueue.forEach(callback=>{notifyFn(callback)})})})})()}return result},batchCalls:callback=>(...args)=>{schedule(()=>{callback(...args)})},schedule:schedule,setNotifyFunction:fn=>{notifyFn=fn},setBatchNotifyFunction:fn=>{batchNotifyFn=fn},setScheduler:fn=>{scheduleFn=fn}}}(),Removable=(_c=class{constructor(){__privateAdd(this,_gcTimeout)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&__privateSet(this,_gcTimeout,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(newGcTime){this.gcTime=Math.max(this.gcTime||0,newGcTime??(isServer?1/0:3e5))}clearGcTimeout(){__privateGet(this,_gcTimeout)&&(clearTimeout(__privateGet(this,_gcTimeout)),__privateSet(this,_gcTimeout,void 0))}},_gcTimeout=new WeakMap,_c),Query=(_d=class extends Removable{constructor(config2){super(),__privateAdd(this,_Query_instances),__privateAdd(this,_initialState),__privateAdd(this,_revertState),__privateAdd(this,_cache),__privateAdd(this,_client),__privateAdd(this,_retryer),__privateAdd(this,_defaultOptions),__privateAdd(this,_abortSignalConsumed),__privateSet(this,_abortSignalConsumed,!1),__privateSet(this,_defaultOptions,config2.defaultOptions),this.setOptions(config2.options),this.observers=[],__privateSet(this,_client,config2.client),__privateSet(this,_cache,__privateGet(this,_client).getQueryCache()),this.queryKey=config2.queryKey,this.queryHash=config2.queryHash,__privateSet(this,_initialState,function(options){const data="function"==typeof options.initialData?options.initialData():options.initialData,hasData=void 0!==data,initialDataUpdatedAt=hasData?"function"==typeof options.initialDataUpdatedAt?options.initialDataUpdatedAt():options.initialDataUpdatedAt:0;return{data:data,dataUpdateCount:0,dataUpdatedAt:hasData?initialDataUpdatedAt??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:hasData?"success":"pending",fetchStatus:"idle"}}(this.options)),this.state=config2.state??__privateGet(this,_initialState),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var _a3;return null==(_a3=__privateGet(this,_retryer))?void 0:_a3.promise}setOptions(options){this.options={...__privateGet(this,_defaultOptions),...options},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||__privateGet(this,_cache).remove(this)}setData(newData,options){const data=replaceData(this.state.data,newData,this.options);return __privateMethod(this,_Query_instances,dispatch_fn).call(this,{data:data,type:"success",dataUpdatedAt:null==options?void 0:options.updatedAt,manual:null==options?void 0:options.manual}),data}setState(state,setStateOptions){__privateMethod(this,_Query_instances,dispatch_fn).call(this,{type:"setState",state:state,setStateOptions:setStateOptions})}cancel(options){var _a3,_b3;const promise=null==(_a3=__privateGet(this,_retryer))?void 0:_a3.promise;return null==(_b3=__privateGet(this,_retryer))||_b3.cancel(options),promise?promise.then(noop$3).catch(noop$3):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(__privateGet(this,_initialState))}isActive(){return this.observers.some(observer=>!1!==resolveEnabled(observer.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(observer=>"static"===resolveStaleTime(observer.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(observer=>observer.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(staleTime=0){return void 0===this.state.data||"static"!==staleTime&&(!!this.state.isInvalidated||!timeUntilStale(this.state.dataUpdatedAt,staleTime))}onFocus(){var _a3;const observer=this.observers.find(x2=>x2.shouldFetchOnWindowFocus());null==observer||observer.refetch({cancelRefetch:!1}),null==(_a3=__privateGet(this,_retryer))||_a3.continue()}onOnline(){var _a3;const observer=this.observers.find(x2=>x2.shouldFetchOnReconnect());null==observer||observer.refetch({cancelRefetch:!1}),null==(_a3=__privateGet(this,_retryer))||_a3.continue()}addObserver(observer){this.observers.includes(observer)||(this.observers.push(observer),this.clearGcTimeout(),__privateGet(this,_cache).notify({type:"observerAdded",query:this,observer:observer}))}removeObserver(observer){this.observers.includes(observer)&&(this.observers=this.observers.filter(x2=>x2!==observer),this.observers.length||(__privateGet(this,_retryer)&&(__privateGet(this,_abortSignalConsumed)?__privateGet(this,_retryer).cancel({revert:!0}):__privateGet(this,_retryer).cancelRetry()),this.scheduleGc()),__privateGet(this,_cache).notify({type:"observerRemoved",query:this,observer:observer}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||__privateMethod(this,_Query_instances,dispatch_fn).call(this,{type:"invalidate"})}fetch(options,fetchOptions){var _a3,_b3,_c2;if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&(null==fetchOptions?void 0:fetchOptions.cancelRefetch))this.cancel({silent:!0});else if(__privateGet(this,_retryer))return __privateGet(this,_retryer).continueRetry(),__privateGet(this,_retryer).promise;if(options&&this.setOptions(options),!this.options.queryFn){const observer=this.observers.find(x2=>x2.options.queryFn);observer&&this.setOptions(observer.options)}const abortController=new AbortController,addSignalProperty=object2=>{Object.defineProperty(object2,"signal",{enumerable:!0,get:()=>(__privateSet(this,_abortSignalConsumed,!0),abortController.signal)})},fetchFn=()=>{const queryFn=ensureQueryFn(this.options,fetchOptions),queryFnContext=(()=>{const queryFnContext2={client:__privateGet(this,_client),queryKey:this.queryKey,meta:this.meta};return addSignalProperty(queryFnContext2),queryFnContext2})();return __privateSet(this,_abortSignalConsumed,!1),this.options.persister?this.options.persister(queryFn,queryFnContext,this):queryFn(queryFnContext)},context=(()=>{const context2={fetchOptions:fetchOptions,options:this.options,queryKey:this.queryKey,client:__privateGet(this,_client),state:this.state,fetchFn:fetchFn};return addSignalProperty(context2),context2})();null==(_a3=this.options.behavior)||_a3.onFetch(context,this),__privateSet(this,_revertState,this.state),"idle"!==this.state.fetchStatus&&this.state.fetchMeta===(null==(_b3=context.fetchOptions)?void 0:_b3.meta)||__privateMethod(this,_Query_instances,dispatch_fn).call(this,{type:"fetch",meta:null==(_c2=context.fetchOptions)?void 0:_c2.meta});const onError=error=>{var _a4,_b4,_c3,_d2;isCancelledError(error)&&error.silent||__privateMethod(this,_Query_instances,dispatch_fn).call(this,{type:"error",error:error}),isCancelledError(error)||(null==(_b4=(_a4=__privateGet(this,_cache).config).onError)||_b4.call(_a4,error,this),null==(_d2=(_c3=__privateGet(this,_cache).config).onSettled)||_d2.call(_c3,this.state.data,error,this)),this.scheduleGc()};return __privateSet(this,_retryer,createRetryer({initialPromise:null==fetchOptions?void 0:fetchOptions.initialPromise,fn:context.fetchFn,abort:abortController.abort.bind(abortController),onSuccess:data=>{var _a4,_b4,_c3,_d2;if(void 0!==data){try{this.setData(data)}catch(error){return void onError(error)}null==(_b4=(_a4=__privateGet(this,_cache).config).onSuccess)||_b4.call(_a4,data,this),null==(_d2=(_c3=__privateGet(this,_cache).config).onSettled)||_d2.call(_c3,data,this.state.error,this),this.scheduleGc()}else onError(new Error(`${this.queryHash} data is undefined`))},onError:onError,onFail:(failureCount,error)=>{__privateMethod(this,_Query_instances,dispatch_fn).call(this,{type:"failed",failureCount:failureCount,error:error})},onPause:()=>{__privateMethod(this,_Query_instances,dispatch_fn).call(this,{type:"pause"})},onContinue:()=>{__privateMethod(this,_Query_instances,dispatch_fn).call(this,{type:"continue"})},retry:context.options.retry,retryDelay:context.options.retryDelay,networkMode:context.options.networkMode,canRun:()=>!0})),__privateGet(this,_retryer).start()}},_initialState=new WeakMap,_revertState=new WeakMap,_cache=new WeakMap,_client=new WeakMap,_retryer=new WeakMap,_defaultOptions=new WeakMap,_abortSignalConsumed=new WeakMap,_Query_instances=new WeakSet,dispatch_fn=function(action){this.state=(state=>{switch(action.type){case"failed":return{...state,fetchFailureCount:action.failureCount,fetchFailureReason:action.error};case"pause":return{...state,fetchStatus:"paused"};case"continue":return{...state,fetchStatus:"fetching"};case"fetch":return{...state,...fetchState(state.data,this.options),fetchMeta:action.meta??null};case"success":return __privateSet(this,_revertState,void 0),{...state,data:action.data,dataUpdateCount:state.dataUpdateCount+1,dataUpdatedAt:action.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!action.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const error=action.error;return isCancelledError(error)&&error.revert&&__privateGet(this,_revertState)?{...__privateGet(this,_revertState),fetchStatus:"idle"}:{...state,error:error,errorUpdateCount:state.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:state.fetchFailureCount+1,fetchFailureReason:error,fetchStatus:"idle",status:"error"};case"invalidate":return{...state,isInvalidated:!0};case"setState":return{...state,...action.state}}})(this.state),notifyManager.batch(()=>{this.observers.forEach(observer=>{observer.onQueryUpdate()}),__privateGet(this,_cache).notify({query:this,type:"updated",action:action})})},_d);function fetchState(data,options){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(options.networkMode)?"fetching":"paused",...void 0===data&&{error:null,status:"pending"}}}var QueryCache=(_e2=class extends Subscribable{constructor(config2={}){super(),__privateAdd(this,_queries),this.config=config2,__privateSet(this,_queries,new Map)}build(client2,options,state){const queryKey=options.queryKey,queryHash=options.queryHash??hashQueryKeyByOptions(queryKey,options);let query=this.get(queryHash);return query||(query=new Query({client:client2,queryKey:queryKey,queryHash:queryHash,options:client2.defaultQueryOptions(options),state:state,defaultOptions:client2.getQueryDefaults(queryKey)}),this.add(query)),query}add(query){__privateGet(this,_queries).has(query.queryHash)||(__privateGet(this,_queries).set(query.queryHash,query),this.notify({type:"added",query:query}))}remove(query){const queryInMap=__privateGet(this,_queries).get(query.queryHash);queryInMap&&(query.destroy(),queryInMap===query&&__privateGet(this,_queries).delete(query.queryHash),this.notify({type:"removed",query:query}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(query=>{this.remove(query)})})}get(queryHash){return __privateGet(this,_queries).get(queryHash)}getAll(){return[...__privateGet(this,_queries).values()]}find(filters){const defaultedFilters={exact:!0,...filters};return this.getAll().find(query=>matchQuery(defaultedFilters,query))}findAll(filters={}){const queries=this.getAll();return Object.keys(filters).length>0?queries.filter(query=>matchQuery(filters,query)):queries}notify(event){notifyManager.batch(()=>{this.listeners.forEach(listener=>{listener(event)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(query=>{query.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(query=>{query.onOnline()})})}},_queries=new WeakMap,_e2),Mutation=(_f=class extends Removable{constructor(config2){super(),__privateAdd(this,_Mutation_instances),__privateAdd(this,_observers),__privateAdd(this,_mutationCache),__privateAdd(this,_retryer2),this.mutationId=config2.mutationId,__privateSet(this,_mutationCache,config2.mutationCache),__privateSet(this,_observers,[]),this.state=config2.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(config2.options),this.scheduleGc()}setOptions(options){this.options=options,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(observer){__privateGet(this,_observers).includes(observer)||(__privateGet(this,_observers).push(observer),this.clearGcTimeout(),__privateGet(this,_mutationCache).notify({type:"observerAdded",mutation:this,observer:observer}))}removeObserver(observer){__privateSet(this,_observers,__privateGet(this,_observers).filter(x2=>x2!==observer)),this.scheduleGc(),__privateGet(this,_mutationCache).notify({type:"observerRemoved",mutation:this,observer:observer})}optionalRemove(){__privateGet(this,_observers).length||("pending"===this.state.status?this.scheduleGc():__privateGet(this,_mutationCache).remove(this))}continue(){var _a3;return(null==(_a3=__privateGet(this,_retryer2))?void 0:_a3.continue())??this.execute(this.state.variables)}async execute(variables){var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t2;const onContinue=()=>{__privateMethod(this,_Mutation_instances,dispatch_fn2).call(this,{type:"continue"})};__privateSet(this,_retryer2,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(variables):Promise.reject(new Error("No mutationFn found")),onFail:(failureCount,error)=>{__privateMethod(this,_Mutation_instances,dispatch_fn2).call(this,{type:"failed",failureCount:failureCount,error:error})},onPause:()=>{__privateMethod(this,_Mutation_instances,dispatch_fn2).call(this,{type:"pause"})},onContinue:onContinue,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>__privateGet(this,_mutationCache).canRun(this)}));const restored="pending"===this.state.status,isPaused=!__privateGet(this,_retryer2).canStart();try{if(restored)onContinue();else{__privateMethod(this,_Mutation_instances,dispatch_fn2).call(this,{type:"pending",variables:variables,isPaused:isPaused}),await(null==(_b3=(_a3=__privateGet(this,_mutationCache).config).onMutate)?void 0:_b3.call(_a3,variables,this));const context=await(null==(_d2=(_c2=this.options).onMutate)?void 0:_d2.call(_c2,variables));context!==this.state.context&&__privateMethod(this,_Mutation_instances,dispatch_fn2).call(this,{type:"pending",context:context,variables:variables,isPaused:isPaused})}const data=await __privateGet(this,_retryer2).start();return await(null==(_f2=(_e3=__privateGet(this,_mutationCache).config).onSuccess)?void 0:_f2.call(_e3,data,variables,this.state.context,this)),await(null==(_h2=(_g2=this.options).onSuccess)?void 0:_h2.call(_g2,data,variables,this.state.context)),await(null==(_j2=(_i2=__privateGet(this,_mutationCache).config).onSettled)?void 0:_j2.call(_i2,data,null,this.state.variables,this.state.context,this)),await(null==(_l=(_k=this.options).onSettled)?void 0:_l.call(_k,data,null,variables,this.state.context)),__privateMethod(this,_Mutation_instances,dispatch_fn2).call(this,{type:"success",data:data}),data}catch(error){try{throw await(null==(_n=(_m=__privateGet(this,_mutationCache).config).onError)?void 0:_n.call(_m,error,variables,this.state.context,this)),await(null==(_p=(_o=this.options).onError)?void 0:_p.call(_o,error,variables,this.state.context)),await(null==(_r=(_q=__privateGet(this,_mutationCache).config).onSettled)?void 0:_r.call(_q,void 0,error,this.state.variables,this.state.context,this)),await(null==(_t2=(_s=this.options).onSettled)?void 0:_t2.call(_s,void 0,error,variables,this.state.context)),error}finally{__privateMethod(this,_Mutation_instances,dispatch_fn2).call(this,{type:"error",error:error})}}finally{__privateGet(this,_mutationCache).runNext(this)}}},_observers=new WeakMap,_mutationCache=new WeakMap,_retryer2=new WeakMap,_Mutation_instances=new WeakSet,dispatch_fn2=function(action){this.state=(state=>{switch(action.type){case"failed":return{...state,failureCount:action.failureCount,failureReason:action.error};case"pause":return{...state,isPaused:!0};case"continue":return{...state,isPaused:!1};case"pending":return{...state,context:action.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:action.isPaused,status:"pending",variables:action.variables,submittedAt:Date.now()};case"success":return{...state,data:action.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...state,data:void 0,error:action.error,failureCount:state.failureCount+1,failureReason:action.error,isPaused:!1,status:"error"}}})(this.state),notifyManager.batch(()=>{__privateGet(this,_observers).forEach(observer=>{observer.onMutationUpdate(action)}),__privateGet(this,_mutationCache).notify({mutation:this,type:"updated",action:action})})},_f);var MutationCache=(_g=class extends Subscribable{constructor(config2={}){super(),__privateAdd(this,_mutations),__privateAdd(this,_scopes),__privateAdd(this,_mutationId),this.config=config2,__privateSet(this,_mutations,new Set),__privateSet(this,_scopes,new Map),__privateSet(this,_mutationId,0)}build(client2,options,state){const mutation=new Mutation({mutationCache:this,mutationId:++__privateWrapper(this,_mutationId)._,options:client2.defaultMutationOptions(options),state:state});return this.add(mutation),mutation}add(mutation){__privateGet(this,_mutations).add(mutation);const scope=scopeFor(mutation);if("string"==typeof scope){const scopedMutations=__privateGet(this,_scopes).get(scope);scopedMutations?scopedMutations.push(mutation):__privateGet(this,_scopes).set(scope,[mutation])}this.notify({type:"added",mutation:mutation})}remove(mutation){if(__privateGet(this,_mutations).delete(mutation)){const scope=scopeFor(mutation);if("string"==typeof scope){const scopedMutations=__privateGet(this,_scopes).get(scope);if(scopedMutations)if(scopedMutations.length>1){const index=scopedMutations.indexOf(mutation);-1!==index&&scopedMutations.splice(index,1)}else scopedMutations[0]===mutation&&__privateGet(this,_scopes).delete(scope)}}this.notify({type:"removed",mutation:mutation})}canRun(mutation){const scope=scopeFor(mutation);if("string"==typeof scope){const mutationsWithSameScope=__privateGet(this,_scopes).get(scope),firstPendingMutation=null==mutationsWithSameScope?void 0:mutationsWithSameScope.find(m2=>"pending"===m2.state.status);return!firstPendingMutation||firstPendingMutation===mutation}return!0}runNext(mutation){var _a3;const scope=scopeFor(mutation);if("string"==typeof scope){const foundMutation=null==(_a3=__privateGet(this,_scopes).get(scope))?void 0:_a3.find(m2=>m2!==mutation&&m2.state.isPaused);return(null==foundMutation?void 0:foundMutation.continue())??Promise.resolve()}return Promise.resolve()}clear(){notifyManager.batch(()=>{__privateGet(this,_mutations).forEach(mutation=>{this.notify({type:"removed",mutation:mutation})}),__privateGet(this,_mutations).clear(),__privateGet(this,_scopes).clear()})}getAll(){return Array.from(__privateGet(this,_mutations))}find(filters){const defaultedFilters={exact:!0,...filters};return this.getAll().find(mutation=>matchMutation(defaultedFilters,mutation))}findAll(filters={}){return this.getAll().filter(mutation=>matchMutation(filters,mutation))}notify(event){notifyManager.batch(()=>{this.listeners.forEach(listener=>{listener(event)})})}resumePausedMutations(){const pausedMutations=this.getAll().filter(x2=>x2.state.isPaused);return notifyManager.batch(()=>Promise.all(pausedMutations.map(mutation=>mutation.continue().catch(noop$3))))}},_mutations=new WeakMap,_scopes=new WeakMap,_mutationId=new WeakMap,_g);function scopeFor(mutation){var _a3;return null==(_a3=mutation.options.scope)?void 0:_a3.id}function infiniteQueryBehavior(pages){return{onFetch:(context,query)=>{var _a3,_b3,_c2,_d2,_e3;const options=context.options,direction=null==(_c2=null==(_b3=null==(_a3=context.fetchOptions)?void 0:_a3.meta)?void 0:_b3.fetchMore)?void 0:_c2.direction,oldPages=(null==(_d2=context.state.data)?void 0:_d2.pages)||[],oldPageParams=(null==(_e3=context.state.data)?void 0:_e3.pageParams)||[];let result={pages:[],pageParams:[]},currentPage=0;const fetchFn=async()=>{let cancelled=!1;const queryFn=ensureQueryFn(context.options,context.fetchOptions),fetchPage=async(data,param,previous)=>{if(cancelled)return Promise.reject();if(null==param&&data.pages.length)return Promise.resolve(data);const queryFnContext=(()=>{const queryFnContext2={client:context.client,queryKey:context.queryKey,pageParam:param,direction:previous?"backward":"forward",meta:context.options.meta};var object2;return object2=queryFnContext2,Object.defineProperty(object2,"signal",{enumerable:!0,get:()=>(context.signal.aborted?cancelled=!0:context.signal.addEventListener("abort",()=>{cancelled=!0}),context.signal)}),queryFnContext2})(),page=await queryFn(queryFnContext),{maxPages:maxPages}=context.options,addTo=previous?addToStart:addToEnd;return{pages:addTo(data.pages,page,maxPages),pageParams:addTo(data.pageParams,param,maxPages)}};if(direction&&oldPages.length){const previous="backward"===direction,oldData={pages:oldPages,pageParams:oldPageParams},param=(previous?getPreviousPageParam:getNextPageParam)(options,oldData);result=await fetchPage(oldData,param,previous)}else{const remainingPages=pages??oldPages.length;do{const param=0===currentPage?oldPageParams[0]??options.initialPageParam:getNextPageParam(options,result);if(currentPage>0&&null==param)break;result=await fetchPage(result,param),currentPage++}while(currentPage<remainingPages)}return result};context.options.persister?context.fetchFn=()=>{var _a4,_b4;return null==(_b4=(_a4=context.options).persister)?void 0:_b4.call(_a4,fetchFn,{client:context.client,queryKey:context.queryKey,meta:context.options.meta,signal:context.signal},query)}:context.fetchFn=fetchFn}}}function getNextPageParam(options,{pages:pages,pageParams:pageParams}){const lastIndex=pages.length-1;return pages.length>0?options.getNextPageParam(pages[lastIndex],pages,pageParams[lastIndex],pageParams):void 0}function getPreviousPageParam(options,{pages:pages,pageParams:pageParams}){var _a3;return pages.length>0?null==(_a3=options.getPreviousPageParam)?void 0:_a3.call(options,pages[0],pages,pageParams[0],pageParams):void 0}var QueryClient=(_h=class{constructor(config2={}){__privateAdd(this,_queryCache),__privateAdd(this,_mutationCache2),__privateAdd(this,_defaultOptions2),__privateAdd(this,_queryDefaults),__privateAdd(this,_mutationDefaults),__privateAdd(this,_mountCount),__privateAdd(this,_unsubscribeFocus),__privateAdd(this,_unsubscribeOnline),__privateSet(this,_queryCache,config2.queryCache||new QueryCache),__privateSet(this,_mutationCache2,config2.mutationCache||new MutationCache),__privateSet(this,_defaultOptions2,config2.defaultOptions||{}),__privateSet(this,_queryDefaults,new Map),__privateSet(this,_mutationDefaults,new Map),__privateSet(this,_mountCount,0)}mount(){__privateWrapper(this,_mountCount)._++,1===__privateGet(this,_mountCount)&&(__privateSet(this,_unsubscribeFocus,focusManager.subscribe(async focused=>{focused&&(await this.resumePausedMutations(),__privateGet(this,_queryCache).onFocus())})),__privateSet(this,_unsubscribeOnline,onlineManager.subscribe(async online=>{online&&(await this.resumePausedMutations(),__privateGet(this,_queryCache).onOnline())})))}unmount(){var _a3,_b3;__privateWrapper(this,_mountCount)._--,0===__privateGet(this,_mountCount)&&(null==(_a3=__privateGet(this,_unsubscribeFocus))||_a3.call(this),__privateSet(this,_unsubscribeFocus,void 0),null==(_b3=__privateGet(this,_unsubscribeOnline))||_b3.call(this),__privateSet(this,_unsubscribeOnline,void 0))}isFetching(filters){return __privateGet(this,_queryCache).findAll({...filters,fetchStatus:"fetching"}).length}isMutating(filters){return __privateGet(this,_mutationCache2).findAll({...filters,status:"pending"}).length}getQueryData(queryKey){var _a3;const options=this.defaultQueryOptions({queryKey:queryKey});return null==(_a3=__privateGet(this,_queryCache).get(options.queryHash))?void 0:_a3.state.data}ensureQueryData(options){const defaultedOptions=this.defaultQueryOptions(options),query=__privateGet(this,_queryCache).build(this,defaultedOptions),cachedData=query.state.data;return void 0===cachedData?this.fetchQuery(options):(options.revalidateIfStale&&query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime,query))&&this.prefetchQuery(defaultedOptions),Promise.resolve(cachedData))}getQueriesData(filters){return __privateGet(this,_queryCache).findAll(filters).map(({queryKey:queryKey,state:state})=>[queryKey,state.data])}setQueryData(queryKey,updater,options){const defaultedOptions=this.defaultQueryOptions({queryKey:queryKey}),query=__privateGet(this,_queryCache).get(defaultedOptions.queryHash),data=function(updater,input){return"function"==typeof updater?updater(input):updater}(updater,null==query?void 0:query.state.data);if(void 0!==data)return __privateGet(this,_queryCache).build(this,defaultedOptions).setData(data,{...options,manual:!0})}setQueriesData(filters,updater,options){return notifyManager.batch(()=>__privateGet(this,_queryCache).findAll(filters).map(({queryKey:queryKey})=>[queryKey,this.setQueryData(queryKey,updater,options)]))}getQueryState(queryKey){var _a3;const options=this.defaultQueryOptions({queryKey:queryKey});return null==(_a3=__privateGet(this,_queryCache).get(options.queryHash))?void 0:_a3.state}removeQueries(filters){const queryCache=__privateGet(this,_queryCache);notifyManager.batch(()=>{queryCache.findAll(filters).forEach(query=>{queryCache.remove(query)})})}resetQueries(filters,options){const queryCache=__privateGet(this,_queryCache);return notifyManager.batch(()=>(queryCache.findAll(filters).forEach(query=>{query.reset()}),this.refetchQueries({type:"active",...filters},options)))}cancelQueries(filters,cancelOptions={}){const defaultedCancelOptions={revert:!0,...cancelOptions},promises=notifyManager.batch(()=>__privateGet(this,_queryCache).findAll(filters).map(query=>query.cancel(defaultedCancelOptions)));return Promise.all(promises).then(noop$3).catch(noop$3)}invalidateQueries(filters,options={}){return notifyManager.batch(()=>(__privateGet(this,_queryCache).findAll(filters).forEach(query=>{query.invalidate()}),"none"===(null==filters?void 0:filters.refetchType)?Promise.resolve():this.refetchQueries({...filters,type:(null==filters?void 0:filters.refetchType)??(null==filters?void 0:filters.type)??"active"},options)))}refetchQueries(filters,options={}){const fetchOptions={...options,cancelRefetch:options.cancelRefetch??!0},promises=notifyManager.batch(()=>__privateGet(this,_queryCache).findAll(filters).filter(query=>!query.isDisabled()&&!query.isStatic()).map(query=>{let promise=query.fetch(void 0,fetchOptions);return fetchOptions.throwOnError||(promise=promise.catch(noop$3)),"paused"===query.state.fetchStatus?Promise.resolve():promise}));return Promise.all(promises).then(noop$3)}fetchQuery(options){const defaultedOptions=this.defaultQueryOptions(options);void 0===defaultedOptions.retry&&(defaultedOptions.retry=!1);const query=__privateGet(this,_queryCache).build(this,defaultedOptions);return query.isStaleByTime(resolveStaleTime(defaultedOptions.staleTime,query))?query.fetch(defaultedOptions):Promise.resolve(query.state.data)}prefetchQuery(options){return this.fetchQuery(options).then(noop$3).catch(noop$3)}fetchInfiniteQuery(options){return options.behavior=infiniteQueryBehavior(options.pages),this.fetchQuery(options)}prefetchInfiniteQuery(options){return this.fetchInfiniteQuery(options).then(noop$3).catch(noop$3)}ensureInfiniteQueryData(options){return options.behavior=infiniteQueryBehavior(options.pages),this.ensureQueryData(options)}resumePausedMutations(){return onlineManager.isOnline()?__privateGet(this,_mutationCache2).resumePausedMutations():Promise.resolve()}getQueryCache(){return __privateGet(this,_queryCache)}getMutationCache(){return __privateGet(this,_mutationCache2)}getDefaultOptions(){return __privateGet(this,_defaultOptions2)}setDefaultOptions(options){__privateSet(this,_defaultOptions2,options)}setQueryDefaults(queryKey,options){__privateGet(this,_queryDefaults).set(hashKey(queryKey),{queryKey:queryKey,defaultOptions:options})}getQueryDefaults(queryKey){const defaults2=[...__privateGet(this,_queryDefaults).values()],result={};return defaults2.forEach(queryDefault=>{partialMatchKey(queryKey,queryDefault.queryKey)&&Object.assign(result,queryDefault.defaultOptions)}),result}setMutationDefaults(mutationKey,options){__privateGet(this,_mutationDefaults).set(hashKey(mutationKey),{mutationKey:mutationKey,defaultOptions:options})}getMutationDefaults(mutationKey){const defaults2=[...__privateGet(this,_mutationDefaults).values()],result={};return defaults2.forEach(queryDefault=>{partialMatchKey(mutationKey,queryDefault.mutationKey)&&Object.assign(result,queryDefault.defaultOptions)}),result}defaultQueryOptions(options){if(options._defaulted)return options;const defaultedOptions={...__privateGet(this,_defaultOptions2).queries,...this.getQueryDefaults(options.queryKey),...options,_defaulted:!0};return defaultedOptions.queryHash||(defaultedOptions.queryHash=hashQueryKeyByOptions(defaultedOptions.queryKey,defaultedOptions)),void 0===defaultedOptions.refetchOnReconnect&&(defaultedOptions.refetchOnReconnect="always"!==defaultedOptions.networkMode),void 0===defaultedOptions.throwOnError&&(defaultedOptions.throwOnError=!!defaultedOptions.suspense),!defaultedOptions.networkMode&&defaultedOptions.persister&&(defaultedOptions.networkMode="offlineFirst"),defaultedOptions.queryFn===skipToken&&(defaultedOptions.enabled=!1),defaultedOptions}defaultMutationOptions(options){return(null==options?void 0:options._defaulted)?options:{...__privateGet(this,_defaultOptions2).mutations,...(null==options?void 0:options.mutationKey)&&this.getMutationDefaults(options.mutationKey),...options,_defaulted:!0}}clear(){__privateGet(this,_queryCache).clear(),__privateGet(this,_mutationCache2).clear()}},_queryCache=new WeakMap,_mutationCache2=new WeakMap,_defaultOptions2=new WeakMap,_queryDefaults=new WeakMap,_mutationDefaults=new WeakMap,_mountCount=new WeakMap,_unsubscribeFocus=new WeakMap,_unsubscribeOnline=new WeakMap,_h),QueryObserver=(_i=class extends Subscribable{constructor(client2,options){super(),__privateAdd(this,_QueryObserver_instances),__privateAdd(this,_client2),__privateAdd(this,_currentQuery),__privateAdd(this,_currentQueryInitialState),__privateAdd(this,_currentResult),__privateAdd(this,_currentResultState),__privateAdd(this,_currentResultOptions),__privateAdd(this,_currentThenable),__privateAdd(this,_selectError),__privateAdd(this,_selectFn),__privateAdd(this,_selectResult),__privateAdd(this,_lastQueryWithDefinedData),__privateAdd(this,_staleTimeoutId),__privateAdd(this,_refetchIntervalId),__privateAdd(this,_currentRefetchInterval),__privateAdd(this,_trackedProps,new Set),this.options=options,__privateSet(this,_client2,client2),__privateSet(this,_selectError,null),__privateSet(this,_currentThenable,pendingThenable()),this.options.experimental_prefetchInRender||__privateGet(this,_currentThenable).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(options)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(__privateGet(this,_currentQuery).addObserver(this),shouldFetchOnMount(__privateGet(this,_currentQuery),this.options)?__privateMethod(this,_QueryObserver_instances,executeFetch_fn).call(this):this.updateResult(),__privateMethod(this,_QueryObserver_instances,updateTimers_fn).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(__privateGet(this,_currentQuery),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(__privateGet(this,_currentQuery),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,__privateMethod(this,_QueryObserver_instances,clearStaleTimeout_fn).call(this),__privateMethod(this,_QueryObserver_instances,clearRefetchInterval_fn).call(this),__privateGet(this,_currentQuery).removeObserver(this)}setOptions(options){const prevOptions=this.options,prevQuery=__privateGet(this,_currentQuery);if(this.options=__privateGet(this,_client2).defaultQueryOptions(options),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof resolveEnabled(this.options.enabled,__privateGet(this,_currentQuery)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");__privateMethod(this,_QueryObserver_instances,updateQuery_fn).call(this),__privateGet(this,_currentQuery).setOptions(this.options),prevOptions._defaulted&&!shallowEqualObjects(this.options,prevOptions)&&__privateGet(this,_client2).getQueryCache().notify({type:"observerOptionsUpdated",query:__privateGet(this,_currentQuery),observer:this});const mounted=this.hasListeners();mounted&&shouldFetchOptionally(__privateGet(this,_currentQuery),prevQuery,this.options,prevOptions)&&__privateMethod(this,_QueryObserver_instances,executeFetch_fn).call(this),this.updateResult(),!mounted||__privateGet(this,_currentQuery)===prevQuery&&resolveEnabled(this.options.enabled,__privateGet(this,_currentQuery))===resolveEnabled(prevOptions.enabled,__privateGet(this,_currentQuery))&&resolveStaleTime(this.options.staleTime,__privateGet(this,_currentQuery))===resolveStaleTime(prevOptions.staleTime,__privateGet(this,_currentQuery))||__privateMethod(this,_QueryObserver_instances,updateStaleTimeout_fn).call(this);const nextRefetchInterval=__privateMethod(this,_QueryObserver_instances,computeRefetchInterval_fn).call(this);!mounted||__privateGet(this,_currentQuery)===prevQuery&&resolveEnabled(this.options.enabled,__privateGet(this,_currentQuery))===resolveEnabled(prevOptions.enabled,__privateGet(this,_currentQuery))&&nextRefetchInterval===__privateGet(this,_currentRefetchInterval)||__privateMethod(this,_QueryObserver_instances,updateRefetchInterval_fn).call(this,nextRefetchInterval)}getOptimisticResult(options){const query=__privateGet(this,_client2).getQueryCache().build(__privateGet(this,_client2),options),result=this.createResult(query,options);return function(observer,optimisticResult){if(!shallowEqualObjects(observer.getCurrentResult(),optimisticResult))return!0;return!1}(this,result)&&(__privateSet(this,_currentResult,result),__privateSet(this,_currentResultOptions,this.options),__privateSet(this,_currentResultState,__privateGet(this,_currentQuery).state)),result}getCurrentResult(){return __privateGet(this,_currentResult)}trackResult(result,onPropTracked){return new Proxy(result,{get:(target,key)=>(this.trackProp(key),null==onPropTracked||onPropTracked(key),Reflect.get(target,key))})}trackProp(key){__privateGet(this,_trackedProps).add(key)}getCurrentQuery(){return __privateGet(this,_currentQuery)}refetch({...options}={}){return this.fetch({...options})}fetchOptimistic(options){const defaultedOptions=__privateGet(this,_client2).defaultQueryOptions(options),query=__privateGet(this,_client2).getQueryCache().build(__privateGet(this,_client2),defaultedOptions);return query.fetch().then(()=>this.createResult(query,defaultedOptions))}fetch(fetchOptions){return __privateMethod(this,_QueryObserver_instances,executeFetch_fn).call(this,{...fetchOptions,cancelRefetch:fetchOptions.cancelRefetch??!0}).then(()=>(this.updateResult(),__privateGet(this,_currentResult)))}createResult(query,options){var _a3;const prevQuery=__privateGet(this,_currentQuery),prevOptions=this.options,prevResult=__privateGet(this,_currentResult),prevResultState=__privateGet(this,_currentResultState),prevResultOptions=__privateGet(this,_currentResultOptions),queryInitialState=query!==prevQuery?query.state:__privateGet(this,_currentQueryInitialState),{state:state}=query;let data,newState={...state},isPlaceholderData=!1;if(options._optimisticResults){const mounted=this.hasListeners(),fetchOnMount=!mounted&&shouldFetchOnMount(query,options),fetchOptionally=mounted&&shouldFetchOptionally(query,prevQuery,options,prevOptions);(fetchOnMount||fetchOptionally)&&(newState={...newState,...fetchState(state.data,query.options)}),"isRestoring"===options._optimisticResults&&(newState.fetchStatus="idle")}let{error:error,errorUpdatedAt:errorUpdatedAt,status:status}=newState;data=newState.data;let skipSelect=!1;if(void 0!==options.placeholderData&&void 0===data&&"pending"===status){let placeholderData;(null==prevResult?void 0:prevResult.isPlaceholderData)&&options.placeholderData===(null==prevResultOptions?void 0:prevResultOptions.placeholderData)?(placeholderData=prevResult.data,skipSelect=!0):placeholderData="function"==typeof options.placeholderData?options.placeholderData(null==(_a3=__privateGet(this,_lastQueryWithDefinedData))?void 0:_a3.state.data,__privateGet(this,_lastQueryWithDefinedData)):options.placeholderData,void 0!==placeholderData&&(status="success",data=replaceData(null==prevResult?void 0:prevResult.data,placeholderData,options),isPlaceholderData=!0)}if(options.select&&void 0!==data&&!skipSelect)if(prevResult&&data===(null==prevResultState?void 0:prevResultState.data)&&options.select===__privateGet(this,_selectFn))data=__privateGet(this,_selectResult);else try{__privateSet(this,_selectFn,options.select),data=options.select(data),data=replaceData(null==prevResult?void 0:prevResult.data,data,options),__privateSet(this,_selectResult,data),__privateSet(this,_selectError,null)}catch(selectError){__privateSet(this,_selectError,selectError)}__privateGet(this,_selectError)&&(error=__privateGet(this,_selectError),data=__privateGet(this,_selectResult),errorUpdatedAt=Date.now(),status="error");const isFetching="fetching"===newState.fetchStatus,isPending="pending"===status,isError="error"===status,isLoading=isPending&&isFetching,hasData=void 0!==data,nextResult={status:status,fetchStatus:newState.fetchStatus,isPending:isPending,isSuccess:"success"===status,isError:isError,isInitialLoading:isLoading,isLoading:isLoading,data:data,dataUpdatedAt:newState.dataUpdatedAt,error:error,errorUpdatedAt:errorUpdatedAt,failureCount:newState.fetchFailureCount,failureReason:newState.fetchFailureReason,errorUpdateCount:newState.errorUpdateCount,isFetched:newState.dataUpdateCount>0||newState.errorUpdateCount>0,isFetchedAfterMount:newState.dataUpdateCount>queryInitialState.dataUpdateCount||newState.errorUpdateCount>queryInitialState.errorUpdateCount,isFetching:isFetching,isRefetching:isFetching&&!isPending,isLoadingError:isError&&!hasData,isPaused:"paused"===newState.fetchStatus,isPlaceholderData:isPlaceholderData,isRefetchError:isError&&hasData,isStale:isStale(query,options),refetch:this.refetch,promise:__privateGet(this,_currentThenable),isEnabled:!1!==resolveEnabled(options.enabled,query)};if(this.options.experimental_prefetchInRender){const finalizeThenableIfPossible=thenable=>{"error"===nextResult.status?thenable.reject(nextResult.error):void 0!==nextResult.data&&thenable.resolve(nextResult.data)},recreateThenable=()=>{const pending=__privateSet(this,_currentThenable,nextResult.promise=pendingThenable());finalizeThenableIfPossible(pending)},prevThenable=__privateGet(this,_currentThenable);switch(prevThenable.status){case"pending":query.queryHash===prevQuery.queryHash&&finalizeThenableIfPossible(prevThenable);break;case"fulfilled":"error"!==nextResult.status&&nextResult.data===prevThenable.value||recreateThenable();break;case"rejected":"error"===nextResult.status&&nextResult.error===prevThenable.reason||recreateThenable()}}return nextResult}updateResult(){const prevResult=__privateGet(this,_currentResult),nextResult=this.createResult(__privateGet(this,_currentQuery),this.options);if(__privateSet(this,_currentResultState,__privateGet(this,_currentQuery).state),__privateSet(this,_currentResultOptions,this.options),void 0!==__privateGet(this,_currentResultState).data&&__privateSet(this,_lastQueryWithDefinedData,__privateGet(this,_currentQuery)),shallowEqualObjects(nextResult,prevResult))return;__privateSet(this,_currentResult,nextResult);__privateMethod(this,_QueryObserver_instances,notify_fn).call(this,{listeners:(()=>{if(!prevResult)return!0;const{notifyOnChangeProps:notifyOnChangeProps}=this.options,notifyOnChangePropsValue="function"==typeof notifyOnChangeProps?notifyOnChangeProps():notifyOnChangeProps;if("all"===notifyOnChangePropsValue||!notifyOnChangePropsValue&&!__privateGet(this,_trackedProps).size)return!0;const includedProps=new Set(notifyOnChangePropsValue??__privateGet(this,_trackedProps));return this.options.throwOnError&&includedProps.add("error"),Object.keys(__privateGet(this,_currentResult)).some(key=>{const typedKey=key;return __privateGet(this,_currentResult)[typedKey]!==prevResult[typedKey]&&includedProps.has(typedKey)})})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&__privateMethod(this,_QueryObserver_instances,updateTimers_fn).call(this)}},_client2=new WeakMap,_currentQuery=new WeakMap,_currentQueryInitialState=new WeakMap,_currentResult=new WeakMap,_currentResultState=new WeakMap,_currentResultOptions=new WeakMap,_currentThenable=new WeakMap,_selectError=new WeakMap,_selectFn=new WeakMap,_selectResult=new WeakMap,_lastQueryWithDefinedData=new WeakMap,_staleTimeoutId=new WeakMap,_refetchIntervalId=new WeakMap,_currentRefetchInterval=new WeakMap,_trackedProps=new WeakMap,_QueryObserver_instances=new WeakSet,executeFetch_fn=function(fetchOptions){__privateMethod(this,_QueryObserver_instances,updateQuery_fn).call(this);let promise=__privateGet(this,_currentQuery).fetch(this.options,fetchOptions);return(null==fetchOptions?void 0:fetchOptions.throwOnError)||(promise=promise.catch(noop$3)),promise},updateStaleTimeout_fn=function(){__privateMethod(this,_QueryObserver_instances,clearStaleTimeout_fn).call(this);const staleTime=resolveStaleTime(this.options.staleTime,__privateGet(this,_currentQuery));if(isServer||__privateGet(this,_currentResult).isStale||!isValidTimeout(staleTime))return;const time2=timeUntilStale(__privateGet(this,_currentResult).dataUpdatedAt,staleTime);__privateSet(this,_staleTimeoutId,setTimeout(()=>{__privateGet(this,_currentResult).isStale||this.updateResult()},time2+1))},computeRefetchInterval_fn=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(__privateGet(this,_currentQuery)):this.options.refetchInterval)??!1},updateRefetchInterval_fn=function(nextInterval){__privateMethod(this,_QueryObserver_instances,clearRefetchInterval_fn).call(this),__privateSet(this,_currentRefetchInterval,nextInterval),!isServer&&!1!==resolveEnabled(this.options.enabled,__privateGet(this,_currentQuery))&&isValidTimeout(__privateGet(this,_currentRefetchInterval))&&0!==__privateGet(this,_currentRefetchInterval)&&__privateSet(this,_refetchIntervalId,setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&__privateMethod(this,_QueryObserver_instances,executeFetch_fn).call(this)},__privateGet(this,_currentRefetchInterval)))},updateTimers_fn=function(){__privateMethod(this,_QueryObserver_instances,updateStaleTimeout_fn).call(this),__privateMethod(this,_QueryObserver_instances,updateRefetchInterval_fn).call(this,__privateMethod(this,_QueryObserver_instances,computeRefetchInterval_fn).call(this))},clearStaleTimeout_fn=function(){__privateGet(this,_staleTimeoutId)&&(clearTimeout(__privateGet(this,_staleTimeoutId)),__privateSet(this,_staleTimeoutId,void 0))},clearRefetchInterval_fn=function(){__privateGet(this,_refetchIntervalId)&&(clearInterval(__privateGet(this,_refetchIntervalId)),__privateSet(this,_refetchIntervalId,void 0))},updateQuery_fn=function(){const query=__privateGet(this,_client2).getQueryCache().build(__privateGet(this,_client2),this.options);if(query===__privateGet(this,_currentQuery))return;const prevQuery=__privateGet(this,_currentQuery);__privateSet(this,_currentQuery,query),__privateSet(this,_currentQueryInitialState,query.state),this.hasListeners()&&(null==prevQuery||prevQuery.removeObserver(this),query.addObserver(this))},notify_fn=function(notifyOptions){notifyManager.batch(()=>{notifyOptions.listeners&&this.listeners.forEach(listener=>{listener(__privateGet(this,_currentResult))}),__privateGet(this,_client2).getQueryCache().notify({query:__privateGet(this,_currentQuery),type:"observerResultsUpdated"})})},_i);function shouldFetchOnMount(query,options){return function(query,options){return!1!==resolveEnabled(options.enabled,query)&&void 0===query.state.data&&!("error"===query.state.status&&!1===options.retryOnMount)}(query,options)||void 0!==query.state.data&&shouldFetchOn(query,options,options.refetchOnMount)}function shouldFetchOn(query,options,field){if(!1!==resolveEnabled(options.enabled,query)&&"static"!==resolveStaleTime(options.staleTime,query)){const value="function"==typeof field?field(query):field;return"always"===value||!1!==value&&isStale(query,options)}return!1}function shouldFetchOptionally(query,prevQuery,options,prevOptions){return(query!==prevQuery||!1===resolveEnabled(prevOptions.enabled,query))&&(!options.suspense||"error"!==query.state.status)&&isStale(query,options)}function isStale(query,options){return!1!==resolveEnabled(options.enabled,query)&&query.isStaleByTime(resolveStaleTime(options.staleTime,query))}var MutationObserver$1=(_j=class extends Subscribable{constructor(client2,options){super(),__privateAdd(this,_MutationObserver_instances),__privateAdd(this,_client3),__privateAdd(this,_currentResult2),__privateAdd(this,_currentMutation),__privateAdd(this,_mutateOptions),__privateSet(this,_client3,client2),this.setOptions(options),this.bindMethods(),__privateMethod(this,_MutationObserver_instances,updateResult_fn).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(options){var _a3;const prevOptions=this.options;this.options=__privateGet(this,_client3).defaultMutationOptions(options),shallowEqualObjects(this.options,prevOptions)||__privateGet(this,_client3).getMutationCache().notify({type:"observerOptionsUpdated",mutation:__privateGet(this,_currentMutation),observer:this}),(null==prevOptions?void 0:prevOptions.mutationKey)&&this.options.mutationKey&&hashKey(prevOptions.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():"pending"===(null==(_a3=__privateGet(this,_currentMutation))?void 0:_a3.state.status)&&__privateGet(this,_currentMutation).setOptions(this.options)}onUnsubscribe(){var _a3;this.hasListeners()||null==(_a3=__privateGet(this,_currentMutation))||_a3.removeObserver(this)}onMutationUpdate(action){__privateMethod(this,_MutationObserver_instances,updateResult_fn).call(this),__privateMethod(this,_MutationObserver_instances,notify_fn2).call(this,action)}getCurrentResult(){return __privateGet(this,_currentResult2)}reset(){var _a3;null==(_a3=__privateGet(this,_currentMutation))||_a3.removeObserver(this),__privateSet(this,_currentMutation,void 0),__privateMethod(this,_MutationObserver_instances,updateResult_fn).call(this),__privateMethod(this,_MutationObserver_instances,notify_fn2).call(this)}mutate(variables,options){var _a3;return __privateSet(this,_mutateOptions,options),null==(_a3=__privateGet(this,_currentMutation))||_a3.removeObserver(this),__privateSet(this,_currentMutation,__privateGet(this,_client3).getMutationCache().build(__privateGet(this,_client3),this.options)),__privateGet(this,_currentMutation).addObserver(this),__privateGet(this,_currentMutation).execute(variables)}},_client3=new WeakMap,_currentResult2=new WeakMap,_currentMutation=new WeakMap,_mutateOptions=new WeakMap,_MutationObserver_instances=new WeakSet,updateResult_fn=function(){var _a3;const state=(null==(_a3=__privateGet(this,_currentMutation))?void 0:_a3.state)??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};__privateSet(this,_currentResult2,{...state,isPending:"pending"===state.status,isSuccess:"success"===state.status,isError:"error"===state.status,isIdle:"idle"===state.status,mutate:this.mutate,reset:this.reset})},notify_fn2=function(action){notifyManager.batch(()=>{var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2;if(__privateGet(this,_mutateOptions)&&this.hasListeners()){const variables=__privateGet(this,_currentResult2).variables,context=__privateGet(this,_currentResult2).context;"success"===(null==action?void 0:action.type)?(null==(_b3=(_a3=__privateGet(this,_mutateOptions)).onSuccess)||_b3.call(_a3,action.data,variables,context),null==(_d2=(_c2=__privateGet(this,_mutateOptions)).onSettled)||_d2.call(_c2,action.data,null,variables,context)):"error"===(null==action?void 0:action.type)&&(null==(_f2=(_e3=__privateGet(this,_mutateOptions)).onError)||_f2.call(_e3,action.error,variables,context),null==(_h2=(_g2=__privateGet(this,_mutateOptions)).onSettled)||_h2.call(_g2,void 0,action.error,variables,context))}this.listeners.forEach(listener=>{listener(__privateGet(this,_currentResult2))})})},_j),QueryClientContext=reactExports.createContext(void 0),useQueryClient=queryClient2=>{const client2=reactExports.useContext(QueryClientContext);if(!client2)throw new Error("No QueryClient set, use QueryClientProvider to set one");return client2},QueryClientProvider=({client:client2,children:children})=>(reactExports.useEffect(()=>(client2.mount(),()=>{client2.unmount()}),[client2]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:client2,children:children})),IsRestoringContext=reactExports.createContext(!1);IsRestoringContext.Provider;var Action$1,Action2,QueryErrorResetBoundaryContext=reactExports.createContext(function(){let isReset=!1;return{clearReset:()=>{isReset=!1},reset:()=>{isReset=!0},isReset:()=>isReset}}()),fetchOptimistic=(defaultedOptions,observer,errorResetBoundary)=>observer.fetchOptimistic(defaultedOptions).catch(()=>{errorResetBoundary.clearReset()});function useBaseQuery(options,Observer,queryClient2){var _a3,_b3,_c2,_d2,_e3;const isRestoring=reactExports.useContext(IsRestoringContext),errorResetBoundary=reactExports.useContext(QueryErrorResetBoundaryContext),client2=useQueryClient(),defaultedOptions=client2.defaultQueryOptions(options);null==(_b3=null==(_a3=client2.getDefaultOptions().queries)?void 0:_a3._experimental_beforeQuery)||_b3.call(_a3,defaultedOptions),defaultedOptions._optimisticResults=isRestoring?"isRestoring":"optimistic",(defaultedOptions=>{if(defaultedOptions.suspense){const clamp2=value=>"static"===value?value:Math.max(value??1e3,1e3),originalStaleTime=defaultedOptions.staleTime;defaultedOptions.staleTime="function"==typeof originalStaleTime?(...args)=>clamp2(originalStaleTime(...args)):clamp2(originalStaleTime),"number"==typeof defaultedOptions.gcTime&&(defaultedOptions.gcTime=Math.max(defaultedOptions.gcTime,1e3))}})(defaultedOptions),((options,errorResetBoundary)=>{(options.suspense||options.throwOnError||options.experimental_prefetchInRender)&&(errorResetBoundary.isReset()||(options.retryOnMount=!1))})(defaultedOptions,errorResetBoundary),(errorResetBoundary=>{reactExports.useEffect(()=>{errorResetBoundary.clearReset()},[errorResetBoundary])})(errorResetBoundary);const isNewCacheEntry=!client2.getQueryCache().get(defaultedOptions.queryHash),[observer]=reactExports.useState(()=>new Observer(client2,defaultedOptions)),result=observer.getOptimisticResult(defaultedOptions),shouldSubscribe=!isRestoring&&!1!==options.subscribed;if(reactExports.useSyncExternalStore(reactExports.useCallback(onStoreChange=>{const unsubscribe=shouldSubscribe?observer.subscribe(notifyManager.batchCalls(onStoreChange)):noop$3;return observer.updateResult(),unsubscribe},[observer,shouldSubscribe]),()=>observer.getCurrentResult(),()=>observer.getCurrentResult()),reactExports.useEffect(()=>{observer.setOptions(defaultedOptions)},[defaultedOptions,observer]),((defaultedOptions,result)=>(null==defaultedOptions?void 0:defaultedOptions.suspense)&&result.isPending)(defaultedOptions,result))throw fetchOptimistic(defaultedOptions,observer,errorResetBoundary);if((({result:result,errorResetBoundary:errorResetBoundary,throwOnError:throwOnError,query:query,suspense:suspense})=>result.isError&&!errorResetBoundary.isReset()&&!result.isFetching&&query&&(suspense&&void 0===result.data||shouldThrowError(throwOnError,[result.error,query])))({result:result,errorResetBoundary:errorResetBoundary,throwOnError:defaultedOptions.throwOnError,query:client2.getQueryCache().get(defaultedOptions.queryHash),suspense:defaultedOptions.suspense}))throw result.error;if(null==(_d2=null==(_c2=client2.getDefaultOptions().queries)?void 0:_c2._experimental_afterQuery)||_d2.call(_c2,defaultedOptions,result),defaultedOptions.experimental_prefetchInRender&&!isServer&&((result,isRestoring)=>result.isLoading&&result.isFetching&&!isRestoring)(result,isRestoring)){const promise=isNewCacheEntry?fetchOptimistic(defaultedOptions,observer,errorResetBoundary):null==(_e3=client2.getQueryCache().get(defaultedOptions.queryHash))?void 0:_e3.promise;null==promise||promise.catch(noop$3).finally(()=>{observer.updateResult()})}return defaultedOptions.notifyOnChangeProps?result:observer.trackResult(result)}function useQuery(options,queryClient2){return useBaseQuery(options,QueryObserver)}function useMutation(options,queryClient2){const client2=useQueryClient(),[observer]=reactExports.useState(()=>new MutationObserver$1(client2,options));reactExports.useEffect(()=>{observer.setOptions(options)},[observer,options]);const result=reactExports.useSyncExternalStore(reactExports.useCallback(onStoreChange=>observer.subscribe(notifyManager.batchCalls(onStoreChange)),[observer]),()=>observer.getCurrentResult(),()=>observer.getCurrentResult()),mutate=reactExports.useCallback((variables,mutateOptions)=>{observer.mutate(variables,mutateOptions).catch(noop$3)},[observer]);if(result.error&&shouldThrowError(observer.options.throwOnError,[result.error]))throw result.error;return{...result,mutate:mutate,mutateAsync:result.mutate}}function _extends$w(){return _extends$w=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$w.apply(this,arguments)}(Action2=Action$1||(Action$1={})).Pop="POP",Action2.Push="PUSH",Action2.Replace="REPLACE";function createBrowserHistory(options){return void 0===options&&(options={}),function(getLocation,createHref,validateLocation,options){void 0===options&&(options={});let{window:window2=document.defaultView,v5Compat:v5Compat=!1}=options,globalHistory=window2.history,action=Action$1.Pop,listener=null,index=getIndex();null==index&&(index=0,globalHistory.replaceState(_extends$w({},globalHistory.state,{idx:index}),""));function getIndex(){return(globalHistory.state||{idx:null}).idx}function handlePop(){action=Action$1.Pop;let nextIndex=getIndex(),delta=null==nextIndex?null:nextIndex-index;index=nextIndex,listener&&listener({action:action,location:history.location,delta:delta})}function push(to,state){action=Action$1.Push;let location2=createLocation(history.location,to,state);index=getIndex()+1;let historyState=getHistoryState(location2,index),url=history.createHref(location2);try{globalHistory.pushState(historyState,"",url)}catch(error){if(error instanceof DOMException&&"DataCloneError"===error.name)throw error;window2.location.assign(url)}v5Compat&&listener&&listener({action:action,location:history.location,delta:1})}function replace(to,state){action=Action$1.Replace;let location2=createLocation(history.location,to,state);index=getIndex();let historyState=getHistoryState(location2,index),url=history.createHref(location2);globalHistory.replaceState(historyState,"",url),v5Compat&&listener&&listener({action:action,location:history.location,delta:0})}function createURL(to){let base="null"!==window2.location.origin?window2.location.origin:window2.location.href,href="string"==typeof to?to:createPath(to);return href=href.replace(/ $/,"%20"),invariant$1(base,"No window.location.(origin|href) available to create URL for href: "+href),new URL(href,base)}let history={get action(){return action},get location(){return getLocation(window2,globalHistory)},listen(fn){if(listener)throw new Error("A history only accepts one active listener");return window2.addEventListener("popstate",handlePop),listener=fn,()=>{window2.removeEventListener("popstate",handlePop),listener=null}},createHref:to=>createHref(window2,to),createURL:createURL,encodeLocation(to){let url=createURL(to);return{pathname:url.pathname,search:url.search,hash:url.hash}},push:push,replace:replace,go:n2=>globalHistory.go(n2)};return history}(function(window2,globalHistory){let{pathname:pathname,search:search,hash:hash}=window2.location;return createLocation("",{pathname:pathname,search:search,hash:hash},globalHistory.state&&globalHistory.state.usr||null,globalHistory.state&&globalHistory.state.key||"default")},function(window2,to){return"string"==typeof to?to:createPath(to)},0,options)}function invariant$1(value,message2){if(!1===value||null==value)throw new Error(message2)}function warning(cond,message2){if(!cond)try{throw new Error(message2)}catch(e3){}}function getHistoryState(location2,index){return{usr:location2.state,key:location2.key,idx:index}}function createLocation(current,to,state,key){return void 0===state&&(state=null),_extends$w({pathname:"string"==typeof current?current:current.pathname,search:"",hash:""},"string"==typeof to?parsePath(to):to,{state:state,key:to&&to.key||key||Math.random().toString(36).substr(2,8)})}function createPath(_ref){let{pathname:pathname="/",search:search="",hash:hash=""}=_ref;return search&&"?"!==search&&(pathname+="?"===search.charAt(0)?search:"?"+search),hash&&"#"!==hash&&(pathname+="#"===hash.charAt(0)?hash:"#"+hash),pathname}function parsePath(path){let parsedPath={};if(path){let hashIndex=path.indexOf("#");hashIndex>=0&&(parsedPath.hash=path.substr(hashIndex),path=path.substr(0,hashIndex));let searchIndex=path.indexOf("?");searchIndex>=0&&(parsedPath.search=path.substr(searchIndex),path=path.substr(0,searchIndex)),path&&(parsedPath.pathname=path)}return parsedPath}var ResultType,ResultType2;function matchRoutes(routes,locationArg,basename){return void 0===basename&&(basename="/"),function(routes,locationArg,basename){let location2="string"==typeof locationArg?parsePath(locationArg):locationArg,pathname=stripBasename(location2.pathname||"/",basename);if(null==pathname)return null;let branches=flattenRoutes(routes);!function(branches){branches.sort((a2,b2)=>a2.score!==b2.score?b2.score-a2.score:function(a2,b2){let siblings=a2.length===b2.length&&a2.slice(0,-1).every((n2,i2)=>n2===b2[i2]);return siblings?a2[a2.length-1]-b2[b2.length-1]:0}(a2.routesMeta.map(meta=>meta.childrenIndex),b2.routesMeta.map(meta=>meta.childrenIndex)))}(branches);let matches=null;for(let i2=0;null==matches&&i2<branches.length;++i2){let decoded=decodePath(pathname);matches=matchRouteBranch(branches[i2],decoded)}return matches}(routes,locationArg,basename)}function flattenRoutes(routes,branches,parentsMeta,parentPath){void 0===branches&&(branches=[]),void 0===parentsMeta&&(parentsMeta=[]),void 0===parentPath&&(parentPath="");let flattenRoute=(route,index,relativePath)=>{let meta={relativePath:void 0===relativePath?route.path||"":relativePath,caseSensitive:!0===route.caseSensitive,childrenIndex:index,route:route};meta.relativePath.startsWith("/")&&(invariant$1(meta.relativePath.startsWith(parentPath),'Absolute route path "'+meta.relativePath+'" nested under path "'+parentPath+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),meta.relativePath=meta.relativePath.slice(parentPath.length));let path=joinPaths([parentPath,meta.relativePath]),routesMeta=parentsMeta.concat(meta);route.children&&route.children.length>0&&(invariant$1(!0!==route.index,'Index routes must not have child routes. Please remove all child routes from route path "'+path+'".'),flattenRoutes(route.children,branches,routesMeta,path)),(null!=route.path||route.index)&&branches.push({path:path,score:computeScore(path,route.index),routesMeta:routesMeta})};return routes.forEach((route,index)=>{var _route$path;if(""!==route.path&&null!=(_route$path=route.path)&&_route$path.includes("?"))for(let exploded of explodeOptionalSegments(route.path))flattenRoute(route,index,exploded);else flattenRoute(route,index)}),branches}function explodeOptionalSegments(path){let segments=path.split("/");if(0===segments.length)return[];let[first,...rest]=segments,isOptional=first.endsWith("?"),required=first.replace(/\?$/,"");if(0===rest.length)return isOptional?[required,""]:[required];let restExploded=explodeOptionalSegments(rest.join("/")),result=[];return result.push(...restExploded.map(subpath=>""===subpath?required:[required,subpath].join("/"))),isOptional&&result.push(...restExploded),result.map(exploded=>path.startsWith("/")&&""===exploded?"/":exploded)}(ResultType2=ResultType||(ResultType={})).data="data",ResultType2.deferred="deferred",ResultType2.redirect="redirect",ResultType2.error="error";const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=s2=>"*"===s2;function computeScore(path,index){let segments=path.split("/"),initialScore=segments.length;return segments.some(isSplat)&&(initialScore+=splatPenalty),index&&(initialScore+=indexRouteValue),segments.filter(s2=>!isSplat(s2)).reduce((score,segment)=>score+(paramRe.test(segment)?dynamicSegmentValue:""===segment?emptySegmentValue:staticSegmentValue),initialScore)}function matchRouteBranch(branch,pathname,allowPartial){let{routesMeta:routesMeta}=branch,matchedParams={},matchedPathname="/",matches=[];for(let i2=0;i2<routesMeta.length;++i2){let meta=routesMeta[i2],end=i2===routesMeta.length-1,remainingPathname="/"===matchedPathname?pathname:pathname.slice(matchedPathname.length)||"/",match2=matchPath({path:meta.relativePath,caseSensitive:meta.caseSensitive,end:end},remainingPathname),route=meta.route;if(!match2)return null;Object.assign(matchedParams,match2.params),matches.push({params:matchedParams,pathname:joinPaths([matchedPathname,match2.pathname]),pathnameBase:normalizePathname(joinPaths([matchedPathname,match2.pathnameBase])),route:route}),"/"!==match2.pathnameBase&&(matchedPathname=joinPaths([matchedPathname,match2.pathnameBase]))}return matches}function matchPath(pattern,pathname){"string"==typeof pattern&&(pattern={path:pattern,caseSensitive:!1,end:!0});let[matcher,compiledParams]=function(path,caseSensitive,end){void 0===caseSensitive&&(caseSensitive=!1);void 0===end&&(end=!0);warning("*"===path||!path.endsWith("*")||path.endsWith("/*"),'Route path "'+path+'" will be treated as if it were "'+path.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+path.replace(/\*$/,"/*")+'".');let params=[],regexpSource="^"+path.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_2,paramName,isOptional)=>(params.push({paramName:paramName,isOptional:null!=isOptional}),isOptional?"/?([^\\/]+)?":"/([^\\/]+)"));path.endsWith("*")?(params.push({paramName:"*"}),regexpSource+="*"===path||"/*"===path?"(.*)$":"(?:\\/(.+)|\\/*)$"):end?regexpSource+="\\/*$":""!==path&&"/"!==path&&(regexpSource+="(?:(?=\\/|$))");let matcher=new RegExp(regexpSource,caseSensitive?void 0:"i");return[matcher,params]}(pattern.path,pattern.caseSensitive,pattern.end),match2=pathname.match(matcher);if(!match2)return null;let matchedPathname=match2[0],pathnameBase=matchedPathname.replace(/(.)\/+$/,"$1"),captureGroups=match2.slice(1);return{params:compiledParams.reduce((memo2,_ref,index)=>{let{paramName:paramName,isOptional:isOptional}=_ref;if("*"===paramName){let splatValue=captureGroups[index]||"";pathnameBase=matchedPathname.slice(0,matchedPathname.length-splatValue.length).replace(/(.)\/+$/,"$1")}const value=captureGroups[index];return memo2[paramName]=isOptional&&!value?void 0:(value||"").replace(/%2F/g,"/"),memo2},{}),pathname:matchedPathname,pathnameBase:pathnameBase,pattern:pattern}}function decodePath(value){try{return value.split("/").map(v2=>decodeURIComponent(v2).replace(/\//g,"%2F")).join("/")}catch(error){return warning(!1,'The URL path "'+value+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+error+")."),value}}function stripBasename(pathname,basename){if("/"===basename)return pathname;if(!pathname.toLowerCase().startsWith(basename.toLowerCase()))return null;let startIndex=basename.endsWith("/")?basename.length-1:basename.length,nextChar=pathname.charAt(startIndex);return nextChar&&"/"!==nextChar?null:pathname.slice(startIndex)||"/"}function getInvalidPathError(char,field,dest,path){return"Cannot include a '"+char+"' character in a manually specified `to."+field+"` field ["+JSON.stringify(path)+"].  Please separate it out to the `to."+dest+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function getResolveToMatches(matches,v7_relativeSplatPath){let pathMatches=function(matches){return matches.filter((match2,index)=>0===index||match2.route.path&&match2.route.path.length>0)}(matches);return v7_relativeSplatPath?pathMatches.map((match2,idx)=>idx===pathMatches.length-1?match2.pathname:match2.pathnameBase):pathMatches.map(match2=>match2.pathnameBase)}function resolveTo(toArg,routePathnames,locationPathname,isPathRelative){let to;void 0===isPathRelative&&(isPathRelative=!1),"string"==typeof toArg?to=parsePath(toArg):(to=_extends$w({},toArg),invariant$1(!to.pathname||!to.pathname.includes("?"),getInvalidPathError("?","pathname","search",to)),invariant$1(!to.pathname||!to.pathname.includes("#"),getInvalidPathError("#","pathname","hash",to)),invariant$1(!to.search||!to.search.includes("#"),getInvalidPathError("#","search","hash",to)));let from,isEmptyPath=""===toArg||""===to.pathname,toPathname=isEmptyPath?"/":to.pathname;if(null==toPathname)from=locationPathname;else{let routePathnameIndex=routePathnames.length-1;if(!isPathRelative&&toPathname.startsWith("..")){let toSegments=toPathname.split("/");for(;".."===toSegments[0];)toSegments.shift(),routePathnameIndex-=1;to.pathname=toSegments.join("/")}from=routePathnameIndex>=0?routePathnames[routePathnameIndex]:"/"}let path=function(to,fromPathname){void 0===fromPathname&&(fromPathname="/");let{pathname:toPathname,search:search="",hash:hash=""}="string"==typeof to?parsePath(to):to,pathname=toPathname?toPathname.startsWith("/")?toPathname:function(relativePath,fromPathname){let segments=fromPathname.replace(/\/+$/,"").split("/");return relativePath.split("/").forEach(segment=>{".."===segment?segments.length>1&&segments.pop():"."!==segment&&segments.push(segment)}),segments.length>1?segments.join("/"):"/"}(toPathname,fromPathname):fromPathname;return{pathname:pathname,search:normalizeSearch(search),hash:normalizeHash(hash)}}(to,from),hasExplicitTrailingSlash=toPathname&&"/"!==toPathname&&toPathname.endsWith("/"),hasCurrentTrailingSlash=(isEmptyPath||"."===toPathname)&&locationPathname.endsWith("/");return path.pathname.endsWith("/")||!hasExplicitTrailingSlash&&!hasCurrentTrailingSlash||(path.pathname+="/"),path}const joinPaths=paths=>paths.join("/").replace(/\/\/+/g,"/"),normalizePathname=pathname=>pathname.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=search=>search&&"?"!==search?search.startsWith("?")?search:"?"+search:"",normalizeHash=hash=>hash&&"#"!==hash?hash.startsWith("#")?hash:"#"+hash:"";const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];function _extends$v(){return _extends$v=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$v.apply(this,arguments)}new Set(validRequestMethodsArr);const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext$1=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return null!=reactExports.useContext(LocationContext)}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect$2(cb){reactExports.useContext(NavigationContext$1).static||reactExports.useLayoutEffect(cb)}function useNavigate(){let{isDataRoute:isDataRoute}=reactExports.useContext(RouteContext);return isDataRoute?function(){let{router:router}=function(){let ctx=reactExports.useContext(DataRouterContext);return ctx||invariant$1(!1),ctx}(DataRouterHook$1.UseNavigateStable),id2=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),activeRef=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{activeRef.current=!0}),reactExports.useCallback(function(to,options){void 0===options&&(options={}),activeRef.current&&("number"==typeof to?router.navigate(to):router.navigate(to,_extends$v({fromRouteId:id2},options)))},[router,id2])}():function(){useInRouterContext()||invariant$1(!1);let dataRouterContext=reactExports.useContext(DataRouterContext),{basename:basename,future:future,navigator:navigator2}=reactExports.useContext(NavigationContext$1),{matches:matches}=reactExports.useContext(RouteContext),{pathname:locationPathname}=useLocation(),routePathnamesJson=JSON.stringify(getResolveToMatches(matches,future.v7_relativeSplatPath)),activeRef=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{activeRef.current=!0}),reactExports.useCallback(function(to,options){if(void 0===options&&(options={}),!activeRef.current)return;if("number"==typeof to)return void navigator2.go(to);let path=resolveTo(to,JSON.parse(routePathnamesJson),locationPathname,"path"===options.relative);null==dataRouterContext&&"/"!==basename&&(path.pathname="/"===path.pathname?basename:joinPaths([basename,path.pathname])),(options.replace?navigator2.replace:navigator2.push)(path,options.state,options)},[basename,navigator2,routePathnamesJson,locationPathname,dataRouterContext])}()}const OutletContext=reactExports.createContext(null);function useParams(){let{matches:matches}=reactExports.useContext(RouteContext),routeMatch=matches[matches.length-1];return routeMatch?routeMatch.params:{}}function useResolvedPath(to,_temp2){let{relative:relative}=void 0===_temp2?{}:_temp2,{future:future}=reactExports.useContext(NavigationContext$1),{matches:matches}=reactExports.useContext(RouteContext),{pathname:locationPathname}=useLocation(),routePathnamesJson=JSON.stringify(getResolveToMatches(matches,future.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(to,JSON.parse(routePathnamesJson),locationPathname,"path"===relative),[to,routePathnamesJson,locationPathname,relative])}function useRoutes(routes,locationArg){return function(routes,locationArg,dataRouterState,future){useInRouterContext()||invariant$1(!1);let{navigator:navigator2}=reactExports.useContext(NavigationContext$1),{matches:parentMatches}=reactExports.useContext(RouteContext),routeMatch=parentMatches[parentMatches.length-1],parentParams=routeMatch?routeMatch.params:{};!routeMatch||routeMatch.pathname;let parentPathnameBase=routeMatch?routeMatch.pathnameBase:"/";routeMatch&&routeMatch.route;let location2,locationFromContext=useLocation();if(locationArg){var _parsedLocationArg$pa;let parsedLocationArg="string"==typeof locationArg?parsePath(locationArg):locationArg;"/"===parentPathnameBase||(null==(_parsedLocationArg$pa=parsedLocationArg.pathname)?void 0:_parsedLocationArg$pa.startsWith(parentPathnameBase))||invariant$1(!1),location2=parsedLocationArg}else location2=locationFromContext;let pathname=location2.pathname||"/",remainingPathname=pathname;if("/"!==parentPathnameBase){let parentSegments=parentPathnameBase.replace(/^\//,"").split("/");remainingPathname="/"+pathname.replace(/^\//,"").split("/").slice(parentSegments.length).join("/")}let matches=matchRoutes(routes,{pathname:remainingPathname}),renderedMatches=function(matches,parentMatches,dataRouterState,future){var _dataRouterState;void 0===parentMatches&&(parentMatches=[]);void 0===dataRouterState&&(dataRouterState=null);void 0===future&&(future=null);if(null==matches){var _future;if(!dataRouterState)return null;if(dataRouterState.errors)matches=dataRouterState.matches;else{if(!(null!=(_future=future)&&_future.v7_partialHydration&&0===parentMatches.length&&!dataRouterState.initialized&&dataRouterState.matches.length>0))return null;matches=dataRouterState.matches}}let renderedMatches=matches,errors=null==(_dataRouterState=dataRouterState)?void 0:_dataRouterState.errors;if(null!=errors){let errorIndex=renderedMatches.findIndex(m2=>m2.route.id&&void 0!==(null==errors?void 0:errors[m2.route.id]));errorIndex>=0||invariant$1(!1),renderedMatches=renderedMatches.slice(0,Math.min(renderedMatches.length,errorIndex+1))}let renderFallback=!1,fallbackIndex=-1;if(dataRouterState&&future&&future.v7_partialHydration)for(let i2=0;i2<renderedMatches.length;i2++){let match2=renderedMatches[i2];if((match2.route.HydrateFallback||match2.route.hydrateFallbackElement)&&(fallbackIndex=i2),match2.route.id){let{loaderData:loaderData,errors:errors2}=dataRouterState,needsToRunLoader=match2.route.loader&&void 0===loaderData[match2.route.id]&&(!errors2||void 0===errors2[match2.route.id]);if(match2.route.lazy||needsToRunLoader){renderFallback=!0,renderedMatches=fallbackIndex>=0?renderedMatches.slice(0,fallbackIndex+1):[renderedMatches[0]];break}}}return renderedMatches.reduceRight((outlet,match2,index)=>{let error,shouldRenderHydrateFallback=!1,errorElement=null,hydrateFallbackElement=null;var key;dataRouterState&&(error=errors&&match2.route.id?errors[match2.route.id]:void 0,errorElement=match2.route.errorElement||defaultErrorElement,renderFallback&&(fallbackIndex<0&&0===index?(alreadyWarned$1[key="route-fallback"]||(alreadyWarned$1[key]=!0),shouldRenderHydrateFallback=!0,hydrateFallbackElement=null):fallbackIndex===index&&(shouldRenderHydrateFallback=!0,hydrateFallbackElement=match2.route.hydrateFallbackElement||null)));let matches2=parentMatches.concat(renderedMatches.slice(0,index+1)),getChildren=()=>{let children;return children=error?errorElement:shouldRenderHydrateFallback?hydrateFallbackElement:match2.route.Component?reactExports.createElement(match2.route.Component,null):match2.route.element?match2.route.element:outlet,reactExports.createElement(RenderedRoute,{match:match2,routeContext:{outlet:outlet,matches:matches2,isDataRoute:null!=dataRouterState},children:children})};return dataRouterState&&(match2.route.ErrorBoundary||match2.route.errorElement||0===index)?reactExports.createElement(RenderErrorBoundary,{location:dataRouterState.location,revalidation:dataRouterState.revalidation,component:errorElement,error:error,children:getChildren(),routeContext:{outlet:null,matches:matches2,isDataRoute:!0}}):getChildren()},null)}(matches&&matches.map(match2=>Object.assign({},match2,{params:Object.assign({},parentParams,match2.params),pathname:joinPaths([parentPathnameBase,navigator2.encodeLocation?navigator2.encodeLocation(match2.pathname).pathname:match2.pathname]),pathnameBase:"/"===match2.pathnameBase?parentPathnameBase:joinPaths([parentPathnameBase,navigator2.encodeLocation?navigator2.encodeLocation(match2.pathnameBase).pathname:match2.pathnameBase])})),parentMatches,dataRouterState,future);if(locationArg&&renderedMatches)return reactExports.createElement(LocationContext.Provider,{value:{location:_extends$v({pathname:"/",search:"",hash:"",state:null,key:"default"},location2),navigationType:Action$1.Pop}},renderedMatches);return renderedMatches}(routes,locationArg)}function DefaultErrorComponent(){let error=function(){var _state$errors;let error=reactExports.useContext(RouteErrorContext),state=function(){let state=reactExports.useContext(DataRouterStateContext);return state||invariant$1(!1),state}(),routeId=useCurrentRouteId();if(void 0!==error)return error;return null==(_state$errors=state.errors)?void 0:_state$errors[routeId]}(),message2=function(error){return null!=error&&"number"==typeof error.status&&"string"==typeof error.statusText&&"boolean"==typeof error.internal&&"data"in error}(error)?error.status+" "+error.statusText:error instanceof Error?error.message:JSON.stringify(error),stack=error instanceof Error?error.stack:null,preStyles={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},message2),stack?reactExports.createElement("pre",{style:preStyles},stack):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(props){super(props),this.state={location:props.location,revalidation:props.revalidation,error:props.error}}static getDerivedStateFromError(error){return{error:error}}static getDerivedStateFromProps(props,state){return state.location!==props.location||"idle"!==state.revalidation&&"idle"===props.revalidation?{error:props.error,location:props.location,revalidation:props.revalidation}:{error:void 0!==props.error?props.error:state.error,location:state.location,revalidation:props.revalidation||state.revalidation}}componentDidCatch(error,errorInfo){}render(){return void 0!==this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_ref){let{routeContext:routeContext,match:match2,children:children}=_ref,dataRouterContext=reactExports.useContext(DataRouterContext);return dataRouterContext&&dataRouterContext.static&&dataRouterContext.staticContext&&(match2.route.errorElement||match2.route.ErrorBoundary)&&(dataRouterContext.staticContext._deepestRenderedBoundaryId=match2.route.id),reactExports.createElement(RouteContext.Provider,{value:routeContext},children)}var DataRouterHook$1=function(DataRouterHook2){return DataRouterHook2.UseBlocker="useBlocker",DataRouterHook2.UseRevalidator="useRevalidator",DataRouterHook2.UseNavigateStable="useNavigate",DataRouterHook2}(DataRouterHook$1||{}),DataRouterStateHook$1=function(DataRouterStateHook2){return DataRouterStateHook2.UseBlocker="useBlocker",DataRouterStateHook2.UseLoaderData="useLoaderData",DataRouterStateHook2.UseActionData="useActionData",DataRouterStateHook2.UseRouteError="useRouteError",DataRouterStateHook2.UseNavigation="useNavigation",DataRouterStateHook2.UseRouteLoaderData="useRouteLoaderData",DataRouterStateHook2.UseMatches="useMatches",DataRouterStateHook2.UseRevalidator="useRevalidator",DataRouterStateHook2.UseNavigateStable="useNavigate",DataRouterStateHook2.UseRouteId="useRouteId",DataRouterStateHook2}(DataRouterStateHook$1||{});function useCurrentRouteId(hookName){let route=function(){let route=reactExports.useContext(RouteContext);return route||invariant$1(!1),route}(),thisRoute=route.matches[route.matches.length-1];return thisRoute.route.id||invariant$1(!1),thisRoute.route.id}const alreadyWarned$1={};function Navigate(_ref4){let{to:to,replace:replace2,state:state,relative:relative}=_ref4;useInRouterContext()||invariant$1(!1);let{future:future,static:isStatic}=reactExports.useContext(NavigationContext$1),{matches:matches}=reactExports.useContext(RouteContext),{pathname:locationPathname}=useLocation(),navigate=useNavigate(),path=resolveTo(to,getResolveToMatches(matches,future.v7_relativeSplatPath),locationPathname,"path"===relative),jsonPath=JSON.stringify(path);return reactExports.useEffect(()=>navigate(JSON.parse(jsonPath),{replace:replace2,state:state,relative:relative}),[navigate,jsonPath,relative,replace2,state]),null}function Outlet(props){return function(context){let outlet=reactExports.useContext(RouteContext).outlet;return outlet?reactExports.createElement(OutletContext.Provider,{value:context},outlet):outlet}(props.context)}function Route(_props){invariant$1(!1)}function Router(_ref5){let{basename:basenameProp="/",children:children=null,location:locationProp,navigationType:navigationType=Action$1.Pop,navigator:navigator2,static:staticProp=!1,future:future}=_ref5;useInRouterContext()&&invariant$1(!1);let basename=basenameProp.replace(/^\/*/,"/"),navigationContext=reactExports.useMemo(()=>({basename:basename,navigator:navigator2,static:staticProp,future:_extends$v({v7_relativeSplatPath:!1},future)}),[basename,future,navigator2,staticProp]);"string"==typeof locationProp&&(locationProp=parsePath(locationProp));let{pathname:pathname="/",search:search="",hash:hash="",state:state=null,key:key="default"}=locationProp,locationContext=reactExports.useMemo(()=>{let trailingPathname=stripBasename(pathname,basename);return null==trailingPathname?null:{location:{pathname:trailingPathname,search:search,hash:hash,state:state,key:key},navigationType:navigationType}},[basename,pathname,search,hash,state,key,navigationType]);return null==locationContext?null:reactExports.createElement(NavigationContext$1.Provider,{value:navigationContext},reactExports.createElement(LocationContext.Provider,{children:children,value:locationContext}))}function Routes(_ref6){let{children:children,location:location2}=_ref6;return useRoutes(createRoutesFromChildren(children),location2)}function createRoutesFromChildren(children,parentPath){void 0===parentPath&&(parentPath=[]);let routes=[];return reactExports.Children.forEach(children,(element,index)=>{if(!reactExports.isValidElement(element))return;let treePath=[...parentPath,index];if(element.type===reactExports.Fragment)return void routes.push.apply(routes,createRoutesFromChildren(element.props.children,treePath));element.type!==Route&&invariant$1(!1),element.props.index&&element.props.children&&invariant$1(!1);let route={id:element.props.id||treePath.join("-"),caseSensitive:element.props.caseSensitive,element:element.props.element,Component:element.props.Component,index:element.props.index,path:element.props.path,loader:element.props.loader,action:element.props.action,errorElement:element.props.errorElement,ErrorBoundary:element.props.ErrorBoundary,hasErrorBoundary:null!=element.props.ErrorBoundary||null!=element.props.errorElement,shouldRevalidate:element.props.shouldRevalidate,handle:element.props.handle,lazy:element.props.lazy};element.props.children&&(route.children=createRoutesFromChildren(element.props.children,treePath)),routes.push(route)}),routes}function _extends$u(){return _extends$u=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$u.apply(this,arguments)}function _objectWithoutPropertiesLoose$j(source,excluded){if(null==source)return{};var key,i2,target={},sourceKeys=Object.keys(source);for(i2=0;i2<sourceKeys.length;i2++)key=sourceKeys[i2],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}new Promise(()=>{});const _excluded$j=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2$7=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(e3){}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),startTransitionImpl=React$2.startTransition;function BrowserRouter(_ref4){let{basename:basename,children:children,future:future,window:window2}=_ref4,historyRef=reactExports.useRef();null==historyRef.current&&(historyRef.current=createBrowserHistory({window:window2,v5Compat:!0}));let history=historyRef.current,[state,setStateImpl]=reactExports.useState({action:history.action,location:history.location}),{v7_startTransition:v7_startTransition}=future||{},setState=reactExports.useCallback(newState=>{v7_startTransition&&startTransitionImpl?startTransitionImpl(()=>setStateImpl(newState)):setStateImpl(newState)},[setStateImpl,v7_startTransition]);return reactExports.useLayoutEffect(()=>history.listen(setState),[history,setState]),reactExports.useEffect(()=>{return null==(renderFuture=future)||renderFuture.v7_startTransition,void(null==renderFuture||renderFuture.v7_relativeSplatPath);var renderFuture},[future]),reactExports.createElement(Router,{basename:basename,children:children,location:state.location,navigationType:state.action,navigator:history,future:future})}const isBrowser="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(_ref7,ref){let absoluteHref,{onClick:onClick,relative:relative,reloadDocument:reloadDocument,replace:replace2,state:state,target:target,to:to,preventScrollReset:preventScrollReset,viewTransition:viewTransition}=_ref7,rest=_objectWithoutPropertiesLoose$j(_ref7,_excluded$j),{basename:basename}=reactExports.useContext(NavigationContext$1),isExternal=!1;if("string"==typeof to&&ABSOLUTE_URL_REGEX.test(to)&&(absoluteHref=to,isBrowser))try{let currentUrl=new URL(window.location.href),targetUrl=to.startsWith("//")?new URL(currentUrl.protocol+to):new URL(to),path=stripBasename(targetUrl.pathname,basename);targetUrl.origin===currentUrl.origin&&null!=path?to=path+targetUrl.search+targetUrl.hash:isExternal=!0}catch(e3){}let href=function(to,_temp){let{relative:relative}=void 0===_temp?{}:_temp;useInRouterContext()||invariant$1(!1);let{basename:basename,navigator:navigator2}=reactExports.useContext(NavigationContext$1),{hash:hash,pathname:pathname,search:search}=useResolvedPath(to,{relative:relative}),joinedPathname=pathname;return"/"!==basename&&(joinedPathname="/"===pathname?basename:joinPaths([basename,pathname])),navigator2.createHref({pathname:joinedPathname,search:search,hash:hash})}(to,{relative:relative}),internalOnClick=function(to,_temp){let{target:target,replace:replaceProp,state:state,preventScrollReset:preventScrollReset,relative:relative,viewTransition:viewTransition}=void 0===_temp?{}:_temp,navigate=useNavigate(),location2=useLocation(),path=useResolvedPath(to,{relative:relative});return reactExports.useCallback(event=>{if(function(event,target){return!(0!==event.button||target&&"_self"!==target||function(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}(event))}(event,target)){event.preventDefault();let replace2=void 0!==replaceProp?replaceProp:createPath(location2)===createPath(path);navigate(to,{replace:replace2,state:state,preventScrollReset:preventScrollReset,relative:relative,viewTransition:viewTransition})}},[location2,navigate,path,replaceProp,state,target,to,preventScrollReset,relative,viewTransition])}(to,{replace:replace2,state:state,target:target,preventScrollReset:preventScrollReset,relative:relative,viewTransition:viewTransition});return reactExports.createElement("a",_extends$u({},rest,{href:absoluteHref||href,onClick:isExternal||reloadDocument?onClick:function(event){onClick&&onClick(event),event.defaultPrevented||internalOnClick(event)},ref:ref,target:target}))}),NavLink=reactExports.forwardRef(function(_ref8,ref){let{"aria-current":ariaCurrentProp="page",caseSensitive:caseSensitive=!1,className:classNameProp="",end:end=!1,style:styleProp,to:to,viewTransition:viewTransition,children:children}=_ref8,rest=_objectWithoutPropertiesLoose$j(_ref8,_excluded2$7),path=useResolvedPath(to,{relative:rest.relative}),location2=useLocation(),routerState=reactExports.useContext(DataRouterStateContext),{navigator:navigator2,basename:basename}=reactExports.useContext(NavigationContext$1),isTransitioning=null!=routerState&&function(to,opts){void 0===opts&&(opts={});let vtContext=reactExports.useContext(ViewTransitionContext);null==vtContext&&invariant$1(!1);let{basename:basename}=function(){let ctx=reactExports.useContext(DataRouterContext);return ctx||invariant$1(!1),ctx}(DataRouterHook.useViewTransitionState),path=useResolvedPath(to,{relative:opts.relative});if(!vtContext.isTransitioning)return!1;let currentPath=stripBasename(vtContext.currentLocation.pathname,basename)||vtContext.currentLocation.pathname,nextPath=stripBasename(vtContext.nextLocation.pathname,basename)||vtContext.nextLocation.pathname;return null!=matchPath(path.pathname,nextPath)||null!=matchPath(path.pathname,currentPath)}(path)&&!0===viewTransition,toPathname=navigator2.encodeLocation?navigator2.encodeLocation(path).pathname:path.pathname,locationPathname=location2.pathname,nextLocationPathname=routerState&&routerState.navigation&&routerState.navigation.location?routerState.navigation.location.pathname:null;caseSensitive||(locationPathname=locationPathname.toLowerCase(),nextLocationPathname=nextLocationPathname?nextLocationPathname.toLowerCase():null,toPathname=toPathname.toLowerCase()),nextLocationPathname&&basename&&(nextLocationPathname=stripBasename(nextLocationPathname,basename)||nextLocationPathname);const endSlashPosition="/"!==toPathname&&toPathname.endsWith("/")?toPathname.length-1:toPathname.length;let className,isActive=locationPathname===toPathname||!end&&locationPathname.startsWith(toPathname)&&"/"===locationPathname.charAt(endSlashPosition),isPending=null!=nextLocationPathname&&(nextLocationPathname===toPathname||!end&&nextLocationPathname.startsWith(toPathname)&&"/"===nextLocationPathname.charAt(toPathname.length)),renderProps={isActive:isActive,isPending:isPending,isTransitioning:isTransitioning},ariaCurrent=isActive?ariaCurrentProp:void 0;className="function"==typeof classNameProp?classNameProp(renderProps):[classNameProp,isActive?"active":null,isPending?"pending":null,isTransitioning?"transitioning":null].filter(Boolean).join(" ");let style="function"==typeof styleProp?styleProp(renderProps):styleProp;return reactExports.createElement(Link,_extends$u({},rest,{"aria-current":ariaCurrent,className:className,ref:ref,style:style,to:to,viewTransition:viewTransition}),"function"==typeof children?children(renderProps):children)});var DataRouterHook,DataRouterHook2,DataRouterStateHook,DataRouterStateHook2;(DataRouterHook2=DataRouterHook||(DataRouterHook={})).UseScrollRestoration="useScrollRestoration",DataRouterHook2.UseSubmit="useSubmit",DataRouterHook2.UseSubmitFetcher="useSubmitFetcher",DataRouterHook2.UseFetcher="useFetcher",DataRouterHook2.useViewTransitionState="useViewTransitionState",(DataRouterStateHook2=DataRouterStateHook||(DataRouterStateHook={})).UseFetcher="useFetcher",DataRouterStateHook2.UseFetchers="useFetchers",DataRouterStateHook2.UseScrollRestoration="useScrollRestoration";const SENSITIVE_KEYWORDS=["password","senha","secret","key","token","auth","api_key","api_secret","x-api-key","x-api-secret","authorization","bearer","jwt","credential"],sanitizeForLog=data=>{if(!data)return data;if("string"==typeof data){for(const keyword of SENSITIVE_KEYWORDS)if(data.toLowerCase().includes(keyword))return"***DADOS_SENSIVEIS_REMOVIDOS***";return data}if("object"==typeof data&&!Array.isArray(data)){const sanitized={};for(const[key,value]of Object.entries(data)){const lowerKey=key.toLowerCase();SENSITIVE_KEYWORDS.some(keyword=>lowerKey.includes(keyword))?sanitized[key]="***HIDDEN***":sanitized[key]=sanitizeForLog(value)}return sanitized}return Array.isArray(data)?data.map(item=>sanitizeForLog(item)):data},secureConsole_info=(...args)=>{},secureConsole_warn=(...args)=>{},secureConsole_error=(...args)=>{},secureConsole_debug=(...args)=>{},LOG_CONFIG={level:"error",enableInProduction:!1,enableSensitiveData:!1,enablePerformanceLogs:!1},LOG_LEVELS={debug:0,info:1,warn:2,error:3};const logger=new class{constructor(config2=LOG_CONFIG){__publicField(this,"config"),__publicField(this,"isProduction",!0),__publicField(this,"isDevelopment",!1),this.config=config2}shouldLog(level){if(this.isProduction&&!this.config.enableInProduction)return"error"===level;const currentLevelValue=LOG_LEVELS[this.config.level]??LOG_LEVELS.error;return(LOG_LEVELS[level]??LOG_LEVELS.error)>=currentLevelValue}sanitizeData(data){return this.isProduction||!this.config.enableSensitiveData?sanitizeForLog(data):this.config.enableSensitiveData?data:sanitizeForLog(data)}getTimestamp(){return(new Date).toISOString().substring(11,23)}debug(message2,data,prefix2){if(this.shouldLog("debug")){const sanitizedData=this.sanitizeData(data),logPrefix=prefix2?`[${prefix2}]`:"";secureConsole_debug(`🔍 ${this.getTimestamp()} ${logPrefix} ${message2}`,sanitizedData)}}info(message2,data,prefix2){if(this.shouldLog("info")){const sanitizedData=this.sanitizeData(data),logPrefix=prefix2?`[${prefix2}]`:"";secureConsole_info(`ℹ️ ${this.getTimestamp()} ${logPrefix} ${message2}`,sanitizedData)}}warn(message2,data,prefix2){if(this.shouldLog("warn")){const sanitizedData=this.sanitizeData(data),logPrefix=prefix2?`[${prefix2}]`:"";secureConsole_warn(`⚠️ ${this.getTimestamp()} ${logPrefix} ${message2}`,sanitizedData)}}error(message2,error,prefix2){const logPrefix=prefix2?`[${prefix2}]`:"",sanitizedError=this.sanitizeData(error);secureConsole_error(`❌ ${this.getTimestamp()} ${logPrefix} ${message2}`,sanitizedError)}navigation(from,to,user){if(this.shouldLog("info")){const userInfo=user?`User: ${user.id}`:"No user";secureConsole_info(`🧭 ${this.getTimestamp()} [NAVIGATION] ${from} → ${to} (${userInfo})`)}}performance(operation,duration,prefix2){if(this.config.enablePerformanceLogs&&this.shouldLog("info")){const logPrefix=prefix2?`[${prefix2}]`:"";secureConsole_info(`⚡ ${this.getTimestamp()} ${logPrefix} ${operation} completed in ${duration}ms`)}}apiRequest(method,url,prefix2){if(this.shouldLog("debug")){const logPrefix=prefix2?`[${prefix2}]`:"",sanitizedUrl=url.replace(/([?&])(token|key|secret)=[^&]*/gi,"$1$2=***");secureConsole_debug(`🌐 ${this.getTimestamp()} ${logPrefix} ${method} ${sanitizedUrl}`)}}apiResponse(status,message2,prefix2){if(this.shouldLog("debug")){const logPrefix=prefix2?`[${prefix2}]`:"";secureConsole_debug(`${status>=200&&status<300?"✅":"❌"} ${this.getTimestamp()} ${logPrefix} ${status} ${message2}`)}}auth(action,user){if(this.shouldLog("info")){const userInfo=user?`${user.email.substring(0,3)}***`:"unknown";secureConsole_info(`🔐 ${this.getTimestamp()} [AUTH] ${action.toUpperCase()} - ${userInfo}`)}}pix(operation,amount,key){if(this.shouldLog("info")){const amountStr=amount?`R$ ${amount.toFixed(2)}`:"",keyStr=key?`Key: ${key.substring(0,4)}***`:"";secureConsole_info(`💸 ${this.getTimestamp()} [PIX] ${operation} ${amountStr} ${keyStr}`.trim())}}banking(provider,operation,success){if(this.shouldLog("info")){const emoji=success?"✅":"❌";secureConsole_info(`🏦 ${this.getTimestamp()} [${provider.toUpperCase()}] ${operation} ${emoji}`)}}system(component,message2,data){if(this.shouldLog("debug")){const sanitizedData=this.sanitizeData(data);secureConsole_debug(`⚙️ ${this.getTimestamp()} [${component}] ${message2}`,sanitizedData)}}},API_CONFIG={BASE_URL:"https://api-bank.gruponexus.com.br",DIAGNOSTICO_URL:"https://vps80270.cloudpublic.com.br:8081",ADMIN_TOKEN:"",ENDPOINTS:{PIX:{ENVIAR:"/internal/pix/enviar",PAGAR_QR:"/internal/pix/pagar-copia-cola",CONSULTAR:"/internal/pix/consultar-chave",PENDENCIAS:"/internal/pix/pendencias",EXTRATO:"/internal/pix/extrato",STATUS:"/internal/pix/status",CHAVES_LISTAR:"/internal/pix/chaves/listar",CHAVES_CRIAR:"/internal/pix/chaves/criar",QRCODE_ESTATICO:"/internal/pix/qrcode/estatico",QRCODE_COBRANCA:"/internal/pix/qrcode/cobranca",QRCODE_DICASCRIPTO:"/internal/pix/qrcode/dicascripto",QRCODE_LER:"/internal/pix/qrcode/ler"},ACCOUNT:{EXTRATO:"/internal/account/extrato",SALDO:"/internal/account/saldo"},AUTH:{LOGIN:"/api/auth/login",REGISTER:"/api/auth/register",PROFILE:"/api/auth/me",USER_TYPE:"/api/auth/user-type",VALIDATE:"/api/auth/validate"},DIAGNOSTICO:{DIAGNOSTICAR_DEPOSITO_SIMPLIFICADO:"/diagnosticar_deposito_simplificado",DIAGNOSTICAR_DEPOSITO:"/diagnosticar_deposito",REPROCESSAR_PIX_BMP531:"/reprocessar_pix_bmp531",REPROCESSAR_TRANSFERENCIA_ADMIN:"/reprocessar_transferencia_admin",COMPENSAR_DEPOSITO_DIRETO:"/compensar_deposito_direto"}},DEFAULT_HEADERS:{"Content-Type":"application/json","User-Agent":"BaaS-Frontend/1.0.0"},TIMEOUT:parseInt("30000",10),RETRY:{attempts:parseInt("3",10),delay:parseInt("1000",10)},SECURITY:{enableJwtValidation:!0,enableRateLimitTracking:!0,enableSecurityLogs:!1}},STORAGE_KEYS_TOKEN="auth_token",STORAGE_KEYS_USER="auth_user",STORAGE_KEYS_LAST_ACTIVITY="last_activity",LOGIN_TIMEOUT_CONFIG={TIMEOUT_MINUTES:parseInt("30",10),CHECK_INTERVAL_MS:parseInt("60000",10),WARNING_MINUTES:parseInt("5",10),ACTIVITY_EVENTS:["mousedown","mousemove","keypress","scroll","touchstart","click"]},TOKEN_STORAGE={get:()=>{try{return localStorage.getItem(STORAGE_KEYS_TOKEN)}catch(error){return null}},set:token=>{try{localStorage.setItem(STORAGE_KEYS_TOKEN,token)}catch(error){}},remove:()=>{try{localStorage.removeItem(STORAGE_KEYS_TOKEN)}catch(error){}}},USER_STORAGE={get:()=>{try{const userStr=localStorage.getItem(STORAGE_KEYS_USER);return userStr?JSON.parse(userStr):null}catch(error){return null}},set:user=>{try{localStorage.setItem(STORAGE_KEYS_USER,JSON.stringify(user))}catch(error){}},remove:()=>{try{localStorage.removeItem(STORAGE_KEYS_USER)}catch(error){}}},LAST_ACTIVITY_STORAGE={get:()=>{try{const timestamp=localStorage.getItem(STORAGE_KEYS_LAST_ACTIVITY);return timestamp?parseInt(timestamp,10):null}catch(error){return null}},set:(timestamp=Date.now())=>{try{localStorage.setItem(STORAGE_KEYS_LAST_ACTIVITY,timestamp.toString())}catch(error){}},remove:()=>{try{localStorage.removeItem(STORAGE_KEYS_LAST_ACTIVITY)}catch(error){}},isInactive:()=>{try{const lastActivity=LAST_ACTIVITY_STORAGE.get();if(!lastActivity)return!0;const now2=Date.now(),timeoutMs=60*LOGIN_TIMEOUT_CONFIG.TIMEOUT_MINUTES*1e3;return now2-lastActivity>timeoutMs}catch(error){return!0}},getTimeUntilTimeout:()=>{try{const lastActivity=LAST_ACTIVITY_STORAGE.get();if(!lastActivity)return 0;const now2=Date.now(),timeoutMs=60*LOGIN_TIMEOUT_CONFIG.TIMEOUT_MINUTES*1e3,timeRemaining=timeoutMs-(now2-lastActivity);return Math.max(0,Math.ceil(timeRemaining/6e4))}catch(error){return 0}}},buildApiUrl=endpoint=>`${API_CONFIG.BASE_URL}${endpoint}`,getApiHeaders=additionalHeaders=>{const token=TOKEN_STORAGE.get();return{...API_CONFIG.DEFAULT_HEADERS,...token&&{Authorization:`Bearer ${token}`},...additionalHeaders}},createApiRequest=async(endpoint,options={})=>{const url=buildApiUrl(endpoint),headers=getApiHeaders(options.headers),config2={...options,headers:headers,signal:AbortSignal.timeout(API_CONFIG.TIMEOUT)};try{const response=await fetch(url,config2);return 401===response.status&&(TOKEN_STORAGE.remove(),USER_STORAGE.remove(),"/login"!==window.location.pathname&&"/register"!==window.location.pathname&&(window.location.href="/login")),response}catch(error){throw logger.error("Erro na requisição",error,"APIRequest"),error}},api={get:async url=>{const response=await fetch(`${API_CONFIG.BASE_URL}${url}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${TOKEN_STORAGE.get()||""}`}});if(!response.ok){let errorMessage=`HTTP error! status: ${response.status}`;try{const errorData=await response.json();(null==errorData?void 0:errorData.message)&&(errorMessage=errorData.message)}catch(e3){}const error=new Error(errorMessage);throw error.response={status:response.status,data:{message:errorMessage}},error}return{data:await response.json()}},post:async(url,body)=>{const response=await fetch(`${API_CONFIG.BASE_URL}${url}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${TOKEN_STORAGE.get()||""}`},body:JSON.stringify(body)});if(!response.ok){let errorMessage=`HTTP error! status: ${response.status}`;try{const errorData=await response.json();(null==errorData?void 0:errorData.message)&&(errorMessage=errorData.message)}catch(e3){}const error=new Error(errorMessage);throw error.response={status:response.status,data:{message:errorMessage}},error}return{data:await response.json()}},put:async(url,body)=>{const response=await fetch(`${API_CONFIG.BASE_URL}${url}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${TOKEN_STORAGE.get()||""}`},body:JSON.stringify(body)});if(!response.ok){let errorMessage=`HTTP error! status: ${response.status}`;try{const errorData=await response.json();(null==errorData?void 0:errorData.message)&&(errorMessage=errorData.message)}catch(e3){}const error=new Error(errorMessage);throw error.response={status:response.status,data:{message:errorMessage}},error}return{data:await response.json()}},patch:async(url,body)=>{const response=await fetch(`${API_CONFIG.BASE_URL}${url}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${TOKEN_STORAGE.get()||""}`},body:JSON.stringify(body)});if(!response.ok){let errorMessage=`HTTP error! status: ${response.status}`;try{const errorData=await response.json();(null==errorData?void 0:errorData.message)&&(errorMessage=errorData.message)}catch(e3){}const error=new Error(errorMessage);throw error.response={status:response.status,data:{message:errorMessage}},error}return{data:await response.json()}},delete:async url=>{const response=await fetch(`${API_CONFIG.BASE_URL}${url}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${TOKEN_STORAGE.get()||""}`}});if(!response.ok){let errorMessage=`HTTP error! status: ${response.status}`;try{const errorData=await response.json();(null==errorData?void 0:errorData.message)&&(errorMessage=errorData.message)}catch(e3){}const error=new Error(errorMessage);throw error.response={status:response.status,data:{message:errorMessage}},error}return{data:await response.json()}}},api$1=Object.freeze(Object.defineProperty({__proto__:null,API_CONFIG:API_CONFIG,LAST_ACTIVITY_STORAGE:LAST_ACTIVITY_STORAGE,LOGIN_TIMEOUT_CONFIG:LOGIN_TIMEOUT_CONFIG,TOKEN_STORAGE:TOKEN_STORAGE,USER_STORAGE:USER_STORAGE,api:api,buildApiUrl:buildApiUrl,createApiRequest:createApiRequest,getApiHeaders:getApiHeaders},Symbol.toStringTag,{value:"Module"})),handleAuthError=error=>{const{codigo:codigo}=error;switch(codigo){case"AUTH_001":case"AUTH_002":case"AUTH_004":case"AUTH_005":case"AUTH_006":return authService.logout(),"/login"!==window.location.pathname&&(window.location.href="/login"),"Sessão expirada. Faça login novamente.";case"AUTH_003":return"Sua conta está inativa. Entre em contato com o suporte.";case"AUTH_009":return"Você não tem permissão para acessar este recurso.";default:return error.mensagem||"Erro de autenticação. Faça login novamente."}},handlePixError=error=>{const{codigo:codigo,mensagem:mensagem}=error;switch(codigo){case"PIX_001":return"Chave PIX é obrigatória.";case"PIX_002":return"Valor deve ser um número positivo.";case"PIX_003":return"Valor excede o limite máximo de R$ 100.000.";case"PIX_004":return"Chave PIX inválida. Verifique o formato.";case"PIX_005":return"Saldo insuficiente para esta operação.";case"PIX_006":return"Operação não permitida neste momento.";default:return mensagem||"Erro na operação PIX. Tente novamente."}},handleHttpError=status=>{switch(status){case 400:return"Dados inválidos. Verifique as informações enviadas.";case 401:return"Não autorizado. Faça login novamente.";case 403:return"Acesso negado. Você não tem permissão.";case 404:return"Recurso não encontrado.";case 409:return"Conflito de dados. Operação já realizada.";case 422:return"Dados inválidos. Verifique os campos obrigatórios.";case 429:return"Muitas tentativas. Aguarde alguns minutos.";case 500:return"Erro interno do servidor. Tente novamente.";case 502:return"Serviço temporariamente indisponível.";case 503:return"Serviço em manutenção. Tente mais tarde.";default:return`Erro HTTP ${status}. Tente novamente.`}};const authService=new class{async register(data){try{const response=await createApiRequest(API_CONFIG.ENDPOINTS.AUTH.REGISTER,{method:"POST",body:JSON.stringify(data)}),result=await response.json();return result.sucesso&&result.data&&(TOKEN_STORAGE.set(result.data.token),USER_STORAGE.set(result.data.user),LAST_ACTIVITY_STORAGE.set()),result}catch(error){return{sucesso:!1,mensagem:"Erro de conexão. Tente novamente."}}}async login(credentials){try{logger.info("[AUTH] Tentativa de login",{email:credentials.email});const response=await createApiRequest(API_CONFIG.ENDPOINTS.AUTH.LOGIN,{method:"POST",body:JSON.stringify(credentials)}),result=await response.json();if(result.sucesso&&result.data){if(!this.isTokenValid(result.data.token))return logger.error("[AUTH] Token recebido é inválido"),{sucesso:!1,mensagem:"Token de autenticação inválido."};TOKEN_STORAGE.set(result.data.token),USER_STORAGE.set(result.data.user),LAST_ACTIVITY_STORAGE.set(),logger.info("[AUTH] Login realizado com sucesso",{userId:result.data.user.id,email:result.data.user.email})}else logger.warn("[AUTH] Login falhou",{email:credentials.email,mensagem:result.mensagem});return result}catch(error){logger.error("[AUTH] Erro no login:",error);const errorMessage=((error,context="")=>{var _a3,_b3,_c2,_d2;if(logger.error(`[ERROR] ${context}:`,error),error instanceof Error)return"TypeError"===error.name&&error.message.includes("fetch")?"Erro de conexão. Verifique sua internet.":"AbortError"===error.name||error.message.includes("timeout")?"Timeout da requisição. Tente novamente.":error.message||"Erro interno. Tente novamente.";const apiError=error;return(null==(_a3=apiError.codigo)?void 0:_a3.startsWith("AUTH_"))?handleAuthError(apiError):(null==(_b3=apiError.codigo)?void 0:_b3.startsWith("PIX_"))?handlePixError(apiError):"RATE_001"===apiError.codigo||(null==(_c2=apiError.mensagem)?void 0:_c2.includes("Rate limit"))||(null==(_d2=apiError.message)?void 0:_d2.includes("Limite de requisições"))?"Muitas requisições. Aguarde alguns minutos e tente novamente.":apiError.status?handleHttpError(apiError.status):apiError.mensagem||apiError.message||"Erro interno. Tente novamente."})(error,"Login");return{sucesso:!1,mensagem:errorMessage}}}logout(){const user=this.getCurrentUser();logger.info("[AUTH] Logout do usuário",{userId:null==user?void 0:user.id,email:null==user?void 0:user.email}),TOKEN_STORAGE.remove(),USER_STORAGE.remove(),LAST_ACTIVITY_STORAGE.remove()}async getProfile(){try{const response=await createApiRequest(API_CONFIG.ENDPOINTS.AUTH.PROFILE,{method:"GET"}),result=await response.json();return result.sucesso&&result.data&&USER_STORAGE.set(result.data),result}catch(error){return{sucesso:!1,mensagem:"Erro de conexão. Tente novamente."}}}async getUserType(){try{const response=await createApiRequest(API_CONFIG.ENDPOINTS.AUTH.USER_TYPE,{method:"GET"});return await response.json()}catch(error){return{sucesso:!1,mensagem:"Erro de conexão. Tente novamente."}}}isAuthenticated(){const token=TOKEN_STORAGE.get(),user=USER_STORAGE.get();return!(!token||!user)&&(!!this.isTokenValid(token)||(logger.warn("[AUTH] Token inválido ou expirado, fazendo logout"),this.logout(),!1))}isTokenValid(token){try{const payload=this.decodeJWT(token),now2=Date.now()/1e3;return!(payload.exp&&payload.exp<now2)||(logger.warn("[AUTH] Token expirado:",{exp:new Date(1e3*payload.exp).toISOString(),now:new Date(1e3*now2).toISOString()}),!1)}catch(error){return logger.error("[AUTH] Erro ao validar token:",error),!1}}decodeJWT(token){try{const parts=token.split(".");if(3!==parts.length)throw new Error("Token JWT inválido");const payload=parts[1],paddedPayload=payload+"=".repeat((4-payload.length%4)%4),decodedPayload=atob(paddedPayload);return JSON.parse(decodedPayload)}catch(error){throw new Error("Não foi possível decodificar o token JWT")}}getTokenInfo(){try{const token=TOKEN_STORAGE.get();if(!token)return null;const payload=this.decodeJWT(token);return{userId:payload.sub||payload.userId,email:payload.email,role:payload.role,exp:payload.exp}}catch(error){return logger.error("[AUTH] Erro ao obter informações do token:",error),null}}isTokenExpiringSoon(){try{const token=TOKEN_STORAGE.get();if(!token)return!0;const payload=this.decodeJWT(token);if(!payload.exp)return!1;const fiveMinutesFromNow=Date.now()/1e3+300;return payload.exp<fiveMinutesFromNow}catch(error){return logger.error("[AUTH] Erro ao verificar expiração do token:",error),!0}}getCurrentUser(){return USER_STORAGE.get()}getCurrentToken(){return TOKEN_STORAGE.get()}async validateToken(){try{const token=TOKEN_STORAGE.get();if(!token)return!1;const response=await createApiRequest(API_CONFIG.ENDPOINTS.AUTH.VALIDATE,{method:"POST",body:JSON.stringify({token:token})}),result=await response.json();return result.sucesso&&result.valid}catch(error){return!1}}};const userTypeService=new class{async checkUserType(user){try{const response=await authService.getUserType();if(response.sucesso&&response.data){const{type:type,isAdmin:isAdmin,isOTCClient:isOTCClient,isOTCEmployee:isOTCEmployee,otcClient:otcClient,hasOTCRole:hasOTCRole,otcAccess:otcAccess}=response.data;return{type:type,isOTC:isOTCClient,isAdmin:isAdmin,isEmployee:isOTCEmployee,otcClient:otcClient,hasOTCRole:hasOTCRole,otcAccess:otcAccess,permissions:[]}}return{type:"admin",isOTC:!1,isAdmin:!0,permissions:[]}}catch(error){return{type:"admin",isOTC:!1,isAdmin:!0,permissions:[]}}}async isOTCUser(user){return(await this.checkUserType(user)).isOTC}async isAdminUser(user){return(await this.checkUserType(user)).isAdmin}async isEmployeeUser(user){return(await this.checkUserType(user)).isEmployee||!1}},ROLE_PERMISSIONS={admin:["admin.full_access","admin.user_management","admin.system_config","otc.view_clients","otc.create_clients","otc.edit_clients","otc.delete_clients","otc.view_operations","otc.create_operations","otc.reverse_operations","otc.view_stats","otc.manage_employees","pix.send","pix.receive","pix.view_keys","pix.create_keys","pix.delete_keys","pix.view_transactions","pix.create_qr","banking.view_balance","banking.view_statement","banking.transfer","banking.view_accounts","banking.manage_accounts","reports.view_financial","reports.export_data","reports.view_audit"],otc_client:["employee.view_own_statement","banking.view_balance","banking.view_statement"],otc_employee:["employee.view_own_statement","employee.view_access_info","employee.manage_access","banking.view_balance","banking.view_statement"],manager:["otc.view_clients","otc.view_operations","otc.view_stats","pix.send","pix.receive","pix.view_keys","pix.view_transactions","pix.create_qr","banking.view_balance","banking.view_statement","banking.transfer","banking.view_accounts","reports.view_financial"],viewer:["otc.view_clients","otc.view_operations","pix.view_keys","pix.view_transactions","banking.view_balance","banking.view_statement","banking.view_accounts","reports.view_financial"]},ROUTE_PERMISSIONS={"/":{allowedRoles:["admin","manager"]},"/admin":{requiredRole:"admin"},"/users":{requiredPermissions:["admin.user_management"]},"/otc":{requiredPermissions:["otc.view_clients"]},"/otc/clients":{requiredPermissions:["otc.view_clients"]},"/otc/operations":{requiredPermissions:["otc.view_operations"]},"/otc/stats":{requiredPermissions:["otc.view_stats"]},"/payments":{requiredPermissions:["pix.view_transactions"]},"/payments/send":{requiredPermissions:["pix.send"]},"/payments/qr":{requiredPermissions:["pix.create_qr"]},"/employee-statement":{requiredRole:"otc_employee"},"/client-statement":{requiredRole:"otc_client"},"/reports":{requiredPermissions:["reports.view_financial"]},"/extrato":{requiredPermissions:["banking.view_statement"]}},getUserPermissions=role=>ROLE_PERMISSIONS[role]||[],hasPermission=(userPermissions,permission)=>userPermissions.includes(permission)||userPermissions.includes("admin.full_access"),AuthContext=reactExports.createContext(void 0),AuthProvider=({children:children})=>{const[user,setUser]=reactExports.useState(null),[userType,setUserType]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!0),isAuthenticated=!!user;((options={})=>{const{onTimeout:onTimeout,onWarning:onWarning,enabled:enabled=!0}=options,timeoutRef=reactExports.useRef(null),warningTriggeredRef=reactExports.useRef(!1),lastActivityRef=reactExports.useRef(Date.now()),updateActivity=reactExports.useCallback(()=>{if(!enabled)return;const now2=Date.now();lastActivityRef.current=now2,LAST_ACTIVITY_STORAGE.set(now2),warningTriggeredRef.current=!1},[enabled]),checkTimeout=reactExports.useCallback(()=>{if(!enabled)return;const timeRemaining=LAST_ACTIVITY_STORAGE.getTimeUntilTimeout();LAST_ACTIVITY_STORAGE.isInactive()?null==onTimeout||onTimeout():timeRemaining<=LOGIN_TIMEOUT_CONFIG.WARNING_MINUTES&&!warningTriggeredRef.current&&(warningTriggeredRef.current=!0,null==onWarning||onWarning(timeRemaining))},[enabled,onTimeout,onWarning]);reactExports.useEffect(()=>{if(!enabled)return;const handleActivity=()=>updateActivity();return LOGIN_TIMEOUT_CONFIG.ACTIVITY_EVENTS.forEach(event=>{document.addEventListener(event,handleActivity,!0)}),updateActivity(),()=>{LOGIN_TIMEOUT_CONFIG.ACTIVITY_EVENTS.forEach(event=>{document.removeEventListener(event,handleActivity,!0)})}},[enabled,updateActivity]),reactExports.useEffect(()=>{if(enabled)return checkTimeout(),timeoutRef.current=setInterval(checkTimeout,LOGIN_TIMEOUT_CONFIG.CHECK_INTERVAL_MS),()=>{timeoutRef.current&&(clearInterval(timeoutRef.current),timeoutRef.current=null)}},[enabled,checkTimeout]);const getTimeRemaining=reactExports.useCallback(()=>LAST_ACTIVITY_STORAGE.getTimeUntilTimeout(),[]),isInactive=reactExports.useCallback(()=>LAST_ACTIVITY_STORAGE.isInactive(),[])})({enabled:isAuthenticated,onTimeout:()=>{authService.logout(),setUser(null),setUserType(null),ue$2.info("Sua sessão expirou. Faça login novamente.")},onWarning:minutesRemaining=>{ue$2.warning(`Sua sessão expirará em ${minutesRemaining} minuto${minutesRemaining>1?"s":""}. Mova o mouse ou clique em qualquer lugar para manter a sessão ativa.`,{duration:1e4,description:"Atividade detectada automaticamente"})}});const checkUserType=async userData=>{try{const userTypeResult=await userTypeService.checkUserType(userData),permissions=getUserPermissions(userTypeResult.type),completeUserType={...userTypeResult,permissions:permissions};return setUserType(completeUserType),completeUserType}catch(error){const fallbackUserType={type:"admin",isOTC:!1,isAdmin:!0,permissions:getUserPermissions("admin")};return setUserType(fallbackUserType),fallbackUserType}};reactExports.useEffect(()=>{(async()=>{try{const storedUser=authService.getCurrentUser(),token=authService.getCurrentToken();if(storedUser&&token){if(LAST_ACTIVITY_STORAGE.isInactive())return authService.logout(),setUser(null),void ue$2.info("Sua sessão expirou por inatividade. Faça login novamente.");const profileResult=await authService.getProfile();profileResult.sucesso&&profileResult.data?(setUser(profileResult.data),await checkUserType(profileResult.data)):(authService.logout(),setUser(null),setUserType(null))}}catch(error){authService.logout(),setUser(null),setUserType(null)}finally{setIsLoading(!1)}})()},[]);const logout=()=>{authService.logout(),setUser(null),setUserType(null),ue$2.info("Logout realizado com sucesso")},checkPermission=permission=>!!(isAuthenticated&&user&&userType)&&(userType.permissions.includes(permission)||userType.permissions.includes("admin.full_access")),contextValue={user:user,userType:userType,isAuthenticated:isAuthenticated,isLoading:isLoading,login:async credentials=>{try{setIsLoading(!0);const result=await authService.login(credentials);if(result.sucesso&&result.data){setUser(result.data.user);await checkUserType(result.data.user);return ue$2.success("Login realizado com sucesso!"),!0}return ue$2.error(result.mensagem||"Erro no login"),!1}catch(error){return ue$2.error("Erro de conexão. Tente novamente."),!1}finally{setIsLoading(!1)}},register:async data=>{try{setIsLoading(!0);const result=await authService.register(data);return result.sucesso&&result.data?(setUser(result.data.user),await checkUserType(result.data.user),ue$2.success("Registro realizado com sucesso!"),!0):(ue$2.error(result.mensagem||"Erro no registro"),!1)}catch(error){return ue$2.error("Erro de conexão. Tente novamente."),!1}finally{setIsLoading(!1)}},logout:logout,refreshProfile:async()=>{try{const result=await authService.getProfile();result.sucesso&&result.data?(setUser(result.data),await checkUserType(result.data)):logout()}catch(error){logout()}},checkPermission:checkPermission,hasRole:role=>!!(isAuthenticated&&user&&userType)&&userType.type===role,hasAnyRole:roles=>!!(isAuthenticated&&user&&userType)&&roles.includes(userType.type),hasAllPermissions:permissions=>!!(isAuthenticated&&user&&userType)&&permissions.every(permission=>checkPermission(permission)),hasAnyPermission:permissions=>!!(isAuthenticated&&user&&userType)&&permissions.some(permission=>checkPermission(permission))};return jsxRuntimeExports.jsx(AuthContext.Provider,{value:contextValue,children:children})},useAuth=()=>{const context=reactExports.useContext(AuthContext);if(void 0===context)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return context},usePermissions=()=>{const context=reactExports.useContext(AuthContext);if(!context)throw new Error("usePermissions deve ser usado dentro de um AuthProvider");const{user:user,userType:userType,isAuthenticated:isAuthenticated}=context,checkPermission=permission=>!!(isAuthenticated&&user&&userType)&&hasPermission(userType.permissions,permission),hasRole=role=>!!(isAuthenticated&&user&&userType)&&userType.type===role;return{checkPermission:checkPermission,checkAnyPermission:permissions=>!!(isAuthenticated&&user&&userType)&&((userPermissions,permissions)=>permissions.some(permission=>hasPermission(userPermissions,permission)))(userType.permissions,permissions),checkAllPermissions:permissions=>!!(isAuthenticated&&user&&userType)&&((userPermissions,permissions)=>permissions.every(permission=>hasPermission(userPermissions,permission)))(userType.permissions,permissions),hasRole:hasRole,hasAnyRole:roles=>!!(isAuthenticated&&user&&userType)&&roles.includes(userType.type),isAdmin:()=>hasRole("admin")||checkPermission("admin.full_access"),isOTCClient:()=>hasRole("otc_client")||(null==userType?void 0:userType.isOTC)&&!(null==userType?void 0:userType.isEmployee),isOTCEmployee:()=>hasRole("otc_employee")||!0===(null==userType?void 0:userType.isEmployee),isManager:()=>hasRole("manager"),user:user,userType:userType,isAuthenticated:isAuthenticated,permissions:(null==userType?void 0:userType.permissions)||[]}},AccessDenied=({title:title="Acesso Negado",message:message2="Você não tem permissão para acessar este recurso.",showDetails:showDetails=!1,requiredRole:requiredRole,requiredPermissions:requiredPermissions,className:className=""})=>jsxRuntimeExports.jsxs("div",{className:`text-center p-8 bg-red-50 border border-red-200 rounded-lg ${className}`,children:[jsxRuntimeExports.jsx("div",{className:"text-red-600 mb-4",children:jsxRuntimeExports.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:title}),jsxRuntimeExports.jsx("p",{className:"text-red-600 mb-4",children:message2}),showDetails&&(requiredRole||requiredPermissions)&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-red-500 border-t border-red-200 pt-4",children:[requiredRole&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Role necessário:"})," ",requiredRole]}),requiredPermissions&&requiredPermissions.length>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("strong",{children:"Permissões necessárias:"})}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside mt-1",children:requiredPermissions.map(permission=>jsxRuntimeExports.jsx("li",{children:permission},permission))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-3 justify-center",children:[jsxRuntimeExports.jsx("button",{onClick:()=>window.history.back(),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",children:"Voltar"}),jsxRuntimeExports.jsx("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Fazer Logout"})]})]}),ProtectedRoute=({children:children,redirectTo:redirectTo="/login",requireAdmin:requireAdmin=!1,requireEmployee:requireEmployee=!1,requiredRole:requiredRole,allowedRoles:allowedRoles,requiredPermissions:requiredPermissions,anyPermissions:anyPermissions,showAccessDenied:showAccessDenied=!0,customFallback:customFallback})=>{const{isAuthenticated:isAuthenticated,isLoading:isLoading,user:user,userType:userType}=useAuth(),{checkAllPermissions:checkAllPermissions,checkAnyPermission:checkAnyPermission,hasRole:hasRole,hasAnyRole:hasAnyRole,isAdmin:isAdmin,isOTCEmployee:isOTCEmployee}=usePermissions(),{canAccessRoute:canAccessRoute}=(()=>{const{isAuthenticated:isAuthenticated,isLoading:isLoading}=reactExports.useContext(AuthContext)||{},{checkPermission:checkPermission,hasRole:hasRole,hasAnyRole:hasAnyRole}=usePermissions();return{canAccessRoute:routePath=>{if(isLoading)return!1;if(!isAuthenticated)return!1;const routeConfig=ROUTE_PERMISSIONS[routePath];return!routeConfig||(routeConfig.requiredRole?hasRole(routeConfig.requiredRole):routeConfig.allowedRoles&&routeConfig.allowedRoles.length>0?hasAnyRole(routeConfig.allowedRoles):routeConfig.requiredPermissions&&routeConfig.requiredPermissions.length>0?routeConfig.requiredPermissions.every(permission=>checkPermission(permission)):!(routeConfig.requireAdmin&&!hasRole("admin")||routeConfig.requireEmployee&&!hasRole("otc_employee")))},canAccess:(options={})=>{const{requireAuth:requireAuth=!0,requiredRole:requiredRole,requiredPermissions:requiredPermissions,allowedRoles:allowedRoles}=options;return!isLoading&&!(requireAuth&&!isAuthenticated)&&(!requireAuth||!(requiredRole&&!hasRole(requiredRole))&&!(allowedRoles&&allowedRoles.length>0&&!hasAnyRole(allowedRoles))&&(!(requiredPermissions&&requiredPermissions.length>0)||requiredPermissions.every(permission=>checkPermission(permission))))},isLoading:isLoading||!1,isAuthenticated:isAuthenticated||!1}})(),location2=useLocation();if(isLoading)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-primary"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Verificando autenticação..."})]})});if(!isAuthenticated)return jsxRuntimeExports.jsx(Navigate,{to:redirectTo,state:{from:location2.pathname},replace:!0});if(!(()=>{if(!isAuthenticated)return!1;if(requireAdmin&&!isAdmin())return!1;if(requireEmployee&&!isOTCEmployee())return!1;if(requiredRole&&!hasRole(requiredRole))return!1;if(allowedRoles&&allowedRoles.length>0&&!hasAnyRole(allowedRoles))return!1;if(requiredPermissions&&requiredPermissions.length>0&&!checkAllPermissions(requiredPermissions))return!1;if(anyPermissions&&anyPermissions.length>0&&!checkAnyPermission(anyPermissions))return!1;const currentPath=location2.pathname;return canAccessRoute(currentPath),!0})()){if(showAccessDenied)return customFallback?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:customFallback}):jsxRuntimeExports.jsx(AccessDenied,{title:"Acesso Restrito",message:"Você não tem permissão para acessar esta página.",showDetails:!0,requiredRole:requiredRole,requiredPermissions:requiredPermissions,className:"mt-8 mx-4"});const redirectRoute=userType?userType.isEmployee||"otc_employee"===userType.type?"/employee-statement":userType.isOTC&&!userType.isEmployee?"/client-statement":userType.isAdmin||"admin"===userType.type?"/":redirectTo:redirectTo;return jsxRuntimeExports.jsx(Navigate,{to:redirectRoute,replace:!0})}return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:children})},buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Button$1=reactExports.forwardRef(({className:className,variant:variant,size:size,asChild:asChild=!1,...props},ref)=>{const Comp=asChild?Slot$2:"button";return jsxRuntimeExports.jsx(Comp,{className:cn(buttonVariants({variant:variant,size:size,className:className})),ref:ref,...props})});function clamp(value,[min2,max2]){return Math.min(max2,Math.max(min2,value))}Button$1.displayName="Button";var[createScrollAreaContext,createScrollAreaScope]=createContextScope("ScrollArea"),[ScrollAreaProvider,useScrollAreaContext]=createScrollAreaContext("ScrollArea"),ScrollArea$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeScrollArea:__scopeScrollArea,type:type="hover",dir:dir,scrollHideDelay:scrollHideDelay=600,...scrollAreaProps}=props,[scrollArea,setScrollArea]=reactExports.useState(null),[viewport,setViewport]=reactExports.useState(null),[content,setContent]=reactExports.useState(null),[scrollbarX,setScrollbarX]=reactExports.useState(null),[scrollbarY,setScrollbarY]=reactExports.useState(null),[cornerWidth,setCornerWidth]=reactExports.useState(0),[cornerHeight,setCornerHeight]=reactExports.useState(0),[scrollbarXEnabled,setScrollbarXEnabled]=reactExports.useState(!1),[scrollbarYEnabled,setScrollbarYEnabled]=reactExports.useState(!1),composedRefs=useComposedRefs(forwardedRef,node=>setScrollArea(node)),direction=useDirection(dir);return jsxRuntimeExports.jsx(ScrollAreaProvider,{scope:__scopeScrollArea,type:type,dir:direction,scrollHideDelay:scrollHideDelay,scrollArea:scrollArea,viewport:viewport,onViewportChange:setViewport,content:content,onContentChange:setContent,scrollbarX:scrollbarX,onScrollbarXChange:setScrollbarX,scrollbarXEnabled:scrollbarXEnabled,onScrollbarXEnabledChange:setScrollbarXEnabled,scrollbarY:scrollbarY,onScrollbarYChange:setScrollbarY,scrollbarYEnabled:scrollbarYEnabled,onScrollbarYEnabledChange:setScrollbarYEnabled,onCornerWidthChange:setCornerWidth,onCornerHeightChange:setCornerHeight,children:jsxRuntimeExports.jsx(Primitive.div,{dir:direction,...scrollAreaProps,ref:composedRefs,style:{position:"relative","--radix-scroll-area-corner-width":cornerWidth+"px","--radix-scroll-area-corner-height":cornerHeight+"px",...props.style}})})});ScrollArea$1.displayName="ScrollArea";var ScrollAreaViewport=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeScrollArea:__scopeScrollArea,children:children,nonce:nonce,...viewportProps}=props,context=useScrollAreaContext("ScrollAreaViewport",__scopeScrollArea),ref=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,ref,context.onViewportChange);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:nonce}),jsxRuntimeExports.jsx(Primitive.div,{"data-radix-scroll-area-viewport":"",...viewportProps,ref:composedRefs,style:{overflowX:context.scrollbarXEnabled?"scroll":"hidden",overflowY:context.scrollbarYEnabled?"scroll":"hidden",...props.style},children:jsxRuntimeExports.jsx("div",{ref:context.onContentChange,style:{minWidth:"100%",display:"table"},children:children})})]})});ScrollAreaViewport.displayName="ScrollAreaViewport";var SCROLLBAR_NAME="ScrollAreaScrollbar",ScrollAreaScrollbar=reactExports.forwardRef((props,forwardedRef)=>{const{forceMount:forceMount,...scrollbarProps}=props,context=useScrollAreaContext(SCROLLBAR_NAME,props.__scopeScrollArea),{onScrollbarXEnabledChange:onScrollbarXEnabledChange,onScrollbarYEnabledChange:onScrollbarYEnabledChange}=context,isHorizontal="horizontal"===props.orientation;return reactExports.useEffect(()=>(isHorizontal?onScrollbarXEnabledChange(!0):onScrollbarYEnabledChange(!0),()=>{isHorizontal?onScrollbarXEnabledChange(!1):onScrollbarYEnabledChange(!1)}),[isHorizontal,onScrollbarXEnabledChange,onScrollbarYEnabledChange]),"hover"===context.type?jsxRuntimeExports.jsx(ScrollAreaScrollbarHover,{...scrollbarProps,ref:forwardedRef,forceMount:forceMount}):"scroll"===context.type?jsxRuntimeExports.jsx(ScrollAreaScrollbarScroll,{...scrollbarProps,ref:forwardedRef,forceMount:forceMount}):"auto"===context.type?jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{...scrollbarProps,ref:forwardedRef,forceMount:forceMount}):"always"===context.type?jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{...scrollbarProps,ref:forwardedRef}):null});ScrollAreaScrollbar.displayName=SCROLLBAR_NAME;var ScrollAreaScrollbarHover=reactExports.forwardRef((props,forwardedRef)=>{const{forceMount:forceMount,...scrollbarProps}=props,context=useScrollAreaContext(SCROLLBAR_NAME,props.__scopeScrollArea),[visible,setVisible]=reactExports.useState(!1);return reactExports.useEffect(()=>{const scrollArea=context.scrollArea;let hideTimer=0;if(scrollArea){const handlePointerEnter=()=>{window.clearTimeout(hideTimer),setVisible(!0)},handlePointerLeave=()=>{hideTimer=window.setTimeout(()=>setVisible(!1),context.scrollHideDelay)};return scrollArea.addEventListener("pointerenter",handlePointerEnter),scrollArea.addEventListener("pointerleave",handlePointerLeave),()=>{window.clearTimeout(hideTimer),scrollArea.removeEventListener("pointerenter",handlePointerEnter),scrollArea.removeEventListener("pointerleave",handlePointerLeave)}}},[context.scrollArea,context.scrollHideDelay]),jsxRuntimeExports.jsx(Presence,{present:forceMount||visible,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarAuto,{"data-state":visible?"visible":"hidden",...scrollbarProps,ref:forwardedRef})})}),ScrollAreaScrollbarScroll=reactExports.forwardRef((props,forwardedRef)=>{const{forceMount:forceMount,...scrollbarProps}=props,context=useScrollAreaContext(SCROLLBAR_NAME,props.__scopeScrollArea),isHorizontal="horizontal"===props.orientation,debounceScrollEnd=useDebounceCallback(()=>send("SCROLL_END"),100),[state,send]=(initialState="hidden",machine={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},reactExports.useReducer((state,event)=>machine[state][event]??state,initialState));var initialState,machine;return reactExports.useEffect(()=>{if("idle"===state){const hideTimer=window.setTimeout(()=>send("HIDE"),context.scrollHideDelay);return()=>window.clearTimeout(hideTimer)}},[state,context.scrollHideDelay,send]),reactExports.useEffect(()=>{const viewport=context.viewport,scrollDirection=isHorizontal?"scrollLeft":"scrollTop";if(viewport){let prevScrollPos=viewport[scrollDirection];const handleScroll=()=>{const scrollPos=viewport[scrollDirection];prevScrollPos!==scrollPos&&(send("SCROLL"),debounceScrollEnd()),prevScrollPos=scrollPos};return viewport.addEventListener("scroll",handleScroll),()=>viewport.removeEventListener("scroll",handleScroll)}},[context.viewport,isHorizontal,send,debounceScrollEnd]),jsxRuntimeExports.jsx(Presence,{present:forceMount||"hidden"!==state,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":"hidden"===state?"hidden":"visible",...scrollbarProps,ref:forwardedRef,onPointerEnter:composeEventHandlers(props.onPointerEnter,()=>send("POINTER_ENTER")),onPointerLeave:composeEventHandlers(props.onPointerLeave,()=>send("POINTER_LEAVE"))})})}),ScrollAreaScrollbarAuto=reactExports.forwardRef((props,forwardedRef)=>{const context=useScrollAreaContext(SCROLLBAR_NAME,props.__scopeScrollArea),{forceMount:forceMount,...scrollbarProps}=props,[visible,setVisible]=reactExports.useState(!1),isHorizontal="horizontal"===props.orientation,handleResize=useDebounceCallback(()=>{if(context.viewport){const isOverflowX=context.viewport.offsetWidth<context.viewport.scrollWidth,isOverflowY=context.viewport.offsetHeight<context.viewport.scrollHeight;setVisible(isHorizontal?isOverflowX:isOverflowY)}},10);return useResizeObserver(context.viewport,handleResize),useResizeObserver(context.content,handleResize),jsxRuntimeExports.jsx(Presence,{present:forceMount||visible,children:jsxRuntimeExports.jsx(ScrollAreaScrollbarVisible,{"data-state":visible?"visible":"hidden",...scrollbarProps,ref:forwardedRef})})}),ScrollAreaScrollbarVisible=reactExports.forwardRef((props,forwardedRef)=>{const{orientation:orientation="vertical",...scrollbarProps}=props,context=useScrollAreaContext(SCROLLBAR_NAME,props.__scopeScrollArea),thumbRef=reactExports.useRef(null),pointerOffsetRef=reactExports.useRef(0),[sizes,setSizes]=reactExports.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),thumbRatio=getThumbRatio(sizes.viewport,sizes.content),commonProps={...scrollbarProps,sizes:sizes,onSizesChange:setSizes,hasThumb:Boolean(thumbRatio>0&&thumbRatio<1),onThumbChange:thumb=>thumbRef.current=thumb,onThumbPointerUp:()=>pointerOffsetRef.current=0,onThumbPointerDown:pointerPos=>pointerOffsetRef.current=pointerPos};function getScrollPosition(pointerPos,dir){return function(pointerPos,pointerOffset,sizes,dir="ltr"){const thumbSizePx=getThumbSize(sizes),thumbCenter=thumbSizePx/2,offset=pointerOffset||thumbCenter,thumbOffsetFromEnd=thumbSizePx-offset,minPointerPos=sizes.scrollbar.paddingStart+offset,maxPointerPos=sizes.scrollbar.size-sizes.scrollbar.paddingEnd-thumbOffsetFromEnd,maxScrollPos=sizes.content-sizes.viewport,scrollRange="ltr"===dir?[0,maxScrollPos]:[-1*maxScrollPos,0];return linearScale([minPointerPos,maxPointerPos],scrollRange)(pointerPos)}(pointerPos,pointerOffsetRef.current,sizes,dir)}return"horizontal"===orientation?jsxRuntimeExports.jsx(ScrollAreaScrollbarX,{...commonProps,ref:forwardedRef,onThumbPositionChange:()=>{if(context.viewport&&thumbRef.current){const offset=getThumbOffsetFromScroll(context.viewport.scrollLeft,sizes,context.dir);thumbRef.current.style.transform=`translate3d(${offset}px, 0, 0)`}},onWheelScroll:scrollPos=>{context.viewport&&(context.viewport.scrollLeft=scrollPos)},onDragScroll:pointerPos=>{context.viewport&&(context.viewport.scrollLeft=getScrollPosition(pointerPos,context.dir))}}):"vertical"===orientation?jsxRuntimeExports.jsx(ScrollAreaScrollbarY,{...commonProps,ref:forwardedRef,onThumbPositionChange:()=>{if(context.viewport&&thumbRef.current){const offset=getThumbOffsetFromScroll(context.viewport.scrollTop,sizes);thumbRef.current.style.transform=`translate3d(0, ${offset}px, 0)`}},onWheelScroll:scrollPos=>{context.viewport&&(context.viewport.scrollTop=scrollPos)},onDragScroll:pointerPos=>{context.viewport&&(context.viewport.scrollTop=getScrollPosition(pointerPos))}}):null}),ScrollAreaScrollbarX=reactExports.forwardRef((props,forwardedRef)=>{const{sizes:sizes,onSizesChange:onSizesChange,...scrollbarProps}=props,context=useScrollAreaContext(SCROLLBAR_NAME,props.__scopeScrollArea),[computedStyle,setComputedStyle]=reactExports.useState(),ref=reactExports.useRef(null),composeRefs2=useComposedRefs(forwardedRef,ref,context.onScrollbarXChange);return reactExports.useEffect(()=>{ref.current&&setComputedStyle(getComputedStyle(ref.current))},[ref]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"horizontal",...scrollbarProps,ref:composeRefs2,sizes:sizes,style:{bottom:0,left:"rtl"===context.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===context.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":getThumbSize(sizes)+"px",...props.style},onThumbPointerDown:pointerPos=>props.onThumbPointerDown(pointerPos.x),onDragScroll:pointerPos=>props.onDragScroll(pointerPos.x),onWheelScroll:(event,maxScrollPos)=>{if(context.viewport){const scrollPos=context.viewport.scrollLeft+event.deltaX;props.onWheelScroll(scrollPos),isScrollingWithinScrollbarBounds(scrollPos,maxScrollPos)&&event.preventDefault()}},onResize:()=>{ref.current&&context.viewport&&computedStyle&&onSizesChange({content:context.viewport.scrollWidth,viewport:context.viewport.offsetWidth,scrollbar:{size:ref.current.clientWidth,paddingStart:toInt(computedStyle.paddingLeft),paddingEnd:toInt(computedStyle.paddingRight)}})}})}),ScrollAreaScrollbarY=reactExports.forwardRef((props,forwardedRef)=>{const{sizes:sizes,onSizesChange:onSizesChange,...scrollbarProps}=props,context=useScrollAreaContext(SCROLLBAR_NAME,props.__scopeScrollArea),[computedStyle,setComputedStyle]=reactExports.useState(),ref=reactExports.useRef(null),composeRefs2=useComposedRefs(forwardedRef,ref,context.onScrollbarYChange);return reactExports.useEffect(()=>{ref.current&&setComputedStyle(getComputedStyle(ref.current))},[ref]),jsxRuntimeExports.jsx(ScrollAreaScrollbarImpl,{"data-orientation":"vertical",...scrollbarProps,ref:composeRefs2,sizes:sizes,style:{top:0,right:"ltr"===context.dir?0:void 0,left:"rtl"===context.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":getThumbSize(sizes)+"px",...props.style},onThumbPointerDown:pointerPos=>props.onThumbPointerDown(pointerPos.y),onDragScroll:pointerPos=>props.onDragScroll(pointerPos.y),onWheelScroll:(event,maxScrollPos)=>{if(context.viewport){const scrollPos=context.viewport.scrollTop+event.deltaY;props.onWheelScroll(scrollPos),isScrollingWithinScrollbarBounds(scrollPos,maxScrollPos)&&event.preventDefault()}},onResize:()=>{ref.current&&context.viewport&&computedStyle&&onSizesChange({content:context.viewport.scrollHeight,viewport:context.viewport.offsetHeight,scrollbar:{size:ref.current.clientHeight,paddingStart:toInt(computedStyle.paddingTop),paddingEnd:toInt(computedStyle.paddingBottom)}})}})}),[ScrollbarProvider,useScrollbarContext]=createScrollAreaContext(SCROLLBAR_NAME),ScrollAreaScrollbarImpl=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeScrollArea:__scopeScrollArea,sizes:sizes,hasThumb:hasThumb,onThumbChange:onThumbChange,onThumbPointerUp:onThumbPointerUp,onThumbPointerDown:onThumbPointerDown,onThumbPositionChange:onThumbPositionChange,onDragScroll:onDragScroll,onWheelScroll:onWheelScroll,onResize:onResize,...scrollbarProps}=props,context=useScrollAreaContext(SCROLLBAR_NAME,__scopeScrollArea),[scrollbar,setScrollbar]=reactExports.useState(null),composeRefs2=useComposedRefs(forwardedRef,node=>setScrollbar(node)),rectRef=reactExports.useRef(null),prevWebkitUserSelectRef=reactExports.useRef(""),viewport=context.viewport,maxScrollPos=sizes.content-sizes.viewport,handleWheelScroll=useCallbackRef(onWheelScroll),handleThumbPositionChange=useCallbackRef(onThumbPositionChange),handleResize=useDebounceCallback(onResize,10);function handleDragScroll(event){if(rectRef.current){const x2=event.clientX-rectRef.current.left,y2=event.clientY-rectRef.current.top;onDragScroll({x:x2,y:y2})}}return reactExports.useEffect(()=>{const handleWheel=event=>{const element=event.target;(null==scrollbar?void 0:scrollbar.contains(element))&&handleWheelScroll(event,maxScrollPos)};return document.addEventListener("wheel",handleWheel,{passive:!1}),()=>document.removeEventListener("wheel",handleWheel,{passive:!1})},[viewport,scrollbar,maxScrollPos,handleWheelScroll]),reactExports.useEffect(handleThumbPositionChange,[sizes,handleThumbPositionChange]),useResizeObserver(scrollbar,handleResize),useResizeObserver(context.content,handleResize),jsxRuntimeExports.jsx(ScrollbarProvider,{scope:__scopeScrollArea,scrollbar:scrollbar,hasThumb:hasThumb,onThumbChange:useCallbackRef(onThumbChange),onThumbPointerUp:useCallbackRef(onThumbPointerUp),onThumbPositionChange:handleThumbPositionChange,onThumbPointerDown:useCallbackRef(onThumbPointerDown),children:jsxRuntimeExports.jsx(Primitive.div,{...scrollbarProps,ref:composeRefs2,style:{position:"absolute",...scrollbarProps.style},onPointerDown:composeEventHandlers(props.onPointerDown,event=>{if(0===event.button){event.target.setPointerCapture(event.pointerId),rectRef.current=scrollbar.getBoundingClientRect(),prevWebkitUserSelectRef.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",context.viewport&&(context.viewport.style.scrollBehavior="auto"),handleDragScroll(event)}}),onPointerMove:composeEventHandlers(props.onPointerMove,handleDragScroll),onPointerUp:composeEventHandlers(props.onPointerUp,event=>{const element=event.target;element.hasPointerCapture(event.pointerId)&&element.releasePointerCapture(event.pointerId),document.body.style.webkitUserSelect=prevWebkitUserSelectRef.current,context.viewport&&(context.viewport.style.scrollBehavior=""),rectRef.current=null})})})}),ScrollAreaThumb=reactExports.forwardRef((props,forwardedRef)=>{const{forceMount:forceMount,...thumbProps}=props,scrollbarContext=useScrollbarContext("ScrollAreaThumb",props.__scopeScrollArea);return jsxRuntimeExports.jsx(Presence,{present:forceMount||scrollbarContext.hasThumb,children:jsxRuntimeExports.jsx(ScrollAreaThumbImpl,{ref:forwardedRef,...thumbProps})})}),ScrollAreaThumbImpl=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeScrollArea:__scopeScrollArea,style:style,...thumbProps}=props,scrollAreaContext=useScrollAreaContext("ScrollAreaThumb",__scopeScrollArea),scrollbarContext=useScrollbarContext("ScrollAreaThumb",__scopeScrollArea),{onThumbPositionChange:onThumbPositionChange}=scrollbarContext,composedRef=useComposedRefs(forwardedRef,node=>scrollbarContext.onThumbChange(node)),removeUnlinkedScrollListenerRef=reactExports.useRef(void 0),debounceScrollEnd=useDebounceCallback(()=>{removeUnlinkedScrollListenerRef.current&&(removeUnlinkedScrollListenerRef.current(),removeUnlinkedScrollListenerRef.current=void 0)},100);return reactExports.useEffect(()=>{const viewport=scrollAreaContext.viewport;if(viewport){const handleScroll=()=>{if(debounceScrollEnd(),!removeUnlinkedScrollListenerRef.current){const listener=addUnlinkedScrollListener(viewport,onThumbPositionChange);removeUnlinkedScrollListenerRef.current=listener,onThumbPositionChange()}};return onThumbPositionChange(),viewport.addEventListener("scroll",handleScroll),()=>viewport.removeEventListener("scroll",handleScroll)}},[scrollAreaContext.viewport,debounceScrollEnd,onThumbPositionChange]),jsxRuntimeExports.jsx(Primitive.div,{"data-state":scrollbarContext.hasThumb?"visible":"hidden",...thumbProps,ref:composedRef,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...style},onPointerDownCapture:composeEventHandlers(props.onPointerDownCapture,event=>{const thumbRect=event.target.getBoundingClientRect(),x2=event.clientX-thumbRect.left,y2=event.clientY-thumbRect.top;scrollbarContext.onThumbPointerDown({x:x2,y:y2})}),onPointerUp:composeEventHandlers(props.onPointerUp,scrollbarContext.onThumbPointerUp)})});ScrollAreaThumb.displayName="ScrollAreaThumb";var ScrollAreaCorner=reactExports.forwardRef((props,forwardedRef)=>{const context=useScrollAreaContext("ScrollAreaCorner",props.__scopeScrollArea),hasBothScrollbarsVisible=Boolean(context.scrollbarX&&context.scrollbarY);return"scroll"!==context.type&&hasBothScrollbarsVisible?jsxRuntimeExports.jsx(ScrollAreaCornerImpl,{...props,ref:forwardedRef}):null});ScrollAreaCorner.displayName="ScrollAreaCorner";var ScrollAreaCornerImpl=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeScrollArea:__scopeScrollArea,...cornerProps}=props,context=useScrollAreaContext("ScrollAreaCorner",__scopeScrollArea),[width,setWidth]=reactExports.useState(0),[height,setHeight]=reactExports.useState(0),hasSize=Boolean(width&&height);return useResizeObserver(context.scrollbarX,()=>{var _a3;const height2=(null==(_a3=context.scrollbarX)?void 0:_a3.offsetHeight)||0;context.onCornerHeightChange(height2),setHeight(height2)}),useResizeObserver(context.scrollbarY,()=>{var _a3;const width2=(null==(_a3=context.scrollbarY)?void 0:_a3.offsetWidth)||0;context.onCornerWidthChange(width2),setWidth(width2)}),hasSize?jsxRuntimeExports.jsx(Primitive.div,{...cornerProps,ref:forwardedRef,style:{width:width,height:height,position:"absolute",right:"ltr"===context.dir?0:void 0,left:"rtl"===context.dir?0:void 0,bottom:0,...props.style}}):null});function toInt(value){return value?parseInt(value,10):0}function getThumbRatio(viewportSize,contentSize){const ratio=viewportSize/contentSize;return isNaN(ratio)?0:ratio}function getThumbSize(sizes){const ratio=getThumbRatio(sizes.viewport,sizes.content),scrollbarPadding=sizes.scrollbar.paddingStart+sizes.scrollbar.paddingEnd,thumbSize=(sizes.scrollbar.size-scrollbarPadding)*ratio;return Math.max(thumbSize,18)}function getThumbOffsetFromScroll(scrollPos,sizes,dir="ltr"){const thumbSizePx=getThumbSize(sizes),scrollbarPadding=sizes.scrollbar.paddingStart+sizes.scrollbar.paddingEnd,scrollbar=sizes.scrollbar.size-scrollbarPadding,maxScrollPos=sizes.content-sizes.viewport,maxThumbPos=scrollbar-thumbSizePx,scrollWithoutMomentum=clamp(scrollPos,"ltr"===dir?[0,maxScrollPos]:[-1*maxScrollPos,0]);return linearScale([0,maxScrollPos],[0,maxThumbPos])(scrollWithoutMomentum)}function linearScale(input,output){return value=>{if(input[0]===input[1]||output[0]===output[1])return output[0];const ratio=(output[1]-output[0])/(input[1]-input[0]);return output[0]+ratio*(value-input[0])}}function isScrollingWithinScrollbarBounds(scrollPos,maxScrollPos){return scrollPos>0&&scrollPos<maxScrollPos}var addUnlinkedScrollListener=(node,handler=()=>{})=>{let prevPosition={left:node.scrollLeft,top:node.scrollTop},rAF=0;return function loop(){const position={left:node.scrollLeft,top:node.scrollTop},isHorizontalScroll=prevPosition.left!==position.left,isVerticalScroll=prevPosition.top!==position.top;(isHorizontalScroll||isVerticalScroll)&&handler(),prevPosition=position,rAF=window.requestAnimationFrame(loop)}(),()=>window.cancelAnimationFrame(rAF)};function useDebounceCallback(callback,delay){const handleCallback=useCallbackRef(callback),debounceTimerRef=reactExports.useRef(0);return reactExports.useEffect(()=>()=>window.clearTimeout(debounceTimerRef.current),[]),reactExports.useCallback(()=>{window.clearTimeout(debounceTimerRef.current),debounceTimerRef.current=window.setTimeout(handleCallback,delay)},[handleCallback,delay])}function useResizeObserver(element,onResize){const handleResize=useCallbackRef(onResize);useLayoutEffect2(()=>{let rAF=0;if(element){const resizeObserver=new ResizeObserver(()=>{cancelAnimationFrame(rAF),rAF=window.requestAnimationFrame(handleResize)});return resizeObserver.observe(element),()=>{window.cancelAnimationFrame(rAF),resizeObserver.unobserve(element)}}},[element,handleResize])}var Root$5=ScrollArea$1,Viewport$1=ScrollAreaViewport,Corner=ScrollAreaCorner;const ScrollArea=reactExports.forwardRef(({className:className,children:children,...props},ref)=>jsxRuntimeExports.jsxs(Root$5,{ref:ref,className:cn("relative overflow-hidden",className),...props,children:[jsxRuntimeExports.jsx(Viewport$1,{className:"h-full w-full rounded-[inherit]",children:children}),jsxRuntimeExports.jsx(ScrollBar,{}),jsxRuntimeExports.jsx(Corner,{})]}));ScrollArea.displayName=Root$5.displayName;const ScrollBar=reactExports.forwardRef(({className:className,orientation:orientation="vertical",...props},ref)=>jsxRuntimeExports.jsx(ScrollAreaScrollbar,{ref:ref,orientation:orientation,className:cn("flex touch-none select-none transition-colors","vertical"===orientation&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===orientation&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",className),...props,children:jsxRuntimeExports.jsx(ScrollAreaThumb,{className:"relative flex-1 rounded-full bg-border"})}));ScrollBar.displayName=ScrollAreaScrollbar.displayName;const Input=reactExports.forwardRef(({className:className,type:type,...props},ref)=>jsxRuntimeExports.jsx("input",{type:type,className:cn("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",className),ref:ref,...props}));Input.displayName="Input";var shim$1={exports:{}},useSyncExternalStoreShim_production={},React=reactExports;var objectIs="function"==typeof Object.is?Object.is:function(x2,y2){return x2===y2&&(0!==x2||1/x2==1/y2)||x2!=x2&&y2!=y2},useState=React.useState,useEffect=React.useEffect,useLayoutEffect=React.useLayoutEffect,useDebugValue=React.useDebugValue;function checkIfSnapshotChanged(inst){var latestGetSnapshot=inst.getSnapshot;inst=inst.value;try{var nextValue=latestGetSnapshot();return!objectIs(inst,nextValue)}catch(error){return!0}}var shim="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(subscribe2,getSnapshot){return getSnapshot()}:function(subscribe2,getSnapshot){var value=getSnapshot(),_useState=useState({inst:{value:value,getSnapshot:getSnapshot}}),inst=_useState[0].inst,forceUpdate=_useState[1];return useLayoutEffect(function(){inst.value=value,inst.getSnapshot=getSnapshot,checkIfSnapshotChanged(inst)&&forceUpdate({inst:inst})},[subscribe2,value,getSnapshot]),useEffect(function(){return checkIfSnapshotChanged(inst)&&forceUpdate({inst:inst}),subscribe2(function(){checkIfSnapshotChanged(inst)&&forceUpdate({inst:inst})})},[subscribe2]),useDebugValue(value),value};useSyncExternalStoreShim_production.useSyncExternalStore=void 0!==React.useSyncExternalStore?React.useSyncExternalStore:shim,shim$1.exports=useSyncExternalStoreShim_production;var shimExports=shim$1.exports;function subscribe(){return()=>{}}var[createAvatarContext,createAvatarScope]=createContextScope("Avatar"),[AvatarProvider,useAvatarContext]=createAvatarContext("Avatar"),Avatar$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAvatar:__scopeAvatar,...avatarProps}=props,[imageLoadingStatus,setImageLoadingStatus]=reactExports.useState("idle");return jsxRuntimeExports.jsx(AvatarProvider,{scope:__scopeAvatar,imageLoadingStatus:imageLoadingStatus,onImageLoadingStatusChange:setImageLoadingStatus,children:jsxRuntimeExports.jsx(Primitive.span,{...avatarProps,ref:forwardedRef})})});Avatar$1.displayName="Avatar";var AvatarImage$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAvatar:__scopeAvatar,src:src,onLoadingStatusChange:onLoadingStatusChange=()=>{},...imageProps}=props,context=useAvatarContext("AvatarImage",__scopeAvatar),imageLoadingStatus=function(src,{referrerPolicy:referrerPolicy,crossOrigin:crossOrigin}){const isHydrated=shimExports.useSyncExternalStore(subscribe,()=>!0,()=>!1),imageRef=reactExports.useRef(null),image=isHydrated?(imageRef.current||(imageRef.current=new window.Image),imageRef.current):null,[loadingStatus,setLoadingStatus]=reactExports.useState(()=>resolveLoadingStatus(image,src));return useLayoutEffect2(()=>{setLoadingStatus(resolveLoadingStatus(image,src))},[image,src]),useLayoutEffect2(()=>{const updateStatus=status=>()=>{setLoadingStatus(status)};if(!image)return;const handleLoad=updateStatus("loaded"),handleError=updateStatus("error");return image.addEventListener("load",handleLoad),image.addEventListener("error",handleError),referrerPolicy&&(image.referrerPolicy=referrerPolicy),"string"==typeof crossOrigin&&(image.crossOrigin=crossOrigin),()=>{image.removeEventListener("load",handleLoad),image.removeEventListener("error",handleError)}},[image,crossOrigin,referrerPolicy]),loadingStatus}(src,imageProps),handleLoadingStatusChange=useCallbackRef(status=>{onLoadingStatusChange(status),context.onImageLoadingStatusChange(status)});return useLayoutEffect2(()=>{"idle"!==imageLoadingStatus&&handleLoadingStatusChange(imageLoadingStatus)},[imageLoadingStatus,handleLoadingStatusChange]),"loaded"===imageLoadingStatus?jsxRuntimeExports.jsx(Primitive.img,{...imageProps,ref:forwardedRef,src:src}):null});AvatarImage$1.displayName="AvatarImage";var AvatarFallback$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAvatar:__scopeAvatar,delayMs:delayMs,...fallbackProps}=props,context=useAvatarContext("AvatarFallback",__scopeAvatar),[canRender,setCanRender]=reactExports.useState(void 0===delayMs);return reactExports.useEffect(()=>{if(void 0!==delayMs){const timerId=window.setTimeout(()=>setCanRender(!0),delayMs);return()=>window.clearTimeout(timerId)}},[delayMs]),canRender&&"loaded"!==context.imageLoadingStatus?jsxRuntimeExports.jsx(Primitive.span,{...fallbackProps,ref:forwardedRef}):null});function resolveLoadingStatus(image,src){return image?src?(image.src!==src&&(image.src=src),image.complete&&image.naturalWidth>0?"loaded":"loading"):"error":"idle"}AvatarFallback$1.displayName="AvatarFallback";var Root$4=Avatar$1,Image$1=AvatarImage$1,Fallback=AvatarFallback$1;const Avatar=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Root$4,{ref:ref,className:cn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",className),...props}));Avatar.displayName=Root$4.displayName;reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Image$1,{ref:ref,className:cn("aspect-square h-full w-full",className),...props})).displayName=Image$1.displayName;const AvatarFallback=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Fallback,{ref:ref,className:cn("flex h-full w-full items-center justify-center rounded-full bg-muted",className),...props}));AvatarFallback.displayName=Fallback.displayName;const DropdownMenu=Root2$6,DropdownMenuTrigger=Trigger$3;reactExports.forwardRef(({className:className,inset:inset,children:children,...props},ref)=>jsxRuntimeExports.jsxs(SubTrigger2,{ref:ref,className:cn("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",inset&&"pl-8",className),...props,children:[children,jsxRuntimeExports.jsx(ChevronRight,{className:"ml-auto h-4 w-4"})]})).displayName=SubTrigger2.displayName;reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(SubContent2,{ref:ref,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",className),...props})).displayName=SubContent2.displayName;const DropdownMenuContent=reactExports.forwardRef(({className:className,sideOffset:sideOffset=4,...props},ref)=>jsxRuntimeExports.jsx(Portal2$1,{children:jsxRuntimeExports.jsx(Content2$4,{ref:ref,sideOffset:sideOffset,className:cn("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",className),...props})}));DropdownMenuContent.displayName=Content2$4.displayName;const DropdownMenuItem=reactExports.forwardRef(({className:className,inset:inset,...props},ref)=>jsxRuntimeExports.jsx(Item2$1,{ref:ref,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",inset&&"pl-8",className),...props}));DropdownMenuItem.displayName=Item2$1.displayName;reactExports.forwardRef(({className:className,children:children,checked:checked,...props},ref)=>jsxRuntimeExports.jsxs(CheckboxItem2,{ref:ref,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",className),checked:checked,...props,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),children]})).displayName=CheckboxItem2.displayName;reactExports.forwardRef(({className:className,children:children,...props},ref)=>jsxRuntimeExports.jsxs(RadioItem2,{ref:ref,className:cn("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",className),...props,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator2,{children:jsxRuntimeExports.jsx(Circle,{className:"h-2 w-2 fill-current"})})}),children]})).displayName=RadioItem2.displayName;const DropdownMenuLabel=reactExports.forwardRef(({className:className,inset:inset,...props},ref)=>jsxRuntimeExports.jsx(Label2,{ref:ref,className:cn("px-2 py-1.5 text-sm font-semibold",inset&&"pl-8",className),...props}));DropdownMenuLabel.displayName=Label2.displayName;const DropdownMenuSeparator=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Separator2,{ref:ref,className:cn("-mx-1 my-1 h-px bg-muted",className),...props}));DropdownMenuSeparator.displayName=Separator2.displayName;const badgeVariants=cva("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:className,variant:variant,...props}){return jsxRuntimeExports.jsx("div",{className:cn(badgeVariants({variant:variant}),className),...props})}const PUBLIC_ENV={API_BASE_URL:"https://api-bank.gruponexus.com.br",API_URL_DEV:"https://dev-api.com",API_URL_PROD:"https://prod-api.com",DIAGNOSTICO_API_URL:"https://vps80270.cloudpublic.com.br:8081",RECEIPT_API_URL:"https://receipt-api.com",API_TIMEOUT:parseInt("30000",10),API_RETRY_ATTEMPTS:parseInt("3",10),API_RETRY_DELAY:parseInt("1000",10),LOGIN_TIMEOUT_MINUTES:parseInt("30",10),LOGIN_CHECK_INTERVAL_MS:parseInt("60000",10),LOGIN_WARNING_MINUTES:parseInt("5",10),LOG_LEVEL:"error",ENABLE_LOGS_PROD:!1,ENABLE_SENSITIVE_LOGS:!1,ENABLE_PERFORMANCE_LOGS:!1,ENABLE_DEBUG_LOGS:!1,APP_ENVIRONMENT:"production",APP_USER_AGENT:"BaaS-Frontend/1.0.0",PIX_MOCK_QR_CODE:"",BITSO_MOCK_CPF_KEY:"",BITSO_MOCK_EMAIL_KEY:"",BITSO_WEBHOOK_URL:"",BMP_BANCO_BMP_274_TCR:"274",BMP_AGENCIA_BMP_274_TCR:"0001",BMP_AGENCIA_DIGITO_BMP_274_TCR:"",BMP_CONTA_BMP_274_TCR:"902486",BMP_CONTA_DIGITO_BMP_274_TCR:"0",BMP_CONTA_PGTO_BMP_274_TCR:"09024860",BMP_TIPO_CONTA_BMP_274_TCR:parseInt("3",10),BMP_MODELO_CONTA_BMP_274_TCR:parseInt("1",10),BMP_531_BANCO:"531",BMP_AGENCIA_TTF:"0001",BMP_AGENCIA_DIGITO_TTF:"8",BMP_CONTA_TTF:"159",BMP_CONTA_DIGITO_TTF:"4",BMP_CONTA_PGTO_TTF:"00001594",BMP_TIPO_CONTA_TTF:parseInt("3",10),BMP_MODELO_CONTA_TTF:parseInt("1",10),BMP_AGENCIA_TCR:"0001",BMP_AGENCIA_DIGITO_TCR:"8",BMP_CONTA_TCR:"157",BMP_CONTA_DIGITO_TCR:"8",BMP_CONTA_PGTO_TCR:"00001578",BMP_TIPO_CONTA_TCR:parseInt("3",10),BMP_MODELO_CONTA_TCR:parseInt("1",10),ACCOUNT_NUMBER_B8_TCR:"",IS_DEVELOPMENT:!1,IS_PRODUCTION:!0},FEATURE_FLAGS_ENABLE_DASHBOARD=!1,FEATURE_FLAGS_ENABLE_EXTRATO_TCR=!1,FEATURE_FLAGS_ENABLE_COMPENSACAO_DEPOSITOS=!1,FEATURE_FLAGS_ENABLE_BMP531_TCR=!1,FEATURE_FLAGS_ENABLE_CORPX_TTF_TCR=!1,SidebarLink=({to:to,icon:icon,label:label,badge:badge,isCollapsed:isCollapsed})=>{const isActive=useLocation().pathname===to;return jsxRuntimeExports.jsx(NavLink,{to:to,className:"w-full",children:jsxRuntimeExports.jsxs("div",{className:cn("group flex items-center rounded-lg px-2 py-2 text-xs font-medium transition-all duration-200 ease-in-out relative overflow-hidden",isCollapsed?"justify-center gap-0":"gap-2",isActive?"bg-primary/10 text-primary border-r-2 border-primary shadow-sm":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),title:label,children:[jsxRuntimeExports.jsx("div",{className:cn("flex-shrink-0 transition-transform duration-200",isActive?"scale-110":"group-hover:scale-105"),children:icon}),!isCollapsed&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"flex-1 truncate text-xs",children:label}),badge&&jsxRuntimeExports.jsx("span",{className:"ml-auto bg-primary/20 text-primary text-[10px] px-1.5 py-0.5 rounded-full whitespace-nowrap font-semibold",children:badge})]}),isActive&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent"})]})})};function MainLayout(){const[isSidebarOpen,setIsSidebarOpen]=reactExports.useState(!1),[isCollapsed,setIsCollapsed]=reactExports.useState(!1),{user:user,logout:logout}=useAuth();reactExports.useEffect(()=>{const handleResize=()=>{window.innerWidth>=768&&setIsSidebarOpen(!1)};return window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)},[]);const toggleSidebar=()=>{setIsSidebarOpen(!isSidebarOpen)},getUserInitials=(name,email)=>name?name.split(" ").map(n2=>n2[0]).join("").toUpperCase().slice(0,2):email?email.slice(0,2).toUpperCase():"U";return jsxRuntimeExports.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[jsxRuntimeExports.jsxs("aside",{className:cn("fixed inset-y-0 left-0 z-50 transform bg-card/50 backdrop-blur-xl border-r border-border/50 transition-all duration-300 ease-in-out md:relative md:translate-x-0",isSidebarOpen?"translate-x-0":"-translate-x-full",isCollapsed?"w-20":"w-64"),children:[isSidebarOpen&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",onClick:()=>setIsSidebarOpen(!1)}),jsxRuntimeExports.jsxs("div",{className:"flex h-full flex-col relative z-50",children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center border-b border-border/50 py-4",isCollapsed?"px-2":"px-4"),children:[jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-2 transition-all duration-300",isCollapsed?"justify-center w-full":"gap-2"),children:[jsxRuntimeExports.jsx("div",{className:"h-8 w-8 rounded-lg bg-gradient-to-br from-primary to-accent flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx("span",{className:"text-primary-foreground font-bold text-xs",children:"T"})}),!isCollapsed&&jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h2",{className:"text-xs font-semibold text-foreground truncate",children:"TCR Admin"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-muted-foreground truncate",children:"Central de Gestão"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-8 w-8 hidden md:flex",onClick:()=>{setIsCollapsed(!isCollapsed)},title:isCollapsed?"Expandir menu":"Recolher menu",children:jsxRuntimeExports.jsx(Menu,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"icon",className:"h-8 w-8 md:hidden",onClick:toggleSidebar,children:jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsx(ScrollArea,{className:cn("flex-1 py-4",isCollapsed?"px-2":"px-3"),children:jsxRuntimeExports.jsxs("nav",{className:cn("space-y-2",isCollapsed&&"space-y-1"),children:[FEATURE_FLAGS_ENABLE_DASHBOARD,jsxRuntimeExports.jsxs("div",{className:"pb-2",children:[!isCollapsed&&jsxRuntimeExports.jsx("h3",{className:"mb-2 px-2 text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Grupo TCR"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[FEATURE_FLAGS_ENABLE_EXTRATO_TCR,FEATURE_FLAGS_ENABLE_COMPENSACAO_DEPOSITOS,jsxRuntimeExports.jsx(SidebarLink,{to:"/grupo-tcr/saldos",icon:jsxRuntimeExports.jsx(ListChecks,{className:"h-4 w-4"}),label:"Saldos & Conferência",isCollapsed:isCollapsed}),FEATURE_FLAGS_ENABLE_BMP531_TCR,jsxRuntimeExports.jsx(SidebarLink,{to:"/grupo-tcr/tcr",icon:jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4"}),label:"CorpX TCR",isCollapsed:isCollapsed}),FEATURE_FLAGS_ENABLE_CORPX_TTF_TCR,jsxRuntimeExports.jsx(SidebarLink,{to:"/analise-usuario/32",icon:jsxRuntimeExports.jsx(UserSearch,{className:"h-4 w-4"}),label:"Análise de Usuário BRBTC",isCollapsed:isCollapsed})]})]}),jsxRuntimeExports.jsxs("div",{className:"pb-2",children:[!isCollapsed&&jsxRuntimeExports.jsx("h3",{className:"mb-2 px-2 text-[10px] font-semibold text-muted-foreground uppercase tracking-wider",children:"Grupo OTC"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(SidebarLink,{to:"/pagamentos",icon:jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4"}),label:"Gerenciador de Contas",isCollapsed:isCollapsed}),jsxRuntimeExports.jsx(SidebarLink,{to:"/cotacoes",icon:jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4"}),label:"Cotações em Tempo Real",badge:"LIVE",isCollapsed:isCollapsed}),jsxRuntimeExports.jsx(SidebarLink,{to:"/bot-cotacao",icon:jsxRuntimeExports.jsx(Bot,{className:"h-4 w-4"}),label:"Bot de Cotação",badge:"BETA",isCollapsed:isCollapsed}),jsxRuntimeExports.jsx(SidebarLink,{to:"/otc",icon:jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),label:"Clientes OTC",badge:"NOVO",isCollapsed:isCollapsed}),jsxRuntimeExports.jsx(SidebarLink,{to:"/otc/negociar",icon:jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4"}),label:"Negociar",badge:"NOVO",isCollapsed:isCollapsed}),jsxRuntimeExports.jsx(SidebarLink,{to:"/bitso",icon:jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4"}),label:"Bitso",badge:"NOVO",isCollapsed:isCollapsed}),jsxRuntimeExports.jsx(SidebarLink,{to:"/corpx",icon:jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4"}),label:"CORPX TTF",isCollapsed:isCollapsed})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"border-t border-border/50 p-4",children:jsxRuntimeExports.jsxs("div",{className:cn("flex items-center text-sm transition-all duration-300",isCollapsed?"justify-center":"gap-3"),children:[jsxRuntimeExports.jsx(Avatar,{className:"h-8 w-8 flex-shrink-0",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-primary/10 text-primary",children:getUserInitials(null==user?void 0:user.name,null==user?void 0:user.email)})}),!isCollapsed&&jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:(null==user?void 0:user.name)||"Usuário"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground truncate",children:(null==user?void 0:user.email)||"user@email.com"})]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[jsxRuntimeExports.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/80 backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex h-16 items-center gap-4 px-4 md:px-6",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"icon",className:"h-9 w-9 md:hidden",onClick:toggleSidebar,children:[jsxRuntimeExports.jsx(Menu,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Toggle Menu"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"relative max-w-md",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Buscar transações, usuários...",className:"pl-9 bg-muted/50 border-0 focus-visible:ring-1"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"icon",className:"h-9 w-9 relative",children:[jsxRuntimeExports.jsx(Bell,{className:"h-4 w-4"}),jsxRuntimeExports.jsx(Badge,{className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:"3"})]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:jsxRuntimeExports.jsx(Avatar,{className:"h-8 w-8",children:jsxRuntimeExports.jsx(AvatarFallback,{className:"bg-primary/10 text-primary",children:getUserInitials(null==user?void 0:user.name,null==user?void 0:user.email)})})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",className:"w-56",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-start gap-2 p-2",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-1 leading-none",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:(null==user?void 0:user.name)||"Usuário"}),jsxRuntimeExports.jsx("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:null==user?void 0:user.email})]})}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{children:[jsxRuntimeExports.jsx(User,{className:"mr-2 h-4 w-4"}),"Perfil"]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{children:[jsxRuntimeExports.jsx(Settings,{className:"mr-2 h-4 w-4"}),"Configurações"]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{className:"text-destructive cursor-pointer",onClick:()=>{logout()},children:[jsxRuntimeExports.jsx(LogOut,{className:"mr-2 h-4 w-4"}),"Sair"]})]})]})]})]})}),jsxRuntimeExports.jsx("main",{className:"flex-1 overflow-auto",children:jsxRuntimeExports.jsx(Outlet,{})})]})]})}function PageHeader({title:title,description:description,breadcrumbs:breadcrumbs=[],actions:actions,className:className}){return jsxRuntimeExports.jsx("div",{className:cn("border-b border-border/50 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",className),children:jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"py-4 sm:py-6",children:[breadcrumbs.length>0&&jsxRuntimeExports.jsx("nav",{className:"flex mb-3 sm:mb-4","aria-label":"Breadcrumb",children:jsxRuntimeExports.jsx("ol",{className:"inline-flex items-center space-x-1 md:space-x-3 flex-wrap",children:breadcrumbs.map((item,index)=>jsxRuntimeExports.jsxs("li",{className:"inline-flex items-center",children:[index>0&&jsxRuntimeExports.jsx(ChevronRight,{className:"h-3 w-3 text-muted-foreground mx-1"}),item.href&&!item.isActive?jsxRuntimeExports.jsx(Link,{to:item.href,className:"text-xs sm:text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:item.label}):jsxRuntimeExports.jsx("span",{className:cn("text-xs sm:text-sm font-medium",item.isActive?"text-foreground":"text-muted-foreground"),children:item.label})]},index))})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold tracking-tight text-foreground truncate",children:title}),description&&jsxRuntimeExports.jsx("p",{className:"mt-1 sm:mt-2 text-sm sm:text-base text-muted-foreground line-clamp-2",children:description})]}),actions&&jsxRuntimeExports.jsx("div",{className:"flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:actions})})]})]})})})}const Card=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("div",{ref:ref,className:cn("rounded-lg bg-card text-card-foreground shadow-sm",className),...props}));Card.displayName="Card";const CardHeader=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("div",{ref:ref,className:cn("flex flex-col space-y-1.5 p-6",className),...props}));CardHeader.displayName="CardHeader";const CardTitle=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("h3",{ref:ref,className:cn("text-2xl font-semibold leading-none tracking-tight",className),...props}));CardTitle.displayName="CardTitle";const CardDescription=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("p",{ref:ref,className:cn("text-sm text-muted-foreground",className),...props}));CardDescription.displayName="CardDescription";const CardContent=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("div",{ref:ref,className:cn("px-6 pb-6 pt-0",className),...props}));CardContent.displayName="CardContent";function StatCard$1({title:title,value:value,change:change,icon:Icon2,gradient:gradient=!1,className:className}){return jsxRuntimeExports.jsx(Card,{className:cn("relative overflow-hidden transition-all duration-300 hover:shadow-lg banking-hover",gradient&&"bg-gradient-to-br from-card to-muted/50",className),children:jsxRuntimeExports.jsx(CardContent,{className:"p-4 sm:p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground uppercase tracking-wider truncate",children:title}),jsxRuntimeExports.jsx("p",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-foreground mt-1 sm:mt-2 truncate",children:value}),change&&jsxRuntimeExports.jsxs("div",{className:"flex items-center mt-2 sm:mt-3",children:[jsxRuntimeExports.jsxs("span",{className:cn("text-xs sm:text-sm font-medium",(type=>{switch(type){case"increase":return"text-green-500";case"decrease":return"text-red-500";default:return"text-muted-foreground"}})(change.type)),children:[(type=>{switch(type){case"increase":return"+";case"decrease":return"-";default:return""}})(change.type),Math.abs(change.value),"%"]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground ml-1 sm:ml-2 truncate",children:change.period||"vs mês anterior"})]})]}),jsxRuntimeExports.jsx("div",{className:cn("flex-shrink-0 p-2 sm:p-3 rounded-lg transition-all duration-200",gradient?"bg-primary/10 text-primary":"bg-muted/50 text-muted-foreground"),children:jsxRuntimeExports.jsx(Icon2,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})})})}function DashboardStats({stats:stats,className:className}){return jsxRuntimeExports.jsx("div",{className:cn("grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",className),children:stats.map((stat,index)=>jsxRuntimeExports.jsx(StatCard$1,{...stat,gradient:0===index},index))})}reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("div",{ref:ref,className:cn("flex items-center p-6 pt-0",className),...props})).displayName="CardFooter";const SearchForm=({onSearch:onSearch,isLoading:isLoading})=>{const[email,setEmail]=reactExports.useState(""),[amount,setAmount]=reactExports.useState("");return jsxRuntimeExports.jsxs("div",{className:"bg-tcr-darkgray rounded-lg p-6 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 text-white",children:"Buscar Depósitos"}),jsxRuntimeExports.jsxs("form",{onSubmit:e3=>{e3.preventDefault(),email.trim()?onSearch(email,amount):ue$2.error("Por favor, insira um email")},className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email do usuário"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:email,onChange:e3=>setEmail(e3.target.value),placeholder:"exemplo@email.com",className:"bg-tcr-gray border-tcr-gray text-white"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-300 mb-1",children:"Valor do depósito (opcional)"}),jsxRuntimeExports.jsx(Input,{id:"amount",type:"text",value:amount,onChange:e3=>setAmount(e3.target.value),placeholder:"0.00",className:"bg-tcr-gray border-tcr-gray text-white"})]}),jsxRuntimeExports.jsx(Button$1,{type:"submit",disabled:isLoading,className:"w-full bg-tcr-orange hover:bg-orange-600 text-white",children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Buscando..."]}):"Buscar"})]})]})},DepositComparison=({results:results,userEmail:userEmail,userId:userId,onDepositRegistered:onDepositRegistered})=>{const[processingDeposits,setProcessingDeposits]=reactExports.useState([]);if(!results.length)return null;const statusIcon=status=>{switch(status){case"matched":return jsxRuntimeExports.jsx(Check,{className:"text-tcr-green h-5 w-5"});case"not_found":return jsxRuntimeExports.jsx(TriangleAlert,{className:"text-tcr-orange h-5 w-5"});case"mismatch":return jsxRuntimeExports.jsx(TriangleAlert,{className:"text-tcr-red h-5 w-5"});default:return null}},handleRegisterDeposit=async deposit=>{try{setProcessingDeposits(prev=>[...prev,deposit.externalDeposit.id]);const customId=`U${userId}`;await(async(deposit,customId)=>{try{const depositWithCustomId={...deposit,customId:customId},response=await fetch("https://vps80270.cloudpublic.com.br:8081/admin/depositos/processar-manual",{method:"POST",headers:{"Content-Type":"application/json","User-Agent":void 0,"Token-Cryp-Access":"","Token-Whitelabel":""},body:JSON.stringify(depositWithCustomId)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return await response.json()}catch(error){throw error}})(deposit.externalDeposit,customId),ue$2.success("Depósito registrado com sucesso!"),onDepositRegistered&&onDepositRegistered()}catch(error){ue$2.error("Erro ao registrar o depósito. Tente novamente.")}finally{setProcessingDeposits(prev=>prev.filter(id2=>id2!==deposit.externalDeposit.id))}};return jsxRuntimeExports.jsxs("div",{className:"bg-tcr-darkgray rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-4 text-white",children:[jsxRuntimeExports.jsx(ArrowDownToLine,{className:"text-tcr-orange mr-2",size:20}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold",children:"Comparação de Depósitos"})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-left text-white",children:[jsxRuntimeExports.jsx("thead",{className:"text-xs uppercase bg-tcr-gray",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Data"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"ID Externo"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Valor"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Moeda"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Remetente"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3",children:"Ação"})]})}),jsxRuntimeExports.jsx("tbody",{children:results.map((result,index)=>{return jsxRuntimeExports.jsxs("tr",{className:"border-t border-tcr-gray "+("not_found"===result.status?"bg-opacity-20 bg-orange-900":""),children:[jsxRuntimeExports.jsxs("td",{className:"px-4 py-3 flex items-center",children:[statusIcon(result.status),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"matched"===result.status?"Sincronizado":"not_found"===result.status?"Não encontrado":"Incompatível"})]}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:(timestamp=result.externalDeposit.timestamp,new Date(1e3*timestamp).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:result.externalDeposit.id}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 font-medium",children:(value=parseFloat(result.externalDeposit.value),currency=result.externalDeposit.coin,"BRL"===currency?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(value):"USDT"===currency?`$ ${value.toFixed(2)}`:`${value.toFixed(2)} ${currency}`)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:result.externalDeposit.coin}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 truncate max-w-xs",children:result.externalDeposit.fromName}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:"not_found"===result.status?jsxRuntimeExports.jsx(Button$1,{className:"bg-tcr-orange hover:bg-orange-600 text-white rounded-md px-3 py-1 text-sm",onClick:()=>handleRegisterDeposit(result),disabled:processingDeposits.includes(result.externalDeposit.id),children:processingDeposits.includes(result.externalDeposit.id)?"Processando...":"Registrar"}):jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-sm",children:"-"})})]},index);var value,currency,timestamp})})]})})]})};var isArray_1=Array.isArray,_freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,freeGlobal=_freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,_root=freeGlobal||freeSelf||Function("return this")(),_Symbol=_root.Symbol,Symbol$6=_Symbol,objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$6?Symbol$6.toStringTag:void 0;var _getRawTag=function(value){var isOwn=hasOwnProperty$a.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{value[symToStringTag$1]=void 0;var unmasked=!0}catch(e3){}var result=nativeObjectToString$1.call(value);return unmasked&&(isOwn?value[symToStringTag$1]=tag:delete value[symToStringTag$1]),result},nativeObjectToString=Object.prototype.toString;var getRawTag=_getRawTag,objectToString=function(value){return nativeObjectToString.call(value)},symToStringTag=_Symbol?_Symbol.toStringTag:void 0;var _baseGetTag=function(value){return null==value?void 0===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?getRawTag(value):objectToString(value)};var isObjectLike_1=function(value){return null!=value&&"object"==typeof value},baseGetTag$8=_baseGetTag,isObjectLike$8=isObjectLike_1;var isSymbol_1=function(value){return"symbol"==typeof value||isObjectLike$8(value)&&"[object Symbol]"==baseGetTag$8(value)},isArray$e=isArray_1,isSymbol$5=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;var _isKey=function(value,object2){if(isArray$e(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol$5(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object2&&value in Object(object2))};var isObject_1=function(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)};const isObject$9=getDefaultExportFromCjs(isObject_1);var baseGetTag$7=_baseGetTag,isObject$7=isObject_1;var isFunction_1=function(value){if(!isObject$7(value))return!1;var tag=baseGetTag$7(value);return"[object Function]"==tag||"[object GeneratorFunction]"==tag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag};const isFunction$6=getDefaultExportFromCjs(isFunction_1);var uid,coreJsData=_root["__core-js_shared__"],maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"";var _isMasked=function(func){return!!maskSrcKey&&maskSrcKey in func},funcToString$2=Function.prototype.toString;var _toSource=function(func){if(null!=func){try{return funcToString$2.call(func)}catch(e3){}try{return func+""}catch(e3){}}return""},isFunction$4=isFunction_1,isMasked=_isMasked,isObject$6=isObject_1,toSource$1=_toSource,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var baseIsNative=function(value){return!(!isObject$6(value)||isMasked(value))&&(isFunction$4(value)?reIsNative:reIsHostCtor).test(toSource$1(value))},getValue=function(object2,key){return null==object2?void 0:object2[key]};var _getNative=function(object2,key){var value=getValue(object2,key);return baseIsNative(value)?value:void 0},_nativeCreate=_getNative(Object,"create"),nativeCreate$3=_nativeCreate;var _hashClear=function(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0};var _hashDelete=function(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},nativeCreate$2=_nativeCreate,hasOwnProperty$8=Object.prototype.hasOwnProperty;var _hashGet=function(key){var data=this.__data__;if(nativeCreate$2){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty$8.call(data,key)?data[key]:void 0},nativeCreate$1=_nativeCreate,hasOwnProperty$7=Object.prototype.hasOwnProperty;var nativeCreate=_nativeCreate;var hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=function(key){var data=this.__data__;return nativeCreate$1?void 0!==data[key]:hasOwnProperty$7.call(data,key)},hashSet=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this};function Hash$1(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}Hash$1.prototype.clear=hashClear,Hash$1.prototype.delete=hashDelete,Hash$1.prototype.get=hashGet,Hash$1.prototype.has=hashHas,Hash$1.prototype.set=hashSet;var _Hash=Hash$1;var _listCacheClear=function(){this.__data__=[],this.size=0};var eq_1=function(value,other){return value===other||value!=value&&other!=other},eq$2=eq_1;var _assocIndexOf=function(array2,key){for(var length=array2.length;length--;)if(eq$2(array2[length][0],key))return length;return-1},assocIndexOf$3=_assocIndexOf,splice=Array.prototype.splice;var assocIndexOf$2=_assocIndexOf;var assocIndexOf$1=_assocIndexOf;var assocIndexOf=_assocIndexOf;var listCacheClear=_listCacheClear,listCacheDelete=function(key){var data=this.__data__,index=assocIndexOf$3(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)},listCacheGet=function(key){var data=this.__data__,index=assocIndexOf$2(data,key);return index<0?void 0:data[index][1]},listCacheHas=function(key){return assocIndexOf$1(this.__data__,key)>-1},listCacheSet=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this};function ListCache$4(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}ListCache$4.prototype.clear=listCacheClear,ListCache$4.prototype.delete=listCacheDelete,ListCache$4.prototype.get=listCacheGet,ListCache$4.prototype.has=listCacheHas,ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,_Map=_getNative(_root,"Map"),Hash=_Hash,ListCache$3=_ListCache,Map$3=_Map;var isKeyable=function(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value};var _getMapData=function(map2,key){var data=map2.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map},getMapData$3=_getMapData;var getMapData$2=_getMapData;var getMapData$1=_getMapData;var getMapData=_getMapData;var mapCacheClear=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$3),string:new Hash}},mapCacheDelete=function(key){var result=getMapData$3(this,key).delete(key);return this.size-=result?1:0,result},mapCacheGet=function(key){return getMapData$2(this,key).get(key)},mapCacheHas=function(key){return getMapData$1(this,key).has(key)},mapCacheSet=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this};function MapCache$3(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}MapCache$3.prototype.clear=mapCacheClear,MapCache$3.prototype.delete=mapCacheDelete,MapCache$3.prototype.get=mapCacheGet,MapCache$3.prototype.has=mapCacheHas,MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,MapCache$2=_MapCache;function memoize$2(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError("Expected a function");var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize$2.Cache||MapCache$2),memoized}memoize$2.Cache=MapCache$2;var memoize_1=memoize$2;const memoize$3=getDefaultExportFromCjs(memoize_1);var memoize$1=memoize_1;var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,_stringToPath=function(func){var result=memoize$1(func,function(key){return 500===cache.size&&cache.clear(),key}),cache=result.cache;return result}(function(string2){var result=[];return 46===string2.charCodeAt(0)&&result.push(""),string2.replace(rePropName,function(match2,number2,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number2||match2)}),result});var _arrayMap=function(array2,iteratee){for(var index=-1,length=null==array2?0:array2.length,result=Array(length);++index<length;)result[index]=iteratee(array2[index],index,array2);return result},arrayMap$2=_arrayMap,isArray$d=isArray_1,isSymbol$4=isSymbol_1,symbolProto$1=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;var _baseToString=function baseToString$1(value){if("string"==typeof value)return value;if(isArray$d(value))return arrayMap$2(value,baseToString$1)+"";if(isSymbol$4(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result},baseToString=_baseToString;var toString_1=function(value){return null==value?"":baseToString(value)},isArray$c=isArray_1,isKey$3=_isKey,stringToPath$1=_stringToPath,toString$3=toString_1;var _castPath=function(value,object2){return isArray$c(value)?value:isKey$3(value,object2)?[value]:stringToPath$1(toString$3(value))},isSymbol$3=isSymbol_1;var _toKey=function(value){if("string"==typeof value||isSymbol$3(value))return value;var result=value+"";return"0"==result&&1/value==-1/0?"-0":result},castPath$1=_castPath,toKey$3=_toKey;var _baseGet=function(object2,path){for(var index=0,length=(path=castPath$1(path,object2)).length;null!=object2&&index<length;)object2=object2[toKey$3(path[index++])];return index&&index==length?object2:void 0},baseGet$3=_baseGet;var get_1=function(object2,path,defaultValue){var result=null==object2?void 0:baseGet$3(object2,path);return void 0===result?defaultValue:result};const get$3=getDefaultExportFromCjs(get_1);const isNil$1=getDefaultExportFromCjs(function(value){return null==value});var baseGetTag$6=_baseGetTag,isArray$b=isArray_1,isObjectLike$7=isObjectLike_1;const isString$2=getDefaultExportFromCjs(function(value){return"string"==typeof value||!isArray$b(value)&&isObjectLike$7(value)&&"[object String]"==baseGetTag$6(value)});var u$2,reactIs={exports:{}},reactIs_production_min={},b$1=Symbol.for("react.element"),c$2=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$4=Symbol.for("react.server_context"),l$1=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$2=Symbol.for("react.suspense_list"),p$2=Symbol.for("react.memo"),q$1=Symbol.for("react.lazy"),t$1=Symbol.for("react.offscreen");function v$1(a2){if("object"==typeof a2&&null!==a2){var r2=a2.$$typeof;switch(r2){case b$1:switch(a2=a2.type){case d$1:case f$1:case e:case m$2:case n$2:return a2;default:switch(a2=a2&&a2.$$typeof){case k$4:case h$1:case l$1:case q$1:case p$2:case g$1:return a2;default:return r2}}case c$2:return r2}}}u$2=Symbol.for("react.module.reference"),reactIs_production_min.ContextConsumer=h$1,reactIs_production_min.ContextProvider=g$1,reactIs_production_min.Element=b$1,reactIs_production_min.ForwardRef=l$1,reactIs_production_min.Fragment=d$1,reactIs_production_min.Lazy=q$1,reactIs_production_min.Memo=p$2,reactIs_production_min.Portal=c$2,reactIs_production_min.Profiler=f$1,reactIs_production_min.StrictMode=e,reactIs_production_min.Suspense=m$2,reactIs_production_min.SuspenseList=n$2,reactIs_production_min.isAsyncMode=function(){return!1},reactIs_production_min.isConcurrentMode=function(){return!1},reactIs_production_min.isContextConsumer=function(a2){return v$1(a2)===h$1},reactIs_production_min.isContextProvider=function(a2){return v$1(a2)===g$1},reactIs_production_min.isElement=function(a2){return"object"==typeof a2&&null!==a2&&a2.$$typeof===b$1},reactIs_production_min.isForwardRef=function(a2){return v$1(a2)===l$1},reactIs_production_min.isFragment=function(a2){return v$1(a2)===d$1},reactIs_production_min.isLazy=function(a2){return v$1(a2)===q$1},reactIs_production_min.isMemo=function(a2){return v$1(a2)===p$2},reactIs_production_min.isPortal=function(a2){return v$1(a2)===c$2},reactIs_production_min.isProfiler=function(a2){return v$1(a2)===f$1},reactIs_production_min.isStrictMode=function(a2){return v$1(a2)===e},reactIs_production_min.isSuspense=function(a2){return v$1(a2)===m$2},reactIs_production_min.isSuspenseList=function(a2){return v$1(a2)===n$2},reactIs_production_min.isValidElementType=function(a2){return"string"==typeof a2||"function"==typeof a2||a2===d$1||a2===f$1||a2===e||a2===m$2||a2===n$2||a2===t$1||"object"==typeof a2&&null!==a2&&(a2.$$typeof===q$1||a2.$$typeof===p$2||a2.$$typeof===g$1||a2.$$typeof===h$1||a2.$$typeof===l$1||a2.$$typeof===u$2||void 0!==a2.getModuleId)},reactIs_production_min.typeOf=v$1,reactIs.exports=reactIs_production_min;var reactIsExports=reactIs.exports,baseGetTag$5=_baseGetTag,isObjectLike$6=isObjectLike_1;var isNumber_1=function(value){return"number"==typeof value||isObjectLike$6(value)&&"[object Number]"==baseGetTag$5(value)};const isNumber$3=getDefaultExportFromCjs(isNumber_1);var isNumber$1=isNumber_1;const isNan=getDefaultExportFromCjs(function(value){return isNumber$1(value)&&value!=+value});var mathSign=function(value){return 0===value?0:value>0?1:-1},isPercent=function(value){return isString$2(value)&&value.indexOf("%")===value.length-1},isNumber=function(value){return isNumber$3(value)&&!isNan(value)},isNumOrStr=function(value){return isNumber(value)||isString$2(value)},idCounter=0,uniqueId=function(prefix2){var id2=++idCounter;return"".concat(prefix2||"").concat(id2)},getPercentValue=function(percent,totalValue){var value,defaultValue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,validate=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!isNumber(percent)&&!isString$2(percent))return defaultValue;if(isPercent(percent)){var index=percent.indexOf("%");value=totalValue*parseFloat(percent.slice(0,index))/100}else value=+percent;return isNan(value)&&(value=defaultValue),validate&&value>totalValue&&(value=totalValue),value},getAnyElementOfObject=function(obj){if(!obj)return null;var keys2=Object.keys(obj);return keys2&&keys2.length?obj[keys2[0]]:null},interpolateNumber$2=function(numberA,numberB){return isNumber(numberA)&&isNumber(numberB)?function(t3){return numberA+t3*(numberB-numberA)}:function(){return numberB}};function findEntryInArray(ary,specifiedKey,specifiedValue){return ary&&ary.length?ary.find(function(entry){return entry&&("function"==typeof specifiedKey?specifiedKey(entry):get$3(entry,specifiedKey))===specifiedValue}):null}var compareValues=function(a2,b2){return isNumber(a2)&&isNumber(b2)?a2-b2:isString$2(a2)&&isString$2(b2)?a2.localeCompare(b2):a2 instanceof Date&&b2 instanceof Date?a2.getTime()-b2.getTime():String(a2).localeCompare(String(b2))};function shallowEqual(a2,b2){for(var key in a2)if({}.hasOwnProperty.call(a2,key)&&(!{}.hasOwnProperty.call(b2,key)||a2[key]!==b2[key]))return!1;for(var _key in b2)if({}.hasOwnProperty.call(b2,_key)&&!{}.hasOwnProperty.call(a2,_key))return!1;return!0}function _typeof$O(o2){return(_typeof$O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}var SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:["viewBox","children"],polygon:PolyElementKeys,polyline:PolyElementKeys},EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],adaptEventHandlers=function(props,newHandler){if(!props||"function"==typeof props||"boolean"==typeof props)return null;var inputProps=props;if(reactExports.isValidElement(props)&&(inputProps=props.props),!isObject$9(inputProps))return null;var out={};return Object.keys(inputProps).forEach(function(key){EventKeys.includes(key)&&(out[key]=newHandler||function(e3){return inputProps[key](inputProps,e3)})}),out},adaptEventsOfChild=function(props,data,index){if(!isObject$9(props)||"object"!==_typeof$O(props))return null;var out=null;return Object.keys(props).forEach(function(key){var item=props[key];EventKeys.includes(key)&&"function"==typeof item&&(out||(out={}),out[key]=function(originalHandler,data,index){return function(e3){return originalHandler(data,index,e3),null}}(item,data,index))}),out},_excluded$i=["children"],_excluded2$6=["children"];function _objectWithoutProperties$i(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var REACT_BROWSER_EVENT_MAP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},getDisplayName=function(Comp){return"string"==typeof Comp?Comp:Comp?Comp.displayName||Comp.name||"Component":""},lastChildren=null,lastResult=null,toArray=function toArray2(children){if(children===lastChildren&&Array.isArray(lastResult))return lastResult;var result=[];return reactExports.Children.forEach(children,function(child){isNil$1(child)||(reactIsExports.isFragment(child)?result=result.concat(toArray2(child.props.children)):result.push(child))}),lastResult=result,lastChildren=children,result};function findAllByType(children,type){var result=[],types=[];return types=Array.isArray(type)?type.map(function(t3){return getDisplayName(t3)}):[getDisplayName(type)],toArray(children).forEach(function(child){var childType=get$3(child,"type.displayName")||get$3(child,"type.name");-1!==types.indexOf(childType)&&result.push(child)}),result}function findChildByType(children,type){var result=findAllByType(children,type);return result&&result[0]}var validateWidthHeight=function(el){if(!el||!el.props)return!1;var _el$props=el.props,width=_el$props.width,height=_el$props.height;return!(!isNumber(width)||width<=0||!isNumber(height)||height<=0)},SVG_TAGS=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],filterProps=function(props,includeEvents,svgElementType){if(!props||"function"==typeof props||"boolean"==typeof props)return null;var inputProps=props;if(reactExports.isValidElement(props)&&(inputProps=props.props),!isObject$9(inputProps))return null;var out={};return Object.keys(inputProps).forEach(function(key){var _inputProps;(function(property2,key,includeEvents,svgElementType){var _FilteredElementKeyMa,matchingElementTypeKeys=null!==(_FilteredElementKeyMa=null==FilteredElementKeyMap?void 0:FilteredElementKeyMap[svgElementType])&&void 0!==_FilteredElementKeyMa?_FilteredElementKeyMa:[];return key.startsWith("data-")||!isFunction$6(property2)&&(svgElementType&&matchingElementTypeKeys.includes(key)||SVGElementPropKeys.includes(key))||includeEvents&&EventKeys.includes(key)})(null===(_inputProps=inputProps)||void 0===_inputProps?void 0:_inputProps[key],key,includeEvents,svgElementType)&&(out[key]=inputProps[key])}),out},isChildrenEqual=function isChildrenEqual2(nextChildren,prevChildren){if(nextChildren===prevChildren)return!0;var count2=reactExports.Children.count(nextChildren);if(count2!==reactExports.Children.count(prevChildren))return!1;if(0===count2)return!0;if(1===count2)return isSingleChildEqual(Array.isArray(nextChildren)?nextChildren[0]:nextChildren,Array.isArray(prevChildren)?prevChildren[0]:prevChildren);for(var i2=0;i2<count2;i2++){var nextChild=nextChildren[i2],prevChild=prevChildren[i2];if(Array.isArray(nextChild)||Array.isArray(prevChild)){if(!isChildrenEqual2(nextChild,prevChild))return!1}else if(!isSingleChildEqual(nextChild,prevChild))return!1}return!0},isSingleChildEqual=function(nextChild,prevChild){if(isNil$1(nextChild)&&isNil$1(prevChild))return!0;if(!isNil$1(nextChild)&&!isNil$1(prevChild)){var _ref=nextChild.props||{},nextChildren=_ref.children,nextProps=_objectWithoutProperties$i(_ref,_excluded$i),_ref2=prevChild.props||{},prevChildren=_ref2.children,prevProps=_objectWithoutProperties$i(_ref2,_excluded2$6);return nextChildren&&prevChildren?shallowEqual(nextProps,prevProps)&&isChildrenEqual(nextChildren,prevChildren):!nextChildren&&!prevChildren&&shallowEqual(nextProps,prevProps)}return!1},renderByOrder=function(children,renderMap){var elements=[],record={};return toArray(children).forEach(function(child,index){if(function(child){return child&&child.type&&isString$2(child.type)&&SVG_TAGS.indexOf(child.type)>=0}(child))elements.push(child);else if(child){var displayName=getDisplayName(child.type),_ref3=renderMap[displayName]||{},handler=_ref3.handler,once=_ref3.once;if(handler&&(!once||!record[displayName])){var results=handler(child,displayName,index);elements.push(results),record[displayName]=!0}}}),elements},_excluded$h=["children","width","height","viewBox","className","style","title","desc"];function _extends$t(){return _extends$t=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$t.apply(this,arguments)}function _objectWithoutProperties$h(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function Surface(props){var children=props.children,width=props.width,height=props.height,viewBox=props.viewBox,className=props.className,style=props.style,title=props.title,desc=props.desc,others=_objectWithoutProperties$h(props,_excluded$h),svgView=viewBox||{width:width,height:height,x:0,y:0},layerClass=clsx("recharts-surface",className);return React$1.createElement("svg",_extends$t({},filterProps(others,!0,"svg"),{className:layerClass,width:width,height:height,style:style,viewBox:"".concat(svgView.x," ").concat(svgView.y," ").concat(svgView.width," ").concat(svgView.height)}),React$1.createElement("title",null,title),React$1.createElement("desc",null,desc),children)}var _excluded$g=["children","className"];function _extends$s(){return _extends$s=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$s.apply(this,arguments)}function _objectWithoutProperties$g(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Layer=React$1.forwardRef(function(props,ref){var children=props.children,className=props.className,others=_objectWithoutProperties$g(props,_excluded$g),layerClass=clsx("recharts-layer",className);return React$1.createElement("g",_extends$s({className:layerClass},filterProps(others,!0),{ref:ref}),children)}),warn=function(condition,format2){for(var _len=arguments.length,args=new Array(_len>2?_len-2:0),_key=2;_key<_len;_key++)args[_key-2]=arguments[_key]};var baseSlice=function(array2,start,end){var index=-1,length=array2.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array2[index+start];return result};var _castSlice=function(array2,start,end){var length=array2.length;return end=void 0===end?length:end,!start&&end>=length?array2:baseSlice(array2,start,end)},reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var _hasUnicode=function(string2){return reHasUnicode.test(string2)};var _asciiToArray=function(string2){return string2.split("")},rsAstral="[\\ud800-\\udfff]",rsCombo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");var asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=function(string2){return string2.match(reUnicode)||[]};var castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=function(string2){return hasUnicode$1(string2)?unicodeToArray(string2):asciiToArray(string2)},toString$2=toString_1;const upperFirst$1=getDefaultExportFromCjs(function(methodName){return function(string2){string2=toString$2(string2);var strSymbols=hasUnicode(string2)?stringToArray(string2):void 0,chr=strSymbols?strSymbols[0]:string2.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string2.slice(1);return chr[methodName]()+trailing}}("toUpperCase"));function constant$3(x2){return function(){return x2}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,tauEpsilon=tau-1e-6;function append(strings){this._+=strings[0];for(let i2=1,n2=strings.length;i2<n2;++i2)this._+=arguments[i2]+strings[i2]}class Path{constructor(digits){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==digits?append:function(digits){let d2=Math.floor(digits);if(!(d2>=0))throw new Error(`invalid digits: ${digits}`);if(d2>15)return append;const k2=10**d2;return function(strings){this._+=strings[0];for(let i2=1,n2=strings.length;i2<n2;++i2)this._+=Math.round(arguments[i2]*k2)/k2+strings[i2]}}(digits)}moveTo(x2,y2){this._append`M${this._x0=this._x1=+x2},${this._y0=this._y1=+y2}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(x2,y2){this._append`L${this._x1=+x2},${this._y1=+y2}`}quadraticCurveTo(x1,y1,x2,y2){this._append`Q${+x1},${+y1},${this._x1=+x2},${this._y1=+y2}`}bezierCurveTo(x1,y1,x2,y2,x3,y3){this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1=+x3},${this._y1=+y3}`}arcTo(x1,y1,x2,y2,r2){if(x1=+x1,y1=+y1,x2=+x2,y2=+y2,(r2=+r2)<0)throw new Error(`negative radius: ${r2}`);let x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(null===this._x1)this._append`M${this._x1=x1},${this._y1=y1}`;else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r2){let x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l2=r2*Math.tan((pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l2/l01,t21=l2/l21;Math.abs(t01-1)>1e-6&&this._append`L${x1+t01*x01},${y1+t01*y01}`,this._append`A${r2},${r2},0,0,${+(y01*x20>x01*y20)},${this._x1=x1+t21*x21},${this._y1=y1+t21*y21}`}else this._append`L${this._x1=x1},${this._y1=y1}`;else;}arc(x2,y2,r2,a0,a1,ccw){if(x2=+x2,y2=+y2,ccw=!!ccw,(r2=+r2)<0)throw new Error(`negative radius: ${r2}`);let dx=r2*Math.cos(a0),dy=r2*Math.sin(a0),x0=x2+dx,y0=y2+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;null===this._x1?this._append`M${x0},${y0}`:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&this._append`L${x0},${y0}`,r2&&(da<0&&(da=da%tau+tau),da>tauEpsilon?this._append`A${r2},${r2},0,1,${cw},${x2-dx},${y2-dy}A${r2},${r2},0,1,${cw},${this._x1=x0},${this._y1=y0}`:da>1e-6&&this._append`A${r2},${r2},0,${+(da>=pi)},${cw},${this._x1=x2+r2*Math.cos(a1)},${this._y1=y2+r2*Math.sin(a1)}`)}rect(x2,y2,w2,h2){this._append`M${this._x0=this._x1=+x2},${this._y0=this._y1=+y2}h${w2=+w2}v${+h2}h${-w2}Z`}toString(){return this._}}function withPath(shape){let digits=3;return shape.digits=function(_2){if(!arguments.length)return digits;if(null==_2)digits=null;else{const d2=Math.floor(_2);if(!(d2>=0))throw new RangeError(`invalid digits: ${_2}`);digits=d2}return shape},()=>new Path(digits)}function array(x2){return"object"==typeof x2&&"length"in x2?x2:Array.from(x2)}function Linear(context){this._context=context}function curveLinear(context){return new Linear(context)}function x$2(p2){return p2[0]}function y$1(p2){return p2[1]}function shapeLine(x2,y2){var defined3=constant$3(!0),context=null,curve=curveLinear,output=null,path=withPath(line);function line(data){var i2,d2,buffer,n2=(data=array(data)).length,defined0=!1;for(null==context&&(output=curve(buffer=path())),i2=0;i2<=n2;++i2)!(i2<n2&&defined3(d2=data[i2],i2,data))===defined0&&((defined0=!defined0)?output.lineStart():output.lineEnd()),defined0&&output.point(+x2(d2,i2,data),+y2(d2,i2,data));if(buffer)return output=null,buffer+""||null}return x2="function"==typeof x2?x2:void 0===x2?x$2:constant$3(x2),y2="function"==typeof y2?y2:void 0===y2?y$1:constant$3(y2),line.x=function(_2){return arguments.length?(x2="function"==typeof _2?_2:constant$3(+_2),line):x2},line.y=function(_2){return arguments.length?(y2="function"==typeof _2?_2:constant$3(+_2),line):y2},line.defined=function(_2){return arguments.length?(defined3="function"==typeof _2?_2:constant$3(!!_2),line):defined3},line.curve=function(_2){return arguments.length?(curve=_2,null!=context&&(output=curve(context)),line):curve},line.context=function(_2){return arguments.length?(null==_2?context=output=null:output=curve(context=_2),line):context},line}function shapeArea(x0,y0,y1){var x1=null,defined3=constant$3(!0),context=null,curve=curveLinear,output=null,path=withPath(area);function area(data){var i2,j2,k2,d2,buffer,n2=(data=array(data)).length,defined0=!1,x0z=new Array(n2),y0z=new Array(n2);for(null==context&&(output=curve(buffer=path())),i2=0;i2<=n2;++i2){if(!(i2<n2&&defined3(d2=data[i2],i2,data))===defined0)if(defined0=!defined0)j2=i2,output.areaStart(),output.lineStart();else{for(output.lineEnd(),output.lineStart(),k2=i2-1;k2>=j2;--k2)output.point(x0z[k2],y0z[k2]);output.lineEnd(),output.areaEnd()}defined0&&(x0z[i2]=+x0(d2,i2,data),y0z[i2]=+y0(d2,i2,data),output.point(x1?+x1(d2,i2,data):x0z[i2],y1?+y1(d2,i2,data):y0z[i2]))}if(buffer)return output=null,buffer+""||null}function arealine(){return shapeLine().defined(defined3).curve(curve).context(context)}return x0="function"==typeof x0?x0:void 0===x0?x$2:constant$3(+x0),y0="function"==typeof y0?y0:constant$3(void 0===y0?0:+y0),y1="function"==typeof y1?y1:void 0===y1?y$1:constant$3(+y1),area.x=function(_2){return arguments.length?(x0="function"==typeof _2?_2:constant$3(+_2),x1=null,area):x0},area.x0=function(_2){return arguments.length?(x0="function"==typeof _2?_2:constant$3(+_2),area):x0},area.x1=function(_2){return arguments.length?(x1=null==_2?null:"function"==typeof _2?_2:constant$3(+_2),area):x1},area.y=function(_2){return arguments.length?(y0="function"==typeof _2?_2:constant$3(+_2),y1=null,area):y0},area.y0=function(_2){return arguments.length?(y0="function"==typeof _2?_2:constant$3(+_2),area):y0},area.y1=function(_2){return arguments.length?(y1=null==_2?null:"function"==typeof _2?_2:constant$3(+_2),area):y1},area.lineX0=area.lineY0=function(){return arealine().x(x0).y(y0)},area.lineY1=function(){return arealine().x(x0).y(y1)},area.lineX1=function(){return arealine().x(x1).y(y0)},area.defined=function(_2){return arguments.length?(defined3="function"==typeof _2?_2:constant$3(!!_2),area):defined3},area.curve=function(_2){return arguments.length?(curve=_2,null!=context&&(output=curve(context)),area):curve},area.context=function(_2){return arguments.length?(null==_2?context=output=null:output=curve(context=_2),area):context},area}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x2,y2){switch(x2=+x2,y2=+y2,this._point){case 0:this._point=1,this._line?this._context.lineTo(x2,y2):this._context.moveTo(x2,y2);break;case 1:this._point=2;default:this._context.lineTo(x2,y2)}}};class Bump{constructor(context,x2){this._context=context,this._x=x2}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(x2,y2){switch(x2=+x2,y2=+y2,this._point){case 0:this._point=1,this._line?this._context.lineTo(x2,y2):this._context.moveTo(x2,y2);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+x2)/2,this._y0,this._x0,y2,x2,y2):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+y2)/2,x2,this._y0,x2,y2)}this._x0=x2,this._y0=y2}}const symbolCircle={draw(context,size){const r2=sqrt$1(size/pi$1);context.moveTo(r2,0),context.arc(0,0,r2,0,tau$1)}},symbolCross={draw(context,size){const r2=sqrt$1(size/5)/2;context.moveTo(-3*r2,-r2),context.lineTo(-r2,-r2),context.lineTo(-r2,-3*r2),context.lineTo(r2,-3*r2),context.lineTo(r2,-r2),context.lineTo(3*r2,-r2),context.lineTo(3*r2,r2),context.lineTo(r2,r2),context.lineTo(r2,3*r2),context.lineTo(-r2,3*r2),context.lineTo(-r2,r2),context.lineTo(-3*r2,r2),context.closePath()}},tan30=sqrt$1(1/3),tan30_2=2*tan30,symbolDiamond={draw(context,size){const y2=sqrt$1(size/tan30_2),x2=y2*tan30;context.moveTo(0,-y2),context.lineTo(x2,0),context.lineTo(0,y2),context.lineTo(-x2,0),context.closePath()}},symbolSquare={draw(context,size){const w2=sqrt$1(size),x2=-w2/2;context.rect(x2,x2,w2,w2)}},kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(context,size){const r2=sqrt$1(.8908130915292852*size),x2=kx*r2,y2=ky*r2;context.moveTo(0,-r2),context.lineTo(x2,y2);for(let i2=1;i2<5;++i2){const a2=tau$1*i2/5,c2=cos(a2),s2=sin(a2);context.lineTo(s2*r2,-c2*r2),context.lineTo(c2*x2-s2*y2,s2*x2+c2*y2)}context.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(context,size){const y2=-sqrt$1(size/(3*sqrt3));context.moveTo(0,2*y2),context.lineTo(-sqrt3*y2,-y2),context.lineTo(sqrt3*y2,-y2),context.closePath()}},c$1=-.5,s$2=sqrt$1(3)/2,k$3=1/sqrt$1(12),a$1=3*(k$3/2+1),symbolWye={draw(context,size){const r2=sqrt$1(size/a$1),x0=r2/2,y0=r2*k$3,x1=x0,y1=r2*k$3+r2,x2=-x1,y2=y1;context.moveTo(x0,y0),context.lineTo(x1,y1),context.lineTo(x2,y2),context.lineTo(c$1*x0-s$2*y0,s$2*x0+c$1*y0),context.lineTo(c$1*x1-s$2*y1,s$2*x1+c$1*y1),context.lineTo(c$1*x2-s$2*y2,s$2*x2+c$1*y2),context.lineTo(c$1*x0+s$2*y0,c$1*y0-s$2*x0),context.lineTo(c$1*x1+s$2*y1,c$1*y1-s$2*x1),context.lineTo(c$1*x2+s$2*y2,c$1*y2-s$2*x2),context.closePath()}};function noop$2(){}function point$2(that,x2,y2){that._context.bezierCurveTo((2*that._x0+that._x1)/3,(2*that._y0+that._y1)/3,(that._x0+2*that._x1)/3,(that._y0+2*that._y1)/3,(that._x0+4*that._x1+x2)/6,(that._y0+4*that._y1+y2)/6)}function Basis(context){this._context=context}function BasisClosed(context){this._context=context}function BasisOpen(context){this._context=context}function LinearClosed(context){this._context=context}function sign(x2){return x2<0?-1:1}function slope3(that,x2,y2){var h0=that._x1-that._x0,h1=x2-that._x1,s0=(that._y1-that._y0)/(h0||h1<0&&-0),s1=(y2-that._y1)/(h1||h0<0&&-0),p2=(s0*h1+s1*h0)/(h0+h1);return(sign(s0)+sign(s1))*Math.min(Math.abs(s0),Math.abs(s1),.5*Math.abs(p2))||0}function slope2(that,t3){var h2=that._x1-that._x0;return h2?(3*(that._y1-that._y0)/h2-t3)/2:t3}function point$1(that,t02,t12){var x0=that._x0,y0=that._y0,x1=that._x1,y1=that._y1,dx=(x1-x0)/3;that._context.bezierCurveTo(x0+dx,y0+dx*t02,x1-dx,y1-dx*t12,x1,y1)}function MonotoneX(context){this._context=context}function MonotoneY(context){this._context=new ReflectContext(context)}function ReflectContext(context){this._context=context}function Natural(context){this._context=context}function controlPoints(x2){var i2,m2,n2=x2.length-1,a2=new Array(n2),b2=new Array(n2),r2=new Array(n2);for(a2[0]=0,b2[0]=2,r2[0]=x2[0]+2*x2[1],i2=1;i2<n2-1;++i2)a2[i2]=1,b2[i2]=4,r2[i2]=4*x2[i2]+2*x2[i2+1];for(a2[n2-1]=2,b2[n2-1]=7,r2[n2-1]=8*x2[n2-1]+x2[n2],i2=1;i2<n2;++i2)m2=a2[i2]/b2[i2-1],b2[i2]-=m2,r2[i2]-=m2*r2[i2-1];for(a2[n2-1]=r2[n2-1]/b2[n2-1],i2=n2-2;i2>=0;--i2)a2[i2]=(r2[i2]-a2[i2+1])/b2[i2];for(b2[n2-1]=(x2[n2]+a2[n2-1])/2,i2=0;i2<n2-1;++i2)b2[i2]=2*x2[i2+1]-a2[i2+1];return[a2,b2]}function Step(context,t3){this._context=context,this._t=t3}function stackOffsetNone(series,order){if((n2=series.length)>1)for(var j2,s0,n2,i2=1,s1=series[order[0]],m2=s1.length;i2<n2;++i2)for(s0=s1,s1=series[order[i2]],j2=0;j2<m2;++j2)s1[j2][1]+=s1[j2][0]=isNaN(s0[j2][1])?s0[j2][0]:s0[j2][1]}function stackOrderNone(series){for(var n2=series.length,o2=new Array(n2);--n2>=0;)o2[n2]=n2;return o2}function stackValue(d2,key){return d2[key]}function stackSeries(key){const series=[];return series.key=key,series}function _typeof$N(o2){return(_typeof$N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x2,y2){switch(x2=+x2,y2=+y2,this._point){case 0:this._point=1,this._line?this._context.lineTo(x2,y2):this._context.moveTo(x2,y2);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,x2,y2)}this._x0=this._x1,this._x1=x2,this._y0=this._y1,this._y1=y2}},BasisClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(x2,y2){switch(x2=+x2,y2=+y2,this._point){case 0:this._point=1,this._x2=x2,this._y2=y2;break;case 1:this._point=2,this._x3=x2,this._y3=y2;break;case 2:this._point=3,this._x4=x2,this._y4=y2,this._context.moveTo((this._x0+4*this._x1+x2)/6,(this._y0+4*this._y1+y2)/6);break;default:point$2(this,x2,y2)}this._x0=this._x1,this._x1=x2,this._y0=this._y1,this._y1=y2}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x2,y2){switch(x2=+x2,y2=+y2,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var x0=(this._x0+4*this._x1+x2)/6,y0=(this._y0+4*this._y1+y2)/6;this._line?this._context.lineTo(x0,y0):this._context.moveTo(x0,y0);break;case 3:this._point=4;default:point$2(this,x2,y2)}this._x0=this._x1,this._x1=x2,this._y0=this._y1,this._y1=y2}},LinearClosed.prototype={areaStart:noop$2,areaEnd:noop$2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(x2,y2){x2=+x2,y2=+y2,this._point?this._context.lineTo(x2,y2):(this._point=1,this._context.moveTo(x2,y2))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x2,y2){var t12=NaN;if(y2=+y2,(x2=+x2)!==this._x1||y2!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x2,y2):this._context.moveTo(x2,y2);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,t12=slope3(this,x2,y2)),t12);break;default:point$1(this,this._t0,t12=slope3(this,x2,y2))}this._x0=this._x1,this._x1=x2,this._y0=this._y1,this._y1=y2,this._t0=t12}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(x2,y2){MonotoneX.prototype.point.call(this,y2,x2)},ReflectContext.prototype={moveTo:function(x2,y2){this._context.moveTo(y2,x2)},closePath:function(){this._context.closePath()},lineTo:function(x2,y2){this._context.lineTo(y2,x2)},bezierCurveTo:function(x1,y1,x2,y2,x3,y3){this._context.bezierCurveTo(y1,x1,y2,x2,y3,x3)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var x2=this._x,y2=this._y,n2=x2.length;if(n2)if(this._line?this._context.lineTo(x2[0],y2[0]):this._context.moveTo(x2[0],y2[0]),2===n2)this._context.lineTo(x2[1],y2[1]);else for(var px=controlPoints(x2),py=controlPoints(y2),i0=0,i1=1;i1<n2;++i0,++i1)this._context.bezierCurveTo(px[0][i0],py[0][i0],px[1][i0],py[1][i0],x2[i1],y2[i1]);(this._line||0!==this._line&&1===n2)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(x2,y2){this._x.push(+x2),this._y.push(+y2)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(x2,y2){switch(x2=+x2,y2=+y2,this._point){case 0:this._point=1,this._line?this._context.lineTo(x2,y2):this._context.moveTo(x2,y2);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,y2),this._context.lineTo(x2,y2);else{var x1=this._x*(1-this._t)+x2*this._t;this._context.lineTo(x1,this._y),this._context.lineTo(x1,y2)}}this._x=x2,this._y=y2}};var _excluded$f=["type","size","sizeType"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$r.apply(this,arguments)}function ownKeys$E(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$E(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$E(Object(t3),!0).forEach(function(r3){_defineProperty$L(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$E(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$L(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$N(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$N(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$N(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties$f(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var symbolFactories={symbolCircle:symbolCircle,symbolCross:symbolCross,symbolDiamond:symbolDiamond,symbolSquare:symbolSquare,symbolStar:symbolStar,symbolTriangle:symbolTriangle,symbolWye:symbolWye},RADIAN$2=Math.PI/180,Symbols=function(_ref){var symbolFactory,symbol,_ref$type=_ref.type,type=void 0===_ref$type?"circle":_ref$type,_ref$size=_ref.size,size=void 0===_ref$size?64:_ref$size,_ref$sizeType=_ref.sizeType,sizeType=void 0===_ref$sizeType?"area":_ref$sizeType,props=_objectSpread$E(_objectSpread$E({},_objectWithoutProperties$f(_ref,_excluded$f)),{},{type:type,size:size,sizeType:sizeType}),className=props.className,cx2=props.cx,cy=props.cy,filteredProps=filterProps(props,!0);return cx2===+cx2&&cy===+cy&&size===+size?React$1.createElement("path",_extends$r({},filteredProps,{className:clsx("recharts-symbols",className),transform:"translate(".concat(cx2,", ").concat(cy,")"),d:(symbolFactory=function(type){var name="symbol".concat(upperFirst$1(type));return symbolFactories[name]||symbolCircle}(type),symbol=function(type,size){let context=null,path=withPath(symbol);function symbol(){let buffer;if(context||(context=buffer=path()),type.apply(this,arguments).draw(context,+size.apply(this,arguments)),buffer)return context=null,buffer+""||null}return type="function"==typeof type?type:constant$3(type||symbolCircle),size="function"==typeof size?size:constant$3(void 0===size?64:+size),symbol.type=function(_2){return arguments.length?(type="function"==typeof _2?_2:constant$3(_2),symbol):type},symbol.size=function(_2){return arguments.length?(size="function"==typeof _2?_2:constant$3(+_2),symbol):size},symbol.context=function(_2){return arguments.length?(context=null==_2?null:_2,symbol):context},symbol}().type(symbolFactory).size(function(size,sizeType,type){if("area"===sizeType)return size;switch(type){case"cross":return 5*size*size/9;case"diamond":return.5*size*size/Math.sqrt(3);case"square":return size*size;case"star":var angle=18*RADIAN$2;return 1.25*size*size*(Math.tan(angle)-Math.tan(2*angle)*Math.pow(Math.tan(angle),2));case"triangle":return Math.sqrt(3)*size*size/4;case"wye":return(21-10*Math.sqrt(3))*size*size/8;default:return Math.PI*size*size/4}}(size,sizeType,type)),symbol())})):null};function _typeof$M(o2){return(_typeof$M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$q.apply(this,arguments)}function ownKeys$D(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _createClass$m(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$G(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$g(t3,o2,e3){return o2=_getPrototypeOf$h(o2),function(self2,call){if(call&&("object"===_typeof$M(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$h()?Reflect.construct(o2,e3||[],_getPrototypeOf$h(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$h(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$h=function(){return!!t3})()}function _getPrototypeOf$h(o2){return(_getPrototypeOf$h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$h(o2,p2){return(_setPrototypeOf$h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$K(obj,key,value){return(key=_toPropertyKey$G(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$G(t3){var i2=function(t3,r2){if("object"!=_typeof$M(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$M(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$M(i2)?i2:i2+""}Symbols.registerSymbol=function(key,factory){symbolFactories["symbol".concat(upperFirst$1(key))]=factory};var DefaultLegendContent=function(){function DefaultLegendContent2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DefaultLegendContent2),_callSuper$g(this,DefaultLegendContent2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$h(subClass,superClass)}(DefaultLegendContent2,reactExports.PureComponent),_createClass$m(DefaultLegendContent2,[{key:"renderIcon",value:function(data){var inactiveColor=this.props.inactiveColor,sixthSize=32/6,thirdSize=32/3,color2=data.inactive?inactiveColor:data.color;if("plainline"===data.type)return React$1.createElement("line",{strokeWidth:4,fill:"none",stroke:color2,strokeDasharray:data.payload.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===data.type)return React$1.createElement("path",{strokeWidth:4,fill:"none",stroke:color2,d:"M0,".concat(16,"h").concat(thirdSize,"\n            A").concat(sixthSize,",").concat(sixthSize,",0,1,1,").concat(2*thirdSize,",").concat(16,"\n            H").concat(32,"M").concat(2*thirdSize,",").concat(16,"\n            A").concat(sixthSize,",").concat(sixthSize,",0,1,1,").concat(thirdSize,",").concat(16),className:"recharts-legend-icon"});if("rect"===data.type)return React$1.createElement("path",{stroke:"none",fill:color2,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(React$1.isValidElement(data.legendIcon)){var iconProps=function(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$D(Object(t3),!0).forEach(function(r3){_defineProperty$K(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$D(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}({},data);return delete iconProps.legendIcon,React$1.cloneElement(data.legendIcon,iconProps)}return React$1.createElement(Symbols,{fill:color2,cx:16,cy:16,size:32,sizeType:"diameter",type:data.type})}},{key:"renderItems",value:function(){var _this=this,_this$props=this.props,payload=_this$props.payload,iconSize=_this$props.iconSize,layout=_this$props.layout,formatter=_this$props.formatter,inactiveColor=_this$props.inactiveColor,viewBox={x:0,y:0,width:32,height:32},itemStyle={display:"horizontal"===layout?"inline-block":"block",marginRight:10},svgStyle={display:"inline-block",verticalAlign:"middle",marginRight:4};return payload.map(function(entry,i2){var finalFormatter=entry.formatter||formatter,className=clsx(_defineProperty$K(_defineProperty$K({"recharts-legend-item":!0},"legend-item-".concat(i2),!0),"inactive",entry.inactive));if("none"===entry.type)return null;var entryValue=isFunction$6(entry.value)?null:entry.value;warn(!isFunction$6(entry.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var color2=entry.inactive?inactiveColor:entry.color;return React$1.createElement("li",_extends$q({className:className,style:itemStyle,key:"legend-item-".concat(i2)},adaptEventsOfChild(_this.props,entry,i2)),React$1.createElement(Surface,{width:iconSize,height:iconSize,viewBox:viewBox,style:svgStyle},_this.renderIcon(entry)),React$1.createElement("span",{className:"recharts-legend-item-text",style:{color:color2}},finalFormatter?finalFormatter(entryValue,entry,i2):entryValue))})}},{key:"render",value:function(){var _this$props2=this.props,payload=_this$props2.payload,layout=_this$props2.layout,align=_this$props2.align;if(!payload||!payload.length)return null;var finalStyle={padding:0,margin:0,textAlign:"horizontal"===layout?align:"left"};return React$1.createElement("ul",{className:"recharts-default-legend",style:finalStyle},this.renderItems())}}])}();_defineProperty$K(DefaultLegendContent,"displayName","Legend"),_defineProperty$K(DefaultLegendContent,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ListCache$2=_ListCache;var ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache;var ListCache=_ListCache,stackClear=function(){this.__data__=new ListCache$2,this.size=0},stackDelete=function(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},stackGet=function(key){return this.__data__.get(key)},stackHas=function(key){return this.__data__.has(key)},stackSet=function(key,value){var data=this.__data__;if(data instanceof ListCache$1){var pairs=data.__data__;if(!Map$2||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache$1(pairs)}return data.set(key,value),this.size=data.size,this};function Stack$2(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}Stack$2.prototype.clear=stackClear,Stack$2.prototype.delete=stackDelete,Stack$2.prototype.get=stackGet,Stack$2.prototype.has=stackHas,Stack$2.prototype.set=stackSet;var _Stack=Stack$2;var MapCache=_MapCache,setCacheAdd=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},setCacheHas=function(value){return this.__data__.has(value)};function SetCache$2(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd,SetCache$2.prototype.has=setCacheHas;var _SetCache=SetCache$2;var _arraySome=function(array2,predicate){for(var index=-1,length=null==array2?0:array2.length;++index<length;)if(predicate(array2[index],index,array2))return!0;return!1};var _cacheHas=function(cache,key){return cache.has(key)},SetCache$1=_SetCache,arraySome$1=_arraySome,cacheHas$1=_cacheHas;var _equalArrays=function(array2,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array2.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array2),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array2;var index=-1,result=!0,seen2=2&bitmask?new SetCache$1:void 0;for(stack.set(array2,other),stack.set(other,array2);++index<arrLength;){var arrValue=array2[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array2,stack):customizer(arrValue,othValue,index,array2,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen2){if(!arraySome$1(other,function(othValue2,othIndex){if(!cacheHas$1(seen2,othIndex)&&(arrValue===othValue2||equalFunc(arrValue,othValue2,bitmask,customizer,stack)))return seen2.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array2),stack.delete(other),result};var _setToArray=function(set2){var index=-1,result=Array(set2.size);return set2.forEach(function(value){result[++index]=value}),result},Uint8Array$1=_root.Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=function(map2){var index=-1,result=Array(map2.size);return map2.forEach(function(value,key){result[++index]=[key,value]}),result},setToArray$2=_setToArray,symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;var _equalByTag=function(object2,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case"[object DataView]":if(object2.byteLength!=other.byteLength||object2.byteOffset!=other.byteOffset)return!1;object2=object2.buffer,other=other.buffer;case"[object ArrayBuffer]":return!(object2.byteLength!=other.byteLength||!equalFunc(new Uint8Array$1(object2),new Uint8Array$1(other)));case"[object Boolean]":case"[object Date]":case"[object Number]":return eq$1(+object2,+other);case"[object Error]":return object2.name==other.name&&object2.message==other.message;case"[object RegExp]":case"[object String]":return object2==other+"";case"[object Map]":var convert=mapToArray;case"[object Set]":var isPartial=1&bitmask;if(convert||(convert=setToArray$2),object2.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object2);if(stacked)return stacked==other;bitmask|=2,stack.set(object2,other);var result=equalArrays$1(convert(object2),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object2),result;case"[object Symbol]":if(symbolValueOf)return symbolValueOf.call(object2)==symbolValueOf.call(other)}return!1};var _arrayPush=function(array2,values){for(var index=-1,length=values.length,offset=array2.length;++index<length;)array2[offset+index]=values[index];return array2},arrayPush$1=_arrayPush,isArray$a=isArray_1;var _baseGetAllKeys=function(object2,keysFunc,symbolsFunc){var result=keysFunc(object2);return isArray$a(object2)?result:arrayPush$1(result,symbolsFunc(object2))};var arrayFilter=function(array2,predicate){for(var index=-1,length=null==array2?0:array2.length,resIndex=0,result=[];++index<length;){var value=array2[index];predicate(value,index,array2)&&(result[resIndex++]=value)}return result},stubArray=function(){return[]},propertyIsEnumerable$1=Object.prototype.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,_getSymbols=nativeGetSymbols?function(object2){return null==object2?[]:(object2=Object(object2),arrayFilter(nativeGetSymbols(object2),function(symbol){return propertyIsEnumerable$1.call(object2,symbol)}))}:stubArray;var _baseTimes=function(n2,iteratee){for(var index=-1,result=Array(n2);++index<n2;)result[index]=iteratee(index);return result},baseGetTag$4=_baseGetTag,isObjectLike$5=isObjectLike_1;var module,exports,root3,stubFalse2,freeExports,freeModule,Buffer2,isBuffer2,baseIsArguments=function(value){return isObjectLike$5(value)&&"[object Arguments]"==baseGetTag$4(value)},isObjectLike$4=isObjectLike_1,objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments_1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike$4(value)&&hasOwnProperty$6.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isBuffer$2={exports:{}};module=isBuffer$2,root3=_root,stubFalse2=function(){return!1},freeExports=(exports=isBuffer$2.exports)&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,Buffer2=freeModule&&freeModule.exports===freeExports?root3.Buffer:void 0,isBuffer2=(Buffer2?Buffer2.isBuffer:void 0)||stubFalse2,module.exports=isBuffer2;var isBufferExports=isBuffer$2.exports,reIsUint=/^(?:0|[1-9]\d*)$/;var _isIndex=function(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length};var isLength_1=function(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991},baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$3=isObjectLike_1,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1;var _baseIsTypedArray=function(value){return isObjectLike$3(value)&&isLength$2(value.length)&&!!typedArrayTags[baseGetTag$3(value)]};var _baseUnary=function(func){return function(value){return func(value)}},_nodeUtil={exports:{}};!function(module,exports){var freeGlobal2=_freeGlobal,freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,freeProcess=freeModule&&freeModule.exports===freeExports&&freeGlobal2.process,nodeUtil2=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e3){}}();module.exports=nodeUtil2}(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary$1=_baseUnary,nodeIsTypedArray=_nodeUtilExports&&_nodeUtilExports.isTypedArray,isTypedArray_1=nodeIsTypedArray?baseUnary$1(nodeIsTypedArray):baseIsTypedArray,baseTimes=_baseTimes,isArguments$2=isArguments_1,isArray$9=isArray_1,isBuffer$1=isBufferExports,isIndex$2=_isIndex,isTypedArray$2=isTypedArray_1,hasOwnProperty$5=Object.prototype.hasOwnProperty;var _arrayLikeKeys=function(value,inherited){var isArr=isArray$9(value),isArg=!isArr&&isArguments$2(value),isBuff=!isArr&&!isArg&&isBuffer$1(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray$2(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty$5.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex$2(key,length))||result.push(key);return result},objectProto$4=Object.prototype;var _isPrototype=function(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto$4)};var _overArg=function(func,transform){return function(arg){return func(transform(arg))}},nativeKeys$1=_overArg(Object.keys,Object),isPrototype=_isPrototype,nativeKeys=nativeKeys$1,hasOwnProperty$4=Object.prototype.hasOwnProperty;var isFunction$3=isFunction_1,isLength$1=isLength_1;var isArrayLike_1=function(value){return null!=value&&isLength$1(value.length)&&!isFunction$3(value)},arrayLikeKeys=_arrayLikeKeys,baseKeys=function(object2){if(!isPrototype(object2))return nativeKeys(object2);var result=[];for(var key in Object(object2))hasOwnProperty$4.call(object2,key)&&"constructor"!=key&&result.push(key);return result},isArrayLike$4=isArrayLike_1;var keys_1=function(object2){return isArrayLike$4(object2)?arrayLikeKeys(object2):baseKeys(object2)},baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys$4=keys_1;var getAllKeys=function(object2){return baseGetAllKeys(object2,keys$4,getSymbols)},hasOwnProperty$3=Object.prototype.hasOwnProperty;var _equalObjects=function(object2,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object2),objLength=objProps.length;if(objLength!=getAllKeys(other).length&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty$3.call(other,key)))return!1}var objStacked=stack.get(object2),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object2;var result=!0;stack.set(object2,other),stack.set(other,object2);for(var skipCtor=isPartial;++index<objLength;){var objValue=object2[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object2,stack):customizer(objValue,othValue,key,object2,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object2.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object2)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object2),stack.delete(other),result},_DataView=_getNative(_root,"DataView"),_Promise=_getNative(_root,"Promise"),_Set=_getNative(_root,"Set"),DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$2=_Set,WeakMap$1=_getNative(_root,"WeakMap"),baseGetTag$2=_baseGetTag,toSource=_toSource,dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$1),getTag$2=baseGetTag$2;(DataView$1&&"[object DataView]"!=getTag$2(new DataView$1(new ArrayBuffer(1)))||Map$1&&"[object Map]"!=getTag$2(new Map$1)||Promise$1&&"[object Promise]"!=getTag$2(Promise$1.resolve())||Set$2&&"[object Set]"!=getTag$2(new Set$2)||WeakMap$1&&"[object WeakMap]"!=getTag$2(new WeakMap$1))&&(getTag$2=function(value){var result=baseGetTag$2(value),Ctor="[object Object]"==result?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return"[object DataView]";case mapCtorString:return"[object Map]";case promiseCtorString:return"[object Promise]";case setCtorString:return"[object Set]";case weakMapCtorString:return"[object WeakMap]"}return result});var Stack$1=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$1=getTag$2,isArray$8=isArray_1,isBuffer=isBufferExports,isTypedArray$1=isTypedArray_1,hasOwnProperty$2=Object.prototype.hasOwnProperty;var baseIsEqualDeep=function(object2,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray$8(object2),othIsArr=isArray$8(other),objTag=objIsArr?"[object Array]":getTag$1(object2),othTag=othIsArr?"[object Array]":getTag$1(other),objIsObj="[object Object]"==(objTag="[object Arguments]"==objTag?"[object Object]":objTag),othIsObj="[object Object]"==(othTag="[object Arguments]"==othTag?"[object Object]":othTag),isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object2)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack$1),objIsArr||isTypedArray$1(object2)?equalArrays(object2,other,bitmask,customizer,equalFunc,stack):equalByTag(object2,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty$2.call(object2,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty$2.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object2.value():object2,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack$1),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return!!isSameTag&&(stack||(stack=new Stack$1),equalObjects(object2,other,bitmask,customizer,equalFunc,stack))},isObjectLike$2=isObjectLike_1;var _baseIsEqual=function baseIsEqual$3(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike$2(value)&&!isObjectLike$2(other)?value!=value&&other!=other:baseIsEqualDeep(value,other,bitmask,customizer,baseIsEqual$3,stack))},Stack=_Stack,baseIsEqual$2=_baseIsEqual;var isObject$5=isObject_1;var _isStrictComparable=function(value){return value==value&&!isObject$5(value)},isStrictComparable$1=_isStrictComparable,keys$3=keys_1;var _matchesStrictComparable=function(key,srcValue){return function(object2){return null!=object2&&(object2[key]===srcValue&&(void 0!==srcValue||key in Object(object2)))}},baseIsMatch=function(object2,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object2)return!length;for(object2=Object(object2);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object2[data[0]]:!(data[0]in object2))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object2[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object2))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object2,source,stack);if(!(void 0===result?baseIsEqual$2(srcValue,objValue,3,customizer,stack):result))return!1}}return!0},getMatchData=function(object2){for(var result=keys$3(object2),length=result.length;length--;){var key=result[length],value=object2[key];result[length]=[key,value,isStrictComparable$1(value)]}return result},matchesStrictComparable$1=_matchesStrictComparable;var castPath=_castPath,isArguments$1=isArguments_1,isArray$7=isArray_1,isIndex$1=_isIndex,isLength=isLength_1,toKey$2=_toKey;var baseHasIn=function(object2,key){return null!=object2&&key in Object(object2)},hasPath=function(object2,path,hasFunc){for(var index=-1,length=(path=castPath(path,object2)).length,result=!1;++index<length;){var key=toKey$2(path[index]);if(!(result=null!=object2&&hasFunc(object2,key)))break;object2=object2[key]}return result||++index!=length?result:!!(length=null==object2?0:object2.length)&&isLength(length)&&isIndex$1(key,length)&&(isArray$7(object2)||isArguments$1(object2))};var baseIsEqual$1=_baseIsEqual,get$1=get_1,hasIn=function(object2,path){return null!=object2&&hasPath(object2,path,baseHasIn)},isKey$2=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey;var identity_1=function(value){return value};var baseGet$2=_baseGet;var baseProperty=function(key){return function(object2){return null==object2?void 0:object2[key]}},basePropertyDeep=function(path){return function(object2){return baseGet$2(object2,path)}},isKey$1=_isKey,toKey=_toKey;var baseMatches=function(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable$1(matchData[0][0],matchData[0][1]):function(object2){return object2===source||baseIsMatch(object2,source,matchData)}},baseMatchesProperty=function(path,srcValue){return isKey$2(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey$1(path),srcValue):function(object2){var objValue=get$1(object2,path);return void 0===objValue&&objValue===srcValue?hasIn(object2,path):baseIsEqual$1(srcValue,objValue,3)}},identity$a=identity_1,isArray$6=isArray_1,property=function(path){return isKey$1(path)?baseProperty(toKey(path)):basePropertyDeep(path)};var _baseIteratee=function(value){return"function"==typeof value?value:null==value?identity$a:"object"==typeof value?isArray$6(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)};var _baseFindIndex=function(array2,predicate,fromIndex,fromRight){for(var length=array2.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array2[index],index,array2))return index;return-1};var baseFindIndex$1=_baseFindIndex,baseIsNaN=function(value){return value!=value},strictIndexOf=function(array2,value,fromIndex){for(var index=fromIndex-1,length=array2.length;++index<length;)if(array2[index]===value)return index;return-1};var baseIndexOf=function(array2,value,fromIndex){return value==value?strictIndexOf(array2,value,fromIndex):baseFindIndex$1(array2,baseIsNaN,fromIndex)};var _arrayIncludes=function(array2,value){return!!(null==array2?0:array2.length)&&baseIndexOf(array2,value,0)>-1};var _arrayIncludesWith=function(array2,value,comparator){for(var index=-1,length=null==array2?0:array2.length;++index<length;)if(comparator(value,array2[index]))return!0;return!1};var Set$1=_Set,noop=function(){},createSet$1=Set$1&&1/_setToArray(new Set$1([,-0]))[1]==1/0?function(values){return new Set$1(values)}:noop,SetCache=_SetCache,arrayIncludes=_arrayIncludes,arrayIncludesWith=_arrayIncludesWith,cacheHas=_cacheHas,createSet=createSet$1,setToArray=_setToArray;var baseIteratee$9=_baseIteratee,baseUniq=function(array2,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array2.length,isCommon=!0,result=[],seen2=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set2=iteratee?null:createSet(array2);if(set2)return setToArray(set2);isCommon=!1,includes=cacheHas,seen2=new SetCache}else seen2=iteratee?[]:result;outer:for(;++index<length;){var value=array2[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen2.length;seenIndex--;)if(seen2[seenIndex]===computed)continue outer;iteratee&&seen2.push(computed),result.push(value)}else includes(seen2,computed,comparator)||(seen2!==result&&seen2.push(computed),result.push(value))}return result};const uniqBy$1=getDefaultExportFromCjs(function(array2,iteratee){return array2&&array2.length?baseUniq(array2,baseIteratee$9(iteratee)):[]});function getUniqPayload(payload,option,defaultUniqBy2){return!0===option?uniqBy$1(payload,defaultUniqBy2):isFunction$6(option)?uniqBy$1(payload,option):payload}function _typeof$L(o2){return(_typeof$L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}var _excluded$e=["ref"];function ownKeys$C(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$C(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$C(Object(t3),!0).forEach(function(r3){_defineProperty$J(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$C(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperties$k(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$F(descriptor.key),descriptor)}}function _callSuper$f(t3,o2,e3){return o2=_getPrototypeOf$g(o2),function(self2,call){if(call&&("object"===_typeof$L(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$g()?Reflect.construct(o2,e3||[],_getPrototypeOf$g(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$g(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$g=function(){return!!t3})()}function _getPrototypeOf$g(o2){return(_getPrototypeOf$g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$g(o2,p2){return(_setPrototypeOf$g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$J(obj,key,value){return(key=_toPropertyKey$F(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$F(t3){var i2=function(t3,r2){if("object"!=_typeof$L(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$L(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$L(i2)?i2:i2+""}function _objectWithoutProperties$e(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function defaultUniqBy$1(entry){return entry.value}var Legend=function(){function Legend2(){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Legend2);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty$J(_this=_callSuper$f(this,Legend2,[].concat(args)),"lastBoundingBox",{width:-1,height:-1}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$g(subClass,superClass)}(Legend2,reactExports.PureComponent),Constructor=Legend2,staticProps=[{key:"getWithHeight",value:function(item,chartWidth){var layout=_objectSpread$C(_objectSpread$C({},this.defaultProps),item.props).layout;return"vertical"===layout&&isNumber(item.props.height)?{height:item.props.height}:"horizontal"===layout?{width:item.props.width||chartWidth}:null}}],(protoProps=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var box=this.wrapperNode.getBoundingClientRect();return box.height=this.wrapperNode.offsetHeight,box.width=this.wrapperNode.offsetWidth,box}return null}},{key:"updateBBox",value:function(){var onBBoxUpdate=this.props.onBBoxUpdate,box=this.getBBox();box?(Math.abs(box.width-this.lastBoundingBox.width)>1||Math.abs(box.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=box.width,this.lastBoundingBox.height=box.height,onBBoxUpdate&&onBBoxUpdate(box)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,onBBoxUpdate&&onBBoxUpdate(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?_objectSpread$C({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(style){var hPos,vPos,_this$props=this.props,layout=_this$props.layout,align=_this$props.align,verticalAlign=_this$props.verticalAlign,margin=_this$props.margin,chartWidth=_this$props.chartWidth,chartHeight=_this$props.chartHeight;return style&&(void 0!==style.left&&null!==style.left||void 0!==style.right&&null!==style.right)||(hPos="center"===align&&"vertical"===layout?{left:((chartWidth||0)-this.getBBoxSnapshot().width)/2}:"right"===align?{right:margin&&margin.right||0}:{left:margin&&margin.left||0}),style&&(void 0!==style.top&&null!==style.top||void 0!==style.bottom&&null!==style.bottom)||(vPos="middle"===verticalAlign?{top:((chartHeight||0)-this.getBBoxSnapshot().height)/2}:"bottom"===verticalAlign?{bottom:margin&&margin.bottom||0}:{top:margin&&margin.top||0}),_objectSpread$C(_objectSpread$C({},hPos),vPos)}},{key:"render",value:function(){var _this2=this,_this$props2=this.props,content=_this$props2.content,width=_this$props2.width,height=_this$props2.height,wrapperStyle=_this$props2.wrapperStyle,payloadUniqBy=_this$props2.payloadUniqBy,payload=_this$props2.payload,outerStyle=_objectSpread$C(_objectSpread$C({position:"absolute",width:width||"auto",height:height||"auto"},this.getDefaultPosition(wrapperStyle)),wrapperStyle);return React$1.createElement("div",{className:"recharts-legend-wrapper",style:outerStyle,ref:function(node){_this2.wrapperNode=node}},function(content,props){if(React$1.isValidElement(content))return React$1.cloneElement(content,props);if("function"==typeof content)return React$1.createElement(content,props);props.ref;var otherProps=_objectWithoutProperties$e(props,_excluded$e);return React$1.createElement(DefaultLegendContent,otherProps)}(content,_objectSpread$C(_objectSpread$C({},this.props),{},{payload:getUniqPayload(payload,payloadUniqBy,defaultUniqBy$1)})))}}])&&_defineProperties$k(Constructor.prototype,protoProps),staticProps&&_defineProperties$k(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();_defineProperty$J(Legend,"displayName","Legend"),_defineProperty$J(Legend,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var isArguments=isArguments_1,isArray$5=isArray_1,spreadableSymbol=_Symbol?_Symbol.isConcatSpreadable:void 0;var arrayPush=_arrayPush,isFlattenable=function(value){return isArray$5(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])};var _baseFlatten=function baseFlatten$2(array2,depth,predicate,isStrict,result){var index=-1,length=array2.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array2[index];depth>0&&predicate(value)?depth>1?baseFlatten$2(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result};var baseFor=function(fromRight){return function(object2,iteratee,keysFunc){for(var index=-1,iterable=Object(object2),props=keysFunc(object2),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object2}}(),keys$2=keys_1;var _baseForOwn=function(object2,iteratee){return object2&&baseFor(object2,iteratee,keys$2)},isArrayLike$3=isArrayLike_1;var _baseEach=function(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike$3(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}(_baseForOwn),baseEach$2=_baseEach,isArrayLike$2=isArrayLike_1;var _baseMap=function(collection,iteratee){var index=-1,result=isArrayLike$2(collection)?Array(collection.length):[];return baseEach$2(collection,function(value,key,collection2){result[++index]=iteratee(value,key,collection2)}),result};var isSymbol$2=isSymbol_1;var compareAscending=function(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol$2(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol$2(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0};var arrayMap$1=_arrayMap,baseGet$1=_baseGet,baseIteratee$8=_baseIteratee,baseMap$1=_baseMap,baseSortBy=function(array2,comparer){var length=array2.length;for(array2.sort(comparer);length--;)array2[length]=array2[length].value;return array2},baseUnary=_baseUnary,compareMultiple=function(object2,other,orders){for(var index=-1,objCriteria=object2.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object2.index-other.index},identity$9=identity_1,isArray$4=isArray_1;var _baseOrderBy=function(collection,iteratees,orders){iteratees=iteratees.length?arrayMap$1(iteratees,function(iteratee){return isArray$4(iteratee)?function(value){return baseGet$1(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee}):[identity$9];var index=-1;iteratees=arrayMap$1(iteratees,baseUnary(baseIteratee$8));var result=baseMap$1(collection,function(value,key,collection2){return{criteria:arrayMap$1(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}});return baseSortBy(result,function(object2,other){return compareMultiple(object2,other,orders)})};var apply=function(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)},nativeMax$3=Math.max;var _overRest=function(func,start,transform){return start=nativeMax$3(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax$3(args.length-start,0),array2=Array(length);++index<length;)array2[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array2),apply(func,this,otherArgs)}};var constant_1=function(value){return function(){return value}},getNative=_getNative,_defineProperty$I=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e3){}}(),constant$1=constant_1,defineProperty$1=_defineProperty$I,_baseSetToString=defineProperty$1?function(func,string2){return defineProperty$1(func,"toString",{configurable:!0,enumerable:!1,value:constant$1(string2),writable:!0})}:identity_1,nativeNow=Date.now;var setToString$1=function(func){var count2=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count2>=800)return arguments[0]}else count2=0;return func.apply(void 0,arguments)}}(_baseSetToString),identity$7=identity_1,overRest=_overRest,setToString=setToString$1;var eq=eq_1,isArrayLike$1=isArrayLike_1,isIndex=_isIndex,isObject$4=isObject_1;var _isIterateeCall=function(value,index,object2){if(!isObject$4(object2))return!1;var type=typeof index;return!!("number"==type?isArrayLike$1(object2)&&isIndex(index,object2.length):"string"==type&&index in object2)&&eq(object2[index],value)},baseFlatten$1=_baseFlatten,baseOrderBy=_baseOrderBy,isIterateeCall$3=_isIterateeCall;const sortBy$1=getDefaultExportFromCjs(function(func,start){return setToString(overRest(func,start,identity$7),func+"")}(function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall$3(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall$3(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten$1(iteratees,1),[])}));function _typeof$K(o2){return(_typeof$K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$p.apply(this,arguments)}function _slicedToArray$e(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$o(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$o(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$o(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function ownKeys$B(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$B(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$B(Object(t3),!0).forEach(function(r3){_defineProperty$H(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$B(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$H(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$K(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$K(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$K(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function defaultFormatter(value){return Array.isArray(value)&&isNumOrStr(value[0])&&isNumOrStr(value[1])?value.join(" ~ "):value}var DefaultTooltipContent=function(props){var _props$separator=props.separator,separator=void 0===_props$separator?" : ":_props$separator,_props$contentStyle=props.contentStyle,contentStyle=void 0===_props$contentStyle?{}:_props$contentStyle,_props$itemStyle=props.itemStyle,itemStyle=void 0===_props$itemStyle?{}:_props$itemStyle,_props$labelStyle=props.labelStyle,labelStyle=void 0===_props$labelStyle?{}:_props$labelStyle,payload=props.payload,formatter=props.formatter,itemSorter=props.itemSorter,wrapperClassName=props.wrapperClassName,labelClassName=props.labelClassName,label=props.label,labelFormatter=props.labelFormatter,_props$accessibilityL=props.accessibilityLayer,accessibilityLayer=void 0!==_props$accessibilityL&&_props$accessibilityL,finalStyle=_objectSpread$B({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},contentStyle),finalLabelStyle=_objectSpread$B({margin:0},labelStyle),hasLabel=!isNil$1(label),finalLabel=hasLabel?label:"",wrapperCN=clsx("recharts-default-tooltip",wrapperClassName),labelCN=clsx("recharts-tooltip-label",labelClassName);hasLabel&&labelFormatter&&null!=payload&&(finalLabel=labelFormatter(label,payload));var accessibilityAttributes=accessibilityLayer?{role:"status","aria-live":"assertive"}:{};return React$1.createElement("div",_extends$p({className:wrapperCN,style:finalStyle},accessibilityAttributes),React$1.createElement("p",{className:labelCN,style:finalLabelStyle},React$1.isValidElement(finalLabel)?finalLabel:"".concat(finalLabel)),function(){if(payload&&payload.length){var items=(itemSorter?sortBy$1(payload,itemSorter):payload).map(function(entry,i2){if("none"===entry.type)return null;var finalItemStyle=_objectSpread$B({display:"block",paddingTop:4,paddingBottom:4,color:entry.color||"#000"},itemStyle),finalFormatter=entry.formatter||formatter||defaultFormatter,value=entry.value,name=entry.name,finalValue=value,finalName=name;if(finalFormatter&&null!=finalValue&&null!=finalName){var formatted=finalFormatter(value,name,entry,i2,payload);if(Array.isArray(formatted)){var _formatted=_slicedToArray$e(formatted,2);finalValue=_formatted[0],finalName=_formatted[1]}else finalValue=formatted}return React$1.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(i2),style:finalItemStyle},isNumOrStr(finalName)?React$1.createElement("span",{className:"recharts-tooltip-item-name"},finalName):null,isNumOrStr(finalName)?React$1.createElement("span",{className:"recharts-tooltip-item-separator"},separator):null,React$1.createElement("span",{className:"recharts-tooltip-item-value"},finalValue),React$1.createElement("span",{className:"recharts-tooltip-item-unit"},entry.unit||""))});return React$1.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},items)}return null}())};function _typeof$J(o2){return(_typeof$J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _defineProperty$G(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$J(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$J(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$J(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(_ref){var coordinate=_ref.coordinate,translateX=_ref.translateX,translateY=_ref.translateY;return clsx(CSS_CLASS_PREFIX,_defineProperty$G(_defineProperty$G(_defineProperty$G(_defineProperty$G({},"".concat(CSS_CLASS_PREFIX,"-right"),isNumber(translateX)&&coordinate&&isNumber(coordinate.x)&&translateX>=coordinate.x),"".concat(CSS_CLASS_PREFIX,"-left"),isNumber(translateX)&&coordinate&&isNumber(coordinate.x)&&translateX<coordinate.x),"".concat(CSS_CLASS_PREFIX,"-bottom"),isNumber(translateY)&&coordinate&&isNumber(coordinate.y)&&translateY>=coordinate.y),"".concat(CSS_CLASS_PREFIX,"-top"),isNumber(translateY)&&coordinate&&isNumber(coordinate.y)&&translateY<coordinate.y))}function getTooltipTranslateXY(_ref2){var allowEscapeViewBox=_ref2.allowEscapeViewBox,coordinate=_ref2.coordinate,key=_ref2.key,offsetTopLeft=_ref2.offsetTopLeft,position=_ref2.position,reverseDirection=_ref2.reverseDirection,tooltipDimension=_ref2.tooltipDimension,viewBox=_ref2.viewBox,viewBoxDimension=_ref2.viewBoxDimension;if(position&&isNumber(position[key]))return position[key];var negative=coordinate[key]-tooltipDimension-offsetTopLeft,positive=coordinate[key]+offsetTopLeft;return allowEscapeViewBox[key]?reverseDirection[key]?negative:positive:reverseDirection[key]?negative<viewBox[key]?Math.max(positive,viewBox[key]):Math.max(negative,viewBox[key]):positive+tooltipDimension>viewBox[key]+viewBoxDimension?Math.max(negative,viewBox[key]):Math.max(positive,viewBox[key])}function _typeof$I(o2){return(_typeof$I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$A(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$A(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$A(Object(t3),!0).forEach(function(r3){_defineProperty$F(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$A(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _createClass$k(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$C(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$e(t3,o2,e3){return o2=_getPrototypeOf$f(o2),function(self2,call){if(call&&("object"===_typeof$I(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$f()?Reflect.construct(o2,e3||[],_getPrototypeOf$f(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$f(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$f=function(){return!!t3})()}function _getPrototypeOf$f(o2){return(_getPrototypeOf$f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$f(o2,p2){return(_setPrototypeOf$f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$F(obj,key,value){return(key=_toPropertyKey$C(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$C(t3){var i2=function(t3,r2){if("object"!=_typeof$I(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$I(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$I(i2)?i2:i2+""}var TooltipBoundingBox=function(){function TooltipBoundingBox2(){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,TooltipBoundingBox2);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty$F(_this=_callSuper$e(this,TooltipBoundingBox2,[].concat(args)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),_defineProperty$F(_this,"handleKeyDown",function(event){var _this$props$coordinat,_this$props$coordinat2,_this$props$coordinat3,_this$props$coordinat4;"Escape"===event.key&&_this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(_this$props$coordinat=null===(_this$props$coordinat2=_this.props.coordinate)||void 0===_this$props$coordinat2?void 0:_this$props$coordinat2.x)&&void 0!==_this$props$coordinat?_this$props$coordinat:0,y:null!==(_this$props$coordinat3=null===(_this$props$coordinat4=_this.props.coordinate)||void 0===_this$props$coordinat4?void 0:_this$props$coordinat4.y)&&void 0!==_this$props$coordinat3?_this$props$coordinat3:0}})}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$f(subClass,superClass)}(TooltipBoundingBox2,reactExports.PureComponent),_createClass$k(TooltipBoundingBox2,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var box=this.wrapperNode.getBoundingClientRect();(Math.abs(box.width-this.state.lastBoundingBox.width)>1||Math.abs(box.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:box.width,height:box.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var _this$props$coordinat5,_this$props$coordinat6;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(_this$props$coordinat5=this.props.coordinate)||void 0===_this$props$coordinat5?void 0:_this$props$coordinat5.x)===this.state.dismissedAtCoordinate.x&&(null===(_this$props$coordinat6=this.props.coordinate)||void 0===_this$props$coordinat6?void 0:_this$props$coordinat6.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var _this2=this,_this$props=this.props,active=_this$props.active,allowEscapeViewBox=_this$props.allowEscapeViewBox,animationDuration=_this$props.animationDuration,animationEasing=_this$props.animationEasing,children=_this$props.children,coordinate=_this$props.coordinate,hasPayload=_this$props.hasPayload,isAnimationActive=_this$props.isAnimationActive,offset=_this$props.offset,position=_this$props.position,reverseDirection=_this$props.reverseDirection,useTranslate3d=_this$props.useTranslate3d,viewBox=_this$props.viewBox,wrapperStyle=_this$props.wrapperStyle,_getTooltipTranslate=function(_ref4){var translateX,translateY,allowEscapeViewBox=_ref4.allowEscapeViewBox,coordinate=_ref4.coordinate,offsetTopLeft=_ref4.offsetTopLeft,position=_ref4.position,reverseDirection=_ref4.reverseDirection,tooltipBox=_ref4.tooltipBox,useTranslate3d=_ref4.useTranslate3d,viewBox=_ref4.viewBox;return{cssProperties:tooltipBox.height>0&&tooltipBox.width>0&&coordinate?function(_ref3){var translateX=_ref3.translateX,translateY=_ref3.translateY;return{transform:_ref3.useTranslate3d?"translate3d(".concat(translateX,"px, ").concat(translateY,"px, 0)"):"translate(".concat(translateX,"px, ").concat(translateY,"px)")}}({translateX:translateX=getTooltipTranslateXY({allowEscapeViewBox:allowEscapeViewBox,coordinate:coordinate,key:"x",offsetTopLeft:offsetTopLeft,position:position,reverseDirection:reverseDirection,tooltipDimension:tooltipBox.width,viewBox:viewBox,viewBoxDimension:viewBox.width}),translateY:translateY=getTooltipTranslateXY({allowEscapeViewBox:allowEscapeViewBox,coordinate:coordinate,key:"y",offsetTopLeft:offsetTopLeft,position:position,reverseDirection:reverseDirection,tooltipDimension:tooltipBox.height,viewBox:viewBox,viewBoxDimension:viewBox.height}),useTranslate3d:useTranslate3d}):TOOLTIP_HIDDEN,cssClasses:getTooltipCSSClassName({translateX:translateX,translateY:translateY,coordinate:coordinate})}}({allowEscapeViewBox:allowEscapeViewBox,coordinate:coordinate,offsetTopLeft:offset,position:position,reverseDirection:reverseDirection,tooltipBox:this.state.lastBoundingBox,useTranslate3d:useTranslate3d,viewBox:viewBox}),cssClasses=_getTooltipTranslate.cssClasses,cssProperties=_getTooltipTranslate.cssProperties,outerStyle=_objectSpread$A(_objectSpread$A({transition:isAnimationActive&&active?"transform ".concat(animationDuration,"ms ").concat(animationEasing):void 0},cssProperties),{},{pointerEvents:"none",visibility:!this.state.dismissed&&active&&hasPayload?"visible":"hidden",position:"absolute",top:0,left:0},wrapperStyle);return React$1.createElement("div",{tabIndex:-1,className:cssClasses,style:outerStyle,ref:function(node){_this2.wrapperNode=node}},children)}}])}(),Global_isSsr=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function _typeof$H(o2){return(_typeof$H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$z(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$z(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$z(Object(t3),!0).forEach(function(r3){_defineProperty$E(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$z(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _createClass$j(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$B(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$d(t3,o2,e3){return o2=_getPrototypeOf$e(o2),function(self2,call){if(call&&("object"===_typeof$H(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$e()?Reflect.construct(o2,e3||[],_getPrototypeOf$e(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$e(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$e=function(){return!!t3})()}function _getPrototypeOf$e(o2){return(_getPrototypeOf$e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$e(o2,p2){return(_setPrototypeOf$e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$E(obj,key,value){return(key=_toPropertyKey$B(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$B(t3){var i2=function(t3,r2){if("object"!=_typeof$H(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$H(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$H(i2)?i2:i2+""}function defaultUniqBy(entry){return entry.dataKey}var Tooltip=function(){function Tooltip2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Tooltip2),_callSuper$d(this,Tooltip2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$e(subClass,superClass)}(Tooltip2,reactExports.PureComponent),_createClass$j(Tooltip2,[{key:"render",value:function(){var _this=this,_this$props=this.props,active=_this$props.active,allowEscapeViewBox=_this$props.allowEscapeViewBox,animationDuration=_this$props.animationDuration,animationEasing=_this$props.animationEasing,content=_this$props.content,coordinate=_this$props.coordinate,filterNull=_this$props.filterNull,isAnimationActive=_this$props.isAnimationActive,offset=_this$props.offset,payload=_this$props.payload,payloadUniqBy=_this$props.payloadUniqBy,position=_this$props.position,reverseDirection=_this$props.reverseDirection,useTranslate3d=_this$props.useTranslate3d,viewBox=_this$props.viewBox,wrapperStyle=_this$props.wrapperStyle,finalPayload=null!=payload?payload:[];filterNull&&finalPayload.length&&(finalPayload=getUniqPayload(payload.filter(function(entry){return null!=entry.value&&(!0!==entry.hide||_this.props.includeHidden)}),payloadUniqBy,defaultUniqBy));var hasPayload=finalPayload.length>0;return React$1.createElement(TooltipBoundingBox,{allowEscapeViewBox:allowEscapeViewBox,animationDuration:animationDuration,animationEasing:animationEasing,isAnimationActive:isAnimationActive,active:active,coordinate:coordinate,hasPayload:hasPayload,offset:offset,position:position,reverseDirection:reverseDirection,useTranslate3d:useTranslate3d,viewBox:viewBox,wrapperStyle:wrapperStyle},function(content,props){return React$1.isValidElement(content)?React$1.cloneElement(content,props):"function"==typeof content?React$1.createElement(content,props):React$1.createElement(DefaultTooltipContent,props)}(content,_objectSpread$z(_objectSpread$z({},this.props),{},{payload:finalPayload})))}}])}();_defineProperty$E(Tooltip,"displayName","Tooltip"),_defineProperty$E(Tooltip,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Global_isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var root=_root,reWhitespace=/\s/;var trimmedEndIndex=function(string2){for(var index=string2.length;index--&&reWhitespace.test(string2.charAt(index)););return index},reTrimStart=/^\s+/;var baseTrim=function(string2){return string2?string2.slice(0,trimmedEndIndex(string2)+1).replace(reTrimStart,""):string2},isObject$3=isObject_1,isSymbol$1=isSymbol_1,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;var toNumber_1=function(value){if("number"==typeof value)return value;if(isSymbol$1(value))return NaN;if(isObject$3(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject$3(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value},isObject$2=isObject_1,now=function(){return root.Date.now()},toNumber$1=toNumber_1,nativeMax$2=Math.max,nativeMin=Math.min;var debounce=function(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");function invokeFunc(time2){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time2,result=func.apply(thisArg,args)}function shouldInvoke(time2){var timeSinceLastCall=time2-lastCallTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time2-lastInvokeTime>=maxWait}function timerExpired(){var time2=now();if(shouldInvoke(time2))return trailingEdge(time2);timerId=setTimeout(timerExpired,function(time2){var timeWaiting=wait-(time2-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time2-lastInvokeTime)):timeWaiting}(time2))}function trailingEdge(time2){return timerId=void 0,trailing&&lastArgs?invokeFunc(time2):(lastArgs=lastThis=void 0,result)}function debounced(){var time2=now(),isInvoking=shouldInvoke(time2);if(lastArgs=arguments,lastThis=this,lastCallTime=time2,isInvoking){if(void 0===timerId)return function(time2){return lastInvokeTime=time2,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time2):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber$1(wait)||0,isObject$2(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax$2(toNumber$1(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0},debounced.flush=function(){return void 0===timerId?result:trailingEdge(now())},debounced},isObject$1=isObject_1;const throttle$1=getDefaultExportFromCjs(function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError("Expected a function");return isObject$1(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:wait,trailing:trailing})});function _typeof$G(o2){return(_typeof$G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$y(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$y(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$y(Object(t3),!0).forEach(function(r3){_defineProperty$D(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$y(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$D(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$G(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$G(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$G(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray$d(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$n(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$n(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$n(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var ResponsiveContainer=reactExports.forwardRef(function(_ref,ref){var aspect=_ref.aspect,_ref$initialDimension=_ref.initialDimension,initialDimension=void 0===_ref$initialDimension?{width:-1,height:-1}:_ref$initialDimension,_ref$width=_ref.width,width=void 0===_ref$width?"100%":_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?"100%":_ref$height,_ref$minWidth=_ref.minWidth,minWidth=void 0===_ref$minWidth?0:_ref$minWidth,minHeight=_ref.minHeight,maxHeight=_ref.maxHeight,children=_ref.children,_ref$debounce=_ref.debounce,debounce2=void 0===_ref$debounce?0:_ref$debounce,id2=_ref.id,className=_ref.className,onResize=_ref.onResize,_ref$style=_ref.style,style=void 0===_ref$style?{}:_ref$style,containerRef=reactExports.useRef(null),onResizeRef=reactExports.useRef();onResizeRef.current=onResize,reactExports.useImperativeHandle(ref,function(){return Object.defineProperty(containerRef.current,"current",{get:function(){return containerRef.current},configurable:!0})});var _useState2=_slicedToArray$d(reactExports.useState({containerWidth:initialDimension.width,containerHeight:initialDimension.height}),2),sizes=_useState2[0],setSizes=_useState2[1],setContainerSize=reactExports.useCallback(function(newWidth,newHeight){setSizes(function(prevState){var roundedWidth=Math.round(newWidth),roundedHeight=Math.round(newHeight);return prevState.containerWidth===roundedWidth&&prevState.containerHeight===roundedHeight?prevState:{containerWidth:roundedWidth,containerHeight:roundedHeight}})},[]);reactExports.useEffect(function(){var callback=function(entries){var _onResizeRef$current,_entries$0$contentRec=entries[0].contentRect,containerWidth2=_entries$0$contentRec.width,containerHeight2=_entries$0$contentRec.height;setContainerSize(containerWidth2,containerHeight2),null===(_onResizeRef$current=onResizeRef.current)||void 0===_onResizeRef$current||_onResizeRef$current.call(onResizeRef,containerWidth2,containerHeight2)};debounce2>0&&(callback=throttle$1(callback,debounce2,{trailing:!0,leading:!1}));var observer=new ResizeObserver(callback),_containerRef$current=containerRef.current.getBoundingClientRect(),containerWidth=_containerRef$current.width,containerHeight=_containerRef$current.height;return setContainerSize(containerWidth,containerHeight),observer.observe(containerRef.current),function(){observer.disconnect()}},[setContainerSize,debounce2]);var chartContent=reactExports.useMemo(function(){var containerWidth=sizes.containerWidth,containerHeight=sizes.containerHeight;if(containerWidth<0||containerHeight<0)return null;warn(isPercent(width)||isPercent(height),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",width,height),warn(!aspect||aspect>0,"The aspect(%s) must be greater than zero.",aspect);var calculatedWidth=isPercent(width)?containerWidth:width,calculatedHeight=isPercent(height)?containerHeight:height;aspect&&aspect>0&&(calculatedWidth?calculatedHeight=calculatedWidth/aspect:calculatedHeight&&(calculatedWidth=calculatedHeight*aspect),maxHeight&&calculatedHeight>maxHeight&&(calculatedHeight=maxHeight)),warn(calculatedWidth>0||calculatedHeight>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",calculatedWidth,calculatedHeight,width,height,minWidth,minHeight,aspect);var isCharts=!Array.isArray(children)&&getDisplayName(children.type).endsWith("Chart");return React$1.Children.map(children,function(child){return React$1.isValidElement(child)?reactExports.cloneElement(child,_objectSpread$y({width:calculatedWidth,height:calculatedHeight},isCharts?{style:_objectSpread$y({height:"100%",width:"100%",maxHeight:calculatedHeight,maxWidth:calculatedWidth},child.props.style)}:{})):child})},[aspect,children,height,maxHeight,minHeight,minWidth,sizes,width]);return React$1.createElement("div",{id:id2?"".concat(id2):void 0,className:clsx("recharts-responsive-container",className),style:_objectSpread$y(_objectSpread$y({},style),{},{width:width,height:height,minWidth:minWidth,minHeight:minHeight,maxHeight:maxHeight}),ref:containerRef},chartContent)}),Cell=function(_props){return null};function _typeof$F(o2){return(_typeof$F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$x(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$x(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$x(Object(t3),!0).forEach(function(r3){_defineProperty$C(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$x(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$C(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$F(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$F(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$F(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Cell.displayName="Cell";var stringCache={widthCache:{},cacheCount:0},SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"};var getStringSize=function(text2){if(null==text2||Global_isSsr)return{width:0,height:0};var copyObj,copyStyle=(copyObj=_objectSpread$x({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(copyObj).forEach(function(key){copyObj[key]||delete copyObj[key]}),copyObj),cacheKey=JSON.stringify({text:text2,copyStyle:copyStyle});if(stringCache.widthCache[cacheKey])return stringCache.widthCache[cacheKey];try{var measurementSpan=document.getElementById("recharts_measurement_span");measurementSpan||((measurementSpan=document.createElement("span")).setAttribute("id","recharts_measurement_span"),measurementSpan.setAttribute("aria-hidden","true"),document.body.appendChild(measurementSpan));var measurementSpanStyle=_objectSpread$x(_objectSpread$x({},SPAN_STYLE),copyStyle);Object.assign(measurementSpan.style,measurementSpanStyle),measurementSpan.textContent="".concat(text2);var rect=measurementSpan.getBoundingClientRect(),result={width:rect.width,height:rect.height};return stringCache.widthCache[cacheKey]=result,++stringCache.cacheCount>2e3&&(stringCache.cacheCount=0,stringCache.widthCache={}),result}catch(e3){return{width:0,height:0}}};function _typeof$E(o2){return(_typeof$E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _slicedToArray$c(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2){if(Object(t3)!==t3)return;f2=!1}else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$m(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$m(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$m(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _defineProperties$h(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$y(descriptor.key),descriptor)}}function _toPropertyKey$y(t3){var i2=function(t3,r2){if("object"!=_typeof$E(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$E(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$E(i2)?i2:i2+""}var MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES);var DecimalCSS=function(){function DecimalCSS2(num,unit2){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,DecimalCSS2),this.num=num,this.unit=unit2,this.num=num,this.unit=unit2,Number.isNaN(num)&&(this.unit=""),""===unit2||CSS_LENGTH_UNIT_REGEX.test(unit2)||(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(unit2)&&(this.num=function(value,unit2){return value*CONVERSION_RATES[unit2]}(num,unit2),this.unit="px")}return Constructor=DecimalCSS2,staticProps=[{key:"parse",value:function(str){var _NUM_SPLIT_REGEX$exec,_ref2=_slicedToArray$c(null!==(_NUM_SPLIT_REGEX$exec=NUM_SPLIT_REGEX.exec(str))&&void 0!==_NUM_SPLIT_REGEX$exec?_NUM_SPLIT_REGEX$exec:[],3),numStr=_ref2[1],unit2=_ref2[2];return new DecimalCSS2(parseFloat(numStr),null!=unit2?unit2:"")}}],(protoProps=[{key:"add",value:function(other){return this.unit!==other.unit?new DecimalCSS2(NaN,""):new DecimalCSS2(this.num+other.num,this.unit)}},{key:"subtract",value:function(other){return this.unit!==other.unit?new DecimalCSS2(NaN,""):new DecimalCSS2(this.num-other.num,this.unit)}},{key:"multiply",value:function(other){return""!==this.unit&&""!==other.unit&&this.unit!==other.unit?new DecimalCSS2(NaN,""):new DecimalCSS2(this.num*other.num,this.unit||other.unit)}},{key:"divide",value:function(other){return""!==this.unit&&""!==other.unit&&this.unit!==other.unit?new DecimalCSS2(NaN,""):new DecimalCSS2(this.num/other.num,this.unit||other.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&_defineProperties$h(Constructor.prototype,protoProps),staticProps&&_defineProperties$h(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();function calculateArithmetic(expr){if(expr.includes("NaN"))return"NaN";for(var newExpr=expr;newExpr.includes("*")||newExpr.includes("/");){var _MULTIPLY_OR_DIVIDE_R,_ref4=_slicedToArray$c(null!==(_MULTIPLY_OR_DIVIDE_R=MULTIPLY_OR_DIVIDE_REGEX.exec(newExpr))&&void 0!==_MULTIPLY_OR_DIVIDE_R?_MULTIPLY_OR_DIVIDE_R:[],4),leftOperand=_ref4[1],operator=_ref4[2],rightOperand=_ref4[3],lTs=DecimalCSS.parse(null!=leftOperand?leftOperand:""),rTs=DecimalCSS.parse(null!=rightOperand?rightOperand:""),result="*"===operator?lTs.multiply(rTs):lTs.divide(rTs);if(result.isNaN())return"NaN";newExpr=newExpr.replace(MULTIPLY_OR_DIVIDE_REGEX,result.toString())}for(;newExpr.includes("+")||/.-\d+(?:\.\d+)?/.test(newExpr);){var _ADD_OR_SUBTRACT_REGE,_ref6=_slicedToArray$c(null!==(_ADD_OR_SUBTRACT_REGE=ADD_OR_SUBTRACT_REGEX.exec(newExpr))&&void 0!==_ADD_OR_SUBTRACT_REGE?_ADD_OR_SUBTRACT_REGE:[],4),_leftOperand=_ref6[1],_operator=_ref6[2],_rightOperand=_ref6[3],_lTs=DecimalCSS.parse(null!=_leftOperand?_leftOperand:""),_rTs=DecimalCSS.parse(null!=_rightOperand?_rightOperand:""),_result="+"===_operator?_lTs.add(_rTs):_lTs.subtract(_rTs);if(_result.isNaN())return"NaN";newExpr=newExpr.replace(ADD_OR_SUBTRACT_REGEX,_result.toString())}return newExpr}var PARENTHESES_REGEX=/\(([^()]*)\)/;function evaluateExpression(expression){var newExpr=expression.replace(/\s+/g,"");return newExpr=function(expr){for(var newExpr=expr;newExpr.includes("(");){var parentheticalExpression=_slicedToArray$c(PARENTHESES_REGEX.exec(newExpr),2)[1];newExpr=newExpr.replace(PARENTHESES_REGEX,calculateArithmetic(parentheticalExpression))}return newExpr}(newExpr),newExpr=calculateArithmetic(newExpr)}function reduceCSSCalc(expression){var result=function(expression){try{return evaluateExpression(expression)}catch(e3){return"NaN"}}(expression.slice(5,-1));return"NaN"===result?"":result}var _excluded$d=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$5=["dx","dy","angle","className","breakAll"];function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$o.apply(this,arguments)}function _objectWithoutProperties$d(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _slicedToArray$b(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2){if(Object(t3)!==t3)return;f2=!1}else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$l(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$l(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$l(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=function(_ref){var children=_ref.children,breakAll=_ref.breakAll,style=_ref.style;try{var words=[];return isNil$1(children)||(words=breakAll?children.toString().split(""):children.toString().split(BREAKING_SPACES)),{wordsWithComputedWidth:words.map(function(word){return{word:word,width:getStringSize(word,style).width}}),spaceWidth:breakAll?0:getStringSize(" ",style).width}}catch(e3){return null}},getWordsWithoutCalculate=function(children){return[{words:isNil$1(children)?[]:children.toString().split(BREAKING_SPACES)}]},getWordsByLines=function(_ref4){var width=_ref4.width,scaleToFit=_ref4.scaleToFit,children=_ref4.children,style=_ref4.style,breakAll=_ref4.breakAll,maxLines=_ref4.maxLines;if((width||scaleToFit)&&!Global_isSsr){var wordWidths=calculateWordWidths({breakAll:breakAll,children:children,style:style});return wordWidths?function(_ref2,initialWordsWithComputedWith,spaceWidth,lineWidth,scaleToFit){var maxLines=_ref2.maxLines,children=_ref2.children,style=_ref2.style,breakAll=_ref2.breakAll,shouldLimitLines=isNumber(maxLines),text2=children,calculate=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(result2,_ref3){var word=_ref3.word,width=_ref3.width,currentLine=result2[result2.length-1];if(currentLine&&(null==lineWidth||scaleToFit||currentLine.width+width+spaceWidth<Number(lineWidth)))currentLine.words.push(word),currentLine.width+=width+spaceWidth;else{var newLine={words:[word],width:width};result2.push(newLine)}return result2},[])},originalResult=calculate(initialWordsWithComputedWith);if(!shouldLimitLines)return originalResult;for(var trimmedResult,checkOverflow=function(index){var tempText=text2.slice(0,index),words=calculateWordWidths({breakAll:breakAll,style:style,children:tempText+"…"}).wordsWithComputedWidth,result2=calculate(words),doesOverflow=result2.length>maxLines||function(words){return words.reduce(function(a2,b2){return a2.width>b2.width?a2:b2})}(result2).width>Number(lineWidth);return[doesOverflow,result2]},start=0,end=text2.length-1,iterations=0;start<=end&&iterations<=text2.length-1;){var middle=Math.floor((start+end)/2),_checkOverflow2=_slicedToArray$b(checkOverflow(middle-1),2),doesPrevOverflow=_checkOverflow2[0],result=_checkOverflow2[1],doesMiddleOverflow=_slicedToArray$b(checkOverflow(middle),1)[0];if(doesPrevOverflow||doesMiddleOverflow||(start=middle+1),doesPrevOverflow&&doesMiddleOverflow&&(end=middle-1),!doesPrevOverflow&&doesMiddleOverflow){trimmedResult=result;break}iterations++}return trimmedResult||originalResult}({breakAll:breakAll,children:children,maxLines:maxLines,style:style},wordWidths.wordsWithComputedWidth,wordWidths.spaceWidth,width,scaleToFit):getWordsWithoutCalculate(children)}return getWordsWithoutCalculate(children)},Text=function(_ref5){var _ref5$x=_ref5.x,propsX=void 0===_ref5$x?0:_ref5$x,_ref5$y=_ref5.y,propsY=void 0===_ref5$y?0:_ref5$y,_ref5$lineHeight=_ref5.lineHeight,lineHeight=void 0===_ref5$lineHeight?"1em":_ref5$lineHeight,_ref5$capHeight=_ref5.capHeight,capHeight=void 0===_ref5$capHeight?"0.71em":_ref5$capHeight,_ref5$scaleToFit=_ref5.scaleToFit,scaleToFit=void 0!==_ref5$scaleToFit&&_ref5$scaleToFit,_ref5$textAnchor=_ref5.textAnchor,textAnchor=void 0===_ref5$textAnchor?"start":_ref5$textAnchor,_ref5$verticalAnchor=_ref5.verticalAnchor,verticalAnchor=void 0===_ref5$verticalAnchor?"end":_ref5$verticalAnchor,_ref5$fill=_ref5.fill,fill=void 0===_ref5$fill?"#808080":_ref5$fill,props=_objectWithoutProperties$d(_ref5,_excluded$d),wordsByLines=reactExports.useMemo(function(){return getWordsByLines({breakAll:props.breakAll,children:props.children,maxLines:props.maxLines,scaleToFit:scaleToFit,style:props.style,width:props.width})},[props.breakAll,props.children,props.maxLines,scaleToFit,props.style,props.width]),dx=props.dx,dy=props.dy,angle=props.angle,className=props.className,breakAll=props.breakAll,textProps=_objectWithoutProperties$d(props,_excluded2$5);if(!isNumOrStr(propsX)||!isNumOrStr(propsY))return null;var startDy,x2=propsX+(isNumber(dx)?dx:0),y2=propsY+(isNumber(dy)?dy:0);switch(verticalAnchor){case"start":startDy=reduceCSSCalc("calc(".concat(capHeight,")"));break;case"middle":startDy=reduceCSSCalc("calc(".concat((wordsByLines.length-1)/2," * -").concat(lineHeight," + (").concat(capHeight," / 2))"));break;default:startDy=reduceCSSCalc("calc(".concat(wordsByLines.length-1," * -").concat(lineHeight,")"))}var transforms=[];if(scaleToFit){var lineWidth=wordsByLines[0].width,width=props.width;transforms.push("scale(".concat((isNumber(width)?width/lineWidth:1)/lineWidth,")"))}return angle&&transforms.push("rotate(".concat(angle,", ").concat(x2,", ").concat(y2,")")),transforms.length&&(textProps.transform=transforms.join(" ")),React$1.createElement("text",_extends$o({},filterProps(textProps,!0),{x:x2,y:y2,className:clsx("recharts-text",className),textAnchor:textAnchor,fill:fill.includes("url")?"#808080":fill}),wordsByLines.map(function(line,index){var words=line.words.join(breakAll?"":" ");return React$1.createElement("tspan",{x:x2,dy:0===index?startDy:lineHeight,key:"".concat(words,"-").concat(index)},words)}))};function ascending(a2,b2){return null==a2||null==b2?NaN:a2<b2?-1:a2>b2?1:a2>=b2?0:NaN}function descending(a2,b2){return null==a2||null==b2?NaN:b2<a2?-1:b2>a2?1:b2>=a2?0:NaN}function bisector(f2){let compare1,compare2,delta;function left(a2,x2,lo=0,hi=a2.length){if(lo<hi){if(0!==compare1(x2,x2))return hi;do{const mid=lo+hi>>>1;compare2(a2[mid],x2)<0?lo=mid+1:hi=mid}while(lo<hi)}return lo}return 2!==f2.length?(compare1=ascending,compare2=(d2,x2)=>ascending(f2(d2),x2),delta=(d2,x2)=>f2(d2)-x2):(compare1=f2===ascending||f2===descending?f2:zero$1,compare2=f2,delta=f2),{left:left,center:function(a2,x2,lo=0,hi=a2.length){const i2=left(a2,x2,lo,hi-1);return i2>lo&&delta(a2[i2-1],x2)>-delta(a2[i2],x2)?i2-1:i2},right:function(a2,x2,lo=0,hi=a2.length){if(lo<hi){if(0!==compare1(x2,x2))return hi;do{const mid=lo+hi>>>1;compare2(a2[mid],x2)<=0?lo=mid+1:hi=mid}while(lo<hi)}return lo}}}function zero$1(){return 0}function number$2(x2){return null===x2?NaN:+x2}const bisectRight=bisector(ascending).right;bisector(number$2).center;class InternMap extends Map{constructor(entries,key=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key}}),null!=entries)for(const[key2,value]of entries)this.set(key2,value)}get(key){return super.get(intern_get(this,key))}has(key){return super.has(intern_get(this,key))}set(key,value){return super.set(function({_intern:_intern,_key:_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):(_intern.set(key,value),value)}(this,key),value)}delete(key){return super.delete(function({_intern:_intern,_key:_key},value){const key=_key(value);_intern.has(key)&&(value=_intern.get(key),_intern.delete(key));return value}(this,key))}}function intern_get({_intern:_intern,_key:_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):value}function keyof(value){return null!==value&&"object"==typeof value?value.valueOf():value}function ascendingDefined(a2,b2){return(null==a2||!(a2>=a2))-(null==b2||!(b2>=b2))||(a2<b2?-1:a2>b2?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(start,stop,count2){const step=(stop-start)/Math.max(0,count2),power=Math.floor(Math.log10(step)),error=step/Math.pow(10,power),factor=error>=e10?10:error>=e5?5:error>=e2?2:1;let i1,i2,inc;return power<0?(inc=Math.pow(10,-power)/factor,i1=Math.round(start*inc),i2=Math.round(stop*inc),i1/inc<start&&++i1,i2/inc>stop&&--i2,inc=-inc):(inc=Math.pow(10,power)*factor,i1=Math.round(start/inc),i2=Math.round(stop/inc),i1*inc<start&&++i1,i2*inc>stop&&--i2),i2<i1&&.5<=count2&&count2<2?tickSpec(start,stop,2*count2):[i1,i2,inc]}function ticks(start,stop,count2){if(!((count2=+count2)>0))return[];if((start=+start)===(stop=+stop))return[start];const reverse3=stop<start,[i1,i2,inc]=reverse3?tickSpec(stop,start,count2):tickSpec(start,stop,count2);if(!(i2>=i1))return[];const n2=i2-i1+1,ticks2=new Array(n2);if(reverse3)if(inc<0)for(let i3=0;i3<n2;++i3)ticks2[i3]=(i2-i3)/-inc;else for(let i3=0;i3<n2;++i3)ticks2[i3]=(i2-i3)*inc;else if(inc<0)for(let i3=0;i3<n2;++i3)ticks2[i3]=(i1+i3)/-inc;else for(let i3=0;i3<n2;++i3)ticks2[i3]=(i1+i3)*inc;return ticks2}function tickIncrement(start,stop,count2){return tickSpec(start=+start,stop=+stop,count2=+count2)[2]}function tickStep(start,stop,count2){count2=+count2;const reverse3=(stop=+stop)<(start=+start),inc=reverse3?tickIncrement(stop,start,count2):tickIncrement(start,stop,count2);return(reverse3?-1:1)*(inc<0?1/-inc:inc)}function max$5(values,valueof){let max2;for(const value of values)null!=value&&(max2<value||void 0===max2&&value>=value)&&(max2=value);return max2}function min$4(values,valueof){let min2;for(const value of values)null!=value&&(min2>value||void 0===min2&&value>=value)&&(min2=value);return min2}function quickselect(array2,k2,left=0,right=1/0,compare){if(k2=Math.floor(k2),left=Math.floor(Math.max(0,left)),right=Math.floor(Math.min(array2.length-1,right)),!(left<=k2&&k2<=right))return array2;for(compare=void 0===compare?ascendingDefined:function(compare=ascending){if(compare===ascending)return ascendingDefined;if("function"!=typeof compare)throw new TypeError("compare is not a function");return(a2,b2)=>{const x2=compare(a2,b2);return x2||0===x2?x2:(0===compare(b2,b2))-(0===compare(a2,a2))}}(compare);right>left;){if(right-left>600){const n2=right-left+1,m2=k2-left+1,z2=Math.log(n2),s2=.5*Math.exp(2*z2/3),sd=.5*Math.sqrt(z2*s2*(n2-s2)/n2)*(m2-n2/2<0?-1:1);quickselect(array2,k2,Math.max(left,Math.floor(k2-m2*s2/n2+sd)),Math.min(right,Math.floor(k2+(n2-m2)*s2/n2+sd)),compare)}const t3=array2[k2];let i2=left,j2=right;for(swap(array2,left,k2),compare(array2[right],t3)>0&&swap(array2,left,right);i2<j2;){for(swap(array2,i2,j2),++i2,--j2;compare(array2[i2],t3)<0;)++i2;for(;compare(array2[j2],t3)>0;)--j2}0===compare(array2[left],t3)?swap(array2,left,j2):(++j2,swap(array2,j2,right)),j2<=k2&&(left=j2+1),k2<=j2&&(right=j2-1)}return array2}function swap(array2,i2,j2){const t3=array2[i2];array2[i2]=array2[j2],array2[j2]=t3}function quantileSorted(values,p2,valueof=number$2){if((n2=values.length)&&!isNaN(p2=+p2)){if(p2<=0||n2<2)return+valueof(values[0],0,values);if(p2>=1)return+valueof(values[n2-1],n2-1,values);var n2,i2=(n2-1)*p2,i0=Math.floor(i2),value0=+valueof(values[i0],i0,values);return value0+(+valueof(values[i0+1],i0+1,values)-value0)*(i2-i0)}}function initRange(domain,range3){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range3).domain(domain)}return this}function initInterpolator(domain,interpolator){switch(arguments.length){case 0:break;case 1:"function"==typeof domain?this.interpolator(domain):this.range(domain);break;default:this.domain(domain),"function"==typeof interpolator?this.interpolator(interpolator):this.range(interpolator)}return this}const implicit=Symbol("implicit");function ordinal(){var index=new InternMap,domain=[],range3=[],unknown=implicit;function scale(d2){let i2=index.get(d2);if(void 0===i2){if(unknown!==implicit)return unknown;index.set(d2,i2=domain.push(d2)-1)}return range3[i2%range3.length]}return scale.domain=function(_2){if(!arguments.length)return domain.slice();domain=[],index=new InternMap;for(const value of _2)index.has(value)||index.set(value,domain.push(value)-1);return scale},scale.range=function(_2){return arguments.length?(range3=Array.from(_2),scale):range3.slice()},scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):unknown},scale.copy=function(){return ordinal(domain,range3).unknown(unknown)},initRange.apply(scale,arguments),scale}function band(){var step,bandwidth,scale=ordinal().unknown(void 0),domain=scale.domain,ordinalRange=scale.range,r0=0,r1=1,round2=!1,paddingInner=0,paddingOuter=0,align=.5;function rescale(){var n2=domain().length,reverse3=r1<r0,start=reverse3?r1:r0,stop=reverse3?r0:r1;step=(stop-start)/Math.max(1,n2-paddingInner+2*paddingOuter),round2&&(step=Math.floor(step)),start+=(stop-start-step*(n2-paddingInner))*align,bandwidth=step*(1-paddingInner),round2&&(start=Math.round(start),bandwidth=Math.round(bandwidth));var values=function(start,stop,step){start=+start,stop=+stop,step=(n2=arguments.length)<2?(stop=start,start=0,1):n2<3?1:+step;for(var i2=-1,n2=0|Math.max(0,Math.ceil((stop-start)/step)),range3=new Array(n2);++i2<n2;)range3[i2]=start+i2*step;return range3}(n2).map(function(i2){return start+step*i2});return ordinalRange(reverse3?values.reverse():values)}return delete scale.unknown,scale.domain=function(_2){return arguments.length?(domain(_2),rescale()):domain()},scale.range=function(_2){return arguments.length?([r0,r1]=_2,r0=+r0,r1=+r1,rescale()):[r0,r1]},scale.rangeRound=function(_2){return[r0,r1]=_2,r0=+r0,r1=+r1,round2=!0,rescale()},scale.bandwidth=function(){return bandwidth},scale.step=function(){return step},scale.round=function(_2){return arguments.length?(round2=!!_2,rescale()):round2},scale.padding=function(_2){return arguments.length?(paddingInner=Math.min(1,paddingOuter=+_2),rescale()):paddingInner},scale.paddingInner=function(_2){return arguments.length?(paddingInner=Math.min(1,_2),rescale()):paddingInner},scale.paddingOuter=function(_2){return arguments.length?(paddingOuter=+_2,rescale()):paddingOuter},scale.align=function(_2){return arguments.length?(align=Math.max(0,Math.min(1,_2)),rescale()):align},scale.copy=function(){return band(domain(),[r0,r1]).round(round2).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)},initRange.apply(rescale(),arguments)}function pointish(scale){var copy2=scale.copy;return scale.padding=scale.paddingOuter,delete scale.paddingInner,delete scale.paddingOuter,scale.copy=function(){return pointish(copy2())},scale}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format2){var m2,l2;return format2=(format2+"").trim().toLowerCase(),(m2=reHex.exec(format2))?(l2=m2[1].length,m2=parseInt(m2[1],16),6===l2?rgbn(m2):3===l2?new Rgb(m2>>8&15|m2>>4&240,m2>>4&15|240&m2,(15&m2)<<4|15&m2,1):8===l2?rgba(m2>>24&255,m2>>16&255,m2>>8&255,(255&m2)/255):4===l2?rgba(m2>>12&15|m2>>8&240,m2>>8&15|m2>>4&240,m2>>4&15|240&m2,((15&m2)<<4|15&m2)/255):null):(m2=reRgbInteger.exec(format2))?new Rgb(m2[1],m2[2],m2[3],1):(m2=reRgbPercent.exec(format2))?new Rgb(255*m2[1]/100,255*m2[2]/100,255*m2[3]/100,1):(m2=reRgbaInteger.exec(format2))?rgba(m2[1],m2[2],m2[3],m2[4]):(m2=reRgbaPercent.exec(format2))?rgba(255*m2[1]/100,255*m2[2]/100,255*m2[3]/100,m2[4]):(m2=reHslPercent.exec(format2))?hsla(m2[1],m2[2]/100,m2[3]/100,1):(m2=reHslaPercent.exec(format2))?hsla(m2[1],m2[2]/100,m2[3]/100,m2[4]):named.hasOwnProperty(format2)?rgbn(named[format2]):"transparent"===format2?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n2){return new Rgb(n2>>16&255,n2>>8&255,255&n2,1)}function rgba(r2,g2,b2,a2){return a2<=0&&(r2=g2=b2=NaN),new Rgb(r2,g2,b2,a2)}function rgb$1(r2,g2,b2,opacity){return 1===arguments.length?((o2=r2)instanceof Color||(o2=color(o2)),o2?new Rgb((o2=o2.rgb()).r,o2.g,o2.b,o2.opacity):new Rgb):new Rgb(r2,g2,b2,null==opacity?1:opacity);var o2}function Rgb(r2,g2,b2,opacity){this.r=+r2,this.g=+g2,this.b=+b2,this.opacity=+opacity}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const a2=clampa(this.opacity);return`${1===a2?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===a2?")":`, ${a2})`}`}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h2,s2,l2,a2){return a2<=0?h2=s2=l2=NaN:l2<=0||l2>=1?h2=s2=NaN:s2<=0&&(h2=NaN),new Hsl(h2,s2,l2,a2)}function hslConvert(o2){if(o2 instanceof Hsl)return new Hsl(o2.h,o2.s,o2.l,o2.opacity);if(o2 instanceof Color||(o2=color(o2)),!o2)return new Hsl;if(o2 instanceof Hsl)return o2;var r2=(o2=o2.rgb()).r/255,g2=o2.g/255,b2=o2.b/255,min2=Math.min(r2,g2,b2),max2=Math.max(r2,g2,b2),h2=NaN,s2=max2-min2,l2=(max2+min2)/2;return s2?(h2=r2===max2?(g2-b2)/s2+6*(g2<b2):g2===max2?(b2-r2)/s2+2:(r2-g2)/s2+4,s2/=l2<.5?max2+min2:2-max2-min2,h2*=60):s2=l2>0&&l2<1?0:h2,new Hsl(h2,s2,l2,o2.opacity)}function Hsl(h2,s2,l2,opacity){this.h=+h2,this.s=+s2,this.l=+l2,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h2,m1,m2){return 255*(h2<60?m1+(m2-m1)*h2/60:h2<180?m2:h2<240?m1+(m2-m1)*(240-h2)/60:m1)}define(Color,color,{copy(channels){return Object.assign(new this.constructor,this,channels)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb$1,extend(Color,{brighter(k2){return k2=null==k2?brighter:Math.pow(brighter,k2),new Rgb(this.r*k2,this.g*k2,this.b*k2,this.opacity)},darker(k2){return k2=null==k2?.7:Math.pow(.7,k2),new Rgb(this.r*k2,this.g*k2,this.b*k2,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,function(h2,s2,l2,opacity){return 1===arguments.length?hslConvert(h2):new Hsl(h2,s2,l2,null==opacity?1:opacity)},extend(Color,{brighter(k2){return k2=null==k2?brighter:Math.pow(brighter,k2),new Hsl(this.h,this.s,this.l*k2,this.opacity)},darker(k2){return k2=null==k2?.7:Math.pow(.7,k2),new Hsl(this.h,this.s,this.l*k2,this.opacity)},rgb(){var h2=this.h%360+360*(this.h<0),s2=isNaN(h2)||isNaN(this.s)?0:this.s,l2=this.l,m2=l2+(l2<.5?l2:1-l2)*s2,m1=2*l2-m2;return new Rgb(hsl2rgb(h2>=240?h2-240:h2+120,m1,m2),hsl2rgb(h2,m1,m2),hsl2rgb(h2<120?h2+240:h2-120,m1,m2),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a2=clampa(this.opacity);return`${1===a2?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===a2?")":`, ${a2})`}`}}));const constant=x2=>()=>x2;function gamma(y2){return 1===(y2=+y2)?nogamma:function(a2,b2){return b2-a2?function(a2,b2,y2){return a2=Math.pow(a2,y2),b2=Math.pow(b2,y2)-a2,y2=1/y2,function(t3){return Math.pow(a2+t3*b2,y2)}}(a2,b2,y2):constant(isNaN(a2)?b2:a2)}}function nogamma(a2,b2){var d2=b2-a2;return d2?function(a2,d2){return function(t3){return a2+t3*d2}}(a2,d2):constant(isNaN(a2)?b2:a2)}const rgb=function rgbGamma(y2){var color2=gamma(y2);function rgb2(start,end){var r2=color2((start=rgb$1(start)).r,(end=rgb$1(end)).r),g2=color2(start.g,end.g),b2=color2(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t3){return start.r=r2(t3),start.g=g2(t3),start.b=b2(t3),start.opacity=opacity(t3),start+""}}return rgb2.gamma=rgbGamma,rgb2}(1);function numberArray(a2,b2){b2||(b2=[]);var i2,n2=a2?Math.min(b2.length,a2.length):0,c2=b2.slice();return function(t3){for(i2=0;i2<n2;++i2)c2[i2]=a2[i2]*(1-t3)+b2[i2]*t3;return c2}}function genericArray(a2,b2){var i2,nb=b2?b2.length:0,na=a2?Math.min(nb,a2.length):0,x2=new Array(na),c2=new Array(nb);for(i2=0;i2<na;++i2)x2[i2]=interpolate(a2[i2],b2[i2]);for(;i2<nb;++i2)c2[i2]=b2[i2];return function(t3){for(i2=0;i2<na;++i2)c2[i2]=x2[i2](t3);return c2}}function date$1(a2,b2){var d2=new Date;return a2=+a2,b2=+b2,function(t3){return d2.setTime(a2*(1-t3)+b2*t3),d2}}function interpolateNumber$1(a2,b2){return a2=+a2,b2=+b2,function(t3){return a2*(1-t3)+b2*t3}}function object(a2,b2){var k2,i2={},c2={};for(k2 in null!==a2&&"object"==typeof a2||(a2={}),null!==b2&&"object"==typeof b2||(b2={}),b2)k2 in a2?i2[k2]=interpolate(a2[k2],b2[k2]):c2[k2]=b2[k2];return function(t3){for(k2 in i2)c2[k2]=i2[k2](t3);return c2}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a2,b2){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i2=-1,s2=[],q2=[];for(a2+="",b2+="";(am=reA.exec(a2))&&(bm=reB.exec(b2));)(bs=bm.index)>bi&&(bs=b2.slice(bi,bs),s2[i2]?s2[i2]+=bs:s2[++i2]=bs),(am=am[0])===(bm=bm[0])?s2[i2]?s2[i2]+=bm:s2[++i2]=bm:(s2[++i2]=null,q2.push({i:i2,x:interpolateNumber$1(am,bm)})),bi=reB.lastIndex;return bi<b2.length&&(bs=b2.slice(bi),s2[i2]?s2[i2]+=bs:s2[++i2]=bs),s2.length<2?q2[0]?function(b2){return function(t3){return b2(t3)+""}}(q2[0].x):function(b2){return function(){return b2}}(b2):(b2=q2.length,function(t3){for(var o2,i3=0;i3<b2;++i3)s2[(o2=q2[i3]).i]=o2.x(t3);return s2.join("")})}function interpolate(a2,b2){var c2,x2,t3=typeof b2;return null==b2||"boolean"===t3?constant(b2):("number"===t3?interpolateNumber$1:"string"===t3?(c2=color(b2))?(b2=c2,rgb):string:b2 instanceof color?rgb:b2 instanceof Date?date$1:(x2=b2,!ArrayBuffer.isView(x2)||x2 instanceof DataView?Array.isArray(b2)?genericArray:"function"!=typeof b2.valueOf&&"function"!=typeof b2.toString||isNaN(b2)?object:interpolateNumber$1:numberArray))(a2,b2)}function interpolateRound(a2,b2){return a2=+a2,b2=+b2,function(t3){return Math.round(a2*(1-t3)+b2*t3)}}function number$1(x2){return+x2}var unit=[0,1];function identity$6(x2){return x2}function normalize(a2,b2){return(b2-=a2=+a2)?function(x2){return(x2-a2)/b2}:(x2=isNaN(b2)?NaN:.5,function(){return x2});var x2}function bimap(domain,range3,interpolate2){var d0=domain[0],d1=domain[1],r0=range3[0],r1=range3[1];return d1<d0?(d0=normalize(d1,d0),r0=interpolate2(r1,r0)):(d0=normalize(d0,d1),r0=interpolate2(r0,r1)),function(x2){return r0(d0(x2))}}function polymap(domain,range3,interpolate2){var j2=Math.min(domain.length,range3.length)-1,d2=new Array(j2),r2=new Array(j2),i2=-1;for(domain[j2]<domain[0]&&(domain=domain.slice().reverse(),range3=range3.slice().reverse());++i2<j2;)d2[i2]=normalize(domain[i2],domain[i2+1]),r2[i2]=interpolate2(range3[i2],range3[i2+1]);return function(x2){var i3=bisectRight(domain,x2,1,j2)-1;return r2[i3](d2[i3](x2))}}function copy$1(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer$2(){var transform,untransform,unknown,piecewise2,output,input,domain=unit,range3=unit,interpolate$1=interpolate,clamp2=identity$6;function rescale(){var a2,b2,t3,n2=Math.min(domain.length,range3.length);return clamp2!==identity$6&&(a2=domain[0],b2=domain[n2-1],a2>b2&&(t3=a2,a2=b2,b2=t3),clamp2=function(x2){return Math.max(a2,Math.min(b2,x2))}),piecewise2=n2>2?polymap:bimap,output=input=null,scale}function scale(x2){return null==x2||isNaN(x2=+x2)?unknown:(output||(output=piecewise2(domain.map(transform),range3,interpolate$1)))(transform(clamp2(x2)))}return scale.invert=function(y2){return clamp2(untransform((input||(input=piecewise2(range3,domain.map(transform),interpolateNumber$1)))(y2)))},scale.domain=function(_2){return arguments.length?(domain=Array.from(_2,number$1),rescale()):domain.slice()},scale.range=function(_2){return arguments.length?(range3=Array.from(_2),rescale()):range3.slice()},scale.rangeRound=function(_2){return range3=Array.from(_2),interpolate$1=interpolateRound,rescale()},scale.clamp=function(_2){return arguments.length?(clamp2=!!_2||identity$6,rescale()):clamp2!==identity$6},scale.interpolate=function(_2){return arguments.length?(interpolate$1=_2,rescale()):interpolate$1},scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):unknown},function(t3,u2){return transform=t3,untransform=u2,rescale()}}function continuous(){return transformer$2()(identity$6,identity$6)}function formatDecimalParts(x2,p2){if((i2=(x2=p2?x2.toExponential(p2-1):x2.toExponential()).indexOf("e"))<0)return null;var i2,coefficient=x2.slice(0,i2);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x2.slice(i2+1)]}function exponent(x2){return(x2=formatDecimalParts(Math.abs(x2)))?x2[1]:NaN}var prefixExponent,re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match2=re$1.exec(specifier)))throw new Error("invalid format: "+specifier);var match2;return new FormatSpecifier({fill:match2[1],align:match2[2],sign:match2[3],symbol:match2[4],zero:match2[5],width:match2[6],comma:match2[7],precision:match2[8]&&match2[8].slice(1),trim:match2[9],type:match2[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x2,p2){var d2=formatDecimalParts(x2,p2);if(!d2)return x2+"";var coefficient=d2[0],exponent2=d2[1];return exponent2<0?"0."+new Array(-exponent2).join("0")+coefficient:coefficient.length>exponent2+1?coefficient.slice(0,exponent2+1)+"."+coefficient.slice(exponent2+1):coefficient+new Array(exponent2-coefficient.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const formatTypes={"%":(x2,p2)=>(100*x2).toFixed(p2),b:x2=>Math.round(x2).toString(2),c:x2=>x2+"",d:function(x2){return Math.abs(x2=Math.round(x2))>=1e21?x2.toLocaleString("en").replace(/,/g,""):x2.toString(10)},e:(x2,p2)=>x2.toExponential(p2),f:(x2,p2)=>x2.toFixed(p2),g:(x2,p2)=>x2.toPrecision(p2),o:x2=>Math.round(x2).toString(8),p:(x2,p2)=>formatRounded(100*x2,p2),r:formatRounded,s:function(x2,p2){var d2=formatDecimalParts(x2,p2);if(!d2)return x2+"";var coefficient=d2[0],exponent2=d2[1],i2=exponent2-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent2/3))))+1,n2=coefficient.length;return i2===n2?coefficient:i2>n2?coefficient+new Array(i2-n2+1).join("0"):i2>0?coefficient.slice(0,i2)+"."+coefficient.slice(i2):"0."+new Array(1-i2).join("0")+formatDecimalParts(x2,Math.max(0,p2+i2-1))[0]},X:x2=>Math.round(x2).toString(16).toUpperCase(),x:x2=>Math.round(x2).toString(16)};function identity$5(x2){return x2}var locale$1,format$1,formatPrefix,map$3=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(locale2){var grouping,thousands,group=void 0===locale2.grouping||void 0===locale2.thousands?identity$5:(grouping=map$3.call(locale2.grouping,Number),thousands=locale2.thousands+"",function(value,width){for(var i2=value.length,t3=[],j2=0,g2=grouping[0],length=0;i2>0&&g2>0&&(length+g2+1>width&&(g2=Math.max(1,width-length)),t3.push(value.substring(i2-=g2,i2+g2)),!((length+=g2+1)>width));)g2=grouping[j2=(j2+1)%grouping.length];return t3.reverse().join(thousands)}),currencyPrefix=void 0===locale2.currency?"":locale2.currency[0]+"",currencySuffix=void 0===locale2.currency?"":locale2.currency[1]+"",decimal=void 0===locale2.decimal?".":locale2.decimal+"",numerals=void 0===locale2.numerals?identity$5:function(numerals){return function(value){return value.replace(/[0-9]/g,function(i2){return numerals[+i2]})}}(map$3.call(locale2.numerals,String)),percent=void 0===locale2.percent?"%":locale2.percent+"",minus=void 0===locale2.minus?"−":locale2.minus+"",nan=void 0===locale2.nan?"NaN":locale2.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign2=specifier.sign,symbol=specifier.symbol,zero2=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero2||"0"===fill&&"="===align)&&(zero2=!0,fill="0",align="=");var prefix2="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format2(value){var i2,n2,c2,valuePrefix=prefix2,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function(s2){out:for(var i1,n2=s2.length,i2=1,i0=-1;i2<n2;++i2)switch(s2[i2]){case".":i0=i1=i2;break;case"0":0===i0&&(i0=i2),i1=i2;break;default:if(!+s2[i2])break out;i0>0&&(i0=0)}return i0>0?s2.slice(0,i0)+s2.slice(i1+1):s2}(value)),valueNegative&&0===+value&&"+"!==sign2&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign2?sign2:minus:"-"===sign2||"("===sign2?"":sign2)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign2?")":""),maybeSuffix)for(i2=-1,n2=value.length;++i2<n2;)if(48>(c2=value.charCodeAt(i2))||c2>57){valueSuffix=(46===c2?decimal+value.slice(i2+1):value.slice(i2))+valueSuffix,value=value.slice(0,i2);break}}comma&&!zero2&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero2&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format2.toString=function(){return specifier+""},format2}return{format:newFormat,formatPrefix:function(specifier,value){var f2=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e3=3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3))),k2=Math.pow(10,-e3),prefix2=prefixes[8+e3/3];return function(value2){return f2(k2*value2)+prefix2}}}}function tickFormat(start,stop,count2,specifier){var precision,step=tickStep(start,stop,count2);switch((specifier=formatSpecifier(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=function(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))-exponent(Math.abs(step)))}(step,value))||(specifier.precision=precision),formatPrefix(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=function(step,max2){return step=Math.abs(step),max2=Math.abs(max2)-step,Math.max(0,exponent(max2)-exponent(step))+1}(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=function(step){return Math.max(0,-exponent(Math.abs(step)))}(step))||(specifier.precision=precision-2*("%"===specifier.type))}return format$1(specifier)}function linearish(scale){var domain=scale.domain;return scale.ticks=function(count2){var d2=domain();return ticks(d2[0],d2[d2.length-1],null==count2?10:count2)},scale.tickFormat=function(count2,specifier){var d2=domain();return tickFormat(d2[0],d2[d2.length-1],null==count2?10:count2,specifier)},scale.nice=function(count2){null==count2&&(count2=10);var prestep,step,d2=domain(),i0=0,i1=d2.length-1,start=d2[i0],stop=d2[i1],maxIter=10;for(stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step);maxIter-- >0;){if((step=tickIncrement(start,stop,count2))===prestep)return d2[i0]=start,d2[i1]=stop,domain(d2);if(step>0)start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step;else{if(!(step<0))break;start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step}prestep=step}return scale},scale}function linear(){var scale=continuous();return scale.copy=function(){return copy$1(scale,linear())},initRange.apply(scale,arguments),linearish(scale)}function nice(domain,interval){var t3,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t3=i0,i0=i1,i1=t3,t3=x0,x0=x1,x1=t3),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}function transformLog(x2){return Math.log(x2)}function transformExp(x2){return Math.exp(x2)}function transformLogn(x2){return-Math.log(-x2)}function transformExpn(x2){return-Math.exp(-x2)}function pow10(x2){return isFinite(x2)?+("1e"+x2):x2<0?0:x2}function reflect(f2){return(x2,k2)=>-f2(-x2,k2)}function loggish(transform){const scale=transform(transformLog,transformExp),domain=scale.domain;let logs,pows,base=10;function rescale(){return logs=function(base){return base===Math.E?Math.log:10===base&&Math.log10||2===base&&Math.log2||(base=Math.log(base),x2=>Math.log(x2)/base)}(base),pows=function(base){return 10===base?pow10:base===Math.E?Math.exp:x2=>Math.pow(base,x2)}(base),domain()[0]<0?(logs=reflect(logs),pows=reflect(pows),transform(transformLogn,transformExpn)):transform(transformLog,transformExp),scale}return scale.base=function(_2){return arguments.length?(base=+_2,rescale()):base},scale.domain=function(_2){return arguments.length?(domain(_2),rescale()):domain()},scale.ticks=count2=>{const d2=domain();let u2=d2[0],v2=d2[d2.length-1];const r2=v2<u2;r2&&([u2,v2]=[v2,u2]);let k2,t3,i2=logs(u2),j2=logs(v2);const n2=null==count2?10:+count2;let z2=[];if(!(base%1)&&j2-i2<n2){if(i2=Math.floor(i2),j2=Math.ceil(j2),u2>0){for(;i2<=j2;++i2)for(k2=1;k2<base;++k2)if(t3=i2<0?k2/pows(-i2):k2*pows(i2),!(t3<u2)){if(t3>v2)break;z2.push(t3)}}else for(;i2<=j2;++i2)for(k2=base-1;k2>=1;--k2)if(t3=i2>0?k2/pows(-i2):k2*pows(i2),!(t3<u2)){if(t3>v2)break;z2.push(t3)}2*z2.length<n2&&(z2=ticks(u2,v2,n2))}else z2=ticks(i2,j2,Math.min(j2-i2,n2)).map(pows);return r2?z2.reverse():z2},scale.tickFormat=(count2,specifier)=>{if(null==count2&&(count2=10),null==specifier&&(specifier=10===base?"s":","),"function"!=typeof specifier&&(base%1||null!=(specifier=formatSpecifier(specifier)).precision||(specifier.trim=!0),specifier=format$1(specifier)),count2===1/0)return specifier;const k2=Math.max(1,base*count2/scale.ticks().length);return d2=>{let i2=d2/pows(Math.round(logs(d2)));return i2*base<base-.5&&(i2*=base),i2<=k2?specifier(d2):""}},scale.nice=()=>domain(nice(domain(),{floor:x2=>pows(Math.floor(logs(x2))),ceil:x2=>pows(Math.ceil(logs(x2)))})),scale}function transformSymlog(c2){return function(x2){return Math.sign(x2)*Math.log1p(Math.abs(x2/c2))}}function transformSymexp(c2){return function(x2){return Math.sign(x2)*Math.expm1(Math.abs(x2))*c2}}function symlogish(transform){var c2=1,scale=transform(transformSymlog(c2),transformSymexp(c2));return scale.constant=function(_2){return arguments.length?transform(transformSymlog(c2=+_2),transformSymexp(c2)):c2},linearish(scale)}function transformPow(exponent2){return function(x2){return x2<0?-Math.pow(-x2,exponent2):Math.pow(x2,exponent2)}}function transformSqrt(x2){return x2<0?-Math.sqrt(-x2):Math.sqrt(x2)}function transformSquare(x2){return x2<0?-x2*x2:x2*x2}function powish(transform){var scale=transform(identity$6,identity$6),exponent2=1;return scale.exponent=function(_2){return arguments.length?1===(exponent2=+_2)?transform(identity$6,identity$6):.5===exponent2?transform(transformSqrt,transformSquare):transform(transformPow(exponent2),transformPow(1/exponent2)):exponent2},linearish(scale)}function pow(){var scale=powish(transformer$2());return scale.copy=function(){return copy$1(scale,pow()).exponent(scale.exponent())},initRange.apply(scale,arguments),scale}function square(x2){return Math.sign(x2)*x2*x2}locale$1=formatLocale$1({thousands:",",grouping:[3],currency:["$",""]}),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix;const t0=new Date,t1=new Date;function timeInterval(floori,offseti,count2,field){function interval(date2){return floori(date2=0===arguments.length?new Date:new Date(+date2)),date2}return interval.floor=date2=>(floori(date2=new Date(+date2)),date2),interval.ceil=date2=>(floori(date2=new Date(date2-1)),offseti(date2,1),floori(date2),date2),interval.round=date2=>{const d0=interval(date2),d1=interval.ceil(date2);return date2-d0<d1-date2?d0:d1},interval.offset=(date2,step)=>(offseti(date2=new Date(+date2),null==step?1:Math.floor(step)),date2),interval.range=(start,stop,step)=>{const range3=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range3;let previous;do{range3.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range3},interval.filter=test=>timeInterval(date2=>{if(date2>=date2)for(;floori(date2),!test(date2);)date2.setTime(date2-1)},(date2,step)=>{if(date2>=date2)if(step<0)for(;++step<=0;)for(;offseti(date2,-1),!test(date2););else for(;--step>=0;)for(;offseti(date2,1),!test(date2););}),count2&&(interval.count=(start,end)=>(t0.setTime(+start),t1.setTime(+end),floori(t0),floori(t1),Math.floor(count2(t0,t1))),interval.every=step=>(step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?d2=>field(d2)%step===0:d2=>interval.count(0,d2)%step===0):interval:null)),interval}const millisecond=timeInterval(()=>{},(date2,step)=>{date2.setTime(+date2+step)},(start,end)=>end-start);millisecond.every=k2=>(k2=Math.floor(k2),isFinite(k2)&&k2>0?k2>1?timeInterval(date2=>{date2.setTime(Math.floor(date2/k2)*k2)},(date2,step)=>{date2.setTime(+date2+step*k2)},(start,end)=>(end-start)/k2):millisecond:null),millisecond.range;const second=timeInterval(date2=>{date2.setTime(date2-date2.getMilliseconds())},(date2,step)=>{date2.setTime(+date2+1e3*step)},(start,end)=>(end-start)/1e3,date2=>date2.getUTCSeconds());second.range;const timeMinute=timeInterval(date2=>{date2.setTime(date2-date2.getMilliseconds()-1e3*date2.getSeconds())},(date2,step)=>{date2.setTime(+date2+6e4*step)},(start,end)=>(end-start)/6e4,date2=>date2.getMinutes());timeMinute.range;const utcMinute=timeInterval(date2=>{date2.setUTCSeconds(0,0)},(date2,step)=>{date2.setTime(+date2+6e4*step)},(start,end)=>(end-start)/6e4,date2=>date2.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(date2=>{date2.setTime(date2-date2.getMilliseconds()-1e3*date2.getSeconds()-6e4*date2.getMinutes())},(date2,step)=>{date2.setTime(+date2+36e5*step)},(start,end)=>(end-start)/36e5,date2=>date2.getHours());timeHour.range;const utcHour=timeInterval(date2=>{date2.setUTCMinutes(0,0,0)},(date2,step)=>{date2.setTime(+date2+36e5*step)},(start,end)=>(end-start)/36e5,date2=>date2.getUTCHours());utcHour.range;const timeDay=timeInterval(date2=>date2.setHours(0,0,0,0),(date2,step)=>date2.setDate(date2.getDate()+step),(start,end)=>(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/864e5,date2=>date2.getDate()-1);timeDay.range;const utcDay=timeInterval(date2=>{date2.setUTCHours(0,0,0,0)},(date2,step)=>{date2.setUTCDate(date2.getUTCDate()+step)},(start,end)=>(end-start)/864e5,date2=>date2.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(date2=>{date2.setUTCHours(0,0,0,0)},(date2,step)=>{date2.setUTCDate(date2.getUTCDate()+step)},(start,end)=>(end-start)/864e5,date2=>Math.floor(date2/864e5));function timeWeekday(i2){return timeInterval(date2=>{date2.setDate(date2.getDate()-(date2.getDay()+7-i2)%7),date2.setHours(0,0,0,0)},(date2,step)=>{date2.setDate(date2.getDate()+7*step)},(start,end)=>(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/6048e5)}unixDay.range;const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);function utcWeekday(i2){return timeInterval(date2=>{date2.setUTCDate(date2.getUTCDate()-(date2.getUTCDay()+7-i2)%7),date2.setUTCHours(0,0,0,0)},(date2,step)=>{date2.setUTCDate(date2.getUTCDate()+7*step)},(start,end)=>(end-start)/6048e5)}timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range;const timeMonth=timeInterval(date2=>{date2.setDate(1),date2.setHours(0,0,0,0)},(date2,step)=>{date2.setMonth(date2.getMonth()+step)},(start,end)=>end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear()),date2=>date2.getMonth());timeMonth.range;const utcMonth=timeInterval(date2=>{date2.setUTCDate(1),date2.setUTCHours(0,0,0,0)},(date2,step)=>{date2.setUTCMonth(date2.getUTCMonth()+step)},(start,end)=>end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear()),date2=>date2.getUTCMonth());utcMonth.range;const timeYear=timeInterval(date2=>{date2.setMonth(0,1),date2.setHours(0,0,0,0)},(date2,step)=>{date2.setFullYear(date2.getFullYear()+step)},(start,end)=>end.getFullYear()-start.getFullYear(),date2=>date2.getFullYear());timeYear.every=k2=>isFinite(k2=Math.floor(k2))&&k2>0?timeInterval(date2=>{date2.setFullYear(Math.floor(date2.getFullYear()/k2)*k2),date2.setMonth(0,1),date2.setHours(0,0,0,0)},(date2,step)=>{date2.setFullYear(date2.getFullYear()+step*k2)}):null,timeYear.range;const utcYear=timeInterval(date2=>{date2.setUTCMonth(0,1),date2.setUTCHours(0,0,0,0)},(date2,step)=>{date2.setUTCFullYear(date2.getUTCFullYear()+step)},(start,end)=>end.getUTCFullYear()-start.getUTCFullYear(),date2=>date2.getUTCFullYear());function ticker(year,month,week,day,hour,minute){const tickIntervals=[[second,1,1e3],[second,5,5e3],[second,15,15e3],[second,30,3e4],[minute,1,6e4],[minute,5,3e5],[minute,15,9e5],[minute,30,18e5],[hour,1,36e5],[hour,3,108e5],[hour,6,216e5],[hour,12,432e5],[day,1,864e5],[day,2,1728e5],[week,1,6048e5],[month,1,2592e6],[month,3,7776e6],[year,1,31536e6]];function tickInterval(start,stop,count2){const target=Math.abs(stop-start)/count2,i2=bisector(([,,step2])=>step2).right(tickIntervals,target);if(i2===tickIntervals.length)return year.every(tickStep(start/31536e6,stop/31536e6,count2));if(0===i2)return millisecond.every(Math.max(tickStep(start,stop,count2),1));const[t3,step]=tickIntervals[target/tickIntervals[i2-1][2]<tickIntervals[i2][2]/target?i2-1:i2];return t3.every(step)}return[function(start,stop,count2){const reverse3=stop<start;reverse3&&([start,stop]=[stop,start]);const interval=count2&&"function"==typeof count2.range?count2:tickInterval(start,stop,count2),ticks3=interval?interval.range(start,+stop+1):[];return reverse3?ticks3.reverse():ticks3},tickInterval]}utcYear.every=k2=>isFinite(k2=Math.floor(k2))&&k2>0?timeInterval(date2=>{date2.setUTCFullYear(Math.floor(date2.getUTCFullYear()/k2)*k2),date2.setUTCMonth(0,1),date2.setUTCHours(0,0,0,0)},(date2,step)=>{date2.setUTCFullYear(date2.getUTCFullYear()+step*k2)}):null,utcYear.range;const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(d2){if(0<=d2.y&&d2.y<100){var date2=new Date(-1,d2.m,d2.d,d2.H,d2.M,d2.S,d2.L);return date2.setFullYear(d2.y),date2}return new Date(d2.y,d2.m,d2.d,d2.H,d2.M,d2.S,d2.L)}function utcDate(d2){if(0<=d2.y&&d2.y<100){var date2=new Date(Date.UTC(-1,d2.m,d2.d,d2.H,d2.M,d2.S,d2.L));return date2.setUTCFullYear(d2.y),date2}return new Date(Date.UTC(d2.y,d2.m,d2.d,d2.H,d2.M,d2.S,d2.L))}function newDate(y2,m2,d2){return{y:y2,m:m2,d:d2,H:0,M:0,S:0,L:0}}var locale,timeFormat,utcFormat,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(value,fill,width){var sign2=value<0?"-":"",string2=(sign2?-value:value)+"",length=string2.length;return sign2+(length<width?new Array(width-length+1).join(fill)+string2:string2)}function requote(s2){return s2.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){return new Map(names.map((name,i2)=>[name.toLowerCase(),i2]))}function parseWeekdayNumberSunday(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+1));return n2?(d2.w=+n2[0],i2+n2[0].length):-1}function parseWeekdayNumberMonday(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+1));return n2?(d2.u=+n2[0],i2+n2[0].length):-1}function parseWeekNumberSunday(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.U=+n2[0],i2+n2[0].length):-1}function parseWeekNumberISO(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.V=+n2[0],i2+n2[0].length):-1}function parseWeekNumberMonday(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.W=+n2[0],i2+n2[0].length):-1}function parseFullYear(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+4));return n2?(d2.y=+n2[0],i2+n2[0].length):-1}function parseYear$1(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.y=+n2[0]+(+n2[0]>68?1900:2e3),i2+n2[0].length):-1}function parseZone(d2,string2,i2){var n2=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string2.slice(i2,i2+6));return n2?(d2.Z=n2[1]?0:-(n2[2]+(n2[3]||"00")),i2+n2[0].length):-1}function parseQuarter(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+1));return n2?(d2.q=3*n2[0]-3,i2+n2[0].length):-1}function parseMonthNumber(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.m=n2[0]-1,i2+n2[0].length):-1}function parseDayOfMonth(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.d=+n2[0],i2+n2[0].length):-1}function parseDayOfYear(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+3));return n2?(d2.m=0,d2.d=+n2[0],i2+n2[0].length):-1}function parseHour24(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.H=+n2[0],i2+n2[0].length):-1}function parseMinutes(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.M=+n2[0],i2+n2[0].length):-1}function parseSeconds(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+2));return n2?(d2.S=+n2[0],i2+n2[0].length):-1}function parseMilliseconds(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+3));return n2?(d2.L=+n2[0],i2+n2[0].length):-1}function parseMicroseconds(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2,i2+6));return n2?(d2.L=Math.floor(n2[0]/1e3),i2+n2[0].length):-1}function parseLiteralPercent(d2,string2,i2){var n2=percentRe.exec(string2.slice(i2,i2+1));return n2?i2+n2[0].length:-1}function parseUnixTimestamp(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2));return n2?(d2.Q=+n2[0],i2+n2[0].length):-1}function parseUnixTimestampSeconds(d2,string2,i2){var n2=numberRe.exec(string2.slice(i2));return n2?(d2.s=+n2[0],i2+n2[0].length):-1}function formatDayOfMonth(d2,p2){return pad(d2.getDate(),p2,2)}function formatHour24(d2,p2){return pad(d2.getHours(),p2,2)}function formatHour12(d2,p2){return pad(d2.getHours()%12||12,p2,2)}function formatDayOfYear(d2,p2){return pad(1+timeDay.count(timeYear(d2),d2),p2,3)}function formatMilliseconds(d2,p2){return pad(d2.getMilliseconds(),p2,3)}function formatMicroseconds(d2,p2){return formatMilliseconds(d2,p2)+"000"}function formatMonthNumber(d2,p2){return pad(d2.getMonth()+1,p2,2)}function formatMinutes(d2,p2){return pad(d2.getMinutes(),p2,2)}function formatSeconds(d2,p2){return pad(d2.getSeconds(),p2,2)}function formatWeekdayNumberMonday(d2){var day=d2.getDay();return 0===day?7:day}function formatWeekNumberSunday(d2,p2){return pad(timeSunday.count(timeYear(d2)-1,d2),p2,2)}function dISO(d2){var day=d2.getDay();return day>=4||0===day?timeThursday(d2):timeThursday.ceil(d2)}function formatWeekNumberISO(d2,p2){return d2=dISO(d2),pad(timeThursday.count(timeYear(d2),d2)+(4===timeYear(d2).getDay()),p2,2)}function formatWeekdayNumberSunday(d2){return d2.getDay()}function formatWeekNumberMonday(d2,p2){return pad(timeMonday.count(timeYear(d2)-1,d2),p2,2)}function formatYear(d2,p2){return pad(d2.getFullYear()%100,p2,2)}function formatYearISO(d2,p2){return pad((d2=dISO(d2)).getFullYear()%100,p2,2)}function formatFullYear(d2,p2){return pad(d2.getFullYear()%1e4,p2,4)}function formatFullYearISO(d2,p2){var day=d2.getDay();return pad((d2=day>=4||0===day?timeThursday(d2):timeThursday.ceil(d2)).getFullYear()%1e4,p2,4)}function formatZone(d2){var z2=d2.getTimezoneOffset();return(z2>0?"-":(z2*=-1,"+"))+pad(z2/60|0,"0",2)+pad(z2%60,"0",2)}function formatUTCDayOfMonth(d2,p2){return pad(d2.getUTCDate(),p2,2)}function formatUTCHour24(d2,p2){return pad(d2.getUTCHours(),p2,2)}function formatUTCHour12(d2,p2){return pad(d2.getUTCHours()%12||12,p2,2)}function formatUTCDayOfYear(d2,p2){return pad(1+utcDay.count(utcYear(d2),d2),p2,3)}function formatUTCMilliseconds(d2,p2){return pad(d2.getUTCMilliseconds(),p2,3)}function formatUTCMicroseconds(d2,p2){return formatUTCMilliseconds(d2,p2)+"000"}function formatUTCMonthNumber(d2,p2){return pad(d2.getUTCMonth()+1,p2,2)}function formatUTCMinutes(d2,p2){return pad(d2.getUTCMinutes(),p2,2)}function formatUTCSeconds(d2,p2){return pad(d2.getUTCSeconds(),p2,2)}function formatUTCWeekdayNumberMonday(d2){var dow=d2.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d2,p2){return pad(utcSunday.count(utcYear(d2)-1,d2),p2,2)}function UTCdISO(d2){var day=d2.getUTCDay();return day>=4||0===day?utcThursday(d2):utcThursday.ceil(d2)}function formatUTCWeekNumberISO(d2,p2){return d2=UTCdISO(d2),pad(utcThursday.count(utcYear(d2),d2)+(4===utcYear(d2).getUTCDay()),p2,2)}function formatUTCWeekdayNumberSunday(d2){return d2.getUTCDay()}function formatUTCWeekNumberMonday(d2,p2){return pad(utcMonday.count(utcYear(d2)-1,d2),p2,2)}function formatUTCYear(d2,p2){return pad(d2.getUTCFullYear()%100,p2,2)}function formatUTCYearISO(d2,p2){return pad((d2=UTCdISO(d2)).getUTCFullYear()%100,p2,2)}function formatUTCFullYear(d2,p2){return pad(d2.getUTCFullYear()%1e4,p2,4)}function formatUTCFullYearISO(d2,p2){var day=d2.getUTCDay();return pad((d2=day>=4||0===day?utcThursday(d2):utcThursday.ceil(d2)).getUTCFullYear()%1e4,p2,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d2){return+d2}function formatUnixTimestampSeconds(d2){return Math.floor(+d2/1e3)}function date(t3){return new Date(t3)}function number(t3){return t3 instanceof Date?+t3:+new Date(+t3)}function calendar(ticks2,tickInterval,year,month,week,day,hour,minute,second2,format2){var scale=continuous(),invert=scale.invert,domain=scale.domain,formatMillisecond=format2(".%L"),formatSecond=format2(":%S"),formatMinute=format2("%I:%M"),formatHour=format2("%I %p"),formatDay2=format2("%a %d"),formatWeek=format2("%b %d"),formatMonth=format2("%B"),formatYear2=format2("%Y");function tickFormat2(date2){return(second2(date2)<date2?formatMillisecond:minute(date2)<date2?formatSecond:hour(date2)<date2?formatMinute:day(date2)<date2?formatHour:month(date2)<date2?week(date2)<date2?formatDay2:formatWeek:year(date2)<date2?formatMonth:formatYear2)(date2)}return scale.invert=function(y2){return new Date(invert(y2))},scale.domain=function(_2){return arguments.length?domain(Array.from(_2,number)):domain().map(date)},scale.ticks=function(interval){var d2=domain();return ticks2(d2[0],d2[d2.length-1],null==interval?10:interval)},scale.tickFormat=function(count2,specifier){return null==specifier?tickFormat2:format2(specifier)},scale.nice=function(interval){var d2=domain();return interval&&"function"==typeof interval.range||(interval=tickInterval(d2[0],d2[d2.length-1],null==interval?10:interval)),interval?domain(nice(d2,interval)):scale},scale.copy=function(){return copy$1(scale,calendar(ticks2,tickInterval,year,month,week,day,hour,minute,second2,format2))},scale}function transformer$1(){var t02,t12,k10,transform,unknown,x0=0,x1=1,interpolator=identity$6,clamp2=!1;function scale(x2){return null==x2||isNaN(x2=+x2)?unknown:interpolator(0===k10?.5:(x2=(transform(x2)-t02)*k10,clamp2?Math.max(0,Math.min(1,x2)):x2))}function range3(interpolate2){return function(_2){var r0,r1;return arguments.length?([r0,r1]=_2,interpolator=interpolate2(r0,r1),scale):[interpolator(0),interpolator(1)]}}return scale.domain=function(_2){return arguments.length?([x0,x1]=_2,t02=transform(x0=+x0),t12=transform(x1=+x1),k10=t02===t12?0:1/(t12-t02),scale):[x0,x1]},scale.clamp=function(_2){return arguments.length?(clamp2=!!_2,scale):clamp2},scale.interpolator=function(_2){return arguments.length?(interpolator=_2,scale):interpolator},scale.range=range3(interpolate),scale.rangeRound=range3(interpolateRound),scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):unknown},function(t3){return transform=t3,t02=t3(x0),t12=t3(x1),k10=t02===t12?0:1/(t12-t02),scale}}function copy(source,target){return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown())}function sequentialPow(){var scale=powish(transformer$1());return scale.copy=function(){return copy(scale,sequentialPow()).exponent(scale.exponent())},initInterpolator.apply(scale,arguments)}function transformer(){var t02,t12,t22,k10,k21,transform,unknown,x0=0,x1=.5,x2=1,s2=1,interpolator=identity$6,clamp2=!1;function scale(x3){return isNaN(x3=+x3)?unknown:(x3=.5+((x3=+transform(x3))-t12)*(s2*x3<s2*t12?k10:k21),interpolator(clamp2?Math.max(0,Math.min(1,x3)):x3))}function range3(interpolate2){return function(_2){var r0,r1,r2;return arguments.length?([r0,r1,r2]=_2,interpolator=function(interpolate$1,values){void 0===values&&(values=interpolate$1,interpolate$1=interpolate);for(var i2=0,n2=values.length-1,v2=values[0],I2=new Array(n2<0?0:n2);i2<n2;)I2[i2]=interpolate$1(v2,v2=values[++i2]);return function(t3){var i3=Math.max(0,Math.min(n2-1,Math.floor(t3*=n2)));return I2[i3](t3-i3)}}(interpolate2,[r0,r1,r2]),scale):[interpolator(0),interpolator(.5),interpolator(1)]}}return scale.domain=function(_2){return arguments.length?([x0,x1,x2]=_2,t02=transform(x0=+x0),t12=transform(x1=+x1),t22=transform(x2=+x2),k10=t02===t12?0:.5/(t12-t02),k21=t12===t22?0:.5/(t22-t12),s2=t12<t02?-1:1,scale):[x0,x1,x2]},scale.clamp=function(_2){return arguments.length?(clamp2=!!_2,scale):clamp2},scale.interpolator=function(_2){return arguments.length?(interpolator=_2,scale):interpolator},scale.range=range3(interpolate),scale.rangeRound=range3(interpolateRound),scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):unknown},function(t3){return transform=t3,t02=t3(x0),t12=t3(x1),t22=t3(x2),k10=t02===t12?0:.5/(t12-t02),k21=t12===t22?0:.5/(t22-t12),s2=t12<t02?-1:1,scale}}function divergingPow(){var scale=powish(transformer());return scale.copy=function(){return copy(scale,divergingPow()).exponent(scale.exponent())},initInterpolator.apply(scale,arguments)}!function(definition){locale=function(locale2){var locale_dateTime=locale2.dateTime,locale_date=locale2.date,locale_time=locale2.time,locale_periods=locale2.periods,locale_weekdays=locale2.days,locale_shortWeekdays=locale2.shortDays,locale_months=locale2.months,locale_shortMonths=locale2.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function(d2){return locale_shortWeekdays[d2.getDay()]},A:function(d2){return locale_weekdays[d2.getDay()]},b:function(d2){return locale_shortMonths[d2.getMonth()]},B:function(d2){return locale_months[d2.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(d2){return locale_periods[+(d2.getHours()>=12)]},q:function(d2){return 1+~~(d2.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function(d2){return locale_shortWeekdays[d2.getUTCDay()]},A:function(d2){return locale_weekdays[d2.getUTCDay()]},b:function(d2){return locale_shortMonths[d2.getUTCMonth()]},B:function(d2){return locale_months[d2.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(d2){return locale_periods[+(d2.getUTCHours()>=12)]},q:function(d2){return 1+~~(d2.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function(d2,string2,i2){var n2=shortWeekdayRe.exec(string2.slice(i2));return n2?(d2.w=shortWeekdayLookup.get(n2[0].toLowerCase()),i2+n2[0].length):-1},A:function(d2,string2,i2){var n2=weekdayRe.exec(string2.slice(i2));return n2?(d2.w=weekdayLookup.get(n2[0].toLowerCase()),i2+n2[0].length):-1},b:function(d2,string2,i2){var n2=shortMonthRe.exec(string2.slice(i2));return n2?(d2.m=shortMonthLookup.get(n2[0].toLowerCase()),i2+n2[0].length):-1},B:function(d2,string2,i2){var n2=monthRe.exec(string2.slice(i2));return n2?(d2.m=monthLookup.get(n2[0].toLowerCase()),i2+n2[0].length):-1},c:function(d2,string2,i2){return parseSpecifier(d2,locale_dateTime,string2,i2)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear$1,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(d2,string2,i2){var n2=periodRe.exec(string2.slice(i2));return n2?(d2.p=periodLookup.get(n2[0].toLowerCase()),i2+n2[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(d2,string2,i2){return parseSpecifier(d2,locale_date,string2,i2)},X:function(d2,string2,i2){return parseSpecifier(d2,locale_time,string2,i2)},y:parseYear$1,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(specifier,formats2){return function(date2){var c2,pad2,format2,string2=[],i2=-1,j2=0,n2=specifier.length;for(date2 instanceof Date||(date2=new Date(+date2));++i2<n2;)37===specifier.charCodeAt(i2)&&(string2.push(specifier.slice(j2,i2)),null!=(pad2=pads[c2=specifier.charAt(++i2)])?c2=specifier.charAt(++i2):pad2="e"===c2?" ":"0",(format2=formats2[c2])&&(c2=format2(date2,pad2)),string2.push(c2),j2=i2+1);return string2.push(specifier.slice(j2,i2)),string2.join("")}}function newParse(specifier,Z2){return function(string2){var week,day,d2=newDate(1900,void 0,1);if(parseSpecifier(d2,specifier,string2+="",0)!=string2.length)return null;if("Q"in d2)return new Date(d2.Q);if("s"in d2)return new Date(1e3*d2.s+("L"in d2?d2.L:0));if(Z2&&!("Z"in d2)&&(d2.Z=0),"p"in d2&&(d2.H=d2.H%12+12*d2.p),void 0===d2.m&&(d2.m="q"in d2?d2.q:0),"V"in d2){if(d2.V<1||d2.V>53)return null;"w"in d2||(d2.w=1),"Z"in d2?(day=(week=utcDate(newDate(d2.y,0,1))).getUTCDay(),week=day>4||0===day?utcMonday.ceil(week):utcMonday(week),week=utcDay.offset(week,7*(d2.V-1)),d2.y=week.getUTCFullYear(),d2.m=week.getUTCMonth(),d2.d=week.getUTCDate()+(d2.w+6)%7):(day=(week=localDate(newDate(d2.y,0,1))).getDay(),week=day>4||0===day?timeMonday.ceil(week):timeMonday(week),week=timeDay.offset(week,7*(d2.V-1)),d2.y=week.getFullYear(),d2.m=week.getMonth(),d2.d=week.getDate()+(d2.w+6)%7)}else("W"in d2||"U"in d2)&&("w"in d2||(d2.w="u"in d2?d2.u%7:"W"in d2?1:0),day="Z"in d2?utcDate(newDate(d2.y,0,1)).getUTCDay():localDate(newDate(d2.y,0,1)).getDay(),d2.m=0,d2.d="W"in d2?(d2.w+6)%7+7*d2.W-(day+5)%7:d2.w+7*d2.U-(day+6)%7);return"Z"in d2?(d2.H+=d2.Z/100|0,d2.M+=d2.Z%100,utcDate(d2)):localDate(d2)}}function parseSpecifier(d2,specifier,string2,j2){for(var c2,parse,i2=0,n2=specifier.length,m2=string2.length;i2<n2;){if(j2>=m2)return-1;if(37===(c2=specifier.charCodeAt(i2++))){if(c2=specifier.charAt(i2++),!(parse=parses[c2 in pads?specifier.charAt(i2++):c2])||(j2=parse(d2,string2,j2))<0)return-1}else if(c2!=string2.charCodeAt(j2++))return-1}return j2}return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f2=newFormat(specifier+="",formats);return f2.toString=function(){return specifier},f2},parse:function(specifier){var p2=newParse(specifier+="",!1);return p2.toString=function(){return specifier},p2},utcFormat:function(specifier){var f2=newFormat(specifier+="",utcFormats);return f2.toString=function(){return specifier},f2},utcParse:function(specifier){var p2=newParse(specifier+="",!0);return p2.toString=function(){return specifier},p2}}}(definition),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:function diverging(){var scale=linearish(transformer()(identity$6));return scale.copy=function(){return copy(scale,diverging())},initInterpolator.apply(scale,arguments)},scaleDivergingLog:function divergingLog(){var scale=loggish(transformer()).domain([.1,1,10]);return scale.copy=function(){return copy(scale,divergingLog()).base(scale.base())},initInterpolator.apply(scale,arguments)},scaleDivergingPow:divergingPow,scaleDivergingSqrt:function(){return divergingPow.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function divergingSymlog(){var scale=symlogish(transformer());return scale.copy=function(){return copy(scale,divergingSymlog()).constant(scale.constant())},initInterpolator.apply(scale,arguments)},scaleIdentity:function identity$4(domain){var unknown;function scale(x2){return null==x2||isNaN(x2=+x2)?unknown:x2}return scale.invert=scale,scale.domain=scale.range=function(_2){return arguments.length?(domain=Array.from(_2,number$1),scale):domain.slice()},scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):unknown},scale.copy=function(){return identity$4(domain).unknown(unknown)},domain=arguments.length?Array.from(domain,number$1):[0,1],linearish(scale)},scaleImplicit:implicit,scaleLinear:linear,scaleLog:function log(){const scale=loggish(transformer$2()).domain([1,10]);return scale.copy=()=>copy$1(scale,log()).base(scale.base()),initRange.apply(scale,arguments),scale},scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:function quantile(){var unknown,domain=[],range3=[],thresholds=[];function rescale(){var i2=0,n2=Math.max(1,range3.length);for(thresholds=new Array(n2-1);++i2<n2;)thresholds[i2-1]=quantileSorted(domain,i2/n2);return scale}function scale(x2){return null==x2||isNaN(x2=+x2)?unknown:range3[bisectRight(thresholds,x2)]}return scale.invertExtent=function(y2){var i2=range3.indexOf(y2);return i2<0?[NaN,NaN]:[i2>0?thresholds[i2-1]:domain[0],i2<thresholds.length?thresholds[i2]:domain[domain.length-1]]},scale.domain=function(_2){if(!arguments.length)return domain.slice();domain=[];for(let d2 of _2)null==d2||isNaN(d2=+d2)||domain.push(d2);return domain.sort(ascending),rescale()},scale.range=function(_2){return arguments.length?(range3=Array.from(_2),rescale()):range3.slice()},scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):unknown},scale.quantiles=function(){return thresholds.slice()},scale.copy=function(){return quantile().domain(domain).range(range3).unknown(unknown)},initRange.apply(scale,arguments)},scaleQuantize:function quantize(){var unknown,x0=0,x1=1,n2=1,domain=[.5],range3=[0,1];function scale(x2){return null!=x2&&x2<=x2?range3[bisectRight(domain,x2,0,n2)]:unknown}function rescale(){var i2=-1;for(domain=new Array(n2);++i2<n2;)domain[i2]=((i2+1)*x1-(i2-n2)*x0)/(n2+1);return scale}return scale.domain=function(_2){return arguments.length?([x0,x1]=_2,x0=+x0,x1=+x1,rescale()):[x0,x1]},scale.range=function(_2){return arguments.length?(n2=(range3=Array.from(_2)).length-1,rescale()):range3.slice()},scale.invertExtent=function(y2){var i2=range3.indexOf(y2);return i2<0?[NaN,NaN]:i2<1?[x0,domain[0]]:i2>=n2?[domain[n2-1],x1]:[domain[i2-1],domain[i2]]},scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):scale},scale.thresholds=function(){return domain.slice()},scale.copy=function(){return quantize().domain([x0,x1]).range(range3).unknown(unknown)},initRange.apply(linearish(scale),arguments)},scaleRadial:function radial(){var unknown,squared=continuous(),range3=[0,1],round2=!1;function scale(x2){var y2=function(x2){return Math.sign(x2)*Math.sqrt(Math.abs(x2))}(squared(x2));return isNaN(y2)?unknown:round2?Math.round(y2):y2}return scale.invert=function(y2){return squared.invert(square(y2))},scale.domain=function(_2){return arguments.length?(squared.domain(_2),scale):squared.domain()},scale.range=function(_2){return arguments.length?(squared.range((range3=Array.from(_2,number$1)).map(square)),scale):range3.slice()},scale.rangeRound=function(_2){return scale.range(_2).round(!0)},scale.round=function(_2){return arguments.length?(round2=!!_2,scale):round2},scale.clamp=function(_2){return arguments.length?(squared.clamp(_2),scale):squared.clamp()},scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):unknown},scale.copy=function(){return radial(squared.domain(),range3).round(round2).clamp(squared.clamp()).unknown(unknown)},initRange.apply(scale,arguments),linearish(scale)},scaleSequential:function sequential(){var scale=linearish(transformer$1()(identity$6));return scale.copy=function(){return copy(scale,sequential())},initInterpolator.apply(scale,arguments)},scaleSequentialLog:function sequentialLog(){var scale=loggish(transformer$1()).domain([1,10]);return scale.copy=function(){return copy(scale,sequentialLog()).base(scale.base())},initInterpolator.apply(scale,arguments)},scaleSequentialPow:sequentialPow,scaleSequentialQuantile:function sequentialQuantile(){var domain=[],interpolator=identity$6;function scale(x2){if(null!=x2&&!isNaN(x2=+x2))return interpolator((bisectRight(domain,x2,1)-1)/(domain.length-1))}return scale.domain=function(_2){if(!arguments.length)return domain.slice();domain=[];for(let d2 of _2)null==d2||isNaN(d2=+d2)||domain.push(d2);return domain.sort(ascending),scale},scale.interpolator=function(_2){return arguments.length?(interpolator=_2,scale):interpolator},scale.range=function(){return domain.map((d2,i2)=>interpolator(i2/(domain.length-1)))},scale.quantiles=function(n2){return Array.from({length:n2+1},(_2,i2)=>function(values,p2){if((n2=(values=Float64Array.from(function*(values){for(let value of values)null!=value&&(value=+value)>=value&&(yield value)}(values))).length)&&!isNaN(p2=+p2)){if(p2<=0||n2<2)return min$4(values);if(p2>=1)return max$5(values);var n2,i2=(n2-1)*p2,i0=Math.floor(i2),value0=max$5(quickselect(values,i0).subarray(0,i0+1));return value0+(min$4(values.subarray(i0+1))-value0)*(i2-i0)}}(domain,i2/n2))},scale.copy=function(){return sequentialQuantile(interpolator).domain(domain)},initInterpolator.apply(scale,arguments)},scaleSequentialSqrt:function(){return sequentialPow.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function sequentialSymlog(){var scale=symlogish(transformer$1());return scale.copy=function(){return copy(scale,sequentialSymlog()).constant(scale.constant())},initInterpolator.apply(scale,arguments)},scaleSqrt:function(){return pow.apply(null,arguments).exponent(.5)},scaleSymlog:function symlog(){var scale=symlogish(transformer$2());return scale.copy=function(){return copy$1(scale,symlog()).constant(scale.constant())},initRange.apply(scale,arguments)},scaleThreshold:function threshold(){var unknown,domain=[.5],range3=[0,1],n2=1;function scale(x2){return null!=x2&&x2<=x2?range3[bisectRight(domain,x2,0,n2)]:unknown}return scale.domain=function(_2){return arguments.length?(domain=Array.from(_2),n2=Math.min(domain.length,range3.length-1),scale):domain.slice()},scale.range=function(_2){return arguments.length?(range3=Array.from(_2),n2=Math.min(domain.length,range3.length-1),scale):range3.slice()},scale.invertExtent=function(y2){var i2=range3.indexOf(y2);return[domain[i2-1],domain[i2]]},scale.unknown=function(_2){return arguments.length?(unknown=_2,scale):unknown},scale.copy=function(){return threshold().domain(domain).range(range3).unknown(unknown)},initRange.apply(scale,arguments)},scaleTime:function(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:tickFormat},Symbol.toStringTag,{value:"Module"}));var isSymbol=isSymbol_1;var _baseExtremum=function(array2,iteratee,comparator){for(var index=-1,length=array2.length;++index<length;){var value=array2[index],current=iteratee(value);if(null!=current&&(void 0===computed?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result};var _baseGt=function(value,other){return value>other},baseExtremum$3=_baseExtremum,baseGt$1=_baseGt,identity$3=identity_1;const max$4=getDefaultExportFromCjs(function(array2){return array2&&array2.length?baseExtremum$3(array2,identity$3,baseGt$1):void 0});var _baseLt=function(value,other){return value<other},baseExtremum$2=_baseExtremum,baseLt$1=_baseLt,identity$2=identity_1;const min$3=getDefaultExportFromCjs(function(array2){return array2&&array2.length?baseExtremum$2(array2,identity$2,baseLt$1):void 0});var arrayMap=_arrayMap,baseIteratee$7=_baseIteratee,baseMap=_baseMap,isArray$3=isArray_1;var baseFlatten=_baseFlatten,map$1=function(collection,iteratee){return(isArray$3(collection)?arrayMap:baseMap)(collection,baseIteratee$7(iteratee))};const flatMap$1=getDefaultExportFromCjs(function(collection,iteratee){return baseFlatten(map$1(collection,iteratee),1)});var baseIsEqual=_baseIsEqual;const isEqual$1=getDefaultExportFromCjs(function(value,other){return baseIsEqual(value,other)});var ONE,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,BASE=1e7,MAX_E=mathfloor(1286742750677284.5),P$2={};function add(x2,y2){var carry,d2,e3,i2,k2,len,xd,yd,Ctor=x2.constructor,pr=Ctor.precision;if(!x2.s||!y2.s)return y2.s||(y2=new Ctor(x2)),external?round(y2,pr):y2;if(xd=x2.d,yd=y2.d,k2=x2.e,e3=y2.e,xd=xd.slice(),i2=k2-e3){for(i2<0?(d2=xd,i2=-i2,len=yd.length):(d2=yd,e3=k2,len=xd.length),i2>(len=(k2=Math.ceil(pr/7))>len?k2+1:len+1)&&(i2=len,d2.length=1),d2.reverse();i2--;)d2.push(0);d2.reverse()}for((len=xd.length)-(i2=yd.length)<0&&(i2=len,d2=yd,yd=xd,xd=d2),carry=0;i2;)carry=(xd[--i2]=xd[i2]+yd[i2]+carry)/BASE|0,xd[i2]%=BASE;for(carry&&(xd.unshift(carry),++e3),len=xd.length;0==xd[--len];)xd.pop();return y2.d=xd,y2.e=e3,external?round(y2,pr):y2}function checkInt32(i2,min2,max2){if(i2!==~~i2||i2<min2||i2>max2)throw Error(invalidArgument+i2)}function digitsToString(d2){var i2,k2,ws,indexOfLastWord=d2.length-1,str="",w2=d2[0];if(indexOfLastWord>0){for(str+=w2,i2=1;i2<indexOfLastWord;i2++)(k2=7-(ws=d2[i2]+"").length)&&(str+=getZeroString(k2)),str+=ws;(k2=7-(ws=(w2=d2[i2])+"").length)&&(str+=getZeroString(k2))}else if(0===w2)return"0";for(;w2%10==0;)w2/=10;return str+w2}P$2.absoluteValue=P$2.abs=function(){var x2=new this.constructor(this);return x2.s&&(x2.s=1),x2},P$2.comparedTo=P$2.cmp=function(y2){var i2,j2,xdL,ydL,x2=this;if(y2=new x2.constructor(y2),x2.s!==y2.s)return x2.s||-y2.s;if(x2.e!==y2.e)return x2.e>y2.e^x2.s<0?1:-1;for(i2=0,j2=(xdL=x2.d.length)<(ydL=y2.d.length)?xdL:ydL;i2<j2;++i2)if(x2.d[i2]!==y2.d[i2])return x2.d[i2]>y2.d[i2]^x2.s<0?1:-1;return xdL===ydL?0:xdL>ydL^x2.s<0?1:-1},P$2.decimalPlaces=P$2.dp=function(){var w2=this.d.length-1,dp=7*(w2-this.e);if(w2=this.d[w2])for(;w2%10==0;w2/=10)dp--;return dp<0?0:dp},P$2.dividedBy=P$2.div=function(y2){return divide(this,new this.constructor(y2))},P$2.dividedToIntegerBy=P$2.idiv=function(y2){var Ctor=this.constructor;return round(divide(this,new Ctor(y2),0,1),Ctor.precision)},P$2.equals=P$2.eq=function(y2){return!this.cmp(y2)},P$2.exponent=function(){return getBase10Exponent(this)},P$2.greaterThan=P$2.gt=function(y2){return this.cmp(y2)>0},P$2.greaterThanOrEqualTo=P$2.gte=function(y2){return this.cmp(y2)>=0},P$2.isInteger=P$2.isint=function(){return this.e>this.d.length-2},P$2.isNegative=P$2.isneg=function(){return this.s<0},P$2.isPositive=P$2.ispos=function(){return this.s>0},P$2.isZero=function(){return 0===this.s},P$2.lessThan=P$2.lt=function(y2){return this.cmp(y2)<0},P$2.lessThanOrEqualTo=P$2.lte=function(y2){return this.cmp(y2)<1},P$2.logarithm=P$2.log=function(base){var r2,x2=this,Ctor=x2.constructor,pr=Ctor.precision,wpr=pr+5;if(void 0===base)base=new Ctor(10);else if((base=new Ctor(base)).s<1||base.eq(ONE))throw Error(decimalError+"NaN");if(x2.s<1)throw Error(decimalError+(x2.s?"NaN":"-Infinity"));return x2.eq(ONE)?new Ctor(0):(external=!1,r2=divide(ln$1(x2,wpr),ln$1(base,wpr),wpr),external=!0,round(r2,pr))},P$2.minus=P$2.sub=function(y2){return y2=new this.constructor(y2),this.s==y2.s?subtract(this,y2):add(this,(y2.s=-y2.s,y2))},P$2.modulo=P$2.mod=function(y2){var q2,x2=this,Ctor=x2.constructor,pr=Ctor.precision;if(!(y2=new Ctor(y2)).s)throw Error(decimalError+"NaN");return x2.s?(external=!1,q2=divide(x2,y2,0,1).times(y2),external=!0,x2.minus(q2)):round(new Ctor(x2),pr)},P$2.naturalExponential=P$2.exp=function(){return exp(this)},P$2.naturalLogarithm=P$2.ln=function(){return ln$1(this)},P$2.negated=P$2.neg=function(){var x2=new this.constructor(this);return x2.s=-x2.s||0,x2},P$2.plus=P$2.add=function(y2){return y2=new this.constructor(y2),this.s==y2.s?add(this,y2):subtract(this,(y2.s=-y2.s,y2))},P$2.precision=P$2.sd=function(z2){var e3,sd,w2;if(void 0!==z2&&z2!==!!z2&&1!==z2&&0!==z2)throw Error(invalidArgument+z2);if(e3=getBase10Exponent(this)+1,sd=7*(w2=this.d.length-1)+1,w2=this.d[w2]){for(;w2%10==0;w2/=10)sd--;for(w2=this.d[0];w2>=10;w2/=10)sd++}return z2&&e3>sd?e3:sd},P$2.squareRoot=P$2.sqrt=function(){var e3,n2,pr,r2,s2,t3,wpr,x2=this,Ctor=x2.constructor;if(x2.s<1){if(!x2.s)return new Ctor(0);throw Error(decimalError+"NaN")}for(e3=getBase10Exponent(x2),external=!1,0==(s2=Math.sqrt(+x2))||s2==1/0?(((n2=digitsToString(x2.d)).length+e3)%2==0&&(n2+="0"),s2=Math.sqrt(n2),e3=mathfloor((e3+1)/2)-(e3<0||e3%2),r2=new Ctor(n2=s2==1/0?"5e"+e3:(n2=s2.toExponential()).slice(0,n2.indexOf("e")+1)+e3)):r2=new Ctor(s2.toString()),s2=wpr=(pr=Ctor.precision)+3;;)if(r2=(t3=r2).plus(divide(x2,t3,wpr+2)).times(.5),digitsToString(t3.d).slice(0,wpr)===(n2=digitsToString(r2.d)).slice(0,wpr)){if(n2=n2.slice(wpr-3,wpr+1),s2==wpr&&"4999"==n2){if(round(t3,pr+1,0),t3.times(t3).eq(x2)){r2=t3;break}}else if("9999"!=n2)break;wpr+=4}return external=!0,round(r2,pr)},P$2.times=P$2.mul=function(y2){var carry,e3,i2,k2,r2,rL,t3,xdL,ydL,x2=this,Ctor=x2.constructor,xd=x2.d,yd=(y2=new Ctor(y2)).d;if(!x2.s||!y2.s)return new Ctor(0);for(y2.s*=x2.s,e3=x2.e+y2.e,(xdL=xd.length)<(ydL=yd.length)&&(r2=xd,xd=yd,yd=r2,rL=xdL,xdL=ydL,ydL=rL),r2=[],i2=rL=xdL+ydL;i2--;)r2.push(0);for(i2=ydL;--i2>=0;){for(carry=0,k2=xdL+i2;k2>i2;)t3=r2[k2]+yd[i2]*xd[k2-i2-1]+carry,r2[k2--]=t3%BASE|0,carry=t3/BASE|0;r2[k2]=(r2[k2]+carry)%BASE|0}for(;!r2[--rL];)r2.pop();return carry?++e3:r2.shift(),y2.d=r2,y2.e=e3,external?round(y2,Ctor.precision):y2},P$2.toDecimalPlaces=P$2.todp=function(dp,rm){var x2=this,Ctor=x2.constructor;return x2=new Ctor(x2),void 0===dp?x2:(checkInt32(dp,0,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),round(x2,dp+getBase10Exponent(x2)+1,rm))},P$2.toExponential=function(dp,rm){var str,x2=this,Ctor=x2.constructor;return void 0===dp?str=toString$1(x2,!0):(checkInt32(dp,0,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=toString$1(x2=round(new Ctor(x2),dp+1,rm),!0,dp+1)),str},P$2.toFixed=function(dp,rm){var str,y2,x2=this,Ctor=x2.constructor;return void 0===dp?toString$1(x2):(checkInt32(dp,0,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=toString$1((y2=round(new Ctor(x2),dp+getBase10Exponent(x2)+1,rm)).abs(),!1,dp+getBase10Exponent(y2)+1),x2.isneg()&&!x2.isZero()?"-"+str:str)},P$2.toInteger=P$2.toint=function(){var Ctor=this.constructor;return round(new Ctor(this),getBase10Exponent(this)+1,Ctor.rounding)},P$2.toNumber=function(){return+this},P$2.toPower=P$2.pow=function(y2){var e3,k2,pr,r2,sign2,yIsInt,x2=this,Ctor=x2.constructor,yn=+(y2=new Ctor(y2));if(!y2.s)return new Ctor(ONE);if(!(x2=new Ctor(x2)).s){if(y2.s<1)throw Error(decimalError+"Infinity");return x2}if(x2.eq(ONE))return x2;if(pr=Ctor.precision,y2.eq(ONE))return round(x2,pr);if(yIsInt=(e3=y2.e)>=(k2=y2.d.length-1),sign2=x2.s,yIsInt){if((k2=yn<0?-yn:yn)<=9007199254740991){for(r2=new Ctor(ONE),e3=Math.ceil(pr/7+4),external=!1;k2%2&&truncate((r2=r2.times(x2)).d,e3),0!==(k2=mathfloor(k2/2));)truncate((x2=x2.times(x2)).d,e3);return external=!0,y2.s<0?new Ctor(ONE).div(r2):round(r2,pr)}}else if(sign2<0)throw Error(decimalError+"NaN");return sign2=sign2<0&&1&y2.d[Math.max(e3,k2)]?-1:1,x2.s=1,external=!1,r2=y2.times(ln$1(x2,pr+12)),external=!0,(r2=exp(r2)).s=sign2,r2},P$2.toPrecision=function(sd,rm){var e3,str,x2=this,Ctor=x2.constructor;return void 0===sd?str=toString$1(x2,(e3=getBase10Exponent(x2))<=Ctor.toExpNeg||e3>=Ctor.toExpPos):(checkInt32(sd,1,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8),str=toString$1(x2=round(new Ctor(x2),sd,rm),sd<=(e3=getBase10Exponent(x2))||e3<=Ctor.toExpNeg,sd)),str},P$2.toSignificantDigits=P$2.tosd=function(sd,rm){var Ctor=this.constructor;return void 0===sd?(sd=Ctor.precision,rm=Ctor.rounding):(checkInt32(sd,1,1e9),void 0===rm?rm=Ctor.rounding:checkInt32(rm,0,8)),round(new Ctor(this),sd,rm)},P$2.toString=P$2.valueOf=P$2.val=P$2.toJSON=P$2[Symbol.for("nodejs.util.inspect.custom")]=function(){var e3=getBase10Exponent(this),Ctor=this.constructor;return toString$1(this,e3<=Ctor.toExpNeg||e3>=Ctor.toExpPos)};var divide=function(){function multiplyInteger(x2,k2){var temp,carry=0,i2=x2.length;for(x2=x2.slice();i2--;)temp=x2[i2]*k2+carry,x2[i2]=temp%BASE|0,carry=temp/BASE|0;return carry&&x2.unshift(carry),x2}function compare(a2,b2,aL,bL){var i2,r2;if(aL!=bL)r2=aL>bL?1:-1;else for(i2=r2=0;i2<aL;i2++)if(a2[i2]!=b2[i2]){r2=a2[i2]>b2[i2]?1:-1;break}return r2}function subtract2(a2,b2,aL){for(var i2=0;aL--;)a2[aL]-=i2,i2=a2[aL]<b2[aL]?1:0,a2[aL]=i2*BASE+a2[aL]-b2[aL];for(;!a2[0]&&a2.length>1;)a2.shift()}return function(x2,y2,pr,dp){var cmp,e3,i2,k2,prod,prodL,q2,qd,rem,remL,rem0,sd,t3,xi,xL,yd0,yL,yz,Ctor=x2.constructor,sign2=x2.s==y2.s?1:-1,xd=x2.d,yd=y2.d;if(!x2.s)return new Ctor(x2);if(!y2.s)throw Error(decimalError+"Division by zero");for(e3=x2.e-y2.e,yL=yd.length,xL=xd.length,qd=(q2=new Ctor(sign2)).d=[],i2=0;yd[i2]==(xd[i2]||0);)++i2;if(yd[i2]>(xd[i2]||0)&&--e3,(sd=null==pr?pr=Ctor.precision:dp?pr+(getBase10Exponent(x2)-getBase10Exponent(y2))+1:pr)<0)return new Ctor(0);if(sd=sd/7+2|0,i2=0,1==yL)for(k2=0,yd=yd[0],sd++;(i2<xL||k2)&&sd--;i2++)t3=k2*BASE+(xd[i2]||0),qd[i2]=t3/yd|0,k2=t3%yd|0;else{for((k2=BASE/(yd[0]+1)|0)>1&&(yd=multiplyInteger(yd,k2),xd=multiplyInteger(xd,k2),yL=yd.length,xL=xd.length),xi=yL,remL=(rem=xd.slice(0,yL)).length;remL<yL;)rem[remL++]=0;(yz=yd.slice()).unshift(0),yd0=yd[0],yd[1]>=BASE/2&&++yd0;do{k2=0,(cmp=compare(yd,rem,yL,remL))<0?(rem0=rem[0],yL!=remL&&(rem0=rem0*BASE+(rem[1]||0)),(k2=rem0/yd0|0)>1?(k2>=BASE&&(k2=BASE-1),1==(cmp=compare(prod=multiplyInteger(yd,k2),rem,prodL=prod.length,remL=rem.length))&&(k2--,subtract2(prod,yL<prodL?yz:yd,prodL))):(0==k2&&(cmp=k2=1),prod=yd.slice()),(prodL=prod.length)<remL&&prod.unshift(0),subtract2(rem,prod,remL),-1==cmp&&(cmp=compare(yd,rem,yL,remL=rem.length))<1&&(k2++,subtract2(rem,yL<remL?yz:yd,remL)),remL=rem.length):0===cmp&&(k2++,rem=[0]),qd[i2++]=k2,cmp&&rem[0]?rem[remL++]=xd[xi]||0:(rem=[xd[xi]],remL=1)}while((xi++<xL||void 0!==rem[0])&&sd--)}return qd[0]||qd.shift(),q2.e=e3,round(q2,dp?pr+getBase10Exponent(q2)+1:pr)}}();function exp(x2,sd){var denominator,pow2,sum2,t3,wpr,i2=0,k2=0,Ctor=x2.constructor,pr=Ctor.precision;if(getBase10Exponent(x2)>16)throw Error(exponentOutOfRange+getBase10Exponent(x2));if(!x2.s)return new Ctor(ONE);for(external=!1,wpr=pr,t3=new Ctor(.03125);x2.abs().gte(.1);)x2=x2.times(t3),k2+=5;for(wpr+=Math.log(mathpow(2,k2))/Math.LN10*2+5|0,denominator=pow2=sum2=new Ctor(ONE),Ctor.precision=wpr;;){if(pow2=round(pow2.times(x2),wpr),denominator=denominator.times(++i2),digitsToString((t3=sum2.plus(divide(pow2,denominator,wpr))).d).slice(0,wpr)===digitsToString(sum2.d).slice(0,wpr)){for(;k2--;)sum2=round(sum2.times(sum2),wpr);return Ctor.precision=pr,null==sd?(external=!0,round(sum2,pr)):sum2}sum2=t3}}function getBase10Exponent(x2){for(var e3=7*x2.e,w2=x2.d[0];w2>=10;w2/=10)e3++;return e3}function getLn10(Ctor,sd,pr){if(sd>Ctor.LN10.sd())throw external=!0,pr&&(Ctor.precision=pr),Error(decimalError+"LN10 precision limit exceeded");return round(new Ctor(Ctor.LN10),sd)}function getZeroString(k2){for(var zs="";k2--;)zs+="0";return zs}function ln$1(y2,sd){var c2,c0,denominator,e3,numerator,sum2,t3,wpr,x2,n2=1,x3=y2,xd=x3.d,Ctor=x3.constructor,pr=Ctor.precision;if(x3.s<1)throw Error(decimalError+(x3.s?"NaN":"-Infinity"));if(x3.eq(ONE))return new Ctor(0);if(null==sd?(external=!1,wpr=pr):wpr=sd,x3.eq(10))return null==sd&&(external=!0),getLn10(Ctor,wpr);if(wpr+=10,Ctor.precision=wpr,c0=(c2=digitsToString(xd)).charAt(0),e3=getBase10Exponent(x3),!(Math.abs(e3)<15e14))return t3=getLn10(Ctor,wpr+2,pr).times(e3+""),x3=ln$1(new Ctor(c0+"."+c2.slice(1)),wpr-10).plus(t3),Ctor.precision=pr,null==sd?(external=!0,round(x3,pr)):x3;for(;c0<7&&1!=c0||1==c0&&c2.charAt(1)>3;)c0=(c2=digitsToString((x3=x3.times(y2)).d)).charAt(0),n2++;for(e3=getBase10Exponent(x3),c0>1?(x3=new Ctor("0."+c2),e3++):x3=new Ctor(c0+"."+c2.slice(1)),sum2=numerator=x3=divide(x3.minus(ONE),x3.plus(ONE),wpr),x2=round(x3.times(x3),wpr),denominator=3;;){if(numerator=round(numerator.times(x2),wpr),digitsToString((t3=sum2.plus(divide(numerator,new Ctor(denominator),wpr))).d).slice(0,wpr)===digitsToString(sum2.d).slice(0,wpr))return sum2=sum2.times(2),0!==e3&&(sum2=sum2.plus(getLn10(Ctor,wpr+2,pr).times(e3+""))),sum2=divide(sum2,new Ctor(n2),wpr),Ctor.precision=pr,null==sd?(external=!0,round(sum2,pr)):sum2;sum2=t3,denominator+=2}}function parseDecimal(x2,str){var e3,i2,len;for((e3=str.indexOf("."))>-1&&(str=str.replace(".","")),(i2=str.search(/e/i))>0?(e3<0&&(e3=i2),e3+=+str.slice(i2+1),str=str.substring(0,i2)):e3<0&&(e3=str.length),i2=0;48===str.charCodeAt(i2);)++i2;for(len=str.length;48===str.charCodeAt(len-1);)--len;if(str=str.slice(i2,len)){if(len-=i2,e3=e3-i2-1,x2.e=mathfloor(e3/7),x2.d=[],i2=(e3+1)%7,e3<0&&(i2+=7),i2<len){for(i2&&x2.d.push(+str.slice(0,i2)),len-=7;i2<len;)x2.d.push(+str.slice(i2,i2+=7));i2=7-(str=str.slice(i2)).length}else i2-=len;for(;i2--;)str+="0";if(x2.d.push(+str),external&&(x2.e>MAX_E||x2.e<-MAX_E))throw Error(exponentOutOfRange+e3)}else x2.s=0,x2.e=0,x2.d=[0];return x2}function round(x2,sd,rm){var i2,j2,k2,n2,rd,doRound,w2,xdi,xd=x2.d;for(n2=1,k2=xd[0];k2>=10;k2/=10)n2++;if((i2=sd-n2)<0)i2+=7,j2=sd,w2=xd[xdi=0];else{if((xdi=Math.ceil((i2+1)/7))>=(k2=xd.length))return x2;for(w2=k2=xd[xdi],n2=1;k2>=10;k2/=10)n2++;j2=(i2%=7)-7+n2}if(void 0!==rm&&(rd=w2/(k2=mathpow(10,n2-j2-1))%10|0,doRound=sd<0||void 0!==xd[xdi+1]||w2%k2,doRound=rm<4?(rd||doRound)&&(0==rm||rm==(x2.s<0?3:2)):rd>5||5==rd&&(4==rm||doRound||6==rm&&(i2>0?j2>0?w2/mathpow(10,n2-j2):0:xd[xdi-1])%10&1||rm==(x2.s<0?8:7))),sd<1||!xd[0])return doRound?(k2=getBase10Exponent(x2),xd.length=1,sd=sd-k2-1,xd[0]=mathpow(10,(7-sd%7)%7),x2.e=mathfloor(-sd/7)||0):(xd.length=1,xd[0]=x2.e=x2.s=0),x2;if(0==i2?(xd.length=xdi,k2=1,xdi--):(xd.length=xdi+1,k2=mathpow(10,7-i2),xd[xdi]=j2>0?(w2/mathpow(10,n2-j2)%mathpow(10,j2)|0)*k2:0),doRound)for(;;){if(0==xdi){(xd[0]+=k2)==BASE&&(xd[0]=1,++x2.e);break}if(xd[xdi]+=k2,xd[xdi]!=BASE)break;xd[xdi--]=0,k2=1}for(i2=xd.length;0===xd[--i2];)xd.pop();if(external&&(x2.e>MAX_E||x2.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(x2));return x2}function subtract(x2,y2){var d2,e3,i2,j2,k2,len,xd,xe2,xLTy,yd,Ctor=x2.constructor,pr=Ctor.precision;if(!x2.s||!y2.s)return y2.s?y2.s=-y2.s:y2=new Ctor(x2),external?round(y2,pr):y2;if(xd=x2.d,yd=y2.d,e3=y2.e,xe2=x2.e,xd=xd.slice(),k2=xe2-e3){for((xLTy=k2<0)?(d2=xd,k2=-k2,len=yd.length):(d2=yd,e3=xe2,len=xd.length),k2>(i2=Math.max(Math.ceil(pr/7),len)+2)&&(k2=i2,d2.length=1),d2.reverse(),i2=k2;i2--;)d2.push(0);d2.reverse()}else{for((xLTy=(i2=xd.length)<(len=yd.length))&&(len=i2),i2=0;i2<len;i2++)if(xd[i2]!=yd[i2]){xLTy=xd[i2]<yd[i2];break}k2=0}for(xLTy&&(d2=xd,xd=yd,yd=d2,y2.s=-y2.s),len=xd.length,i2=yd.length-len;i2>0;--i2)xd[len++]=0;for(i2=yd.length;i2>k2;){if(xd[--i2]<yd[i2]){for(j2=i2;j2&&0===xd[--j2];)xd[j2]=BASE-1;--xd[j2],xd[i2]+=BASE}xd[i2]-=yd[i2]}for(;0===xd[--len];)xd.pop();for(;0===xd[0];xd.shift())--e3;return xd[0]?(y2.d=xd,y2.e=e3,external?round(y2,pr):y2):new Ctor(0)}function toString$1(x2,isExp,sd){var k2,e3=getBase10Exponent(x2),str=digitsToString(x2.d),len=str.length;return isExp?(sd&&(k2=sd-len)>0?str=str.charAt(0)+"."+str.slice(1)+getZeroString(k2):len>1&&(str=str.charAt(0)+"."+str.slice(1)),str=str+(e3<0?"e":"e+")+e3):e3<0?(str="0."+getZeroString(-e3-1)+str,sd&&(k2=sd-len)>0&&(str+=getZeroString(k2))):e3>=len?(str+=getZeroString(e3+1-len),sd&&(k2=sd-e3-1)>0&&(str=str+"."+getZeroString(k2))):((k2=e3+1)<len&&(str=str.slice(0,k2)+"."+str.slice(k2)),sd&&(k2=sd-len)>0&&(e3+1===len&&(str+="."),str+=getZeroString(k2))),x2.s<0?"-"+str:str}function truncate(arr,len){if(arr.length>len)return arr.length=len,!0}function config(obj){if(!obj||"object"!=typeof obj)throw Error(decimalError+"Object expected");var i2,p2,v2,ps=["precision",1,1e9,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(i2=0;i2<ps.length;i2+=3)if(void 0!==(v2=obj[p2=ps[i2]])){if(!(mathfloor(v2)===v2&&v2>=ps[i2+1]&&v2<=ps[i2+2]))throw Error(invalidArgument+p2+": "+v2);this[p2]=v2}if(void 0!==(v2=obj[p2="LN10"])){if(v2!=Math.LN10)throw Error(invalidArgument+p2+": "+v2);this[p2]=new this(v2)}return this}var Decimal=function clone(obj){var i2,p2,ps;function Decimal2(value){var x2=this;if(!(x2 instanceof Decimal2))return new Decimal2(value);if(x2.constructor=Decimal2,value instanceof Decimal2)return x2.s=value.s,x2.e=value.e,void(x2.d=(value=value.d)?value.slice():value);if("number"==typeof value){if(0*value!=0)throw Error(invalidArgument+value);if(value>0)x2.s=1;else{if(!(value<0))return x2.s=0,x2.e=0,void(x2.d=[0]);value=-value,x2.s=-1}return value===~~value&&value<1e7?(x2.e=0,void(x2.d=[value])):parseDecimal(x2,value.toString())}if("string"!=typeof value)throw Error(invalidArgument+value);if(45===value.charCodeAt(0)?(value=value.slice(1),x2.s=-1):x2.s=1,!isDecimal.test(value))throw Error(invalidArgument+value);parseDecimal(x2,value)}if(Decimal2.prototype=P$2,Decimal2.ROUND_UP=0,Decimal2.ROUND_DOWN=1,Decimal2.ROUND_CEIL=2,Decimal2.ROUND_FLOOR=3,Decimal2.ROUND_HALF_UP=4,Decimal2.ROUND_HALF_DOWN=5,Decimal2.ROUND_HALF_EVEN=6,Decimal2.ROUND_HALF_CEIL=7,Decimal2.ROUND_HALF_FLOOR=8,Decimal2.clone=clone,Decimal2.config=Decimal2.set=config,void 0===obj&&(obj={}),obj)for(ps=["precision","rounding","toExpNeg","toExpPos","LN10"],i2=0;i2<ps.length;)obj.hasOwnProperty(p2=ps[i2++])||(obj[p2]=this[p2]);return Decimal2.config(obj),Decimal2}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});ONE=new Decimal(1);const Decimal$1=Decimal;function _toConsumableArray$c(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$k(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$k(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$k(o2,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$k(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var identity$1=function(i2){return i2},PLACE_HOLDER={},isPlaceHolder=function(val){return val===PLACE_HOLDER},curry0=function(fn){return function _curried(){return 0===arguments.length||1===arguments.length&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?_curried:fn.apply(void 0,arguments)}},curryN=function curryN2(n2,fn){return 1===n2?fn:curry0(function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var argsLength=args.filter(function(arg){return arg!==PLACE_HOLDER}).length;return argsLength>=n2?fn.apply(void 0,args):curryN2(n2-argsLength,curry0(function(){for(var _len2=arguments.length,restArgs=new Array(_len2),_key2=0;_key2<_len2;_key2++)restArgs[_key2]=arguments[_key2];var newArgs=args.map(function(arg){return isPlaceHolder(arg)?restArgs.shift():arg});return fn.apply(void 0,_toConsumableArray$c(newArgs).concat(restArgs))}))})},curry=function(fn){return curryN(fn.length,fn)},range$2=function(begin,end){for(var arr=[],i2=begin;i2<end;++i2)arr[i2-begin]=i2;return arr},map=curry(function(fn,arr){return Array.isArray(arr)?arr.map(fn):Object.keys(arr).map(function(key){return arr[key]}).map(fn)}),reverse=function(arr){return Array.isArray(arr)?arr.reverse():arr.split("").reverse.join("")},memoize=function(fn){var lastArgs=null,lastResult2=null;return function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++)args[_key4]=arguments[_key4];return lastArgs&&args.every(function(val,i2){return val===lastArgs[i2]})?lastResult2:(lastArgs=args,lastResult2=fn.apply(void 0,args))}};var interpolateNumber2=curry(function(a2,b2,t3){var newA=+a2;return newA+t3*(+b2-newA)});const Arithmetic={rangeStep:function(start,end,step){for(var num=new Decimal$1(start),i2=0,result=[];num.lt(end)&&i2<1e5;)result.push(num.toNumber()),num=num.add(step),i2++;return result},getDigitCount:function(value){return 0===value?1:Math.floor(new Decimal$1(value).abs().log(10).toNumber())+1},interpolateNumber:interpolateNumber2,uninterpolateNumber:curry(function(a2,b2,x2){var diff=b2-+a2;return(x2-a2)/(diff=diff||1/0)}),uninterpolateTruncation:curry(function(a2,b2,x2){var diff=b2-+a2;return diff=diff||1/0,Math.max(0,Math.min(1,(x2-a2)/diff))})};function _toConsumableArray$b(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$j(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(iter))return Array.from(iter)}(arr)||_unsupportedIterableToArray$j(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _slicedToArray$a(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(arr,i2){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d2=!1,_e3=void 0;try{for(var _s,_i2=arr[Symbol.iterator]();!(_n=(_s=_i2.next()).done)&&(_arr.push(_s.value),!i2||_arr.length!==i2);_n=!0);}catch(err2){_d2=!0,_e3=err2}finally{try{_n||null==_i2.return||_i2.return()}finally{if(_d2)throw _e3}}return _arr}(arr,i2)||_unsupportedIterableToArray$j(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$j(o2,minLen){if(o2){if("string"==typeof o2)return _arrayLikeToArray$j(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);return"Object"===n2&&o2.constructor&&(n2=o2.constructor.name),"Map"===n2||"Set"===n2?Array.from(o2):"Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2)?_arrayLikeToArray$j(o2,minLen):void 0}}function _arrayLikeToArray$j(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function getValidInterval(_ref){var _ref2=_slicedToArray$a(_ref,2),min2=_ref2[0],max2=_ref2[1],validMin=min2,validMax=max2;return min2>max2&&(validMin=max2,validMax=min2),[validMin,validMax]}function getFormatStep(roughStep,allowDecimals,correctionFactor){if(roughStep.lte(0))return new Decimal$1(0);var digitCount=Arithmetic.getDigitCount(roughStep.toNumber()),digitCountValue=new Decimal$1(10).pow(digitCount),stepRatio=roughStep.div(digitCountValue),stepRatioScale=1!==digitCount?.05:.1,formatStep=new Decimal$1(Math.ceil(stepRatio.div(stepRatioScale).toNumber())).add(correctionFactor).mul(stepRatioScale).mul(digitCountValue);return allowDecimals?formatStep:new Decimal$1(Math.ceil(formatStep))}function getTickOfSingleValue(value,tickCount,allowDecimals){var step=1,middle=new Decimal$1(value);if(!middle.isint()&&allowDecimals){var absVal=Math.abs(value);absVal<1?(step=new Decimal$1(10).pow(Arithmetic.getDigitCount(value)-1),middle=new Decimal$1(Math.floor(middle.div(step).toNumber())).mul(step)):absVal>1&&(middle=new Decimal$1(Math.floor(value)))}else 0===value?middle=new Decimal$1(Math.floor((tickCount-1)/2)):allowDecimals||(middle=new Decimal$1(Math.floor(value)));var middleIndex=Math.floor((tickCount-1)/2),fn=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++)args[_key3]=arguments[_key3];if(!args.length)return identity$1;var fns=args.reverse(),firstFn=fns[0],tailsFn=fns.slice(1);return function(){return tailsFn.reduce(function(res,fn){return fn(res)},firstFn.apply(void 0,arguments))}}(map(function(n2){return middle.add(new Decimal$1(n2-middleIndex).mul(step)).toNumber()}),range$2);return fn(0,tickCount)}function calculateStep(min2,max2,tickCount,allowDecimals){var correctionFactor=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((max2-min2)/(tickCount-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var middle,step=getFormatStep(new Decimal$1(max2).sub(min2).div(tickCount-1),allowDecimals,correctionFactor);middle=min2<=0&&max2>=0?new Decimal$1(0):(middle=new Decimal$1(min2).add(max2).div(2)).sub(new Decimal$1(middle).mod(step));var belowCount=Math.ceil(middle.sub(min2).div(step).toNumber()),upCount=Math.ceil(new Decimal$1(max2).sub(middle).div(step).toNumber()),scaleCount=belowCount+upCount+1;return scaleCount>tickCount?calculateStep(min2,max2,tickCount,allowDecimals,correctionFactor+1):(scaleCount<tickCount&&(upCount=max2>0?upCount+(tickCount-scaleCount):upCount,belowCount=max2>0?belowCount:belowCount+(tickCount-scaleCount)),{step:step,tickMin:middle.sub(new Decimal$1(belowCount).mul(step)),tickMax:middle.add(new Decimal$1(upCount).mul(step))})}var getNiceTickValues=memoize(function(_ref3){var _ref4=_slicedToArray$a(_ref3,2),min2=_ref4[0],max2=_ref4[1],tickCount=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,allowDecimals=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],count2=Math.max(tickCount,2),_getValidInterval2=_slicedToArray$a(getValidInterval([min2,max2]),2),cormin=_getValidInterval2[0],cormax=_getValidInterval2[1];if(cormin===-1/0||cormax===1/0){var _values=cormax===1/0?[cormin].concat(_toConsumableArray$b(range$2(0,tickCount-1).map(function(){return 1/0}))):[].concat(_toConsumableArray$b(range$2(0,tickCount-1).map(function(){return-1/0})),[cormax]);return min2>max2?reverse(_values):_values}if(cormin===cormax)return getTickOfSingleValue(cormin,tickCount,allowDecimals);var _calculateStep=calculateStep(cormin,cormax,count2,allowDecimals),step=_calculateStep.step,tickMin=_calculateStep.tickMin,tickMax=_calculateStep.tickMax,values=Arithmetic.rangeStep(tickMin,tickMax.add(new Decimal$1(.1).mul(step)),step);return min2>max2?reverse(values):values}),getTickValuesFixedDomain=memoize(function(_ref7,tickCount){var _ref8=_slicedToArray$a(_ref7,2),min2=_ref8[0],max2=_ref8[1],allowDecimals=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],_getValidInterval6=_slicedToArray$a(getValidInterval([min2,max2]),2),cormin=_getValidInterval6[0],cormax=_getValidInterval6[1];if(cormin===-1/0||cormax===1/0)return[min2,max2];if(cormin===cormax)return[cormin];var count2=Math.max(tickCount,2),step=getFormatStep(new Decimal$1(cormax).sub(cormin).div(count2-1),allowDecimals,0),values=[].concat(_toConsumableArray$b(Arithmetic.rangeStep(new Decimal$1(cormin),new Decimal$1(cormax).sub(new Decimal$1(.99).mul(step)),step)),[cormax]);return min2>max2?reverse(values):values});function invariant(condition,message2){throw new Error("Invariant failed")}var _excluded$c=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _typeof$D(o2){return(_typeof$D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o22){return typeof o22}:function(o22){return o22&&"function"==typeof Symbol&&o22.constructor===Symbol&&o22!==Symbol.prototype?"symbol":typeof o22})(o2)}function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$n.apply(this,arguments)}function _slicedToArray$9(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r22){o2=!0,n2=r22}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$i(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$i(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$i(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _objectWithoutProperties$c(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _createClass$h(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$x(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$c(t3,o2,e3){return o2=_getPrototypeOf$d(o2),function(self2,call){if(call&&("object"===_typeof$D(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$d()?Reflect.construct(o2,e3||[],_getPrototypeOf$d(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$d(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t22){}return(_isNativeReflectConstruct$d=function(){return!!t3})()}function _getPrototypeOf$d(o2){return(_getPrototypeOf$d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o22){return o22.__proto__||Object.getPrototypeOf(o22)})(o2)}function _setPrototypeOf$d(o2,p2){return(_setPrototypeOf$d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o22,p22){return o22.__proto__=p22,o22})(o2,p2)}function _defineProperty$B(obj,key,value){return(key=_toPropertyKey$x(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$x(t3){var i2=function(t3,r2){if("object"!=_typeof$D(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$D(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$D(i2)?i2:i2+""}var ErrorBar=function(){function ErrorBar2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ErrorBar2),_callSuper$c(this,ErrorBar2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$d(subClass,superClass)}(ErrorBar2,React$1.Component),_createClass$h(ErrorBar2,[{key:"render",value:function(){var _this$props=this.props,offset=_this$props.offset,layout=_this$props.layout,width=_this$props.width,dataKey=_this$props.dataKey,data=_this$props.data,dataPointFormatter=_this$props.dataPointFormatter,xAxis=_this$props.xAxis,yAxis=_this$props.yAxis,others=_objectWithoutProperties$c(_this$props,_excluded$c),svgProps=filterProps(others,!1);"x"===this.props.direction&&"number"!==xAxis.type&&invariant();var errorBars=data.map(function(entry){var _dataPointFormatter=dataPointFormatter(entry,dataKey),x2=_dataPointFormatter.x,y2=_dataPointFormatter.y,value=_dataPointFormatter.value,errorVal=_dataPointFormatter.errorVal;if(!errorVal)return null;var lowBound,highBound,lineCoordinates=[];if(Array.isArray(errorVal)){var _errorVal=_slicedToArray$9(errorVal,2);lowBound=_errorVal[0],highBound=_errorVal[1]}else lowBound=highBound=errorVal;if("vertical"===layout){var scale=xAxis.scale,yMid=y2+offset,yMin=yMid+width,yMax=yMid-width,xMin=scale(value-lowBound),xMax=scale(value+highBound);lineCoordinates.push({x1:xMax,y1:yMin,x2:xMax,y2:yMax}),lineCoordinates.push({x1:xMin,y1:yMid,x2:xMax,y2:yMid}),lineCoordinates.push({x1:xMin,y1:yMin,x2:xMin,y2:yMax})}else if("horizontal"===layout){var _scale=yAxis.scale,xMid=x2+offset,_xMin=xMid-width,_xMax=xMid+width,_yMin=_scale(value-lowBound),_yMax=_scale(value+highBound);lineCoordinates.push({x1:_xMin,y1:_yMax,x2:_xMax,y2:_yMax}),lineCoordinates.push({x1:xMid,y1:_yMin,x2:xMid,y2:_yMax}),lineCoordinates.push({x1:_xMin,y1:_yMin,x2:_xMax,y2:_yMin})}return React$1.createElement(Layer,_extends$n({className:"recharts-errorBar",key:"bar-".concat(lineCoordinates.map(function(c2){return"".concat(c2.x1,"-").concat(c2.x2,"-").concat(c2.y1,"-").concat(c2.y2)}))},svgProps),lineCoordinates.map(function(coordinates){return React$1.createElement("line",_extends$n({},coordinates,{key:"line-".concat(coordinates.x1,"-").concat(coordinates.x2,"-").concat(coordinates.y1,"-").concat(coordinates.y2)}))}))});return React$1.createElement(Layer,{className:"recharts-errorBars"},errorBars)}}])}();function _typeof$C(o2){return(_typeof$C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$w(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$w(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$w(Object(t3),!0).forEach(function(r3){_defineProperty$A(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$w(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$A(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$C(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$C(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$C(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}_defineProperty$B(ErrorBar,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),_defineProperty$B(ErrorBar,"displayName","ErrorBar");var getLegendProps=function(_ref){var children=_ref.children,formattedGraphicalItems=_ref.formattedGraphicalItems,legendWidth=_ref.legendWidth,legendContent=_ref.legendContent,legendItem=findChildByType(children,Legend);if(!legendItem)return null;var legendData,legendDefaultProps=Legend.defaultProps,legendProps=void 0!==legendDefaultProps?_objectSpread$w(_objectSpread$w({},legendDefaultProps),legendItem.props):{};return legendData=legendItem.props&&legendItem.props.payload?legendItem.props&&legendItem.props.payload:"children"===legendContent?(formattedGraphicalItems||[]).reduce(function(result,_ref2){var item=_ref2.item,props=_ref2.props,data=props.sectors||props.data||[];return result.concat(data.map(function(entry){return{type:legendItem.props.iconType||item.props.legendType,value:entry.name,color:entry.fill,payload:entry}}))},[]):(formattedGraphicalItems||[]).map(function(_ref3){var item=_ref3.item,itemDefaultProps=item.type.defaultProps,itemProps=void 0!==itemDefaultProps?_objectSpread$w(_objectSpread$w({},itemDefaultProps),item.props):{},dataKey=itemProps.dataKey,name=itemProps.name,legendType=itemProps.legendType;return{inactive:itemProps.hide,dataKey:dataKey,type:legendProps.iconType||legendType||"square",color:getMainColorOfGraphicItem(item),value:name||dataKey,payload:itemProps}}),_objectSpread$w(_objectSpread$w(_objectSpread$w({},legendProps),Legend.getWithHeight(legendItem,legendWidth)),{},{payload:legendData,item:legendItem})};function _typeof$B(o2){return(_typeof$B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _toConsumableArray$a(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$h(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$h(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$h(o2,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$h(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function ownKeys$v(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$v(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$v(Object(t3),!0).forEach(function(r3){_defineProperty$z(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$v(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$z(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$B(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$B(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$B(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getValueByDataKey(obj,dataKey,defaultValue){return isNil$1(obj)||isNil$1(dataKey)?defaultValue:isNumOrStr(dataKey)?get$3(obj,dataKey,defaultValue):isFunction$6(dataKey)?dataKey(obj):defaultValue}function getDomainOfDataByKey(data,key,type,filterNil){var flattenData=flatMap$1(data,function(entry){return getValueByDataKey(entry,key)});if("number"===type){var domain=flattenData.filter(function(entry){return isNumber(entry)||parseFloat(entry)});return domain.length?[min$3(domain),max$4(domain)]:[1/0,-1/0]}return(filterNil?flattenData.filter(function(entry){return!isNil$1(entry)}):flattenData).map(function(entry){return isNumOrStr(entry)||entry instanceof Date?entry:""})}var getMainColorOfGraphicItem=function(item){var _item$type,result,displayName=item.type.displayName,defaultedProps=null!==(_item$type=item.type)&&void 0!==_item$type&&_item$type.defaultProps?_objectSpread$v(_objectSpread$v({},item.type.defaultProps),item.props):item.props,stroke=defaultedProps.stroke,fill=defaultedProps.fill;switch(displayName){case"Line":result=stroke;break;case"Area":case"Radar":result=stroke&&"none"!==stroke?stroke:fill;break;default:result=fill}return result},getDomainOfErrorBars=function(data,item,dataKey,layout,axisType){var errorBars=findAllByType(item.props.children,ErrorBar).filter(function(errorBarChild){return function(layout,axisType,direction){return!!isNil$1(axisType)||("horizontal"===layout?"yAxis"===axisType:"vertical"===layout||"x"===direction?"xAxis"===axisType:"y"!==direction||"yAxis"===axisType)}(layout,axisType,errorBarChild.props.direction)});if(errorBars&&errorBars.length){var keys2=errorBars.map(function(errorBarChild){return errorBarChild.props.dataKey});return data.reduce(function(result,entry){var entryValue=getValueByDataKey(entry,dataKey);if(isNil$1(entryValue))return result;var mainValue=Array.isArray(entryValue)?[min$3(entryValue),max$4(entryValue)]:[entryValue,entryValue],errorDomain=keys2.reduce(function(prevErrorArr,k2){var errorValue=getValueByDataKey(entry,k2,0),lowerValue=mainValue[0]-Math.abs(Array.isArray(errorValue)?errorValue[0]:errorValue),upperValue=mainValue[1]+Math.abs(Array.isArray(errorValue)?errorValue[1]:errorValue);return[Math.min(lowerValue,prevErrorArr[0]),Math.max(upperValue,prevErrorArr[1])]},[1/0,-1/0]);return[Math.min(errorDomain[0],result[0]),Math.max(errorDomain[1],result[1])]},[1/0,-1/0])}return null},getDomainOfItemsWithSameAxis=function(data,items,type,layout,filterNil){var domains=items.map(function(item){var dataKey=item.props.dataKey;return"number"===type&&dataKey&&getDomainOfErrorBars(data,item,dataKey,layout)||getDomainOfDataByKey(data,dataKey,type,filterNil)});if("number"===type)return domains.reduce(function(result,entry){return[Math.min(result[0],entry[0]),Math.max(result[1],entry[1])]},[1/0,-1/0]);var tag={};return domains.reduce(function(result,entry){for(var i2=0,len=entry.length;i2<len;i2++)tag[entry[i2]]||(tag[entry[i2]]=!0,result.push(entry[i2]));return result},[])},isCategoricalAxis=function(layout,axisType){return"horizontal"===layout&&"xAxis"===axisType||"vertical"===layout&&"yAxis"===axisType||"centric"===layout&&"angleAxis"===axisType||"radial"===layout&&"radiusAxis"===axisType},getCoordinatesOfGrid=function(ticks2,minValue,maxValue,syncWithTicks){if(syncWithTicks)return ticks2.map(function(entry){return entry.coordinate});var hasMin,hasMax,values=ticks2.map(function(entry){return entry.coordinate===minValue&&(hasMin=!0),entry.coordinate===maxValue&&(hasMax=!0),entry.coordinate});return hasMin||values.push(minValue),hasMax||values.push(maxValue),values},getTicksOfAxis=function(axis,isGrid,isAll){if(!axis)return null;var scale=axis.scale,duplicateDomain=axis.duplicateDomain,type=axis.type,range3=axis.range,offsetForBand="scaleBand"===axis.realScaleType?scale.bandwidth()/2:2,offset=(isGrid||isAll)&&"category"===type&&scale.bandwidth?scale.bandwidth()/offsetForBand:0;return offset="angleAxis"===axis.axisType&&(null==range3?void 0:range3.length)>=2?2*mathSign(range3[0]-range3[1])*offset:offset,isGrid&&(axis.ticks||axis.niceTicks)?(axis.ticks||axis.niceTicks).map(function(entry){var scaleContent=duplicateDomain?duplicateDomain.indexOf(entry):entry;return{coordinate:scale(scaleContent)+offset,value:entry,offset:offset}}).filter(function(row){return!isNan(row.coordinate)}):axis.isCategorical&&axis.categoricalDomain?axis.categoricalDomain.map(function(entry,index){return{coordinate:scale(entry)+offset,value:entry,index:index,offset:offset}}):scale.ticks&&!isAll?scale.ticks(axis.tickCount).map(function(entry){return{coordinate:scale(entry)+offset,value:entry,offset:offset}}):scale.domain().map(function(entry,index){return{coordinate:scale(entry)+offset,value:duplicateDomain?duplicateDomain[entry]:entry,index:index,offset:offset}})},handlerWeakMap=new WeakMap,combineEventHandlers=function(defaultHandler,childHandler){if("function"!=typeof childHandler)return defaultHandler;handlerWeakMap.has(defaultHandler)||handlerWeakMap.set(defaultHandler,new WeakMap);var childWeakMap=handlerWeakMap.get(defaultHandler);if(childWeakMap.has(childHandler))return childWeakMap.get(childHandler);var combineHandler=function(){defaultHandler.apply(void 0,arguments),childHandler.apply(void 0,arguments)};return childWeakMap.set(childHandler,combineHandler),combineHandler},parseScale=function(axis,chartType,hasBar){var scale=axis.scale,type=axis.type,layout=axis.layout,axisType=axis.axisType;if("auto"===scale)return"radial"===layout&&"radiusAxis"===axisType?{scale:band(),realScaleType:"band"}:"radial"===layout&&"angleAxis"===axisType?{scale:linear(),realScaleType:"linear"}:"category"===type&&chartType&&(chartType.indexOf("LineChart")>=0||chartType.indexOf("AreaChart")>=0||chartType.indexOf("ComposedChart")>=0&&!hasBar)?{scale:point(),realScaleType:"point"}:"category"===type?{scale:band(),realScaleType:"band"}:{scale:linear(),realScaleType:"linear"};if(isString$2(scale)){var name="scale".concat(upperFirst$1(scale));return{scale:(d3Scales[name]||point)(),realScaleType:d3Scales[name]?name:"point"}}return isFunction$6(scale)?{scale:scale}:{scale:point(),realScaleType:"point"}},checkDomainOfScale=function(scale){var domain=scale.domain();if(domain&&!(domain.length<=2)){var len=domain.length,range3=scale.range(),minValue=Math.min(range3[0],range3[1])-1e-4,maxValue=Math.max(range3[0],range3[1])+1e-4,first=scale(domain[0]),last2=scale(domain[len-1]);(first<minValue||first>maxValue||last2<minValue||last2>maxValue)&&scale.domain([domain[0],domain[len-1]])}},STACK_OFFSET_MAP={sign:function(series){var n2=series.length;if(!(n2<=0))for(var j2=0,m2=series[0].length;j2<m2;++j2)for(var positive=0,negative=0,i2=0;i2<n2;++i2){var value=isNan(series[i2][j2][1])?series[i2][j2][0]:series[i2][j2][1];value>=0?(series[i2][j2][0]=positive,series[i2][j2][1]=positive+value,positive=series[i2][j2][1]):(series[i2][j2][0]=negative,series[i2][j2][1]=negative+value,negative=series[i2][j2][1])}},expand:function(series,order){if((n2=series.length)>0){for(var i2,n2,y2,j2=0,m2=series[0].length;j2<m2;++j2){for(y2=i2=0;i2<n2;++i2)y2+=series[i2][j2][1]||0;if(y2)for(i2=0;i2<n2;++i2)series[i2][j2][1]/=y2}stackOffsetNone(series,order)}},none:stackOffsetNone,silhouette:function(series,order){if((n2=series.length)>0){for(var n2,j2=0,s0=series[order[0]],m2=s0.length;j2<m2;++j2){for(var i2=0,y2=0;i2<n2;++i2)y2+=series[i2][j2][1]||0;s0[j2][1]+=s0[j2][0]=-y2/2}stackOffsetNone(series,order)}},wiggle:function(series,order){if((n2=series.length)>0&&(m2=(s0=series[order[0]]).length)>0){for(var s0,m2,n2,y2=0,j2=1;j2<m2;++j2){for(var i2=0,s1=0,s2=0;i2<n2;++i2){for(var si=series[order[i2]],sij0=si[j2][1]||0,s3=(sij0-(si[j2-1][1]||0))/2,k2=0;k2<i2;++k2){var sk=series[order[k2]];s3+=(sk[j2][1]||0)-(sk[j2-1][1]||0)}s1+=sij0,s2+=s3*sij0}s0[j2-1][1]+=s0[j2-1][0]=y2,s1&&(y2-=s2/s1)}s0[j2-1][1]+=s0[j2-1][0]=y2,stackOffsetNone(series,order)}},positive:function(series){var n2=series.length;if(!(n2<=0))for(var j2=0,m2=series[0].length;j2<m2;++j2)for(var positive=0,i2=0;i2<n2;++i2){var value=isNan(series[i2][j2][1])?series[i2][j2][0]:series[i2][j2][1];value>=0?(series[i2][j2][0]=positive,series[i2][j2][1]=positive+value,positive=series[i2][j2][1]):(series[i2][j2][0]=0,series[i2][j2][1]=0)}}},getStackedData=function(data,stackItems,offsetType){var dataKeys=stackItems.map(function(item){return item.props.dataKey}),offsetAccessor=STACK_OFFSET_MAP[offsetType],stack=function(){var keys2=constant$3([]),order=stackOrderNone,offset=stackOffsetNone,value=stackValue;function stack(data){var i2,oz,sz=Array.from(keys2.apply(this,arguments),stackSeries),n2=sz.length,j2=-1;for(const d2 of data)for(i2=0,++j2;i2<n2;++i2)(sz[i2][j2]=[0,+value(d2,sz[i2].key,j2,data)]).data=d2;for(i2=0,oz=array(order(sz));i2<n2;++i2)sz[oz[i2]].index=i2;return offset(sz,oz),sz}return stack.keys=function(_2){return arguments.length?(keys2="function"==typeof _2?_2:constant$3(Array.from(_2)),stack):keys2},stack.value=function(_2){return arguments.length?(value="function"==typeof _2?_2:constant$3(+_2),stack):value},stack.order=function(_2){return arguments.length?(order=null==_2?stackOrderNone:"function"==typeof _2?_2:constant$3(Array.from(_2)),stack):order},stack.offset=function(_2){return arguments.length?(offset=null==_2?stackOffsetNone:_2,stack):offset},stack}().keys(dataKeys).value(function(d2,key){return+getValueByDataKey(d2,key,0)}).order(stackOrderNone).offset(offsetAccessor);return stack(data)},getTicksOfScale=function(scale,opts){var realScaleType=opts.realScaleType,type=opts.type,tickCount=opts.tickCount,originalDomain=opts.originalDomain,allowDecimals=opts.allowDecimals,scaleType=realScaleType||opts.scale;if("auto"!==scaleType&&"linear"!==scaleType)return null;if(tickCount&&"number"===type&&originalDomain&&("auto"===originalDomain[0]||"auto"===originalDomain[1])){var domain=scale.domain();if(!domain.length)return null;var tickValues=getNiceTickValues(domain,tickCount,allowDecimals);return scale.domain([min$3(tickValues),max$4(tickValues)]),{niceTicks:tickValues}}if(tickCount&&"number"===type){var _domain=scale.domain();return{niceTicks:getTickValuesFixedDomain(_domain,tickCount,allowDecimals)}}return null},getCateCoordinateOfBar=function(_ref6){var axis=_ref6.axis,ticks2=_ref6.ticks,offset=_ref6.offset,bandSize=_ref6.bandSize,entry=_ref6.entry,index=_ref6.index;if("category"===axis.type)return ticks2[index]?ticks2[index].coordinate+offset:null;var value=getValueByDataKey(entry,axis.dataKey,axis.domain[index]);return isNil$1(value)?null:axis.scale(value)-bandSize/2+offset},getDomainOfStackGroups=function(stackGroups,startIndex,endIndex){return Object.keys(stackGroups).reduce(function(result,stackId){var domain=stackGroups[stackId].stackedData.reduce(function(res,entry){var s2=entry.slice(startIndex,endIndex+1).reduce(function(result,entry){return[min$3(entry.concat([result[0]]).filter(isNumber)),max$4(entry.concat([result[1]]).filter(isNumber))]},[1/0,-1/0]);return[Math.min(res[0],s2[0]),Math.max(res[1],s2[1])]},[1/0,-1/0]);return[Math.min(domain[0],result[0]),Math.max(domain[1],result[1])]},[1/0,-1/0]).map(function(result){return result===1/0||result===-1/0?0:result})},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,parseSpecifiedDomain=function(specifiedDomain,dataDomain,allowDataOverflow){if(isFunction$6(specifiedDomain))return specifiedDomain(dataDomain,allowDataOverflow);if(!Array.isArray(specifiedDomain))return dataDomain;var domain=[];if(isNumber(specifiedDomain[0]))domain[0]=allowDataOverflow?specifiedDomain[0]:Math.min(specifiedDomain[0],dataDomain[0]);else if(MIN_VALUE_REG.test(specifiedDomain[0])){var value=+MIN_VALUE_REG.exec(specifiedDomain[0])[1];domain[0]=dataDomain[0]-value}else isFunction$6(specifiedDomain[0])?domain[0]=specifiedDomain[0](dataDomain[0]):domain[0]=dataDomain[0];if(isNumber(specifiedDomain[1]))domain[1]=allowDataOverflow?specifiedDomain[1]:Math.max(specifiedDomain[1],dataDomain[1]);else if(MAX_VALUE_REG.test(specifiedDomain[1])){var _value=+MAX_VALUE_REG.exec(specifiedDomain[1])[1];domain[1]=dataDomain[1]+_value}else isFunction$6(specifiedDomain[1])?domain[1]=specifiedDomain[1](dataDomain[1]):domain[1]=dataDomain[1];return domain},getBandSizeOfAxis=function(axis,ticks2,isBar){if(axis&&axis.scale&&axis.scale.bandwidth){var bandWidth=axis.scale.bandwidth();if(!isBar||bandWidth>0)return bandWidth}if(axis&&ticks2&&ticks2.length>=2){for(var orderedTicks=sortBy$1(ticks2,function(o2){return o2.coordinate}),bandSize=1/0,i2=1,len=orderedTicks.length;i2<len;i2++){var cur=orderedTicks[i2],prev=orderedTicks[i2-1];bandSize=Math.min((cur.coordinate||0)-(prev.coordinate||0),bandSize)}return bandSize===1/0?0:bandSize}return isBar?void 0:0},parseDomainOfCategoryAxis=function(specifiedDomain,calculatedDomain,axisChild){return specifiedDomain&&specifiedDomain.length?isEqual$1(specifiedDomain,get$3(axisChild,"type.defaultProps.domain"))?calculatedDomain:specifiedDomain:calculatedDomain},getTooltipItem=function(graphicalItem,payload){var defaultedProps=graphicalItem.type.defaultProps?_objectSpread$v(_objectSpread$v({},graphicalItem.type.defaultProps),graphicalItem.props):graphicalItem.props,dataKey=defaultedProps.dataKey,name=defaultedProps.name,unit2=defaultedProps.unit,formatter=defaultedProps.formatter,tooltipType=defaultedProps.tooltipType,chartType=defaultedProps.chartType,hide=defaultedProps.hide;return _objectSpread$v(_objectSpread$v({},filterProps(graphicalItem,!1)),{},{dataKey:dataKey,unit:unit2,formatter:formatter,name:name||dataKey,color:getMainColorOfGraphicItem(graphicalItem),value:getValueByDataKey(payload,dataKey),type:tooltipType,payload:payload,chartType:chartType,hide:hide})};function _typeof$A(o2){return(_typeof$A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$u(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$u(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$u(Object(t3),!0).forEach(function(r3){_defineProperty$y(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$u(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$y(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$A(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$A(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$A(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray$8(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$g(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$g(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$g(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var RADIAN$1=Math.PI/180,radianToDegree=function(angleInRadian){return 180*angleInRadian/Math.PI},polarToCartesian=function(cx2,cy,radius,angle){return{x:cx2+Math.cos(-RADIAN$1*angle)*radius,y:cy+Math.sin(-RADIAN$1*angle)*radius}},getMaxRadius=function(width,height){var offset=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(width-(offset.left||0)-(offset.right||0)),Math.abs(height-(offset.top||0)-(offset.bottom||0)))/2},getAngleOfPoint=function(_ref,_ref2){var x2=_ref.x,y2=_ref.y,cx2=_ref2.cx,cy=_ref2.cy,radius=function(point2,anotherPoint){var x1=point2.x,y1=point2.y,x2=anotherPoint.x,y2=anotherPoint.y;return Math.sqrt(Math.pow(x1-x2,2)+Math.pow(y1-y2,2))}({x:x2,y:y2},{x:cx2,y:cy});if(radius<=0)return{radius:radius};var cos2=(x2-cx2)/radius,angleInRadian=Math.acos(cos2);return y2>cy&&(angleInRadian=2*Math.PI-angleInRadian),{radius:radius,angle:radianToDegree(angleInRadian),angleInRadian:angleInRadian}},reverseFormatAngleOfSetor=function(angle,_ref4){var startAngle=_ref4.startAngle,endAngle=_ref4.endAngle,startCnt=Math.floor(startAngle/360),endCnt=Math.floor(endAngle/360);return angle+360*Math.min(startCnt,endCnt)},inRangeOfSector=function(_ref5,sector){var x2=_ref5.x,y2=_ref5.y,_getAngleOfPoint=getAngleOfPoint({x:x2,y:y2},sector),radius=_getAngleOfPoint.radius,angle=_getAngleOfPoint.angle,innerRadius=sector.innerRadius,outerRadius=sector.outerRadius;if(radius<innerRadius||radius>outerRadius)return!1;if(0===radius)return!0;var inRange,_formatAngleOfSector=function(_ref3){var startAngle=_ref3.startAngle,endAngle=_ref3.endAngle,startCnt=Math.floor(startAngle/360),endCnt=Math.floor(endAngle/360),min2=Math.min(startCnt,endCnt);return{startAngle:startAngle-360*min2,endAngle:endAngle-360*min2}}(sector),startAngle=_formatAngleOfSector.startAngle,endAngle=_formatAngleOfSector.endAngle,formatAngle=angle;if(startAngle<=endAngle){for(;formatAngle>endAngle;)formatAngle-=360;for(;formatAngle<startAngle;)formatAngle+=360;inRange=formatAngle>=startAngle&&formatAngle<=endAngle}else{for(;formatAngle>startAngle;)formatAngle-=360;for(;formatAngle<endAngle;)formatAngle+=360;inRange=formatAngle>=endAngle&&formatAngle<=startAngle}return inRange?_objectSpread$u(_objectSpread$u({},sector),{},{radius:radius,angle:reverseFormatAngleOfSetor(formatAngle,sector)}):null},getTickClassName=function(tick){return reactExports.isValidElement(tick)||isFunction$6(tick)||"boolean"==typeof tick?"":tick.className};function _typeof$z(o2){return(_typeof$z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}var _excluded$b=["offset"];function _toConsumableArray$9(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$f(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$f(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$f(o2,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$f(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _objectWithoutProperties$b(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ownKeys$t(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$t(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$t(Object(t3),!0).forEach(function(r3){_defineProperty$x(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$t(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$x(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$z(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$z(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$z(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$m.apply(this,arguments)}var renderRadialLabel=function(labelProps,label,attrs){var labelAngle,direction,position=labelProps.position,viewBox=labelProps.viewBox,offset=labelProps.offset,className=labelProps.className,_ref=viewBox,cx2=_ref.cx,cy=_ref.cy,innerRadius=_ref.innerRadius,outerRadius=_ref.outerRadius,startAngle=_ref.startAngle,endAngle=_ref.endAngle,clockWise=_ref.clockWise,radius=(innerRadius+outerRadius)/2,deltaAngle=function(startAngle,endAngle){return mathSign(endAngle-startAngle)*Math.min(Math.abs(endAngle-startAngle),360)}(startAngle,endAngle),sign2=deltaAngle>=0?1:-1;"insideStart"===position?(labelAngle=startAngle+sign2*offset,direction=clockWise):"insideEnd"===position?(labelAngle=endAngle-sign2*offset,direction=!clockWise):"end"===position&&(labelAngle=endAngle+sign2*offset,direction=clockWise),direction=deltaAngle<=0?direction:!direction;var startPoint=polarToCartesian(cx2,cy,radius,labelAngle),endPoint=polarToCartesian(cx2,cy,radius,labelAngle+359*(direction?1:-1)),path="M".concat(startPoint.x,",").concat(startPoint.y,"\n    A").concat(radius,",").concat(radius,",0,1,").concat(direction?0:1,",\n    ").concat(endPoint.x,",").concat(endPoint.y),id2=isNil$1(labelProps.id)?uniqueId("recharts-radial-line-"):labelProps.id;return React$1.createElement("text",_extends$m({},attrs,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",className)}),React$1.createElement("defs",null,React$1.createElement("path",{id:id2,d:path})),React$1.createElement("textPath",{xlinkHref:"#".concat(id2)},label))};function Label$3(_ref4){var label,_ref4$offset=_ref4.offset,props=_objectSpread$t({offset:void 0===_ref4$offset?5:_ref4$offset},_objectWithoutProperties$b(_ref4,_excluded$b)),viewBox=props.viewBox,position=props.position,value=props.value,children=props.children,content=props.content,_props$className=props.className,className=void 0===_props$className?"":_props$className,textBreakAll=props.textBreakAll;if(!viewBox||isNil$1(value)&&isNil$1(children)&&!reactExports.isValidElement(content)&&!isFunction$6(content))return null;if(reactExports.isValidElement(content))return reactExports.cloneElement(content,props);if(isFunction$6(content)){if(label=reactExports.createElement(content,props),reactExports.isValidElement(label))return label}else label=function(props){var value=props.value,formatter=props.formatter,label=isNil$1(props.children)?value:props.children;return isFunction$6(formatter)?formatter(label):label}(props);var isPolarLabel=function(viewBox){return"cx"in viewBox&&isNumber(viewBox.cx)}(viewBox),attrs=filterProps(props,!0);if(isPolarLabel&&("insideStart"===position||"insideEnd"===position||"end"===position))return renderRadialLabel(props,label,attrs);var positionAttrs=isPolarLabel?function(props){var viewBox=props.viewBox,offset=props.offset,position=props.position,_ref2=viewBox,cx2=_ref2.cx,cy=_ref2.cy,innerRadius=_ref2.innerRadius,outerRadius=_ref2.outerRadius,midAngle=(_ref2.startAngle+_ref2.endAngle)/2;if("outside"===position){var _polarToCartesian=polarToCartesian(cx2,cy,outerRadius+offset,midAngle),_x=_polarToCartesian.x;return{x:_x,y:_polarToCartesian.y,textAnchor:_x>=cx2?"start":"end",verticalAnchor:"middle"}}if("center"===position)return{x:cx2,y:cy,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===position)return{x:cx2,y:cy,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===position)return{x:cx2,y:cy,textAnchor:"middle",verticalAnchor:"end"};var _polarToCartesian2=polarToCartesian(cx2,cy,(innerRadius+outerRadius)/2,midAngle);return{x:_polarToCartesian2.x,y:_polarToCartesian2.y,textAnchor:"middle",verticalAnchor:"middle"}}(props):function(props){var viewBox=props.viewBox,parentViewBox=props.parentViewBox,offset=props.offset,position=props.position,_ref3=viewBox,x2=_ref3.x,y2=_ref3.y,width=_ref3.width,height=_ref3.height,verticalSign=height>=0?1:-1,verticalOffset=verticalSign*offset,verticalEnd=verticalSign>0?"end":"start",verticalStart=verticalSign>0?"start":"end",horizontalSign=width>=0?1:-1,horizontalOffset=horizontalSign*offset,horizontalEnd=horizontalSign>0?"end":"start",horizontalStart=horizontalSign>0?"start":"end";if("top"===position)return _objectSpread$t(_objectSpread$t({},{x:x2+width/2,y:y2-verticalSign*offset,textAnchor:"middle",verticalAnchor:verticalEnd}),parentViewBox?{height:Math.max(y2-parentViewBox.y,0),width:width}:{});if("bottom"===position)return _objectSpread$t(_objectSpread$t({},{x:x2+width/2,y:y2+height+verticalOffset,textAnchor:"middle",verticalAnchor:verticalStart}),parentViewBox?{height:Math.max(parentViewBox.y+parentViewBox.height-(y2+height),0),width:width}:{});if("left"===position){var _attrs2={x:x2-horizontalOffset,y:y2+height/2,textAnchor:horizontalEnd,verticalAnchor:"middle"};return _objectSpread$t(_objectSpread$t({},_attrs2),parentViewBox?{width:Math.max(_attrs2.x-parentViewBox.x,0),height:height}:{})}if("right"===position){var _attrs3={x:x2+width+horizontalOffset,y:y2+height/2,textAnchor:horizontalStart,verticalAnchor:"middle"};return _objectSpread$t(_objectSpread$t({},_attrs3),parentViewBox?{width:Math.max(parentViewBox.x+parentViewBox.width-_attrs3.x,0),height:height}:{})}var sizeAttrs=parentViewBox?{width:width,height:height}:{};return"insideLeft"===position?_objectSpread$t({x:x2+horizontalOffset,y:y2+height/2,textAnchor:horizontalStart,verticalAnchor:"middle"},sizeAttrs):"insideRight"===position?_objectSpread$t({x:x2+width-horizontalOffset,y:y2+height/2,textAnchor:horizontalEnd,verticalAnchor:"middle"},sizeAttrs):"insideTop"===position?_objectSpread$t({x:x2+width/2,y:y2+verticalOffset,textAnchor:"middle",verticalAnchor:verticalStart},sizeAttrs):"insideBottom"===position?_objectSpread$t({x:x2+width/2,y:y2+height-verticalOffset,textAnchor:"middle",verticalAnchor:verticalEnd},sizeAttrs):"insideTopLeft"===position?_objectSpread$t({x:x2+horizontalOffset,y:y2+verticalOffset,textAnchor:horizontalStart,verticalAnchor:verticalStart},sizeAttrs):"insideTopRight"===position?_objectSpread$t({x:x2+width-horizontalOffset,y:y2+verticalOffset,textAnchor:horizontalEnd,verticalAnchor:verticalStart},sizeAttrs):"insideBottomLeft"===position?_objectSpread$t({x:x2+horizontalOffset,y:y2+height-verticalOffset,textAnchor:horizontalStart,verticalAnchor:verticalEnd},sizeAttrs):"insideBottomRight"===position?_objectSpread$t({x:x2+width-horizontalOffset,y:y2+height-verticalOffset,textAnchor:horizontalEnd,verticalAnchor:verticalEnd},sizeAttrs):isObject$9(position)&&(isNumber(position.x)||isPercent(position.x))&&(isNumber(position.y)||isPercent(position.y))?_objectSpread$t({x:x2+getPercentValue(position.x,width),y:y2+getPercentValue(position.y,height),textAnchor:"end",verticalAnchor:"end"},sizeAttrs):_objectSpread$t({x:x2+width/2,y:y2+height/2,textAnchor:"middle",verticalAnchor:"middle"},sizeAttrs)}(props);return React$1.createElement(Text,_extends$m({className:clsx("recharts-label",className)},attrs,positionAttrs,{breakAll:textBreakAll}),label)}Label$3.displayName="Label";var parseViewBox=function(props){var cx2=props.cx,cy=props.cy,angle=props.angle,startAngle=props.startAngle,endAngle=props.endAngle,r2=props.r,radius=props.radius,innerRadius=props.innerRadius,outerRadius=props.outerRadius,x2=props.x,y2=props.y,top=props.top,left=props.left,width=props.width,height=props.height,clockWise=props.clockWise,labelViewBox=props.labelViewBox;if(labelViewBox)return labelViewBox;if(isNumber(width)&&isNumber(height)){if(isNumber(x2)&&isNumber(y2))return{x:x2,y:y2,width:width,height:height};if(isNumber(top)&&isNumber(left))return{x:top,y:left,width:width,height:height}}return isNumber(x2)&&isNumber(y2)?{x:x2,y:y2,width:0,height:0}:isNumber(cx2)&&isNumber(cy)?{cx:cx2,cy:cy,startAngle:startAngle||angle||0,endAngle:endAngle||angle||0,innerRadius:innerRadius||0,outerRadius:outerRadius||radius||r2||0,clockWise:clockWise}:props.viewBox?props.viewBox:{}};Label$3.parseViewBox=parseViewBox,Label$3.renderCallByParent=function(parentProps,viewBox){var checkPropsLabel=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!parentProps||!parentProps.children&&checkPropsLabel&&!parentProps.label)return null;var children=parentProps.children,parentViewBox=parseViewBox(parentProps),explicitChildren=findAllByType(children,Label$3).map(function(child,index){return reactExports.cloneElement(child,{viewBox:viewBox||parentViewBox,key:"label-".concat(index)})});if(!checkPropsLabel)return explicitChildren;var implicitLabel=function(label,viewBox){return label?!0===label?React$1.createElement(Label$3,{key:"label-implicit",viewBox:viewBox}):isNumOrStr(label)?React$1.createElement(Label$3,{key:"label-implicit",viewBox:viewBox,value:label}):reactExports.isValidElement(label)?label.type===Label$3?reactExports.cloneElement(label,{key:"label-implicit",viewBox:viewBox}):React$1.createElement(Label$3,{key:"label-implicit",content:label,viewBox:viewBox}):isFunction$6(label)?React$1.createElement(Label$3,{key:"label-implicit",content:label,viewBox:viewBox}):isObject$9(label)?React$1.createElement(Label$3,_extends$m({viewBox:viewBox},label,{key:"label-implicit"})):null:null}(parentProps.label,viewBox||parentViewBox);return[implicitLabel].concat(_toConsumableArray$9(explicitChildren))};const last$1=getDefaultExportFromCjs(function(array2){var length=null==array2?0:array2.length;return length?array2[length-1]:void 0});function _typeof$y(o2){return(_typeof$y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}var _excluded$a=["valueAccessor"],_excluded2$4=["data","dataKey","clockWise","id","textBreakAll"];function _toConsumableArray$8(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$e(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$e(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$e(o2,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$e(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$l.apply(this,arguments)}function ownKeys$s(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$s(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$s(Object(t3),!0).forEach(function(r3){_defineProperty$w(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$s(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$w(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$y(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$y(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$y(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties$a(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var defaultAccessor=function(entry){return Array.isArray(entry.value)?last$1(entry.value):entry.value};function LabelList(_ref){var _ref$valueAccessor=_ref.valueAccessor,valueAccessor=void 0===_ref$valueAccessor?defaultAccessor:_ref$valueAccessor,restProps=_objectWithoutProperties$a(_ref,_excluded$a),data=restProps.data,dataKey=restProps.dataKey,clockWise=restProps.clockWise,id2=restProps.id,textBreakAll=restProps.textBreakAll,others=_objectWithoutProperties$a(restProps,_excluded2$4);return data&&data.length?React$1.createElement(Layer,{className:"recharts-label-list"},data.map(function(entry,index){var value=isNil$1(dataKey)?valueAccessor(entry,index):getValueByDataKey(entry&&entry.payload,dataKey),idProps=isNil$1(id2)?{}:{id:"".concat(id2,"-").concat(index)};return React$1.createElement(Label$3,_extends$l({},filterProps(entry,!0),others,idProps,{parentViewBox:entry.parentViewBox,value:value,textBreakAll:textBreakAll,viewBox:Label$3.parseViewBox(isNil$1(clockWise)?entry:_objectSpread$s(_objectSpread$s({},entry),{},{clockWise:clockWise})),key:"label-".concat(index),index:index}))})):null}function _typeof$x(o2){return(_typeof$x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$k.apply(this,arguments)}function ownKeys$r(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$r(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$r(Object(t3),!0).forEach(function(r3){_defineProperty$v(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$r(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$v(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$x(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$x(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$x(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}LabelList.displayName="LabelList",LabelList.renderCallByParent=function(parentProps,data){var checkPropsLabel=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!parentProps||!parentProps.children&&checkPropsLabel&&!parentProps.label)return null;var explicitChildren=findAllByType(parentProps.children,LabelList).map(function(child,index){return reactExports.cloneElement(child,{data:data,key:"labelList-".concat(index)})});return checkPropsLabel?[function(label,data){return label?!0===label?React$1.createElement(LabelList,{key:"labelList-implicit",data:data}):React$1.isValidElement(label)||isFunction$6(label)?React$1.createElement(LabelList,{key:"labelList-implicit",data:data,content:label}):isObject$9(label)?React$1.createElement(LabelList,_extends$l({data:data},label,{key:"labelList-implicit"})):null:null}(parentProps.label,data)].concat(_toConsumableArray$8(explicitChildren)):explicitChildren};var getTangentCircle=function(_ref){var cx2=_ref.cx,cy=_ref.cy,radius=_ref.radius,angle=_ref.angle,sign2=_ref.sign,isExternal=_ref.isExternal,cornerRadius=_ref.cornerRadius,cornerIsExternal=_ref.cornerIsExternal,centerRadius=cornerRadius*(isExternal?1:-1)+radius,theta=Math.asin(cornerRadius/centerRadius)/RADIAN$1,centerAngle=cornerIsExternal?angle:angle+sign2*theta,lineTangencyAngle=cornerIsExternal?angle-sign2*theta:angle;return{center:polarToCartesian(cx2,cy,centerRadius,centerAngle),circleTangency:polarToCartesian(cx2,cy,radius,centerAngle),lineTangency:polarToCartesian(cx2,cy,centerRadius*Math.cos(theta*RADIAN$1),lineTangencyAngle),theta:theta}},getSectorPath=function(_ref2){var cx2=_ref2.cx,cy=_ref2.cy,innerRadius=_ref2.innerRadius,outerRadius=_ref2.outerRadius,startAngle=_ref2.startAngle,angle=function(startAngle,endAngle){return mathSign(endAngle-startAngle)*Math.min(Math.abs(endAngle-startAngle),359.999)}(startAngle,_ref2.endAngle),tempEndAngle=startAngle+angle,outerStartPoint=polarToCartesian(cx2,cy,outerRadius,startAngle),outerEndPoint=polarToCartesian(cx2,cy,outerRadius,tempEndAngle),path="M ".concat(outerStartPoint.x,",").concat(outerStartPoint.y,"\n    A ").concat(outerRadius,",").concat(outerRadius,",0,\n    ").concat(+(Math.abs(angle)>180),",").concat(+(startAngle>tempEndAngle),",\n    ").concat(outerEndPoint.x,",").concat(outerEndPoint.y,"\n  ");if(innerRadius>0){var innerStartPoint=polarToCartesian(cx2,cy,innerRadius,startAngle),innerEndPoint=polarToCartesian(cx2,cy,innerRadius,tempEndAngle);path+="L ".concat(innerEndPoint.x,",").concat(innerEndPoint.y,"\n            A ").concat(innerRadius,",").concat(innerRadius,",0,\n            ").concat(+(Math.abs(angle)>180),",").concat(+(startAngle<=tempEndAngle),",\n            ").concat(innerStartPoint.x,",").concat(innerStartPoint.y," Z")}else path+="L ".concat(cx2,",").concat(cy," Z");return path},defaultProps$3={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=function(sectorProps){var props=_objectSpread$r(_objectSpread$r({},defaultProps$3),sectorProps),cx2=props.cx,cy=props.cy,innerRadius=props.innerRadius,outerRadius=props.outerRadius,cornerRadius=props.cornerRadius,forceCornerRadius=props.forceCornerRadius,cornerIsExternal=props.cornerIsExternal,startAngle=props.startAngle,endAngle=props.endAngle,className=props.className;if(outerRadius<innerRadius||startAngle===endAngle)return null;var path,layerClass=clsx("recharts-sector",className),deltaRadius=outerRadius-innerRadius,cr=getPercentValue(cornerRadius,deltaRadius,0,!0);return path=cr>0&&Math.abs(startAngle-endAngle)<360?function(_ref3){var cx2=_ref3.cx,cy=_ref3.cy,innerRadius=_ref3.innerRadius,outerRadius=_ref3.outerRadius,cornerRadius=_ref3.cornerRadius,forceCornerRadius=_ref3.forceCornerRadius,cornerIsExternal=_ref3.cornerIsExternal,startAngle=_ref3.startAngle,endAngle=_ref3.endAngle,sign2=mathSign(endAngle-startAngle),_getTangentCircle=getTangentCircle({cx:cx2,cy:cy,radius:outerRadius,angle:startAngle,sign:sign2,cornerRadius:cornerRadius,cornerIsExternal:cornerIsExternal}),soct=_getTangentCircle.circleTangency,solt=_getTangentCircle.lineTangency,sot=_getTangentCircle.theta,_getTangentCircle2=getTangentCircle({cx:cx2,cy:cy,radius:outerRadius,angle:endAngle,sign:-sign2,cornerRadius:cornerRadius,cornerIsExternal:cornerIsExternal}),eoct=_getTangentCircle2.circleTangency,eolt=_getTangentCircle2.lineTangency,eot=_getTangentCircle2.theta,outerArcAngle=cornerIsExternal?Math.abs(startAngle-endAngle):Math.abs(startAngle-endAngle)-sot-eot;if(outerArcAngle<0)return forceCornerRadius?"M ".concat(solt.x,",").concat(solt.y,"\n        a").concat(cornerRadius,",").concat(cornerRadius,",0,0,1,").concat(2*cornerRadius,",0\n        a").concat(cornerRadius,",").concat(cornerRadius,",0,0,1,").concat(2*-cornerRadius,",0\n      "):getSectorPath({cx:cx2,cy:cy,innerRadius:innerRadius,outerRadius:outerRadius,startAngle:startAngle,endAngle:endAngle});var path="M ".concat(solt.x,",").concat(solt.y,"\n    A").concat(cornerRadius,",").concat(cornerRadius,",0,0,").concat(+(sign2<0),",").concat(soct.x,",").concat(soct.y,"\n    A").concat(outerRadius,",").concat(outerRadius,",0,").concat(+(outerArcAngle>180),",").concat(+(sign2<0),",").concat(eoct.x,",").concat(eoct.y,"\n    A").concat(cornerRadius,",").concat(cornerRadius,",0,0,").concat(+(sign2<0),",").concat(eolt.x,",").concat(eolt.y,"\n  ");if(innerRadius>0){var _getTangentCircle3=getTangentCircle({cx:cx2,cy:cy,radius:innerRadius,angle:startAngle,sign:sign2,isExternal:!0,cornerRadius:cornerRadius,cornerIsExternal:cornerIsExternal}),sict=_getTangentCircle3.circleTangency,silt=_getTangentCircle3.lineTangency,sit=_getTangentCircle3.theta,_getTangentCircle4=getTangentCircle({cx:cx2,cy:cy,radius:innerRadius,angle:endAngle,sign:-sign2,isExternal:!0,cornerRadius:cornerRadius,cornerIsExternal:cornerIsExternal}),eict=_getTangentCircle4.circleTangency,eilt=_getTangentCircle4.lineTangency,eit=_getTangentCircle4.theta,innerArcAngle=cornerIsExternal?Math.abs(startAngle-endAngle):Math.abs(startAngle-endAngle)-sit-eit;if(innerArcAngle<0&&0===cornerRadius)return"".concat(path,"L").concat(cx2,",").concat(cy,"Z");path+="L".concat(eilt.x,",").concat(eilt.y,"\n      A").concat(cornerRadius,",").concat(cornerRadius,",0,0,").concat(+(sign2<0),",").concat(eict.x,",").concat(eict.y,"\n      A").concat(innerRadius,",").concat(innerRadius,",0,").concat(+(innerArcAngle>180),",").concat(+(sign2>0),",").concat(sict.x,",").concat(sict.y,"\n      A").concat(cornerRadius,",").concat(cornerRadius,",0,0,").concat(+(sign2<0),",").concat(silt.x,",").concat(silt.y,"Z")}else path+="L".concat(cx2,",").concat(cy,"Z");return path}({cx:cx2,cy:cy,innerRadius:innerRadius,outerRadius:outerRadius,cornerRadius:Math.min(cr,deltaRadius/2),forceCornerRadius:forceCornerRadius,cornerIsExternal:cornerIsExternal,startAngle:startAngle,endAngle:endAngle}):getSectorPath({cx:cx2,cy:cy,innerRadius:innerRadius,outerRadius:outerRadius,startAngle:startAngle,endAngle:endAngle}),React$1.createElement("path",_extends$k({},filterProps(props,!0),{className:layerClass,d:path,role:"img"}))};function _typeof$w(o2){return(_typeof$w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$j.apply(this,arguments)}function ownKeys$q(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$q(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$q(Object(t3),!0).forEach(function(r3){_defineProperty$u(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$q(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$u(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$w(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$w(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$w(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var CURVE_FACTORIES={curveBasisClosed:function(context){return new BasisClosed(context)},curveBasisOpen:function(context){return new BasisOpen(context)},curveBasis:function(context){return new Basis(context)},curveBumpX:function(context){return new Bump(context,!0)},curveBumpY:function(context){return new Bump(context,!1)},curveLinearClosed:function(context){return new LinearClosed(context)},curveLinear:curveLinear,curveMonotoneX:function(context){return new MonotoneX(context)},curveMonotoneY:function(context){return new MonotoneY(context)},curveNatural:function(context){return new Natural(context)},curveStep:function(context){return new Step(context,.5)},curveStepAfter:function(context){return new Step(context,1)},curveStepBefore:function(context){return new Step(context,0)}},defined=function(p2){return p2.x===+p2.x&&p2.y===+p2.y},getX=function(p2){return p2.x},getY=function(p2){return p2.y},getPath$1=function(_ref){var lineFunction,_ref$type=_ref.type,type=void 0===_ref$type?"linear":_ref$type,_ref$points=_ref.points,points=void 0===_ref$points?[]:_ref$points,baseLine=_ref.baseLine,layout=_ref.layout,_ref$connectNulls=_ref.connectNulls,connectNulls=void 0!==_ref$connectNulls&&_ref$connectNulls,curveFactory=function(type,layout){if(isFunction$6(type))return type;var name="curve".concat(upperFirst$1(type));return"curveMonotone"!==name&&"curveBump"!==name||!layout?CURVE_FACTORIES[name]||curveLinear:CURVE_FACTORIES["".concat(name).concat("vertical"===layout?"Y":"X")]}(type,layout),formatPoints=connectNulls?points.filter(function(entry){return defined(entry)}):points;if(Array.isArray(baseLine)){var formatBaseLine=connectNulls?baseLine.filter(function(base){return defined(base)}):baseLine,areaPoints=formatPoints.map(function(entry,index){return _objectSpread$q(_objectSpread$q({},entry),{},{base:formatBaseLine[index]})});return(lineFunction="vertical"===layout?shapeArea().y(getY).x1(getX).x0(function(d2){return d2.base.x}):shapeArea().x(getX).y1(getY).y0(function(d2){return d2.base.y})).defined(defined).curve(curveFactory),lineFunction(areaPoints)}return(lineFunction="vertical"===layout&&isNumber(baseLine)?shapeArea().y(getY).x1(getX).x0(baseLine):isNumber(baseLine)?shapeArea().x(getX).y1(getY).y0(baseLine):shapeLine().x(getX).y(getY)).defined(defined).curve(curveFactory),lineFunction(formatPoints)},Curve=function(props){var className=props.className,points=props.points,path=props.path,pathRef=props.pathRef;if(!(points&&points.length||path))return null;var realPath=points&&points.length?getPath$1(props):path;return reactExports.createElement("path",_extends$j({},filterProps(props,!1),adaptEventHandlers(props),{className:clsx("recharts-curve",className),d:realPath,ref:pathRef}))},propTypes={exports:{}};function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;propTypes.exports=function(){function shim2(props,propName,componentName,location2,propFullName,secret){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==secret){var err2=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err2.name="Invariant Violation",err2}}function getShim(){return shim2}shim2.isRequired=shim2;var ReactPropTypes={array:shim2,bigint:shim2,bool:shim2,func:shim2,number:shim2,object:shim2,string:shim2,symbol:shim2,any:shim2,arrayOf:getShim,element:shim2,elementType:shim2,instanceOf:getShim,node:shim2,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}();const PropTypes=getDefaultExportFromCjs(propTypes.exports);var getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$1=Object.prototype.hasOwnProperty;function combineComparators(comparatorA,comparatorB){return function(a2,b2,state){return comparatorA(a2,b2,state)&&comparatorB(a2,b2,state)}}function createIsCircular(areItemsEqual){return function(a2,b2,state){if(!a2||!b2||"object"!=typeof a2||"object"!=typeof b2)return areItemsEqual(a2,b2,state);var cache=state.cache,cachedA=cache.get(a2),cachedB=cache.get(b2);if(cachedA&&cachedB)return cachedA===b2&&cachedB===a2;cache.set(a2,b2),cache.set(b2,a2);var result=areItemsEqual(a2,b2,state);return cache.delete(a2),cache.delete(b2),result}}function getStrictProperties(object2){return getOwnPropertyNames(object2).concat(getOwnPropertySymbols(object2))}var hasOwn=Object.hasOwn||function(object2,property2){return hasOwnProperty$1.call(object2,property2)};function sameValueZeroEqual(a2,b2){return a2===b2||!a2&&!b2&&a2!=a2&&b2!=b2}var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,keys$1=Object.keys;function areArraysEqual(a2,b2,state){var index=a2.length;if(b2.length!==index)return!1;for(;index-- >0;)if(!state.equals(a2[index],b2[index],index,index,a2,b2,state))return!1;return!0}function areDatesEqual(a2,b2){return sameValueZeroEqual(a2.getTime(),b2.getTime())}function areErrorsEqual(a2,b2){return a2.name===b2.name&&a2.message===b2.message&&a2.cause===b2.cause&&a2.stack===b2.stack}function areFunctionsEqual(a2,b2){return a2===b2}function areMapsEqual(a2,b2,state){var size=a2.size;if(size!==b2.size)return!1;if(!size)return!0;for(var aResult,bResult,matchedIndices=new Array(size),aIterable=a2.entries(),index=0;(aResult=aIterable.next())&&!aResult.done;){for(var bIterable=b2.entries(),hasMatch=!1,matchIndex=0;(bResult=bIterable.next())&&!bResult.done;)if(matchedIndices[matchIndex])matchIndex++;else{var aEntry=aResult.value,bEntry=bResult.value;if(state.equals(aEntry[0],bEntry[0],index,matchIndex,a2,b2,state)&&state.equals(aEntry[1],bEntry[1],aEntry[0],bEntry[0],a2,b2,state)){hasMatch=matchedIndices[matchIndex]=!0;break}matchIndex++}if(!hasMatch)return!1;index++}return!0}var areNumbersEqual=sameValueZeroEqual;function areObjectsEqual(a2,b2,state){var properties=keys$1(a2),index=properties.length;if(keys$1(b2).length!==index)return!1;for(;index-- >0;)if(!isPropertyEqual(a2,b2,state,properties[index]))return!1;return!0}function areObjectsEqualStrict(a2,b2,state){var property2,descriptorA,descriptorB,properties=getStrictProperties(a2),index=properties.length;if(getStrictProperties(b2).length!==index)return!1;for(;index-- >0;){if(!isPropertyEqual(a2,b2,state,property2=properties[index]))return!1;if(descriptorA=getOwnPropertyDescriptor(a2,property2),descriptorB=getOwnPropertyDescriptor(b2,property2),(descriptorA||descriptorB)&&(!descriptorA||!descriptorB||descriptorA.configurable!==descriptorB.configurable||descriptorA.enumerable!==descriptorB.enumerable||descriptorA.writable!==descriptorB.writable))return!1}return!0}function arePrimitiveWrappersEqual(a2,b2){return sameValueZeroEqual(a2.valueOf(),b2.valueOf())}function areRegExpsEqual(a2,b2){return a2.source===b2.source&&a2.flags===b2.flags}function areSetsEqual(a2,b2,state){var size=a2.size;if(size!==b2.size)return!1;if(!size)return!0;for(var aResult,bResult,matchedIndices=new Array(size),aIterable=a2.values();(aResult=aIterable.next())&&!aResult.done;){for(var bIterable=b2.values(),hasMatch=!1,matchIndex=0;(bResult=bIterable.next())&&!bResult.done;){if(!matchedIndices[matchIndex]&&state.equals(aResult.value,bResult.value,aResult.value,bResult.value,a2,b2,state)){hasMatch=matchedIndices[matchIndex]=!0;break}matchIndex++}if(!hasMatch)return!1}return!0}function areTypedArraysEqual(a2,b2){var index=a2.length;if(b2.length!==index)return!1;for(;index-- >0;)if(a2[index]!==b2[index])return!1;return!0}function areUrlsEqual(a2,b2){return a2.hostname===b2.hostname&&a2.pathname===b2.pathname&&a2.protocol===b2.protocol&&a2.port===b2.port&&a2.hash===b2.hash&&a2.username===b2.username&&a2.password===b2.password}function isPropertyEqual(a2,b2,state,property2){return!("_owner"!==property2&&"__o"!==property2&&"__v"!==property2||!a2.$$typeof&&!b2.$$typeof)||hasOwn(b2,property2)&&state.equals(a2[property2],b2[property2],property2,property2,a2,b2,state)}var isArray$2=Array.isArray,isTypedArray="function"==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,assign=Object.assign,getTag=Object.prototype.toString.call.bind(Object.prototype.toString);var deepEqual$1=createCustomEqual();function createCustomEqual(options){void 0===options&&(options={});var compare,_a3=options.circular,circular=void 0!==_a3&&_a3,createCustomInternalComparator=options.createInternalComparator,createState=options.createState,_b3=options.strict,strict=void 0!==_b3&&_b3,config2=function(_a3){var circular=_a3.circular,createCustomConfig=_a3.createCustomConfig,strict=_a3.strict,config2={areArraysEqual:strict?areObjectsEqualStrict:areArraysEqual,areDatesEqual:areDatesEqual,areErrorsEqual:areErrorsEqual,areFunctionsEqual:areFunctionsEqual,areMapsEqual:strict?combineComparators(areMapsEqual,areObjectsEqualStrict):areMapsEqual,areNumbersEqual:areNumbersEqual,areObjectsEqual:strict?areObjectsEqualStrict:areObjectsEqual,arePrimitiveWrappersEqual:arePrimitiveWrappersEqual,areRegExpsEqual:areRegExpsEqual,areSetsEqual:strict?combineComparators(areSetsEqual,areObjectsEqualStrict):areSetsEqual,areTypedArraysEqual:strict?areObjectsEqualStrict:areTypedArraysEqual,areUrlsEqual:areUrlsEqual};if(createCustomConfig&&(config2=assign({},config2,createCustomConfig(config2))),circular){var areArraysEqual$1=createIsCircular(config2.areArraysEqual),areMapsEqual$1=createIsCircular(config2.areMapsEqual),areObjectsEqual$1=createIsCircular(config2.areObjectsEqual),areSetsEqual$1=createIsCircular(config2.areSetsEqual);config2=assign({},config2,{areArraysEqual:areArraysEqual$1,areMapsEqual:areMapsEqual$1,areObjectsEqual:areObjectsEqual$1,areSetsEqual:areSetsEqual$1})}return config2}(options),comparator=function(_a3){var areArraysEqual2=_a3.areArraysEqual,areDatesEqual2=_a3.areDatesEqual,areErrorsEqual2=_a3.areErrorsEqual,areFunctionsEqual2=_a3.areFunctionsEqual,areMapsEqual2=_a3.areMapsEqual,areNumbersEqual2=_a3.areNumbersEqual,areObjectsEqual2=_a3.areObjectsEqual,arePrimitiveWrappersEqual2=_a3.arePrimitiveWrappersEqual,areRegExpsEqual2=_a3.areRegExpsEqual,areSetsEqual2=_a3.areSetsEqual,areTypedArraysEqual2=_a3.areTypedArraysEqual,areUrlsEqual2=_a3.areUrlsEqual;return function(a2,b2,state){if(a2===b2)return!0;if(null==a2||null==b2)return!1;var type=typeof a2;if(type!==typeof b2)return!1;if("object"!==type)return"number"===type?areNumbersEqual2(a2,b2,state):"function"===type&&areFunctionsEqual2(a2,b2,state);var constructor=a2.constructor;if(constructor!==b2.constructor)return!1;if(constructor===Object)return areObjectsEqual2(a2,b2,state);if(isArray$2(a2))return areArraysEqual2(a2,b2,state);if(null!=isTypedArray&&isTypedArray(a2))return areTypedArraysEqual2(a2,b2,state);if(constructor===Date)return areDatesEqual2(a2,b2,state);if(constructor===RegExp)return areRegExpsEqual2(a2,b2,state);if(constructor===Map)return areMapsEqual2(a2,b2,state);if(constructor===Set)return areSetsEqual2(a2,b2,state);var tag=getTag(a2);return"[object Date]"===tag?areDatesEqual2(a2,b2,state):"[object RegExp]"===tag?areRegExpsEqual2(a2,b2,state):"[object Map]"===tag?areMapsEqual2(a2,b2,state):"[object Set]"===tag?areSetsEqual2(a2,b2,state):"[object Object]"===tag?"function"!=typeof a2.then&&"function"!=typeof b2.then&&areObjectsEqual2(a2,b2,state):"[object URL]"===tag?areUrlsEqual2(a2,b2,state):"[object Error]"===tag?areErrorsEqual2(a2,b2,state):"[object Arguments]"===tag?areObjectsEqual2(a2,b2,state):("[object Boolean]"===tag||"[object Number]"===tag||"[object String]"===tag)&&arePrimitiveWrappersEqual2(a2,b2,state)}}(config2);return function(_a3){var circular=_a3.circular,comparator=_a3.comparator,createState=_a3.createState,equals2=_a3.equals,strict=_a3.strict;if(createState)return function(a2,b2){var _a4=createState(),_b3=_a4.cache,cache=void 0===_b3?circular?new WeakMap:void 0:_b3,meta=_a4.meta;return comparator(a2,b2,{cache:cache,equals:equals2,meta:meta,strict:strict})};if(circular)return function(a2,b2){return comparator(a2,b2,{cache:new WeakMap,equals:equals2,meta:void 0,strict:strict})};var state={cache:void 0,equals:equals2,meta:void 0,strict:strict};return function(a2,b2){return comparator(a2,b2,state)}}({circular:circular,comparator:comparator,createState:createState,equals:createCustomInternalComparator?createCustomInternalComparator(comparator):(compare=comparator,function(a2,b2,_indexOrKeyA,_indexOrKeyB,_parentA,_parentB,state){return compare(a2,b2,state)}),strict:strict})}function setRafTimeout(callback){var timeout=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,currTime=-1;requestAnimationFrame(function shouldUpdate2(now2){currTime<0&&(currTime=now2),now2-currTime>timeout?(callback(now2),currTime=-1):function(callback){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(callback)}(shouldUpdate2)})}function _typeof$v(o2){return(_typeof$v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _toArray(arr){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$d(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$d(o2,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$d(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function createAnimateManager(){var handleChange=function(){return null},shouldStop=!1,setStyle=function setStyle2(_style){if(!shouldStop){if(Array.isArray(_style)){if(!_style.length)return;var _styles=_toArray(_style),curr=_styles[0],restStyles=_styles.slice(1);return"number"==typeof curr?void setRafTimeout(setStyle2.bind(null,restStyles),curr):(setStyle2(curr),void setRafTimeout(setStyle2.bind(null,restStyles)))}"object"===_typeof$v(_style)&&handleChange(_style),"function"==typeof _style&&_style()}};return{stop:function(){shouldStop=!0},start:function(style){shouldStop=!1,setStyle(style)},subscribe:function(_handleChange){return handleChange=_handleChange,function(){handleChange=function(){return null}}}}}function _typeof$u(o2){return(_typeof$u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o22){return typeof o22}:function(o22){return o22&&"function"==typeof Symbol&&o22.constructor===Symbol&&o22!==Symbol.prototype?"symbol":typeof o22})(o2)}function ownKeys$p(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r22){return Object.getOwnPropertyDescriptor(e3,r22).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$p(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$p(Object(t3),!0).forEach(function(r22){_defineProperty$t(e3,r22,t3[r22])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$p(Object(t3)).forEach(function(r22){Object.defineProperty(e3,r22,Object.getOwnPropertyDescriptor(t3,r22))})}return e3}function _defineProperty$t(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$u(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint);if("object"!==_typeof$u(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$u(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}createCustomEqual({strict:!0}),createCustomEqual({circular:!0}),createCustomEqual({circular:!0,strict:!0}),createCustomEqual({createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({strict:!0,createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual}}),createCustomEqual({circular:!0,createInternalComparator:function(){return sameValueZeroEqual},strict:!0});var identity2=function(param){return param},mapObject=function(fn,obj){return Object.keys(obj).reduce(function(res,key){return _objectSpread$p(_objectSpread$p({},res),{},_defineProperty$t({},key,fn(key,obj[key])))},{})},getTransitionVal=function(props,duration,easing){return props.map(function(prop){return"".concat((name=prop,name.replace(/([A-Z])/g,function(v2){return"-".concat(v2.toLowerCase())}))," ").concat(duration,"ms ").concat(easing);var name}).join(",")};function _slicedToArray$7(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||_unsupportedIterableToArray$c(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray$7(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$c(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray$c(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$c(o2,minLen){if(o2){if("string"==typeof o2)return _arrayLikeToArray$c(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);return"Object"===n2&&o2.constructor&&(n2=o2.constructor.name),"Map"===n2||"Set"===n2?Array.from(o2):"Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2)?_arrayLikeToArray$c(o2,minLen):void 0}}function _arrayLikeToArray$c(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var cubicBezierFactor=function(c1,c2){return[0,3*c1,3*c2-6*c1,3*c1-3*c2+1]},multyTime=function(params,t3){return params.map(function(param,i2){return param*Math.pow(t3,i2)}).reduce(function(pre,curr){return pre+curr})},cubicBezier=function(c1,c2){return function(t3){var params=cubicBezierFactor(c1,c2);return multyTime(params,t3)}},configBezier=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];var x1=args[0],y1=args[1],x2=args[2],y2=args[3];if(1===args.length)switch(args[0]){case"linear":x1=0,y1=0,x2=1,y2=1;break;case"ease":x1=.25,y1=.1,x2=.25,y2=1;break;case"ease-in":x1=.42,y1=0,x2=1,y2=1;break;case"ease-out":x1=.42,y1=0,x2=.58,y2=1;break;case"ease-in-out":x1=0,y1=0,x2=.58,y2=1;break;default:var easing=args[0].split("(");if("cubic-bezier"===easing[0]&&4===easing[1].split(")")[0].split(",").length){var _easing$1$split$0$spl2=_slicedToArray$7(easing[1].split(")")[0].split(",").map(function(x3){return parseFloat(x3)}),4);x1=_easing$1$split$0$spl2[0],y1=_easing$1$split$0$spl2[1],x2=_easing$1$split$0$spl2[2],y2=_easing$1$split$0$spl2[3]}}var c1,c2,curveX=cubicBezier(x1,x2),curveY=cubicBezier(y1,y2),derCurveX=(c1=x1,c2=x2,function(t3){var params=cubicBezierFactor(c1,c2),newParams=[].concat(_toConsumableArray$7(params.map(function(param,i2){return param*i2}).slice(1)),[0]);return multyTime(newParams,t3)}),rangeValue=function(value){return value>1?1:value<0?0:value},bezier=function(_t2){for(var t3=_t2>1?1:_t2,x3=t3,i2=0;i2<8;++i2){var evalT=curveX(x3)-t3,derVal=derCurveX(x3);if(Math.abs(evalT-t3)<1e-4||derVal<1e-4)return curveY(x3);x3=rangeValue(x3-evalT/derVal)}return curveY(x3)};return bezier.isStepper=!1,bezier},configEasing=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];var easing=args[0];if("string"==typeof easing)switch(easing){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(easing);case"spring":return function(){var config2=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_config$stiff=config2.stiff,stiff=void 0===_config$stiff?100:_config$stiff,_config$damping=config2.damping,damping=void 0===_config$damping?8:_config$damping,_config$dt=config2.dt,dt2=void 0===_config$dt?17:_config$dt,stepper=function(currX,destX,currV){var newV=currV+(-(currX-destX)*stiff-currV*damping)*dt2/1e3,newX=currV*dt2/1e3+currX;return Math.abs(newX-destX)<1e-4&&Math.abs(newV)<1e-4?[destX,0]:[newX,newV]};return stepper.isStepper=!0,stepper.dt=dt2,stepper}();default:if("cubic-bezier"===easing.split("(")[0])return configBezier(easing)}return"function"==typeof easing?easing:null};function _typeof$t(o2){return(_typeof$t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _toConsumableArray$6(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$b(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray$b(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ownKeys$o(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$o(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$o(Object(t3),!0).forEach(function(r3){_defineProperty$s(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$o(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$s(obj,key,value){return(key=function(arg){var key=function(input,hint){if("object"!==_typeof$t(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint);if("object"!==_typeof$t(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$t(key)?key:String(key)}(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _slicedToArray$6(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||_unsupportedIterableToArray$b(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$b(o2,minLen){if(o2){if("string"==typeof o2)return _arrayLikeToArray$b(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);return"Object"===n2&&o2.constructor&&(n2=o2.constructor.name),"Map"===n2||"Set"===n2?Array.from(o2):"Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2)?_arrayLikeToArray$b(o2,minLen):void 0}}function _arrayLikeToArray$b(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var alpha=function(begin,end,k2){return begin+(end-begin)*k2},needContinue=function(_ref){return _ref.from!==_ref.to},calStepperVals=function calStepperVals2(easing,preVals,steps){var nextStepVals=mapObject(function(key,val){if(needContinue(val)){var _easing2=_slicedToArray$6(easing(val.from,val.to,val.velocity),2),newX=_easing2[0],newV=_easing2[1];return _objectSpread$o(_objectSpread$o({},val),{},{from:newX,velocity:newV})}return val},preVals);return steps<1?mapObject(function(key,val){return needContinue(val)?_objectSpread$o(_objectSpread$o({},val),{},{velocity:alpha(val.velocity,nextStepVals[key].velocity,steps),from:alpha(val.from,nextStepVals[key].from,steps)}):val},preVals):calStepperVals2(easing,nextStepVals,steps-1)};const configUpdate=function(from,to,easing,duration,render){var preObj,nextObj,preTime,beginTime,interKeys=(preObj=from,nextObj=to,[Object.keys(preObj),Object.keys(nextObj)].reduce(function(a2,b2){return a2.filter(function(c2){return b2.includes(c2)})})),timingStyle=interKeys.reduce(function(res,key){return _objectSpread$o(_objectSpread$o({},res),{},_defineProperty$s({},key,[from[key],to[key]]))},{}),stepperStyle=interKeys.reduce(function(res,key){return _objectSpread$o(_objectSpread$o({},res),{},_defineProperty$s({},key,{from:from[key],velocity:0,to:to[key]}))},{}),cafId=-1,update=function(){return null};return update=easing.isStepper?function(now2){preTime||(preTime=now2);var steps=(now2-preTime)/easing.dt;stepperStyle=calStepperVals(easing,stepperStyle,steps),render(_objectSpread$o(_objectSpread$o(_objectSpread$o({},from),to),mapObject(function(key,val){return val.from},stepperStyle))),preTime=now2,Object.values(stepperStyle).filter(needContinue).length&&(cafId=requestAnimationFrame(update))}:function(now2){beginTime||(beginTime=now2);var t3=(now2-beginTime)/duration,currStyle=mapObject(function(key,val){return alpha.apply(void 0,_toConsumableArray$6(val).concat([easing(t3)]))},timingStyle);if(render(_objectSpread$o(_objectSpread$o(_objectSpread$o({},from),to),currStyle)),t3<1)cafId=requestAnimationFrame(update);else{var finalStyle=mapObject(function(key,val){return alpha.apply(void 0,_toConsumableArray$6(val).concat([easing(1)]))},timingStyle);render(_objectSpread$o(_objectSpread$o(_objectSpread$o({},from),to),finalStyle))}},function(){return requestAnimationFrame(update),function(){cancelAnimationFrame(cafId)}}};function _typeof$s(o2){return(_typeof$s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}var _excluded$9=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _objectWithoutProperties$9(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var key,i2,target={},sourceKeys=Object.keys(source);for(i2=0;i2<sourceKeys.length;i2++)key=sourceKeys[i2],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray$5(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$a(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$a(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$a(o2,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$a(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function ownKeys$n(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$n(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$n(Object(t3),!0).forEach(function(r3){_defineProperty$r(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$n(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$r(obj,key,value){return(key=_toPropertyKey$n(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _createClass$g(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$n(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _toPropertyKey$n(arg){var key=function(input,hint){if("object"!==_typeof$s(input)||null===input)return input;var prim=input[Symbol.toPrimitive];if(void 0!==prim){var res=prim.call(input,hint);if("object"!==_typeof$s(res))return res;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===hint?String:Number)(input)}(arg,"string");return"symbol"===_typeof$s(key)?key:String(key)}function _setPrototypeOf$c(o2,p2){return(_setPrototypeOf$c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _createSuper(Derived){var hasNativeReflectConstruct=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e3){return!1}}();return function(){var result,Super=_getPrototypeOf$c(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf$c(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn$c(this,result)}}function _possibleConstructorReturn$c(self2,call){if(call&&("object"===_typeof$s(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$c(self2)}function _assertThisInitialized$c(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}function _getPrototypeOf$c(o2){return(_getPrototypeOf$c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}var Animate=function(){!function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$c(subClass,superClass)}(Animate2,reactExports.PureComponent);var _super=_createSuper(Animate2);function Animate2(props,context){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Animate2);var _this$props=(_this=_super.call(this,props,context)).props,isActive=_this$props.isActive,attributeName=_this$props.attributeName,from=_this$props.from,to=_this$props.to,steps=_this$props.steps,children=_this$props.children,duration=_this$props.duration;if(_this.handleStyleChange=_this.handleStyleChange.bind(_assertThisInitialized$c(_this)),_this.changeStyle=_this.changeStyle.bind(_assertThisInitialized$c(_this)),!isActive||duration<=0)return _this.state={style:{}},"function"==typeof children&&(_this.state={style:to}),_possibleConstructorReturn$c(_this);if(steps&&steps.length)_this.state={style:steps[0].style};else if(from){if("function"==typeof children)return _this.state={style:from},_possibleConstructorReturn$c(_this);_this.state={style:attributeName?_defineProperty$r({},attributeName,from):from}}else _this.state={style:{}};return _this}return _createClass$g(Animate2,[{key:"componentDidMount",value:function(){var _this$props2=this.props,isActive=_this$props2.isActive,canBegin=_this$props2.canBegin;this.mounted=!0,isActive&&canBegin&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(prevProps){var _this$props3=this.props,isActive=_this$props3.isActive,canBegin=_this$props3.canBegin,attributeName=_this$props3.attributeName,shouldReAnimate=_this$props3.shouldReAnimate,to=_this$props3.to,currentFrom=_this$props3.from,style=this.state.style;if(canBegin)if(isActive){if(!(deepEqual$1(prevProps.to,to)&&prevProps.canBegin&&prevProps.isActive)){var isTriggered=!prevProps.canBegin||!prevProps.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var from=isTriggered||shouldReAnimate?currentFrom:prevProps.to;if(this.state&&style){var _newState={style:attributeName?_defineProperty$r({},attributeName,from):from};(attributeName&&style[attributeName]!==from||!attributeName&&style!==from)&&this.setState(_newState)}this.runAnimation(_objectSpread$n(_objectSpread$n({},this.props),{},{from:from,begin:0}))}}else{var newState={style:attributeName?_defineProperty$r({},attributeName,to):to};this.state&&style&&(attributeName&&style[attributeName]!==to||!attributeName&&style!==to)&&this.setState(newState)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var onAnimationEnd2=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),onAnimationEnd2&&onAnimationEnd2()}},{key:"handleStyleChange",value:function(style){this.changeStyle(style)}},{key:"changeStyle",value:function(style){this.mounted&&this.setState({style:style})}},{key:"runJSAnimation",value:function(props){var _this2=this,from=props.from,to=props.to,duration=props.duration,easing=props.easing,begin=props.begin,onAnimationEnd2=props.onAnimationEnd,onAnimationStart2=props.onAnimationStart,startAnimation=configUpdate(from,to,configEasing(easing),duration,this.changeStyle);this.manager.start([onAnimationStart2,begin,function(){_this2.stopJSAnimation=startAnimation()},duration,onAnimationEnd2])}},{key:"runStepAnimation",value:function(props){var _this3=this,steps=props.steps,begin=props.begin,onAnimationStart2=props.onAnimationStart,_steps$=steps[0],initialStyle=_steps$.style,_steps$$duration=_steps$.duration,initialTime=void 0===_steps$$duration?0:_steps$$duration;return this.manager.start([onAnimationStart2].concat(_toConsumableArray$5(steps.reduce(function(sequence,nextItem,index){if(0===index)return sequence;var duration=nextItem.duration,_nextItem$easing=nextItem.easing,easing=void 0===_nextItem$easing?"ease":_nextItem$easing,style=nextItem.style,nextProperties=nextItem.properties,onAnimationEnd2=nextItem.onAnimationEnd,preItem=index>0?steps[index-1]:nextItem,properties=nextProperties||Object.keys(style);if("function"==typeof easing||"spring"===easing)return[].concat(_toConsumableArray$5(sequence),[_this3.runJSAnimation.bind(_this3,{from:preItem.style,to:style,duration:duration,easing:easing}),duration]);var transition=getTransitionVal(properties,duration,easing),newStyle=_objectSpread$n(_objectSpread$n(_objectSpread$n({},preItem.style),style),{},{transition:transition});return[].concat(_toConsumableArray$5(sequence),[newStyle,duration,onAnimationEnd2]).filter(identity2)},[initialStyle,Math.max(initialTime,begin)])),[props.onAnimationEnd]))}},{key:"runAnimation",value:function(props){this.manager||(this.manager=createAnimateManager());var begin=props.begin,duration=props.duration,attributeName=props.attributeName,propsTo=props.to,easing=props.easing,onAnimationStart2=props.onAnimationStart,onAnimationEnd2=props.onAnimationEnd,steps=props.steps,children=props.children,manager=this.manager;if(this.unSubscribe=manager.subscribe(this.handleStyleChange),"function"!=typeof easing&&"function"!=typeof children&&"spring"!==easing)if(steps.length>1)this.runStepAnimation(props);else{var to=attributeName?_defineProperty$r({},attributeName,propsTo):propsTo,transition=getTransitionVal(Object.keys(to),duration,easing);manager.start([onAnimationStart2,begin,_objectSpread$n(_objectSpread$n({},to),{},{transition:transition}),duration,onAnimationEnd2])}else this.runJSAnimation(props)}},{key:"render",value:function(){var _this$props4=this.props,children=_this$props4.children;_this$props4.begin;var duration=_this$props4.duration;_this$props4.attributeName,_this$props4.easing;var isActive=_this$props4.isActive;_this$props4.steps,_this$props4.from,_this$props4.to,_this$props4.canBegin,_this$props4.onAnimationEnd,_this$props4.shouldReAnimate,_this$props4.onAnimationReStart;var others=_objectWithoutProperties$9(_this$props4,_excluded$9),count2=reactExports.Children.count(children),stateStyle=this.state.style;if("function"==typeof children)return children(stateStyle);if(!isActive||0===count2||duration<=0)return children;var cloneContainer=function(container){var _container$props=container.props,_container$props$styl=_container$props.style,style=void 0===_container$props$styl?{}:_container$props$styl,className=_container$props.className;return reactExports.cloneElement(container,_objectSpread$n(_objectSpread$n({},others),{},{style:_objectSpread$n(_objectSpread$n({},style),stateStyle),className:className}))};return 1===count2?cloneContainer(reactExports.Children.only(children)):React$1.createElement("div",null,reactExports.Children.map(children,function(child){return cloneContainer(child)}))}}]),Animate2}();function _typeof$r(o2){return(_typeof$r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$i.apply(this,arguments)}function _slicedToArray$5(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$9(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$9(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$9(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function ownKeys$m(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$m(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$m(Object(t3),!0).forEach(function(r3){_defineProperty$q(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$m(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$q(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$r(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$r(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$r(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Animate.displayName="Animate",Animate.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},Animate.propTypes={from:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),to:PropTypes.oneOfType([PropTypes.object,PropTypes.string]),attributeName:PropTypes.string,duration:PropTypes.number,begin:PropTypes.number,easing:PropTypes.oneOfType([PropTypes.string,PropTypes.func]),steps:PropTypes.arrayOf(PropTypes.shape({duration:PropTypes.number.isRequired,style:PropTypes.object.isRequired,easing:PropTypes.oneOfType([PropTypes.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),PropTypes.func]),properties:PropTypes.arrayOf("string"),onAnimationEnd:PropTypes.func})),children:PropTypes.oneOfType([PropTypes.node,PropTypes.func]),isActive:PropTypes.bool,canBegin:PropTypes.bool,onAnimationEnd:PropTypes.func,shouldReAnimate:PropTypes.bool,onAnimationStart:PropTypes.func,onAnimationReStart:PropTypes.func};var getRectanglePath=function(x2,y2,width,height,radius){var path,maxRadius=Math.min(Math.abs(width)/2,Math.abs(height)/2),ySign=height>=0?1:-1,xSign=width>=0?1:-1,clockWise=height>=0&&width>=0||height<0&&width<0?1:0;if(maxRadius>0&&radius instanceof Array){for(var newRadius=[0,0,0,0],i2=0;i2<4;i2++)newRadius[i2]=radius[i2]>maxRadius?maxRadius:radius[i2];path="M".concat(x2,",").concat(y2+ySign*newRadius[0]),newRadius[0]>0&&(path+="A ".concat(newRadius[0],",").concat(newRadius[0],",0,0,").concat(clockWise,",").concat(x2+xSign*newRadius[0],",").concat(y2)),path+="L ".concat(x2+width-xSign*newRadius[1],",").concat(y2),newRadius[1]>0&&(path+="A ".concat(newRadius[1],",").concat(newRadius[1],",0,0,").concat(clockWise,",\n        ").concat(x2+width,",").concat(y2+ySign*newRadius[1])),path+="L ".concat(x2+width,",").concat(y2+height-ySign*newRadius[2]),newRadius[2]>0&&(path+="A ".concat(newRadius[2],",").concat(newRadius[2],",0,0,").concat(clockWise,",\n        ").concat(x2+width-xSign*newRadius[2],",").concat(y2+height)),path+="L ".concat(x2+xSign*newRadius[3],",").concat(y2+height),newRadius[3]>0&&(path+="A ".concat(newRadius[3],",").concat(newRadius[3],",0,0,").concat(clockWise,",\n        ").concat(x2,",").concat(y2+height-ySign*newRadius[3])),path+="Z"}else if(maxRadius>0&&radius===+radius&&radius>0){var _newRadius=Math.min(maxRadius,radius);path="M ".concat(x2,",").concat(y2+ySign*_newRadius,"\n            A ").concat(_newRadius,",").concat(_newRadius,",0,0,").concat(clockWise,",").concat(x2+xSign*_newRadius,",").concat(y2,"\n            L ").concat(x2+width-xSign*_newRadius,",").concat(y2,"\n            A ").concat(_newRadius,",").concat(_newRadius,",0,0,").concat(clockWise,",").concat(x2+width,",").concat(y2+ySign*_newRadius,"\n            L ").concat(x2+width,",").concat(y2+height-ySign*_newRadius,"\n            A ").concat(_newRadius,",").concat(_newRadius,",0,0,").concat(clockWise,",").concat(x2+width-xSign*_newRadius,",").concat(y2+height,"\n            L ").concat(x2+xSign*_newRadius,",").concat(y2+height,"\n            A ").concat(_newRadius,",").concat(_newRadius,",0,0,").concat(clockWise,",").concat(x2,",").concat(y2+height-ySign*_newRadius," Z")}else path="M ".concat(x2,",").concat(y2," h ").concat(width," v ").concat(height," h ").concat(-width," Z");return path},isInRectangle=function(point2,rect){if(!point2||!rect)return!1;var px=point2.x,py=point2.y,x2=rect.x,y2=rect.y,width=rect.width,height=rect.height;if(Math.abs(width)>0&&Math.abs(height)>0){var minX=Math.min(x2,x2+width),maxX=Math.max(x2,x2+width),minY=Math.min(y2,y2+height),maxY=Math.max(y2,y2+height);return px>=minX&&px<=maxX&&py>=minY&&py<=maxY}return!1},defaultProps$2={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=function(rectangleProps){var props=_objectSpread$m(_objectSpread$m({},defaultProps$2),rectangleProps),pathRef=reactExports.useRef(),_useState2=_slicedToArray$5(reactExports.useState(-1),2),totalLength=_useState2[0],setTotalLength=_useState2[1];reactExports.useEffect(function(){if(pathRef.current&&pathRef.current.getTotalLength)try{var pathTotalLength=pathRef.current.getTotalLength();pathTotalLength&&setTotalLength(pathTotalLength)}catch(err2){}},[]);var x2=props.x,y2=props.y,width=props.width,height=props.height,radius=props.radius,className=props.className,animationEasing=props.animationEasing,animationDuration=props.animationDuration,animationBegin=props.animationBegin,isAnimationActive=props.isAnimationActive,isUpdateAnimationActive=props.isUpdateAnimationActive;if(x2!==+x2||y2!==+y2||width!==+width||height!==+height||0===width||0===height)return null;var layerClass=clsx("recharts-rectangle",className);return isUpdateAnimationActive?React$1.createElement(Animate,{canBegin:totalLength>0,from:{width:width,height:height,x:x2,y:y2},to:{width:width,height:height,x:x2,y:y2},duration:animationDuration,animationEasing:animationEasing,isActive:isUpdateAnimationActive},function(_ref){var currWidth=_ref.width,currHeight=_ref.height,currX=_ref.x,currY=_ref.y;return React$1.createElement(Animate,{canBegin:totalLength>0,from:"0px ".concat(-1===totalLength?1:totalLength,"px"),to:"".concat(totalLength,"px 0px"),attributeName:"strokeDasharray",begin:animationBegin,duration:animationDuration,isActive:isAnimationActive,easing:animationEasing},React$1.createElement("path",_extends$i({},filterProps(props,!0),{className:layerClass,d:getRectanglePath(currX,currY,currWidth,currHeight,radius),ref:pathRef})))}):React$1.createElement("path",_extends$i({},filterProps(props,!0),{className:layerClass,d:getRectanglePath(x2,y2,width,height,radius)}))},_excluded$8=["points","className","baseLinePoints","connectNulls"];function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$h.apply(this,arguments)}function _objectWithoutProperties$8(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _toConsumableArray$4(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$8(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$8(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$8(o2,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$8(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}var isValidatePoint=function(point2){return point2&&point2.x===+point2.x&&point2.y===+point2.y},getSinglePolygonPath=function(points,connectNulls){var segmentPoints=function(){var points=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],segmentPoints=[[]];return points.forEach(function(entry){isValidatePoint(entry)?segmentPoints[segmentPoints.length-1].push(entry):segmentPoints[segmentPoints.length-1].length>0&&segmentPoints.push([])}),isValidatePoint(points[0])&&segmentPoints[segmentPoints.length-1].push(points[0]),segmentPoints[segmentPoints.length-1].length<=0&&(segmentPoints=segmentPoints.slice(0,-1)),segmentPoints}(points);connectNulls&&(segmentPoints=[segmentPoints.reduce(function(res,segPoints){return[].concat(_toConsumableArray$4(res),_toConsumableArray$4(segPoints))},[])]);var polygonPath=segmentPoints.map(function(segPoints){return segPoints.reduce(function(path,point2,index){return"".concat(path).concat(0===index?"M":"L").concat(point2.x,",").concat(point2.y)},"")}).join("");return 1===segmentPoints.length?"".concat(polygonPath,"Z"):polygonPath},Polygon=function(props){var points=props.points,className=props.className,baseLinePoints=props.baseLinePoints,connectNulls=props.connectNulls,others=_objectWithoutProperties$8(props,_excluded$8);if(!points||!points.length)return null;var layerClass=clsx("recharts-polygon",className);if(baseLinePoints&&baseLinePoints.length){var hasStroke=others.stroke&&"none"!==others.stroke,rangePath=function(points,baseLinePoints,connectNulls){var outerPath=getSinglePolygonPath(points,connectNulls);return"".concat("Z"===outerPath.slice(-1)?outerPath.slice(0,-1):outerPath,"L").concat(getSinglePolygonPath(baseLinePoints.reverse(),connectNulls).slice(1))}(points,baseLinePoints,connectNulls);return React$1.createElement("g",{className:layerClass},React$1.createElement("path",_extends$h({},filterProps(others,!0),{fill:"Z"===rangePath.slice(-1)?others.fill:"none",stroke:"none",d:rangePath})),hasStroke?React$1.createElement("path",_extends$h({},filterProps(others,!0),{fill:"none",d:getSinglePolygonPath(points,connectNulls)})):null,hasStroke?React$1.createElement("path",_extends$h({},filterProps(others,!0),{fill:"none",d:getSinglePolygonPath(baseLinePoints,connectNulls)})):null)}var singlePath=getSinglePolygonPath(points,connectNulls);return React$1.createElement("path",_extends$h({},filterProps(others,!0),{fill:"Z"===singlePath.slice(-1)?others.fill:"none",className:layerClass,d:singlePath}))};function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$g.apply(this,arguments)}var Dot=function(props){var cx2=props.cx,cy=props.cy,r2=props.r,layerClass=clsx("recharts-dot",props.className);return cx2===+cx2&&cy===+cy&&r2===+r2?reactExports.createElement("circle",_extends$g({},filterProps(props,!1),adaptEventHandlers(props),{className:layerClass,cx:cx2,cy:cy,r:r2})):null};function _typeof$q(o2){return(_typeof$q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}var _excluded$7=["x","y","top","left","width","height","className"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$f.apply(this,arguments)}function ownKeys$l(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _defineProperty$p(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$q(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$q(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$q(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties$7(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var getPath2=function(x2,y2,width,height,top,left){return"M".concat(x2,",").concat(top,"v").concat(height,"M").concat(left,",").concat(y2,"h").concat(width)},Cross=function(_ref){var _ref$x=_ref.x,x2=void 0===_ref$x?0:_ref$x,_ref$y=_ref.y,y2=void 0===_ref$y?0:_ref$y,_ref$top=_ref.top,top=void 0===_ref$top?0:_ref$top,_ref$left=_ref.left,left=void 0===_ref$left?0:_ref$left,_ref$width=_ref.width,width=void 0===_ref$width?0:_ref$width,_ref$height=_ref.height,height=void 0===_ref$height?0:_ref$height,className=_ref.className,props=function(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$l(Object(t3),!0).forEach(function(r3){_defineProperty$p(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$l(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}({x:x2,y:y2,top:top,left:left,width:width,height:height},_objectWithoutProperties$7(_ref,_excluded$7));return isNumber(x2)&&isNumber(y2)&&isNumber(width)&&isNumber(height)&&isNumber(top)&&isNumber(left)?React$1.createElement("path",_extends$f({},filterProps(props,!0),{className:clsx("recharts-cross",className),d:getPath2(x2,y2,width,height,top,left)})):null},baseExtremum$1=_baseExtremum,baseGt=_baseGt,baseIteratee$6=_baseIteratee;const maxBy$1=getDefaultExportFromCjs(function(array2,iteratee){return array2&&array2.length?baseExtremum$1(array2,baseIteratee$6(iteratee),baseGt):void 0});var baseExtremum=_baseExtremum,baseIteratee$5=_baseIteratee,baseLt=_baseLt;const minBy$1=getDefaultExportFromCjs(function(array2,iteratee){return array2&&array2.length?baseExtremum(array2,baseIteratee$5(iteratee),baseLt):void 0});var _excluded$6=["cx","cy","angle","ticks","axisLine"],_excluded2$3=["ticks","tick","angle","tickFormatter","stroke"];function _typeof$p(o2){return(_typeof$p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$e.apply(this,arguments)}function ownKeys$k(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$k(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$k(Object(t3),!0).forEach(function(r3){_defineProperty$o(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$k(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _objectWithoutProperties$6(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _defineProperties$e(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$k(descriptor.key),descriptor)}}function _callSuper$b(t3,o2,e3){return o2=_getPrototypeOf$b(o2),function(self2,call){if(call&&("object"===_typeof$p(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$b()?Reflect.construct(o2,e3||[],_getPrototypeOf$b(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$b(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$b=function(){return!!t3})()}function _getPrototypeOf$b(o2){return(_getPrototypeOf$b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$b(o2,p2){return(_setPrototypeOf$b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$o(obj,key,value){return(key=_toPropertyKey$k(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$k(t3){var i2=function(t3,r2){if("object"!=_typeof$p(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$p(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$p(i2)?i2:i2+""}var PolarRadiusAxis=function(){function PolarRadiusAxis2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PolarRadiusAxis2),_callSuper$b(this,PolarRadiusAxis2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$b(subClass,superClass)}(PolarRadiusAxis2,reactExports.PureComponent),Constructor=PolarRadiusAxis2,staticProps=[{key:"renderTickItem",value:function(option,props,value){return React$1.isValidElement(option)?React$1.cloneElement(option,props):isFunction$6(option)?option(props):React$1.createElement(Text,_extends$e({},props,{className:"recharts-polar-radius-axis-tick-value"}),value)}}],(protoProps=[{key:"getTickValueCoord",value:function(_ref){var coordinate=_ref.coordinate,_this$props=this.props,angle=_this$props.angle,cx2=_this$props.cx,cy=_this$props.cy;return polarToCartesian(cx2,cy,coordinate,angle)}},{key:"getTickTextAnchor",value:function(){var textAnchor;switch(this.props.orientation){case"left":textAnchor="end";break;case"right":textAnchor="start";break;default:textAnchor="middle"}return textAnchor}},{key:"getViewBox",value:function(){var _this$props2=this.props,cx2=_this$props2.cx,cy=_this$props2.cy,angle=_this$props2.angle,ticks2=_this$props2.ticks,maxRadiusTick=maxBy$1(ticks2,function(entry){return entry.coordinate||0});return{cx:cx2,cy:cy,startAngle:angle,endAngle:angle,innerRadius:minBy$1(ticks2,function(entry){return entry.coordinate||0}).coordinate||0,outerRadius:maxRadiusTick.coordinate||0}}},{key:"renderAxisLine",value:function(){var _this$props3=this.props,cx2=_this$props3.cx,cy=_this$props3.cy,angle=_this$props3.angle,ticks2=_this$props3.ticks,axisLine=_this$props3.axisLine,others=_objectWithoutProperties$6(_this$props3,_excluded$6),extent2=ticks2.reduce(function(result,entry){return[Math.min(result[0],entry.coordinate),Math.max(result[1],entry.coordinate)]},[1/0,-1/0]),point0=polarToCartesian(cx2,cy,extent2[0],angle),point1=polarToCartesian(cx2,cy,extent2[1],angle),props=_objectSpread$k(_objectSpread$k(_objectSpread$k({},filterProps(others,!1)),{},{fill:"none"},filterProps(axisLine,!1)),{},{x1:point0.x,y1:point0.y,x2:point1.x,y2:point1.y});return React$1.createElement("line",_extends$e({className:"recharts-polar-radius-axis-line"},props))}},{key:"renderTicks",value:function(){var _this=this,_this$props4=this.props,ticks2=_this$props4.ticks,tick=_this$props4.tick,angle=_this$props4.angle,tickFormatter=_this$props4.tickFormatter,stroke=_this$props4.stroke,others=_objectWithoutProperties$6(_this$props4,_excluded2$3),textAnchor=this.getTickTextAnchor(),axisProps=filterProps(others,!1),customTickProps=filterProps(tick,!1),items=ticks2.map(function(entry,i2){var coord=_this.getTickValueCoord(entry),tickProps=_objectSpread$k(_objectSpread$k(_objectSpread$k(_objectSpread$k({textAnchor:textAnchor,transform:"rotate(".concat(90-angle,", ").concat(coord.x,", ").concat(coord.y,")")},axisProps),{},{stroke:"none",fill:stroke},customTickProps),{},{index:i2},coord),{},{payload:entry});return React$1.createElement(Layer,_extends$e({className:clsx("recharts-polar-radius-axis-tick",getTickClassName(tick)),key:"tick-".concat(entry.coordinate)},adaptEventsOfChild(_this.props,entry,i2)),PolarRadiusAxis2.renderTickItem(tick,tickProps,tickFormatter?tickFormatter(entry.value,i2):entry.value))});return React$1.createElement(Layer,{className:"recharts-polar-radius-axis-ticks"},items)}},{key:"render",value:function(){var _this$props5=this.props,ticks2=_this$props5.ticks,axisLine=_this$props5.axisLine,tick=_this$props5.tick;return ticks2&&ticks2.length?React$1.createElement(Layer,{className:clsx("recharts-polar-radius-axis",this.props.className)},axisLine&&this.renderAxisLine(),tick&&this.renderTicks(),Label$3.renderCallByParent(this.props,this.getViewBox())):null}}])&&_defineProperties$e(Constructor.prototype,protoProps),staticProps&&_defineProperties$e(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();function _typeof$o(o2){return(_typeof$o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$d.apply(this,arguments)}function ownKeys$j(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$j(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$j(Object(t3),!0).forEach(function(r3){_defineProperty$n(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$j(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperties$d(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$j(descriptor.key),descriptor)}}function _callSuper$a(t3,o2,e3){return o2=_getPrototypeOf$a(o2),function(self2,call){if(call&&("object"===_typeof$o(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$a()?Reflect.construct(o2,e3||[],_getPrototypeOf$a(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$a(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$a=function(){return!!t3})()}function _getPrototypeOf$a(o2){return(_getPrototypeOf$a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$a(o2,p2){return(_setPrototypeOf$a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$n(obj,key,value){return(key=_toPropertyKey$j(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$j(t3){var i2=function(t3,r2){if("object"!=_typeof$o(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$o(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$o(i2)?i2:i2+""}_defineProperty$o(PolarRadiusAxis,"displayName","PolarRadiusAxis"),_defineProperty$o(PolarRadiusAxis,"axisType","radiusAxis"),_defineProperty$o(PolarRadiusAxis,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var RADIAN=Math.PI/180,PolarAngleAxis=function(){function PolarAngleAxis2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,PolarAngleAxis2),_callSuper$a(this,PolarAngleAxis2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$a(subClass,superClass)}(PolarAngleAxis2,reactExports.PureComponent),Constructor=PolarAngleAxis2,staticProps=[{key:"renderTickItem",value:function(option,props,value){return React$1.isValidElement(option)?React$1.cloneElement(option,props):isFunction$6(option)?option(props):React$1.createElement(Text,_extends$d({},props,{className:"recharts-polar-angle-axis-tick-value"}),value)}}],(protoProps=[{key:"getTickLineCoord",value:function(data){var _this$props=this.props,cx2=_this$props.cx,cy=_this$props.cy,radius=_this$props.radius,orientation=_this$props.orientation,tickLineSize=_this$props.tickSize||8,p1=polarToCartesian(cx2,cy,radius,data.coordinate),p2=polarToCartesian(cx2,cy,radius+("inner"===orientation?-1:1)*tickLineSize,data.coordinate);return{x1:p1.x,y1:p1.y,x2:p2.x,y2:p2.y}}},{key:"getTickTextAnchor",value:function(data){var orientation=this.props.orientation,cos2=Math.cos(-data.coordinate*RADIAN);return cos2>1e-5?"outer"===orientation?"start":"end":cos2<-1e-5?"outer"===orientation?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var _this$props2=this.props,cx2=_this$props2.cx,cy=_this$props2.cy,radius=_this$props2.radius,axisLine=_this$props2.axisLine,axisLineType=_this$props2.axisLineType,props=_objectSpread$j(_objectSpread$j({},filterProps(this.props,!1)),{},{fill:"none"},filterProps(axisLine,!1));if("circle"===axisLineType)return React$1.createElement(Dot,_extends$d({className:"recharts-polar-angle-axis-line"},props,{cx:cx2,cy:cy,r:radius}));var points=this.props.ticks.map(function(entry){return polarToCartesian(cx2,cy,radius,entry.coordinate)});return React$1.createElement(Polygon,_extends$d({className:"recharts-polar-angle-axis-line"},props,{points:points}))}},{key:"renderTicks",value:function(){var _this=this,_this$props3=this.props,ticks2=_this$props3.ticks,tick=_this$props3.tick,tickLine=_this$props3.tickLine,tickFormatter=_this$props3.tickFormatter,stroke=_this$props3.stroke,axisProps=filterProps(this.props,!1),customTickProps=filterProps(tick,!1),tickLineProps=_objectSpread$j(_objectSpread$j({},axisProps),{},{fill:"none"},filterProps(tickLine,!1)),items=ticks2.map(function(entry,i2){var lineCoord=_this.getTickLineCoord(entry),tickProps=_objectSpread$j(_objectSpread$j(_objectSpread$j({textAnchor:_this.getTickTextAnchor(entry)},axisProps),{},{stroke:"none",fill:stroke},customTickProps),{},{index:i2,payload:entry,x:lineCoord.x2,y:lineCoord.y2});return React$1.createElement(Layer,_extends$d({className:clsx("recharts-polar-angle-axis-tick",getTickClassName(tick)),key:"tick-".concat(entry.coordinate)},adaptEventsOfChild(_this.props,entry,i2)),tickLine&&React$1.createElement("line",_extends$d({className:"recharts-polar-angle-axis-tick-line"},tickLineProps,lineCoord)),tick&&PolarAngleAxis2.renderTickItem(tick,tickProps,tickFormatter?tickFormatter(entry.value,i2):entry.value))});return React$1.createElement(Layer,{className:"recharts-polar-angle-axis-ticks"},items)}},{key:"render",value:function(){var _this$props4=this.props,ticks2=_this$props4.ticks,radius=_this$props4.radius,axisLine=_this$props4.axisLine;return radius<=0||!ticks2||!ticks2.length?null:React$1.createElement(Layer,{className:clsx("recharts-polar-angle-axis",this.props.className)},axisLine&&this.renderAxisLine(),this.renderTicks())}}])&&_defineProperties$d(Constructor.prototype,protoProps),staticProps&&_defineProperties$d(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();_defineProperty$n(PolarAngleAxis,"displayName","PolarAngleAxis"),_defineProperty$n(PolarAngleAxis,"axisType","angleAxis"),_defineProperty$n(PolarAngleAxis,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var getPrototype$1=_overArg(Object.getPrototypeOf,Object),baseGetTag$1=_baseGetTag,getPrototype=getPrototype$1,isObjectLike$1=isObjectLike_1,funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);const isPlainObject$2=getDefaultExportFromCjs(function(value){if(!isObjectLike$1(value)||"[object Object]"!=baseGetTag$1(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString});var baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1;const isBoolean$2=getDefaultExportFromCjs(function(value){return!0===value||!1===value||isObjectLike(value)&&"[object Boolean]"==baseGetTag(value)});function _typeof$n(o2){return(_typeof$n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$c.apply(this,arguments)}function _slicedToArray$4(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$7(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$7(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$7(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function ownKeys$i(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$i(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$i(Object(t3),!0).forEach(function(r3){_defineProperty$m(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$i(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$m(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$n(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$n(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$n(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _Pie,getTrapezoidPath=function(x2,y2,upperWidth,lowerWidth,height){var path,widthGap=upperWidth-lowerWidth;return path="M ".concat(x2,",").concat(y2),path+="L ".concat(x2+upperWidth,",").concat(y2),path+="L ".concat(x2+upperWidth-widthGap/2,",").concat(y2+height),path+="L ".concat(x2+upperWidth-widthGap/2-lowerWidth,",").concat(y2+height),path+="L ".concat(x2,",").concat(y2," Z")},defaultProps$1={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=function(props){var trapezoidProps=_objectSpread$i(_objectSpread$i({},defaultProps$1),props),pathRef=reactExports.useRef(),_useState2=_slicedToArray$4(reactExports.useState(-1),2),totalLength=_useState2[0],setTotalLength=_useState2[1];reactExports.useEffect(function(){if(pathRef.current&&pathRef.current.getTotalLength)try{var pathTotalLength=pathRef.current.getTotalLength();pathTotalLength&&setTotalLength(pathTotalLength)}catch(err2){}},[]);var x2=trapezoidProps.x,y2=trapezoidProps.y,upperWidth=trapezoidProps.upperWidth,lowerWidth=trapezoidProps.lowerWidth,height=trapezoidProps.height,className=trapezoidProps.className,animationEasing=trapezoidProps.animationEasing,animationDuration=trapezoidProps.animationDuration,animationBegin=trapezoidProps.animationBegin,isUpdateAnimationActive=trapezoidProps.isUpdateAnimationActive;if(x2!==+x2||y2!==+y2||upperWidth!==+upperWidth||lowerWidth!==+lowerWidth||height!==+height||0===upperWidth&&0===lowerWidth||0===height)return null;var layerClass=clsx("recharts-trapezoid",className);return isUpdateAnimationActive?React$1.createElement(Animate,{canBegin:totalLength>0,from:{upperWidth:0,lowerWidth:0,height:height,x:x2,y:y2},to:{upperWidth:upperWidth,lowerWidth:lowerWidth,height:height,x:x2,y:y2},duration:animationDuration,animationEasing:animationEasing,isActive:isUpdateAnimationActive},function(_ref){var currUpperWidth=_ref.upperWidth,currLowerWidth=_ref.lowerWidth,currHeight=_ref.height,currX=_ref.x,currY=_ref.y;return React$1.createElement(Animate,{canBegin:totalLength>0,from:"0px ".concat(-1===totalLength?1:totalLength,"px"),to:"".concat(totalLength,"px 0px"),attributeName:"strokeDasharray",begin:animationBegin,duration:animationDuration,easing:animationEasing},React$1.createElement("path",_extends$c({},filterProps(trapezoidProps,!0),{className:layerClass,d:getTrapezoidPath(currX,currY,currUpperWidth,currLowerWidth,currHeight),ref:pathRef})))}):React$1.createElement("g",null,React$1.createElement("path",_extends$c({},filterProps(trapezoidProps,!0),{className:layerClass,d:getTrapezoidPath(x2,y2,upperWidth,lowerWidth,height)})))},_excluded$5=["option","shapeType","propTransformer","activeClassName","isActive"];function _typeof$m(o2){return(_typeof$m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _objectWithoutProperties$5(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function ownKeys$h(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$h(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$h(Object(t3),!0).forEach(function(r3){_defineProperty$l(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$h(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$l(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$m(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$m(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$m(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function defaultPropTransformer(option,props){return _objectSpread$h(_objectSpread$h({},props),option)}function ShapeSelector(_ref){var shapeType=_ref.shapeType,elementProps=_ref.elementProps;switch(shapeType){case"rectangle":return React$1.createElement(Rectangle,elementProps);case"trapezoid":return React$1.createElement(Trapezoid,elementProps);case"sector":return React$1.createElement(Sector,elementProps);case"symbols":if(function(shapeType){return"symbols"===shapeType}(shapeType))return React$1.createElement(Symbols,elementProps);break;default:return null}}function Shape(_ref2){var shape,option=_ref2.option,shapeType=_ref2.shapeType,_ref2$propTransformer=_ref2.propTransformer,propTransformer=void 0===_ref2$propTransformer?defaultPropTransformer:_ref2$propTransformer,_ref2$activeClassName=_ref2.activeClassName,activeClassName=void 0===_ref2$activeClassName?"recharts-active-shape":_ref2$activeClassName,isActive=_ref2.isActive,props=_objectWithoutProperties$5(_ref2,_excluded$5);if(reactExports.isValidElement(option))shape=reactExports.cloneElement(option,_objectSpread$h(_objectSpread$h({},props),function(option){return reactExports.isValidElement(option)?option.props:option}(option)));else if(isFunction$6(option))shape=option(props);else if(isPlainObject$2(option)&&!isBoolean$2(option)){var nextProps=propTransformer(option,props);shape=React$1.createElement(ShapeSelector,{shapeType:shapeType,elementProps:nextProps})}else{var elementProps=props;shape=React$1.createElement(ShapeSelector,{shapeType:shapeType,elementProps:elementProps})}return isActive?React$1.createElement(Layer,{className:activeClassName},shape):shape}function isFunnel(graphicalItem,_item){return null!=_item&&"trapezoids"in graphicalItem.props}function isPie(graphicalItem,_item){return null!=_item&&"sectors"in graphicalItem.props}function isScatter(graphicalItem,_item){return null!=_item&&"points"in graphicalItem.props}function compareFunnel(shapeData,activeTooltipItem){var _activeTooltipItem$la,_activeTooltipItem$la2,xMatches=shapeData.x===(null==activeTooltipItem||null===(_activeTooltipItem$la=activeTooltipItem.labelViewBox)||void 0===_activeTooltipItem$la?void 0:_activeTooltipItem$la.x)||shapeData.x===activeTooltipItem.x,yMatches=shapeData.y===(null==activeTooltipItem||null===(_activeTooltipItem$la2=activeTooltipItem.labelViewBox)||void 0===_activeTooltipItem$la2?void 0:_activeTooltipItem$la2.y)||shapeData.y===activeTooltipItem.y;return xMatches&&yMatches}function comparePie(shapeData,activeTooltipItem){var startAngleMatches=shapeData.endAngle===activeTooltipItem.endAngle,endAngleMatches=shapeData.startAngle===activeTooltipItem.startAngle;return startAngleMatches&&endAngleMatches}function compareScatter(shapeData,activeTooltipItem){var xMatches=shapeData.x===activeTooltipItem.x,yMatches=shapeData.y===activeTooltipItem.y,zMatches=shapeData.z===activeTooltipItem.z;return xMatches&&yMatches&&zMatches}function getActiveShapeIndexForTooltip(_ref3){var activeTooltipItem=_ref3.activeTooltipItem,graphicalItem=_ref3.graphicalItem,itemData=_ref3.itemData,shapeKey=function(graphicalItem,activeItem){var shapeKey;return isFunnel(graphicalItem,activeItem)?shapeKey="trapezoids":isPie(graphicalItem,activeItem)?shapeKey="sectors":isScatter(graphicalItem,activeItem)&&(shapeKey="points"),shapeKey}(graphicalItem,activeTooltipItem),tooltipPayload=function(graphicalItem,activeItem){var _activeItem$tooltipPa,_activeItem$tooltipPa2;return isFunnel(graphicalItem,activeItem)?null===(_activeItem$tooltipPa=activeItem.tooltipPayload)||void 0===_activeItem$tooltipPa||null===(_activeItem$tooltipPa=_activeItem$tooltipPa[0])||void 0===_activeItem$tooltipPa||null===(_activeItem$tooltipPa=_activeItem$tooltipPa.payload)||void 0===_activeItem$tooltipPa?void 0:_activeItem$tooltipPa.payload:isPie(graphicalItem,activeItem)?null===(_activeItem$tooltipPa2=activeItem.tooltipPayload)||void 0===_activeItem$tooltipPa2||null===(_activeItem$tooltipPa2=_activeItem$tooltipPa2[0])||void 0===_activeItem$tooltipPa2||null===(_activeItem$tooltipPa2=_activeItem$tooltipPa2.payload)||void 0===_activeItem$tooltipPa2?void 0:_activeItem$tooltipPa2.payload:isScatter(graphicalItem,activeItem)?activeItem.payload:{}}(graphicalItem,activeTooltipItem),activeItemMatches=itemData.filter(function(datum,dataIndex){var valuesMatch=isEqual$1(tooltipPayload,datum),mouseCoordinateMatches=graphicalItem.props[shapeKey].filter(function(shapeData){var comparison=function(graphicalItem,activeItem){var comparison;return isFunnel(graphicalItem,activeItem)?comparison=compareFunnel:isPie(graphicalItem,activeItem)?comparison=comparePie:isScatter(graphicalItem,activeItem)&&(comparison=compareScatter),comparison}(graphicalItem,activeTooltipItem);return comparison(shapeData,activeTooltipItem)}),indexOfMouseCoordinates=graphicalItem.props[shapeKey].indexOf(mouseCoordinateMatches[mouseCoordinateMatches.length-1]);return valuesMatch&&dataIndex===indexOfMouseCoordinates});return itemData.indexOf(activeItemMatches[activeItemMatches.length-1])}function _typeof$l(o2){return(_typeof$l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$b.apply(this,arguments)}function ownKeys$g(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$g(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$g(Object(t3),!0).forEach(function(r3){_defineProperty$k(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$g(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperties$c(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$g(descriptor.key),descriptor)}}function _callSuper$9(t3,o2,e3){return o2=_getPrototypeOf$9(o2),function(self2,call){if(call&&("object"===_typeof$l(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$9()?Reflect.construct(o2,e3||[],_getPrototypeOf$9(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$9(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$9=function(){return!!t3})()}function _getPrototypeOf$9(o2){return(_getPrototypeOf$9=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$9(o2,p2){return(_setPrototypeOf$9=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$k(obj,key,value){return(key=_toPropertyKey$g(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$g(t3){var i2=function(t3,r2){if("object"!=_typeof$l(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$l(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$l(i2)?i2:i2+""}var Pie=function(){function Pie2(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Pie2),_defineProperty$k(_this=_callSuper$9(this,Pie2,[props]),"pieRef",null),_defineProperty$k(_this,"sectorRefs",[]),_defineProperty$k(_this,"id",uniqueId("recharts-pie-")),_defineProperty$k(_this,"handleAnimationEnd",function(){var onAnimationEnd2=_this.props.onAnimationEnd;_this.setState({isAnimationFinished:!0}),isFunction$6(onAnimationEnd2)&&onAnimationEnd2()}),_defineProperty$k(_this,"handleAnimationStart",function(){var onAnimationStart2=_this.props.onAnimationStart;_this.setState({isAnimationFinished:!1}),isFunction$6(onAnimationStart2)&&onAnimationStart2()}),_this.state={isAnimationFinished:!props.isAnimationActive,prevIsAnimationActive:props.isAnimationActive,prevAnimationId:props.animationId,sectorToFocus:0},_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$9(subClass,superClass)}(Pie2,reactExports.PureComponent),Constructor=Pie2,staticProps=[{key:"getDerivedStateFromProps",value:function(nextProps,prevState){return prevState.prevIsAnimationActive!==nextProps.isAnimationActive?{prevIsAnimationActive:nextProps.isAnimationActive,prevAnimationId:nextProps.animationId,curSectors:nextProps.sectors,prevSectors:[],isAnimationFinished:!0}:nextProps.isAnimationActive&&nextProps.animationId!==prevState.prevAnimationId?{prevAnimationId:nextProps.animationId,curSectors:nextProps.sectors,prevSectors:prevState.curSectors,isAnimationFinished:!0}:nextProps.sectors!==prevState.curSectors?{curSectors:nextProps.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(x2,cx2){return x2>cx2?"start":x2<cx2?"end":"middle"}},{key:"renderLabelLineItem",value:function(option,props,key){if(React$1.isValidElement(option))return React$1.cloneElement(option,props);if(isFunction$6(option))return option(props);var className=clsx("recharts-pie-label-line","boolean"!=typeof option?option.className:"");return React$1.createElement(Curve,_extends$b({},props,{key:key,type:"linear",className:className}))}},{key:"renderLabelItem",value:function(option,props,value){if(React$1.isValidElement(option))return React$1.cloneElement(option,props);var label=value;if(isFunction$6(option)&&(label=option(props),React$1.isValidElement(label)))return label;var className=clsx("recharts-pie-label-text","boolean"==typeof option||isFunction$6(option)?"":option.className);return React$1.createElement(Text,_extends$b({},props,{alignmentBaseline:"middle",className:className}),label)}}],(protoProps=[{key:"isActiveIndex",value:function(i2){var activeIndex=this.props.activeIndex;return Array.isArray(activeIndex)?-1!==activeIndex.indexOf(i2):i2===activeIndex}},{key:"hasActiveIndex",value:function(){var activeIndex=this.props.activeIndex;return Array.isArray(activeIndex)?0!==activeIndex.length:activeIndex||0===activeIndex}},{key:"renderLabels",value:function(sectors){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var _this$props=this.props,label=_this$props.label,labelLine=_this$props.labelLine,dataKey=_this$props.dataKey,valueKey=_this$props.valueKey,pieProps=filterProps(this.props,!1),customLabelProps=filterProps(label,!1),customLabelLineProps=filterProps(labelLine,!1),offsetRadius=label&&label.offsetRadius||20,labels2=sectors.map(function(entry,i2){var midAngle=(entry.startAngle+entry.endAngle)/2,endPoint=polarToCartesian(entry.cx,entry.cy,entry.outerRadius+offsetRadius,midAngle),labelProps=_objectSpread$g(_objectSpread$g(_objectSpread$g(_objectSpread$g({},pieProps),entry),{},{stroke:"none"},customLabelProps),{},{index:i2,textAnchor:Pie2.getTextAnchor(endPoint.x,entry.cx)},endPoint),lineProps=_objectSpread$g(_objectSpread$g(_objectSpread$g(_objectSpread$g({},pieProps),entry),{},{fill:"none",stroke:entry.fill},customLabelLineProps),{},{index:i2,points:[polarToCartesian(entry.cx,entry.cy,entry.outerRadius,midAngle),endPoint]}),realDataKey=dataKey;return isNil$1(dataKey)&&isNil$1(valueKey)?realDataKey="value":isNil$1(dataKey)&&(realDataKey=valueKey),React$1.createElement(Layer,{key:"label-".concat(entry.startAngle,"-").concat(entry.endAngle,"-").concat(entry.midAngle,"-").concat(i2)},labelLine&&Pie2.renderLabelLineItem(labelLine,lineProps,"line"),Pie2.renderLabelItem(label,labelProps,getValueByDataKey(entry,realDataKey)))});return React$1.createElement(Layer,{className:"recharts-pie-labels"},labels2)}},{key:"renderSectorsStatically",value:function(sectors){var _this2=this,_this$props2=this.props,activeShape=_this$props2.activeShape,blendStroke=_this$props2.blendStroke,inactiveShapeProp=_this$props2.inactiveShape;return sectors.map(function(entry,i2){if(0===(null==entry?void 0:entry.startAngle)&&0===(null==entry?void 0:entry.endAngle)&&1!==sectors.length)return null;var isActive=_this2.isActiveIndex(i2),inactiveShape=inactiveShapeProp&&_this2.hasActiveIndex()?inactiveShapeProp:null,sectorOptions=isActive?activeShape:inactiveShape,sectorProps=_objectSpread$g(_objectSpread$g({},entry),{},{stroke:blendStroke?entry.fill:entry.stroke,tabIndex:-1});return React$1.createElement(Layer,_extends$b({ref:function(_ref){_ref&&!_this2.sectorRefs.includes(_ref)&&_this2.sectorRefs.push(_ref)},tabIndex:-1,className:"recharts-pie-sector"},adaptEventsOfChild(_this2.props,entry,i2),{key:"sector-".concat(null==entry?void 0:entry.startAngle,"-").concat(null==entry?void 0:entry.endAngle,"-").concat(entry.midAngle,"-").concat(i2)}),React$1.createElement(Shape,_extends$b({option:sectorOptions,isActive:isActive,shapeType:"sector"},sectorProps)))})}},{key:"renderSectorsWithAnimation",value:function(){var _this3=this,_this$props3=this.props,sectors=_this$props3.sectors,isAnimationActive=_this$props3.isAnimationActive,animationBegin=_this$props3.animationBegin,animationDuration=_this$props3.animationDuration,animationEasing=_this$props3.animationEasing,animationId=_this$props3.animationId,_this$state=this.state,prevSectors=_this$state.prevSectors,prevIsAnimationActive=_this$state.prevIsAnimationActive;return React$1.createElement(Animate,{begin:animationBegin,duration:animationDuration,isActive:isAnimationActive,easing:animationEasing,from:{t:0},to:{t:1},key:"pie-".concat(animationId,"-").concat(prevIsAnimationActive),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(_ref2){var t3=_ref2.t,stepData=[],curAngle=(sectors&&sectors[0]).startAngle;return sectors.forEach(function(entry,index){var prev=prevSectors&&prevSectors[index],paddingAngle=index>0?get$3(entry,"paddingAngle",0):0;if(prev){var angleIp=interpolateNumber$2(prev.endAngle-prev.startAngle,entry.endAngle-entry.startAngle),latest=_objectSpread$g(_objectSpread$g({},entry),{},{startAngle:curAngle+paddingAngle,endAngle:curAngle+angleIp(t3)+paddingAngle});stepData.push(latest),curAngle=latest.endAngle}else{var endAngle=entry.endAngle,startAngle=entry.startAngle,deltaAngle=interpolateNumber$2(0,endAngle-startAngle)(t3),_latest=_objectSpread$g(_objectSpread$g({},entry),{},{startAngle:curAngle+paddingAngle,endAngle:curAngle+deltaAngle+paddingAngle});stepData.push(_latest),curAngle=_latest.endAngle}}),React$1.createElement(Layer,null,_this3.renderSectorsStatically(stepData))})}},{key:"attachKeyboardHandlers",value:function(pieRef){var _this4=this;pieRef.onkeydown=function(e3){if(!e3.altKey)switch(e3.key){case"ArrowLeft":var next=++_this4.state.sectorToFocus%_this4.sectorRefs.length;_this4.sectorRefs[next].focus(),_this4.setState({sectorToFocus:next});break;case"ArrowRight":var _next=--_this4.state.sectorToFocus<0?_this4.sectorRefs.length-1:_this4.state.sectorToFocus%_this4.sectorRefs.length;_this4.sectorRefs[_next].focus(),_this4.setState({sectorToFocus:_next});break;case"Escape":_this4.sectorRefs[_this4.state.sectorToFocus].blur(),_this4.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var _this$props4=this.props,sectors=_this$props4.sectors,isAnimationActive=_this$props4.isAnimationActive,prevSectors=this.state.prevSectors;return!(isAnimationActive&&sectors&&sectors.length)||prevSectors&&isEqual$1(prevSectors,sectors)?this.renderSectorsStatically(sectors):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var _this5=this,_this$props5=this.props,hide=_this$props5.hide,sectors=_this$props5.sectors,className=_this$props5.className,label=_this$props5.label,cx2=_this$props5.cx,cy=_this$props5.cy,innerRadius=_this$props5.innerRadius,outerRadius=_this$props5.outerRadius,isAnimationActive=_this$props5.isAnimationActive,isAnimationFinished=this.state.isAnimationFinished;if(hide||!sectors||!sectors.length||!isNumber(cx2)||!isNumber(cy)||!isNumber(innerRadius)||!isNumber(outerRadius))return null;var layerClass=clsx("recharts-pie",className);return React$1.createElement(Layer,{tabIndex:this.props.rootTabIndex,className:layerClass,ref:function(_ref3){_this5.pieRef=_ref3}},this.renderSectors(),label&&this.renderLabels(sectors),Label$3.renderCallByParent(this.props,null,!1),(!isAnimationActive||isAnimationFinished)&&LabelList.renderCallByParent(this.props,sectors,!1))}}])&&_defineProperties$c(Constructor.prototype,protoProps),staticProps&&_defineProperties$c(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();_Pie=Pie,_defineProperty$k(Pie,"displayName","Pie"),_defineProperty$k(Pie,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Global_isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),_defineProperty$k(Pie,"parseDeltaAngle",function(startAngle,endAngle){return mathSign(endAngle-startAngle)*Math.min(Math.abs(endAngle-startAngle),360)}),_defineProperty$k(Pie,"getRealPieData",function(itemProps){var data=itemProps.data,children=itemProps.children,presentationProps=filterProps(itemProps,!1),cells=findAllByType(children,Cell);return data&&data.length?data.map(function(entry,index){return _objectSpread$g(_objectSpread$g(_objectSpread$g({payload:entry},presentationProps),entry),cells&&cells[index]&&cells[index].props)}):cells&&cells.length?cells.map(function(cell){return _objectSpread$g(_objectSpread$g({},presentationProps),cell.props)}):[]}),_defineProperty$k(Pie,"parseCoordinateOfPie",function(itemProps,offset){var top=offset.top,left=offset.left,width=offset.width,height=offset.height,maxPieRadius=getMaxRadius(width,height);return{cx:left+getPercentValue(itemProps.cx,width,width/2),cy:top+getPercentValue(itemProps.cy,height,height/2),innerRadius:getPercentValue(itemProps.innerRadius,maxPieRadius,0),outerRadius:getPercentValue(itemProps.outerRadius,maxPieRadius,.8*maxPieRadius),maxRadius:itemProps.maxRadius||Math.sqrt(width*width+height*height)/2}}),_defineProperty$k(Pie,"getComposedData",function(_ref4){var item=_ref4.item,offset=_ref4.offset,itemProps=void 0!==item.type.defaultProps?_objectSpread$g(_objectSpread$g({},item.type.defaultProps),item.props):item.props,pieData2=_Pie.getRealPieData(itemProps);if(!pieData2||!pieData2.length)return null;var cornerRadius=itemProps.cornerRadius,startAngle=itemProps.startAngle,endAngle=itemProps.endAngle,paddingAngle=itemProps.paddingAngle,dataKey=itemProps.dataKey,nameKey=itemProps.nameKey,valueKey=itemProps.valueKey,tooltipType=itemProps.tooltipType,minAngle=Math.abs(itemProps.minAngle),coordinate=_Pie.parseCoordinateOfPie(itemProps,offset),deltaAngle=_Pie.parseDeltaAngle(startAngle,endAngle),absDeltaAngle=Math.abs(deltaAngle),realDataKey=dataKey;isNil$1(dataKey)&&isNil$1(valueKey)?(warn(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),realDataKey="value"):isNil$1(dataKey)&&(warn(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),realDataKey=valueKey);var sectors,prev,notZeroItemCount=pieData2.filter(function(entry){return 0!==getValueByDataKey(entry,realDataKey,0)}).length,realTotalAngle=absDeltaAngle-notZeroItemCount*minAngle-(absDeltaAngle>=360?notZeroItemCount:notZeroItemCount-1)*paddingAngle,sum2=pieData2.reduce(function(result,entry){var val=getValueByDataKey(entry,realDataKey,0);return result+(isNumber(val)?val:0)},0);sum2>0&&(sectors=pieData2.map(function(entry,i2){var tempStartAngle,val=getValueByDataKey(entry,realDataKey,0),name=getValueByDataKey(entry,nameKey,i2),percent=(isNumber(val)?val:0)/sum2,tempEndAngle=(tempStartAngle=i2?prev.endAngle+mathSign(deltaAngle)*paddingAngle*(0!==val?1:0):startAngle)+mathSign(deltaAngle)*((0!==val?minAngle:0)+percent*realTotalAngle),midAngle=(tempStartAngle+tempEndAngle)/2,middleRadius=(coordinate.innerRadius+coordinate.outerRadius)/2,tooltipPayload=[{name:name,value:val,payload:entry,dataKey:realDataKey,type:tooltipType}],tooltipPosition=polarToCartesian(coordinate.cx,coordinate.cy,middleRadius,midAngle);return prev=_objectSpread$g(_objectSpread$g(_objectSpread$g({percent:percent,cornerRadius:cornerRadius,name:name,tooltipPayload:tooltipPayload,midAngle:midAngle,middleRadius:middleRadius,tooltipPosition:tooltipPosition},entry),coordinate),{},{value:getValueByDataKey(entry,realDataKey),startAngle:tempStartAngle,endAngle:tempEndAngle,payload:entry,paddingAngle:mathSign(deltaAngle)*paddingAngle})}));return _objectSpread$g(_objectSpread$g({},coordinate),{},{sectors:sectors,data:pieData2})});var nativeCeil=Math.ceil,nativeMax$1=Math.max;var toNumber=toNumber_1;var toFinite_1=function(value){return value?Infinity===(value=toNumber(value))||-Infinity===value?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0},baseRange=function(start,end,step,fromRight){for(var index=-1,length=nativeMax$1(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result},isIterateeCall$2=_isIterateeCall,toFinite$1=toFinite_1;const range$1=getDefaultExportFromCjs(function(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall$2(start,end,step)&&(end=step=void 0),start=toFinite$1(start),void 0===end?(end=start,start=0):end=toFinite$1(end),step=void 0===step?start<end?1:-1:toFinite$1(step),baseRange(start,end,step,fromRight)}}());function _typeof$k(o2){return(_typeof$k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$f(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$f(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$f(Object(t3),!0).forEach(function(r3){_defineProperty$j(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$f(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$j(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$k(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$k(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$k(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var PREFIX_LIST=["Webkit","Moz","O","ms"];function _typeof$j(o2){return(_typeof$j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$a.apply(this,arguments)}function ownKeys$e(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$e(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$e(Object(t3),!0).forEach(function(r3){_defineProperty$i(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$e(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperties$b(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$e(descriptor.key),descriptor)}}function _callSuper$8(t3,o2,e3){return o2=_getPrototypeOf$8(o2),function(self2,call){if(call&&("object"===_typeof$j(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$8()?Reflect.construct(o2,e3||[],_getPrototypeOf$8(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$8(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$8=function(){return!!t3})()}function _getPrototypeOf$8(o2){return(_getPrototypeOf$8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$8(o2,p2){return(_setPrototypeOf$8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$i(obj,key,value){return(key=_toPropertyKey$e(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$e(t3){var i2=function(t3,r2){if("object"!=_typeof$j(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$j(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$j(i2)?i2:i2+""}var isTouch=function(e3){return e3.changedTouches&&!!e3.changedTouches.length},Brush=function(){function Brush2(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Brush2),_defineProperty$i(_this=_callSuper$8(this,Brush2,[props]),"handleDrag",function(e3){_this.leaveTimer&&(clearTimeout(_this.leaveTimer),_this.leaveTimer=null),_this.state.isTravellerMoving?_this.handleTravellerMove(e3):_this.state.isSlideMoving&&_this.handleSlideDrag(e3)}),_defineProperty$i(_this,"handleTouchMove",function(e3){null!=e3.changedTouches&&e3.changedTouches.length>0&&_this.handleDrag(e3.changedTouches[0])}),_defineProperty$i(_this,"handleDragEnd",function(){_this.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var _this$props=_this.props,endIndex=_this$props.endIndex,onDragEnd=_this$props.onDragEnd,startIndex=_this$props.startIndex;null==onDragEnd||onDragEnd({endIndex:endIndex,startIndex:startIndex})}),_this.detachDragEndListener()}),_defineProperty$i(_this,"handleLeaveWrapper",function(){(_this.state.isTravellerMoving||_this.state.isSlideMoving)&&(_this.leaveTimer=window.setTimeout(_this.handleDragEnd,_this.props.leaveTimeOut))}),_defineProperty$i(_this,"handleEnterSlideOrTraveller",function(){_this.setState({isTextActive:!0})}),_defineProperty$i(_this,"handleLeaveSlideOrTraveller",function(){_this.setState({isTextActive:!1})}),_defineProperty$i(_this,"handleSlideDragStart",function(e3){var event=isTouch(e3)?e3.changedTouches[0]:e3;_this.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:event.pageX}),_this.attachDragEndListener()}),_this.travellerDragStartHandlers={startX:_this.handleTravellerDragStart.bind(_this,"startX"),endX:_this.handleTravellerDragStart.bind(_this,"endX")},_this.state={},_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$8(subClass,superClass)}(Brush2,reactExports.PureComponent),Constructor=Brush2,staticProps=[{key:"renderDefaultTraveller",value:function(props){var x2=props.x,y2=props.y,width=props.width,height=props.height,stroke=props.stroke,lineY=Math.floor(y2+height/2)-1;return React$1.createElement(React$1.Fragment,null,React$1.createElement("rect",{x:x2,y:y2,width:width,height:height,fill:stroke,stroke:"none"}),React$1.createElement("line",{x1:x2+1,y1:lineY,x2:x2+width-1,y2:lineY,fill:"none",stroke:"#fff"}),React$1.createElement("line",{x1:x2+1,y1:lineY+2,x2:x2+width-1,y2:lineY+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(option,props){return React$1.isValidElement(option)?React$1.cloneElement(option,props):isFunction$6(option)?option(props):Brush2.renderDefaultTraveller(props)}},{key:"getDerivedStateFromProps",value:function(nextProps,prevState){var data=nextProps.data,width=nextProps.width,x2=nextProps.x,travellerWidth=nextProps.travellerWidth,updateId=nextProps.updateId,startIndex=nextProps.startIndex,endIndex=nextProps.endIndex;if(data!==prevState.prevData||updateId!==prevState.prevUpdateId)return _objectSpread$e({prevData:data,prevTravellerWidth:travellerWidth,prevUpdateId:updateId,prevX:x2,prevWidth:width},data&&data.length?function(_ref){var data=_ref.data,startIndex=_ref.startIndex,endIndex=_ref.endIndex,x2=_ref.x,width=_ref.width,travellerWidth=_ref.travellerWidth;if(!data||!data.length)return{};var len=data.length,scale=point().domain(range$1(0,len)).range([x2,x2+width-travellerWidth]),scaleValues=scale.domain().map(function(entry){return scale(entry)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:scale(startIndex),endX:scale(endIndex),scale:scale,scaleValues:scaleValues}}({data:data,width:width,x:x2,travellerWidth:travellerWidth,startIndex:startIndex,endIndex:endIndex}):{scale:null,scaleValues:null});if(prevState.scale&&(width!==prevState.prevWidth||x2!==prevState.prevX||travellerWidth!==prevState.prevTravellerWidth)){prevState.scale.range([x2,x2+width-travellerWidth]);var scaleValues=prevState.scale.domain().map(function(entry){return prevState.scale(entry)});return{prevData:data,prevTravellerWidth:travellerWidth,prevUpdateId:updateId,prevX:x2,prevWidth:width,startX:prevState.scale(nextProps.startIndex),endX:prevState.scale(nextProps.endIndex),scaleValues:scaleValues}}return null}},{key:"getIndexInRange",value:function(valueRange,x2){for(var start=0,end=valueRange.length-1;end-start>1;){var middle=Math.floor((start+end)/2);valueRange[middle]>x2?end=middle:start=middle}return x2>=valueRange[end]?end:start}}],(protoProps=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(_ref2){var startX=_ref2.startX,endX=_ref2.endX,scaleValues=this.state.scaleValues,_this$props2=this.props,gap=_this$props2.gap,lastIndex=_this$props2.data.length-1,min2=Math.min(startX,endX),max2=Math.max(startX,endX),minIndex=Brush2.getIndexInRange(scaleValues,min2),maxIndex=Brush2.getIndexInRange(scaleValues,max2);return{startIndex:minIndex-minIndex%gap,endIndex:maxIndex===lastIndex?lastIndex:maxIndex-maxIndex%gap}}},{key:"getTextOfTick",value:function(index){var _this$props3=this.props,data=_this$props3.data,tickFormatter=_this$props3.tickFormatter,dataKey=_this$props3.dataKey,text2=getValueByDataKey(data[index],dataKey,index);return isFunction$6(tickFormatter)?tickFormatter(text2,index):text2}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e3){var _this$state=this.state,slideMoveStartX=_this$state.slideMoveStartX,startX=_this$state.startX,endX=_this$state.endX,_this$props4=this.props,x2=_this$props4.x,width=_this$props4.width,travellerWidth=_this$props4.travellerWidth,startIndex=_this$props4.startIndex,endIndex=_this$props4.endIndex,onChange=_this$props4.onChange,delta=e3.pageX-slideMoveStartX;delta>0?delta=Math.min(delta,x2+width-travellerWidth-endX,x2+width-travellerWidth-startX):delta<0&&(delta=Math.max(delta,x2-startX,x2-endX));var newIndex=this.getIndex({startX:startX+delta,endX:endX+delta});newIndex.startIndex===startIndex&&newIndex.endIndex===endIndex||!onChange||onChange(newIndex),this.setState({startX:startX+delta,endX:endX+delta,slideMoveStartX:e3.pageX})}},{key:"handleTravellerDragStart",value:function(id2,e3){var event=isTouch(e3)?e3.changedTouches[0]:e3;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:id2,brushMoveStartX:event.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e3){var _this$state2=this.state,brushMoveStartX=_this$state2.brushMoveStartX,movingTravellerId=_this$state2.movingTravellerId,endX=_this$state2.endX,startX=_this$state2.startX,prevValue=this.state[movingTravellerId],_this$props5=this.props,x2=_this$props5.x,width=_this$props5.width,travellerWidth=_this$props5.travellerWidth,onChange=_this$props5.onChange,gap=_this$props5.gap,data=_this$props5.data,params={startX:this.state.startX,endX:this.state.endX},delta=e3.pageX-brushMoveStartX;delta>0?delta=Math.min(delta,x2+width-travellerWidth-prevValue):delta<0&&(delta=Math.max(delta,x2-prevValue)),params[movingTravellerId]=prevValue+delta;var newIndex=this.getIndex(params),startIndex=newIndex.startIndex,endIndex=newIndex.endIndex;this.setState(_defineProperty$i(_defineProperty$i({},movingTravellerId,prevValue+delta),"brushMoveStartX",e3.pageX),function(){var lastIndex;onChange&&(lastIndex=data.length-1,("startX"===movingTravellerId&&(endX>startX?startIndex%gap===0:endIndex%gap===0)||endX<startX&&endIndex===lastIndex||"endX"===movingTravellerId&&(endX>startX?endIndex%gap===0:startIndex%gap===0)||endX>startX&&endIndex===lastIndex)&&onChange(newIndex))})}},{key:"handleTravellerMoveKeyboard",value:function(direction,id2){var _this2=this,_this$state3=this.state,scaleValues=_this$state3.scaleValues,startX=_this$state3.startX,endX=_this$state3.endX,currentScaleValue=this.state[id2],currentIndex=scaleValues.indexOf(currentScaleValue);if(-1!==currentIndex){var newIndex=currentIndex+direction;if(!(-1===newIndex||newIndex>=scaleValues.length)){var newScaleValue=scaleValues[newIndex];"startX"===id2&&newScaleValue>=endX||"endX"===id2&&newScaleValue<=startX||this.setState(_defineProperty$i({},id2,newScaleValue),function(){_this2.props.onChange(_this2.getIndex({startX:_this2.state.startX,endX:_this2.state.endX}))})}}}},{key:"renderBackground",value:function(){var _this$props6=this.props,x2=_this$props6.x,y2=_this$props6.y,width=_this$props6.width,height=_this$props6.height,fill=_this$props6.fill,stroke=_this$props6.stroke;return React$1.createElement("rect",{stroke:stroke,fill:fill,x:x2,y:y2,width:width,height:height})}},{key:"renderPanorama",value:function(){var _this$props7=this.props,x2=_this$props7.x,y2=_this$props7.y,width=_this$props7.width,height=_this$props7.height,data=_this$props7.data,children=_this$props7.children,padding=_this$props7.padding,chartElement=reactExports.Children.only(children);return chartElement?React$1.cloneElement(chartElement,{x:x2,y:y2,width:width,height:height,margin:padding,compact:!0,data:data}):null}},{key:"renderTravellerLayer",value:function(travellerX,id2){var _data$startIndex,_data$endIndex,_this3=this,_this$props8=this.props,y2=_this$props8.y,travellerWidth=_this$props8.travellerWidth,height=_this$props8.height,traveller=_this$props8.traveller,ariaLabel=_this$props8.ariaLabel,data=_this$props8.data,startIndex=_this$props8.startIndex,endIndex=_this$props8.endIndex,x2=Math.max(travellerX,this.props.x),travellerProps=_objectSpread$e(_objectSpread$e({},filterProps(this.props,!1)),{},{x:x2,y:y2,width:travellerWidth,height:height}),ariaLabelBrush=ariaLabel||"Min value: ".concat(null===(_data$startIndex=data[startIndex])||void 0===_data$startIndex?void 0:_data$startIndex.name,", Max value: ").concat(null===(_data$endIndex=data[endIndex])||void 0===_data$endIndex?void 0:_data$endIndex.name);return React$1.createElement(Layer,{tabIndex:0,role:"slider","aria-label":ariaLabelBrush,"aria-valuenow":travellerX,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[id2],onTouchStart:this.travellerDragStartHandlers[id2],onKeyDown:function(e3){["ArrowLeft","ArrowRight"].includes(e3.key)&&(e3.preventDefault(),e3.stopPropagation(),_this3.handleTravellerMoveKeyboard("ArrowRight"===e3.key?1:-1,id2))},onFocus:function(){_this3.setState({isTravellerFocused:!0})},onBlur:function(){_this3.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},Brush2.renderTraveller(traveller,travellerProps))}},{key:"renderSlide",value:function(startX,endX){var _this$props9=this.props,y2=_this$props9.y,height=_this$props9.height,stroke=_this$props9.stroke,travellerWidth=_this$props9.travellerWidth,x2=Math.min(startX,endX)+travellerWidth,width=Math.max(Math.abs(endX-startX)-travellerWidth,0);return React$1.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:stroke,fillOpacity:.2,x:x2,y:y2,width:width,height:height})}},{key:"renderText",value:function(){var _this$props10=this.props,startIndex=_this$props10.startIndex,endIndex=_this$props10.endIndex,y2=_this$props10.y,height=_this$props10.height,travellerWidth=_this$props10.travellerWidth,stroke=_this$props10.stroke,_this$state4=this.state,startX=_this$state4.startX,endX=_this$state4.endX,attrs={pointerEvents:"none",fill:stroke};return React$1.createElement(Layer,{className:"recharts-brush-texts"},React$1.createElement(Text,_extends$a({textAnchor:"end",verticalAnchor:"middle",x:Math.min(startX,endX)-5,y:y2+height/2},attrs),this.getTextOfTick(startIndex)),React$1.createElement(Text,_extends$a({textAnchor:"start",verticalAnchor:"middle",x:Math.max(startX,endX)+travellerWidth+5,y:y2+height/2},attrs),this.getTextOfTick(endIndex)))}},{key:"render",value:function(){var _this$props11=this.props,data=_this$props11.data,className=_this$props11.className,children=_this$props11.children,x2=_this$props11.x,y2=_this$props11.y,width=_this$props11.width,height=_this$props11.height,alwaysShowText=_this$props11.alwaysShowText,_this$state5=this.state,startX=_this$state5.startX,endX=_this$state5.endX,isTextActive=_this$state5.isTextActive,isSlideMoving=_this$state5.isSlideMoving,isTravellerMoving=_this$state5.isTravellerMoving,isTravellerFocused=_this$state5.isTravellerFocused;if(!data||!data.length||!isNumber(x2)||!isNumber(y2)||!isNumber(width)||!isNumber(height)||width<=0||height<=0)return null;var name,value,camelName,result,layerClass=clsx("recharts-brush",className),isPanoramic=1===React$1.Children.count(children),style=(value="none",camelName=(name="userSelect").replace(/(\w)/,function(v2){return v2.toUpperCase()}),(result=PREFIX_LIST.reduce(function(res,entry){return _objectSpread$f(_objectSpread$f({},res),{},_defineProperty$j({},entry+camelName,value))},{}))[name]=value,result);return React$1.createElement(Layer,{className:layerClass,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:style},this.renderBackground(),isPanoramic&&this.renderPanorama(),this.renderSlide(startX,endX),this.renderTravellerLayer(startX,"startX"),this.renderTravellerLayer(endX,"endX"),(isTextActive||isSlideMoving||isTravellerMoving||isTravellerFocused||alwaysShowText)&&this.renderText())}}])&&_defineProperties$b(Constructor.prototype,protoProps),staticProps&&_defineProperties$b(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();_defineProperty$i(Brush,"displayName","Brush"),_defineProperty$i(Brush,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var baseEach$1=_baseEach;var arraySome=_arraySome,baseIteratee$4=_baseIteratee,baseSome=function(collection,predicate){var result;return baseEach$1(collection,function(value,index,collection2){return!(result=predicate(value,index,collection2))}),!!result},isArray$1=isArray_1,isIterateeCall$1=_isIterateeCall;const some$1=getDefaultExportFromCjs(function(collection,predicate,guard){var func=isArray$1(collection)?arraySome:baseSome;return guard&&isIterateeCall$1(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee$4(predicate))});var ifOverflowMatches=function(props,value){var alwaysShow=props.alwaysShow,ifOverflow=props.ifOverflow;return alwaysShow&&(ifOverflow="extendDomain"),ifOverflow===value},defineProperty=_defineProperty$I;var baseAssignValue=function(object2,key,value){"__proto__"==key&&defineProperty?defineProperty(object2,key,{configurable:!0,enumerable:!0,value:value,writable:!0}):object2[key]=value},baseForOwn=_baseForOwn,baseIteratee$3=_baseIteratee;const mapValues$1=getDefaultExportFromCjs(function(object2,iteratee){var result={};return iteratee=baseIteratee$3(iteratee),baseForOwn(object2,function(value,key,object3){baseAssignValue(result,key,iteratee(value,key,object3))}),result});var baseEach=_baseEach;var arrayEvery=function(array2,predicate){for(var index=-1,length=null==array2?0:array2.length;++index<length;)if(!predicate(array2[index],index,array2))return!1;return!0},baseEvery=function(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection2){return result=!!predicate(value,index,collection2)}),result},baseIteratee$2=_baseIteratee,isArray=isArray_1,isIterateeCall=_isIterateeCall;const every$1=getDefaultExportFromCjs(function(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=void 0),func(collection,baseIteratee$2(predicate))});var _excluded$4=["x","y"];function _typeof$i(o2){return(_typeof$i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o22){return typeof o22}:function(o22){return o22&&"function"==typeof Symbol&&o22.constructor===Symbol&&o22!==Symbol.prototype?"symbol":typeof o22})(o2)}function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$9.apply(this,arguments)}function ownKeys$d(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r22){return Object.getOwnPropertyDescriptor(e3,r22).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$d(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$d(Object(t3),!0).forEach(function(r22){_defineProperty$h(e3,r22,t3[r22])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$d(Object(t3)).forEach(function(r22){Object.defineProperty(e3,r22,Object.getOwnPropertyDescriptor(t3,r22))})}return e3}function _defineProperty$h(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$i(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$i(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$i(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _objectWithoutProperties$4(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function typeguardBarRectangleProps(_ref,props){var xProp=_ref.x,yProp=_ref.y,option=_objectWithoutProperties$4(_ref,_excluded$4),xValue="".concat(xProp),x2=parseInt(xValue,10),yValue="".concat(yProp),y2=parseInt(yValue,10),heightValue="".concat(props.height||option.height),height=parseInt(heightValue,10),widthValue="".concat(props.width||option.width),width=parseInt(widthValue,10);return _objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d(_objectSpread$d({},props),option),x2?{x:x2}:{}),y2?{y:y2}:{}),{},{height:height,width:width,name:props.name,radius:props.radius})}function BarRectangle(props){return React$1.createElement(Shape,_extends$9({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},props))}var _Bar,minPointSizeCallback=function(minPointSize){var defaultValue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(value,index){if("number"==typeof minPointSize)return minPointSize;var isValueNumberOrNil=isNumber(value)||function(value){return isNil$1(value)}(value);return isValueNumberOrNil?minPointSize(value,index):(isValueNumberOrNil||invariant(),defaultValue)}},_excluded$3=["value","background"];function _typeof$h(o2){return(_typeof$h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _objectWithoutProperties$3(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$8.apply(this,arguments)}function ownKeys$c(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$c(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$c(Object(t3),!0).forEach(function(r3){_defineProperty$g(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$c(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperties$a(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$c(descriptor.key),descriptor)}}function _callSuper$7(t3,o2,e3){return o2=_getPrototypeOf$7(o2),function(self2,call){if(call&&("object"===_typeof$h(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$7()?Reflect.construct(o2,e3||[],_getPrototypeOf$7(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$7(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$7=function(){return!!t3})()}function _getPrototypeOf$7(o2){return(_getPrototypeOf$7=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$7(o2,p2){return(_setPrototypeOf$7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$g(obj,key,value){return(key=_toPropertyKey$c(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$c(t3){var i2=function(t3,r2){if("object"!=_typeof$h(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$h(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$h(i2)?i2:i2+""}var Bar=function(){function Bar2(){var _this;!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Bar2);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _defineProperty$g(_this=_callSuper$7(this,Bar2,[].concat(args)),"state",{isAnimationFinished:!1}),_defineProperty$g(_this,"id",uniqueId("recharts-bar-")),_defineProperty$g(_this,"handleAnimationEnd",function(){var onAnimationEnd2=_this.props.onAnimationEnd;_this.setState({isAnimationFinished:!0}),onAnimationEnd2&&onAnimationEnd2()}),_defineProperty$g(_this,"handleAnimationStart",function(){var onAnimationStart2=_this.props.onAnimationStart;_this.setState({isAnimationFinished:!1}),onAnimationStart2&&onAnimationStart2()}),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$7(subClass,superClass)}(Bar2,reactExports.PureComponent),Constructor=Bar2,staticProps=[{key:"getDerivedStateFromProps",value:function(nextProps,prevState){return nextProps.animationId!==prevState.prevAnimationId?{prevAnimationId:nextProps.animationId,curData:nextProps.data,prevData:prevState.curData}:nextProps.data!==prevState.curData?{curData:nextProps.data}:null}}],(protoProps=[{key:"renderRectanglesStatically",value:function(data){var _this2=this,_this$props=this.props,shape=_this$props.shape,dataKey=_this$props.dataKey,activeIndex=_this$props.activeIndex,activeBar=_this$props.activeBar,baseProps=filterProps(this.props,!1);return data&&data.map(function(entry,i2){var isActive=i2===activeIndex,option=isActive?activeBar:shape,props=_objectSpread$c(_objectSpread$c(_objectSpread$c({},baseProps),entry),{},{isActive:isActive,option:option,index:i2,dataKey:dataKey,onAnimationStart:_this2.handleAnimationStart,onAnimationEnd:_this2.handleAnimationEnd});return React$1.createElement(Layer,_extends$8({className:"recharts-bar-rectangle"},adaptEventsOfChild(_this2.props,entry,i2),{key:"rectangle-".concat(null==entry?void 0:entry.x,"-").concat(null==entry?void 0:entry.y,"-").concat(null==entry?void 0:entry.value,"-").concat(i2)}),React$1.createElement(BarRectangle,props))})}},{key:"renderRectanglesWithAnimation",value:function(){var _this3=this,_this$props2=this.props,data=_this$props2.data,layout=_this$props2.layout,isAnimationActive=_this$props2.isAnimationActive,animationBegin=_this$props2.animationBegin,animationDuration=_this$props2.animationDuration,animationEasing=_this$props2.animationEasing,animationId=_this$props2.animationId,prevData=this.state.prevData;return React$1.createElement(Animate,{begin:animationBegin,duration:animationDuration,isActive:isAnimationActive,easing:animationEasing,from:{t:0},to:{t:1},key:"bar-".concat(animationId),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_ref){var t3=_ref.t,stepData=data.map(function(entry,index){var prev=prevData&&prevData[index];if(prev){var interpolatorX=interpolateNumber$2(prev.x,entry.x),interpolatorY=interpolateNumber$2(prev.y,entry.y),interpolatorWidth=interpolateNumber$2(prev.width,entry.width),interpolatorHeight=interpolateNumber$2(prev.height,entry.height);return _objectSpread$c(_objectSpread$c({},entry),{},{x:interpolatorX(t3),y:interpolatorY(t3),width:interpolatorWidth(t3),height:interpolatorHeight(t3)})}if("horizontal"===layout){var h2=interpolateNumber$2(0,entry.height)(t3);return _objectSpread$c(_objectSpread$c({},entry),{},{y:entry.y+entry.height-h2,height:h2})}var w2=interpolateNumber$2(0,entry.width)(t3);return _objectSpread$c(_objectSpread$c({},entry),{},{width:w2})});return React$1.createElement(Layer,null,_this3.renderRectanglesStatically(stepData))})}},{key:"renderRectangles",value:function(){var _this$props3=this.props,data=_this$props3.data,isAnimationActive=_this$props3.isAnimationActive,prevData=this.state.prevData;return!(isAnimationActive&&data&&data.length)||prevData&&isEqual$1(prevData,data)?this.renderRectanglesStatically(data):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var _this4=this,_this$props4=this.props,data=_this$props4.data,dataKey=_this$props4.dataKey,activeIndex=_this$props4.activeIndex,backgroundProps=filterProps(this.props.background,!1);return data.map(function(entry,i2){entry.value;var background=entry.background,rest=_objectWithoutProperties$3(entry,_excluded$3);if(!background)return null;var props=_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c(_objectSpread$c({},rest),{},{fill:"#eee"},background),backgroundProps),adaptEventsOfChild(_this4.props,entry,i2)),{},{onAnimationStart:_this4.handleAnimationStart,onAnimationEnd:_this4.handleAnimationEnd,dataKey:dataKey,index:i2,className:"recharts-bar-background-rectangle"});return React$1.createElement(BarRectangle,_extends$8({key:"background-bar-".concat(i2),option:_this4.props.background,isActive:i2===activeIndex},props))})}},{key:"renderErrorBar",value:function(needClip,clipPathId){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var _this$props5=this.props,data=_this$props5.data,xAxis=_this$props5.xAxis,yAxis=_this$props5.yAxis,layout=_this$props5.layout,errorBarItems=findAllByType(_this$props5.children,ErrorBar);if(!errorBarItems)return null;var offset="vertical"===layout?data[0].height/2:data[0].width/2,dataPointFormatter=function(dataPoint,dataKey){var value=Array.isArray(dataPoint.value)?dataPoint.value[1]:dataPoint.value;return{x:dataPoint.x,y:dataPoint.y,value:value,errorVal:getValueByDataKey(dataPoint,dataKey)}},errorBarProps={clipPath:needClip?"url(#clipPath-".concat(clipPathId,")"):null};return React$1.createElement(Layer,errorBarProps,errorBarItems.map(function(item){return React$1.cloneElement(item,{key:"error-bar-".concat(clipPathId,"-").concat(item.props.dataKey),data:data,xAxis:xAxis,yAxis:yAxis,layout:layout,offset:offset,dataPointFormatter:dataPointFormatter})}))}},{key:"render",value:function(){var _this$props6=this.props,hide=_this$props6.hide,data=_this$props6.data,className=_this$props6.className,xAxis=_this$props6.xAxis,yAxis=_this$props6.yAxis,left=_this$props6.left,top=_this$props6.top,width=_this$props6.width,height=_this$props6.height,isAnimationActive=_this$props6.isAnimationActive,background=_this$props6.background,id2=_this$props6.id;if(hide||!data||!data.length)return null;var isAnimationFinished=this.state.isAnimationFinished,layerClass=clsx("recharts-bar",className),needClipX=xAxis&&xAxis.allowDataOverflow,needClipY=yAxis&&yAxis.allowDataOverflow,needClip=needClipX||needClipY,clipPathId=isNil$1(id2)?this.id:id2;return React$1.createElement(Layer,{className:layerClass},needClipX||needClipY?React$1.createElement("defs",null,React$1.createElement("clipPath",{id:"clipPath-".concat(clipPathId)},React$1.createElement("rect",{x:needClipX?left:left-width/2,y:needClipY?top:top-height/2,width:needClipX?width:2*width,height:needClipY?height:2*height}))):null,React$1.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:needClip?"url(#clipPath-".concat(clipPathId,")"):null},background?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(needClip,clipPathId),(!isAnimationActive||isAnimationFinished)&&LabelList.renderCallByParent(this.props,data))}}])&&_defineProperties$a(Constructor.prototype,protoProps),staticProps&&_defineProperties$a(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();function _typeof$g(o2){return(_typeof$g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _defineProperties$9(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$b(descriptor.key),descriptor)}}function ownKeys$b(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$b(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$b(Object(t3),!0).forEach(function(r3){_defineProperty$f(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$b(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$f(obj,key,value){return(key=_toPropertyKey$b(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$b(t3){var i2=function(t3,r2){if("object"!=_typeof$g(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$g(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(t3,"string");return"symbol"==_typeof$g(i2)?i2:i2+""}_Bar=Bar,_defineProperty$g(Bar,"displayName","Bar"),_defineProperty$g(Bar,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Global_isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),_defineProperty$g(Bar,"getComposedData",function(_ref2){var props=_ref2.props,item=_ref2.item,barPosition=_ref2.barPosition,bandSize=_ref2.bandSize,xAxis=_ref2.xAxis,yAxis=_ref2.yAxis,xAxisTicks=_ref2.xAxisTicks,yAxisTicks=_ref2.yAxisTicks,stackedData=_ref2.stackedData,dataStartIndex=_ref2.dataStartIndex,displayedData=_ref2.displayedData,offset=_ref2.offset,pos=function(barPosition,child){if(!barPosition)return null;for(var i2=0,len=barPosition.length;i2<len;i2++)if(barPosition[i2].item===child)return barPosition[i2].position;return null}(barPosition,item);if(!pos)return null;var layout=props.layout,itemDefaultProps=item.type.defaultProps,itemProps=void 0!==itemDefaultProps?_objectSpread$c(_objectSpread$c({},itemDefaultProps),item.props):item.props,dataKey=itemProps.dataKey,children=itemProps.children,minPointSizeProp=itemProps.minPointSize,numericAxis="horizontal"===layout?yAxis:xAxis,stackedDomain=stackedData?numericAxis.scale.domain():null,baseValue=function(_ref7){var numericAxis=_ref7.numericAxis,domain=numericAxis.scale.domain();if("number"===numericAxis.type){var minValue=Math.min(domain[0],domain[1]),maxValue=Math.max(domain[0],domain[1]);return minValue<=0&&maxValue>=0?0:maxValue<0?maxValue:minValue}return domain[0]}({numericAxis:numericAxis}),cells=findAllByType(children,Cell),rects=displayedData.map(function(entry,index){var value,x2,y2,width,height,background;stackedData?value=function(value,domain){if(!domain||2!==domain.length||!isNumber(domain[0])||!isNumber(domain[1]))return value;var minValue=Math.min(domain[0],domain[1]),maxValue=Math.max(domain[0],domain[1]),result=[value[0],value[1]];return(!isNumber(value[0])||value[0]<minValue)&&(result[0]=minValue),(!isNumber(value[1])||value[1]>maxValue)&&(result[1]=maxValue),result[0]>maxValue&&(result[0]=maxValue),result[1]<minValue&&(result[1]=minValue),result}(stackedData[dataStartIndex+index],stackedDomain):(value=getValueByDataKey(entry,dataKey),Array.isArray(value)||(value=[baseValue,value]));var minPointSize=minPointSizeCallback(minPointSizeProp,_Bar.defaultProps.minPointSize)(value[1],index);if("horizontal"===layout){var _ref4,_ref3=[yAxis.scale(value[0]),yAxis.scale(value[1])],baseValueScale=_ref3[0],currentValueScale=_ref3[1];x2=getCateCoordinateOfBar({axis:xAxis,ticks:xAxisTicks,bandSize:bandSize,offset:pos.offset,entry:entry,index:index}),y2=null!==(_ref4=null!=currentValueScale?currentValueScale:baseValueScale)&&void 0!==_ref4?_ref4:void 0,width=pos.size;var computedHeight=baseValueScale-currentValueScale;if(height=Number.isNaN(computedHeight)?0:computedHeight,background={x:x2,y:yAxis.y,width:width,height:yAxis.height},Math.abs(minPointSize)>0&&Math.abs(height)<Math.abs(minPointSize)){var delta=mathSign(height||minPointSize)*(Math.abs(minPointSize)-Math.abs(height));y2-=delta,height+=delta}}else{var _ref5=[xAxis.scale(value[0]),xAxis.scale(value[1])],_baseValueScale=_ref5[0],_currentValueScale=_ref5[1];if(x2=_baseValueScale,y2=getCateCoordinateOfBar({axis:yAxis,ticks:yAxisTicks,bandSize:bandSize,offset:pos.offset,entry:entry,index:index}),width=_currentValueScale-_baseValueScale,height=pos.size,background={x:xAxis.x,y:y2,width:xAxis.width,height:height},Math.abs(minPointSize)>0&&Math.abs(width)<Math.abs(minPointSize))width+=mathSign(width||minPointSize)*(Math.abs(minPointSize)-Math.abs(width))}return _objectSpread$c(_objectSpread$c(_objectSpread$c({},entry),{},{x:x2,y:y2,width:width,height:height,value:stackedData?value:value[1],payload:entry,background:background},cells&&cells[index]&&cells[index].props),{},{tooltipPayload:[getTooltipItem(item,entry)],tooltipPosition:{x:x2+width/2,y:y2+height/2}})});return _objectSpread$c({data:rects,layout:layout},offset)});var rectWithPoints=function(_ref,_ref2){var x1=_ref.x,y1=_ref.y,x2=_ref2.x,y2=_ref2.y;return{x:Math.min(x1,x2),y:Math.min(y1,y2),width:Math.abs(x2-x1),height:Math.abs(y2-y1)}},ScaleHelper=function(){function ScaleHelper2(scale){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ScaleHelper2),this.scale=scale}return Constructor=ScaleHelper2,protoProps=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(value){var _ref4=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},bandAware=_ref4.bandAware,position=_ref4.position;if(void 0!==value){if(position)switch(position){case"start":default:return this.scale(value);case"middle":var offset=this.bandwidth?this.bandwidth()/2:0;return this.scale(value)+offset;case"end":var _offset=this.bandwidth?this.bandwidth():0;return this.scale(value)+_offset}if(bandAware){var _offset2=this.bandwidth?this.bandwidth()/2:0;return this.scale(value)+_offset2}return this.scale(value)}}},{key:"isInRange",value:function(value){var range3=this.range(),first=range3[0],last2=range3[range3.length-1];return first<=last2?value>=first&&value<=last2:value>=last2&&value<=first}}],staticProps=[{key:"create",value:function(obj){return new ScaleHelper2(obj)}}],protoProps&&_defineProperties$9(Constructor.prototype,protoProps),staticProps&&_defineProperties$9(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();_defineProperty$f(ScaleHelper,"EPS",1e-4);var createLabeledScales=function(options){var scales=Object.keys(options).reduce(function(res,key){return _objectSpread$b(_objectSpread$b({},res),{},_defineProperty$f({},key,ScaleHelper.create(options[key])))},{});return _objectSpread$b(_objectSpread$b({},scales),{},{apply:function(coord){var _ref5=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},bandAware=_ref5.bandAware,position=_ref5.position;return mapValues$1(coord,function(value,label){return scales[label].apply(value,{bandAware:bandAware,position:position})})},isInRange:function(coord){return every$1(coord,function(value,label){return scales[label].isInRange(value)})}})};var baseIteratee$1=_baseIteratee,isArrayLike=isArrayLike_1,keys=keys_1;var _createFind=function(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee$1(predicate);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}},toFinite=toFinite_1;var baseFindIndex=_baseFindIndex,baseIteratee=_baseIteratee,toInteger=function(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0},nativeMax=Math.max;const find$1=getDefaultExportFromCjs(_createFind(function(array2,predicate,fromIndex){var length=null==array2?0:array2.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array2,baseIteratee(predicate),index)}));var calculateViewBox=memoize$3(function(offset){return{x:offset.left,y:offset.top,width:offset.width,height:offset.height}},function(offset){return["l",offset.left,"t",offset.top,"w",offset.width,"h",offset.height].join("")}),XAxisContext=reactExports.createContext(void 0),YAxisContext=reactExports.createContext(void 0),ViewBoxContext=reactExports.createContext(void 0),OffsetContext=reactExports.createContext({}),ClipPathIdContext=reactExports.createContext(void 0),ChartHeightContext=reactExports.createContext(0),ChartWidthContext=reactExports.createContext(0),ChartLayoutContextProvider=function(props){var _props$state=props.state,xAxisMap=_props$state.xAxisMap,yAxisMap=_props$state.yAxisMap,offset=_props$state.offset,clipPathId=props.clipPathId,children=props.children,width=props.width,height=props.height,viewBox=calculateViewBox(offset);return React$1.createElement(XAxisContext.Provider,{value:xAxisMap},React$1.createElement(YAxisContext.Provider,{value:yAxisMap},React$1.createElement(OffsetContext.Provider,{value:offset},React$1.createElement(ViewBoxContext.Provider,{value:viewBox},React$1.createElement(ClipPathIdContext.Provider,{value:clipPathId},React$1.createElement(ChartHeightContext.Provider,{value:height},React$1.createElement(ChartWidthContext.Provider,{value:width},children)))))))},useXAxisOrThrow=function(xAxisId){var xAxisMap=reactExports.useContext(XAxisContext);null==xAxisMap&&invariant();var xAxis=xAxisMap[xAxisId];return null==xAxis&&invariant(),xAxis},useYAxisOrThrow=function(yAxisId){var yAxisMap=reactExports.useContext(YAxisContext);null==yAxisMap&&invariant();var yAxis=yAxisMap[yAxisId];return null==yAxis&&invariant(),yAxis},useChartWidth=function(){return reactExports.useContext(ChartWidthContext)},useChartHeight=function(){return reactExports.useContext(ChartHeightContext)};function _typeof$f(o2){return(_typeof$f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _createClass$9(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$a(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$6(t3,o2,e3){return o2=_getPrototypeOf$6(o2),function(self2,call){if(call&&("object"===_typeof$f(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$6()?Reflect.construct(o2,e3||[],_getPrototypeOf$6(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$6(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$6=function(){return!!t3})()}function _getPrototypeOf$6(o2){return(_getPrototypeOf$6=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$6(o2,p2){return(_setPrototypeOf$6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function ownKeys$a(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$a(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$a(Object(t3),!0).forEach(function(r3){_defineProperty$e(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$a(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$e(obj,key,value){return(key=_toPropertyKey$a(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$a(t3){var i2=function(t3,r2){if("object"!=_typeof$f(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$f(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$f(i2)?i2:i2+""}function _slicedToArray$3(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$6(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$6(o2,minLen)}(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$6(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$7.apply(this,arguments)}function ReferenceLineImpl(props){var fixedX=props.x,fixedY=props.y,segment=props.segment,xAxisId=props.xAxisId,yAxisId=props.yAxisId,shape=props.shape,className=props.className,alwaysShow=props.alwaysShow,clipPathId=reactExports.useContext(ClipPathIdContext),xAxis=useXAxisOrThrow(xAxisId),yAxis=useYAxisOrThrow(yAxisId),viewBox=reactExports.useContext(ViewBoxContext);if(!clipPathId||!viewBox)return null;warn(void 0===alwaysShow,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var endPoints=function(scales,isFixedX,isFixedY,isSegment,viewBox,position,xAxisOrientation,yAxisOrientation,props){var x2=viewBox.x,y2=viewBox.y,width=viewBox.width,height=viewBox.height;if(isFixedY){var yCoord=props.y,coord=scales.y.apply(yCoord,{position:position});if(ifOverflowMatches(props,"discard")&&!scales.y.isInRange(coord))return null;var points=[{x:x2+width,y:coord},{x:x2,y:coord}];return"left"===yAxisOrientation?points.reverse():points}if(isFixedX){var xCoord=props.x,_coord=scales.x.apply(xCoord,{position:position});if(ifOverflowMatches(props,"discard")&&!scales.x.isInRange(_coord))return null;var _points=[{x:_coord,y:y2+height},{x:_coord,y:y2}];return"top"===xAxisOrientation?_points.reverse():_points}if(isSegment){var _points2=props.segment.map(function(p2){return scales.apply(p2,{position:position})});return ifOverflowMatches(props,"discard")&&some$1(_points2,function(p2){return!scales.isInRange(p2)})?null:_points2}return null}(createLabeledScales({x:xAxis.scale,y:yAxis.scale}),isNumOrStr(fixedX),isNumOrStr(fixedY),segment&&2===segment.length,viewBox,props.position,xAxis.orientation,yAxis.orientation,props);if(!endPoints)return null;var _endPoints=_slicedToArray$3(endPoints,2),_endPoints$=_endPoints[0],x1=_endPoints$.x,y1=_endPoints$.y,_endPoints$2=_endPoints[1],x2=_endPoints$2.x,y2=_endPoints$2.y,lineProps=_objectSpread$a(_objectSpread$a({clipPath:ifOverflowMatches(props,"hidden")?"url(#".concat(clipPathId,")"):void 0},filterProps(props,!0)),{},{x1:x1,y1:y1,x2:x2,y2:y2});return React$1.createElement(Layer,{className:clsx("recharts-reference-line",className)},function(option,props){return React$1.isValidElement(option)?React$1.cloneElement(option,props):isFunction$6(option)?option(props):React$1.createElement("line",_extends$7({},props,{className:"recharts-reference-line-line"}))}(shape,lineProps),Label$3.renderCallByParent(props,function(_ref3){var x1=_ref3.x1,y1=_ref3.y1,x2=_ref3.x2,y2=_ref3.y2;return rectWithPoints({x:x1,y:y1},{x:x2,y:y2})}({x1:x1,y1:y1,x2:x2,y2:y2})))}var ReferenceLine=function(){function ReferenceLine2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ReferenceLine2),_callSuper$6(this,ReferenceLine2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$6(subClass,superClass)}(ReferenceLine2,React$1.Component),_createClass$9(ReferenceLine2,[{key:"render",value:function(){return React$1.createElement(ReferenceLineImpl,this.props)}}])}();function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$6.apply(this,arguments)}function _typeof$e(o2){return(_typeof$e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$9(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$9(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$9(Object(t3),!0).forEach(function(r3){_defineProperty$d(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$9(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _createClass$8(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$9(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$5(t3,o2,e3){return o2=_getPrototypeOf$5(o2),function(self2,call){if(call&&("object"===_typeof$e(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$5()?Reflect.construct(o2,e3||[],_getPrototypeOf$5(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$5(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$5=function(){return!!t3})()}function _getPrototypeOf$5(o2){return(_getPrototypeOf$5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$5(o2,p2){return(_setPrototypeOf$5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$d(obj,key,value){return(key=_toPropertyKey$9(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$9(t3){var i2=function(t3,r2){if("object"!=_typeof$e(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$e(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$e(i2)?i2:i2+""}_defineProperty$e(ReferenceLine,"displayName","ReferenceLine"),_defineProperty$e(ReferenceLine,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var ReferenceDot=function(){function ReferenceDot2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ReferenceDot2),_callSuper$5(this,ReferenceDot2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$5(subClass,superClass)}(ReferenceDot2,React$1.Component),_createClass$8(ReferenceDot2,[{key:"render",value:function(){var _this$props=this.props,x2=_this$props.x,y2=_this$props.y,r2=_this$props.r,alwaysShow=_this$props.alwaysShow,clipPathId=_this$props.clipPathId,isX=isNumOrStr(x2),isY=isNumOrStr(y2);if(warn(void 0===alwaysShow,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!isX||!isY)return null;var coordinate=function(props){var x2=props.x,y2=props.y,xAxis=props.xAxis,yAxis=props.yAxis,scales=createLabeledScales({x:xAxis.scale,y:yAxis.scale}),result=scales.apply({x:x2,y:y2},{bandAware:!0});return ifOverflowMatches(props,"discard")&&!scales.isInRange(result)?null:result}(this.props);if(!coordinate)return null;var cx2=coordinate.x,cy=coordinate.y,_this$props2=this.props,shape=_this$props2.shape,className=_this$props2.className,dotProps=_objectSpread$9(_objectSpread$9({clipPath:ifOverflowMatches(this.props,"hidden")?"url(#".concat(clipPathId,")"):void 0},filterProps(this.props,!0)),{},{cx:cx2,cy:cy});return React$1.createElement(Layer,{className:clsx("recharts-reference-dot",className)},ReferenceDot2.renderDot(shape,dotProps),Label$3.renderCallByParent(this.props,{x:cx2-r2,y:cy-r2,width:2*r2,height:2*r2}))}}])}();function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$5.apply(this,arguments)}function _typeof$d(o2){return(_typeof$d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$8(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$8(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$8(Object(t3),!0).forEach(function(r3){_defineProperty$c(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$8(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _createClass$7(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$8(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$4(t3,o2,e3){return o2=_getPrototypeOf$4(o2),function(self2,call){if(call&&("object"===_typeof$d(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$4()?Reflect.construct(o2,e3||[],_getPrototypeOf$4(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$4(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$4=function(){return!!t3})()}function _getPrototypeOf$4(o2){return(_getPrototypeOf$4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$4(o2,p2){return(_setPrototypeOf$4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$c(obj,key,value){return(key=_toPropertyKey$8(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$8(t3){var i2=function(t3,r2){if("object"!=_typeof$d(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$d(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$d(i2)?i2:i2+""}_defineProperty$d(ReferenceDot,"displayName","ReferenceDot"),_defineProperty$d(ReferenceDot,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),_defineProperty$d(ReferenceDot,"renderDot",function(option,props){return React$1.isValidElement(option)?React$1.cloneElement(option,props):isFunction$6(option)?option(props):React$1.createElement(Dot,_extends$6({},props,{cx:props.cx,cy:props.cy,className:"recharts-reference-dot-dot"}))});var ReferenceArea=function(){function ReferenceArea2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,ReferenceArea2),_callSuper$4(this,ReferenceArea2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$4(subClass,superClass)}(ReferenceArea2,React$1.Component),_createClass$7(ReferenceArea2,[{key:"render",value:function(){var _this$props=this.props,x1=_this$props.x1,x2=_this$props.x2,y1=_this$props.y1,y2=_this$props.y2,className=_this$props.className,alwaysShow=_this$props.alwaysShow,clipPathId=_this$props.clipPathId;warn(void 0===alwaysShow,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var hasX1=isNumOrStr(x1),hasX2=isNumOrStr(x2),hasY1=isNumOrStr(y1),hasY2=isNumOrStr(y2),shape=this.props.shape;if(!(hasX1||hasX2||hasY1||hasY2||shape))return null;var rect=function(hasX1,hasX2,hasY1,hasY2,props){var xValue1=props.x1,xValue2=props.x2,yValue1=props.y1,yValue2=props.y2,xAxis=props.xAxis,yAxis=props.yAxis;if(!xAxis||!yAxis)return null;var scales=createLabeledScales({x:xAxis.scale,y:yAxis.scale}),p1={x:hasX1?scales.x.apply(xValue1,{position:"start"}):scales.x.rangeMin,y:hasY1?scales.y.apply(yValue1,{position:"start"}):scales.y.rangeMin},p2={x:hasX2?scales.x.apply(xValue2,{position:"end"}):scales.x.rangeMax,y:hasY2?scales.y.apply(yValue2,{position:"end"}):scales.y.rangeMax};return!ifOverflowMatches(props,"discard")||scales.isInRange(p1)&&scales.isInRange(p2)?rectWithPoints(p1,p2):null}(hasX1,hasX2,hasY1,hasY2,this.props);if(!rect&&!shape)return null;var clipPath=ifOverflowMatches(this.props,"hidden")?"url(#".concat(clipPathId,")"):void 0;return React$1.createElement(Layer,{className:clsx("recharts-reference-area",className)},ReferenceArea2.renderRect(shape,_objectSpread$8(_objectSpread$8({clipPath:clipPath},filterProps(this.props,!0)),rect)),Label$3.renderCallByParent(this.props,rect))}}])}();function getEveryNthWithCondition(array2,n2,isValid2){if(n2<1)return[];if(1===n2&&void 0===isValid2)return array2;for(var result=[],i2=0;i2<array2.length;i2+=n2)result.push(array2[i2]);return result}function getAngledTickWidth(contentSize,unitSize,angle){return function(_ref6){var width=_ref6.width,height=_ref6.height,normalizedAngle=function(angle){return(angle%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),angleRadians=normalizedAngle*Math.PI/180,angleThreshold=Math.atan(height/width),angledWidth=angleRadians>angleThreshold&&angleRadians<Math.PI-angleThreshold?height/Math.sin(angleRadians):width/Math.cos(angleRadians);return Math.abs(angledWidth)}({width:contentSize.width+unitSize.width,height:contentSize.height+unitSize.height},angle)}function isVisible(sign2,tickPosition,getSize,start,end){if(sign2*tickPosition<sign2*start||sign2*tickPosition>sign2*end)return!1;var size=getSize();return sign2*(tickPosition-sign2*size/2-start)>=0&&sign2*(tickPosition+sign2*size/2-end)<=0}function _typeof$c(o2){return(_typeof$c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$7(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$7(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$7(Object(t3),!0).forEach(function(r3){_defineProperty$b(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$7(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$b(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$c(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$c(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$c(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getTicks(props,fontSize,letterSpacing){var tick=props.tick,ticks2=props.ticks,viewBox=props.viewBox,minTickGap=props.minTickGap,orientation=props.orientation,interval=props.interval,tickFormatter=props.tickFormatter,unit2=props.unit,angle=props.angle;if(!ticks2||!ticks2.length||!tick)return[];if(isNumber(interval)||Global_isSsr)return function(ticks2,interval){return getEveryNthWithCondition(ticks2,interval+1)}(ticks2,"number"==typeof interval&&isNumber(interval)?interval:0);var candidates=[],sizeKey="top"===orientation||"bottom"===orientation?"width":"height",unitSize=unit2&&"width"===sizeKey?getStringSize(unit2,{fontSize:fontSize,letterSpacing:letterSpacing}):{width:0,height:0},getTickSize=function(content,index){var value=isFunction$6(tickFormatter)?tickFormatter(content.value,index):content.value;return"width"===sizeKey?getAngledTickWidth(getStringSize(value,{fontSize:fontSize,letterSpacing:letterSpacing}),unitSize,angle):getStringSize(value,{fontSize:fontSize,letterSpacing:letterSpacing})[sizeKey]},sign2=ticks2.length>=2?mathSign(ticks2[1].coordinate-ticks2[0].coordinate):1,boundaries=function(viewBox,sign2,sizeKey){var isWidth="width"===sizeKey,x2=viewBox.x,y2=viewBox.y,width=viewBox.width,height=viewBox.height;return 1===sign2?{start:isWidth?x2:y2,end:isWidth?x2+width:y2+height}:{start:isWidth?x2+width:y2+height,end:isWidth?x2:y2}}(viewBox,sign2,sizeKey);return"equidistantPreserveStart"===interval?function(sign2,boundaries,getTickSize,ticks2,minTickGap){for(var _ret,result=(ticks2||[]).slice(),initialStart=boundaries.start,end=boundaries.end,index=0,stepsize=1,start=initialStart,_loop=function(){var entry=null==ticks2?void 0:ticks2[index];if(void 0===entry)return{v:getEveryNthWithCondition(ticks2,stepsize)};var size,i2=index,getSize=function(){return void 0===size&&(size=getTickSize(entry,i2)),size},tickCoord=entry.coordinate,isShow=0===index||isVisible(sign2,tickCoord,getSize,start,end);isShow||(index=0,start=initialStart,stepsize+=1),isShow&&(start=tickCoord+sign2*(getSize()/2+minTickGap),index+=stepsize)};stepsize<=result.length;)if(_ret=_loop())return _ret.v;return[]}(sign2,boundaries,getTickSize,ticks2,minTickGap):(candidates="preserveStart"===interval||"preserveStartEnd"===interval?function(sign2,boundaries,getTickSize,ticks2,minTickGap,preserveEnd){var result=(ticks2||[]).slice(),len=result.length,start=boundaries.start,end=boundaries.end;if(preserveEnd){var tail=ticks2[len-1],tailSize=getTickSize(tail,len-1),tailGap=sign2*(tail.coordinate+sign2*tailSize/2-end);result[len-1]=tail=_objectSpread$7(_objectSpread$7({},tail),{},{tickCoord:tailGap>0?tail.coordinate-tailGap*sign2:tail.coordinate}),isVisible(sign2,tail.tickCoord,function(){return tailSize},start,end)&&(end=tail.tickCoord-sign2*(tailSize/2+minTickGap),result[len-1]=_objectSpread$7(_objectSpread$7({},tail),{},{isShow:!0}))}for(var count2=preserveEnd?len-1:len,_loop2=function(i3){var size,entry=result[i3],getSize=function(){return void 0===size&&(size=getTickSize(entry,i3)),size};if(0===i3){var gap=sign2*(entry.coordinate-sign2*getSize()/2-start);result[i3]=entry=_objectSpread$7(_objectSpread$7({},entry),{},{tickCoord:gap<0?entry.coordinate-gap*sign2:entry.coordinate})}else result[i3]=entry=_objectSpread$7(_objectSpread$7({},entry),{},{tickCoord:entry.coordinate});isVisible(sign2,entry.tickCoord,getSize,start,end)&&(start=entry.tickCoord+sign2*(getSize()/2+minTickGap),result[i3]=_objectSpread$7(_objectSpread$7({},entry),{},{isShow:!0}))},i2=0;i2<count2;i2++)_loop2(i2);return result}(sign2,boundaries,getTickSize,ticks2,minTickGap,"preserveStartEnd"===interval):function(sign2,boundaries,getTickSize,ticks2,minTickGap){for(var result=(ticks2||[]).slice(),len=result.length,start=boundaries.start,end=boundaries.end,_loop=function(i3){var size,entry=result[i3],getSize=function(){return void 0===size&&(size=getTickSize(entry,i3)),size};if(i3===len-1){var gap=sign2*(entry.coordinate+sign2*getSize()/2-end);result[i3]=entry=_objectSpread$7(_objectSpread$7({},entry),{},{tickCoord:gap>0?entry.coordinate-gap*sign2:entry.coordinate})}else result[i3]=entry=_objectSpread$7(_objectSpread$7({},entry),{},{tickCoord:entry.coordinate});isVisible(sign2,entry.tickCoord,getSize,start,end)&&(end=entry.tickCoord-sign2*(getSize()/2+minTickGap),result[i3]=_objectSpread$7(_objectSpread$7({},entry),{},{isShow:!0}))},i2=len-1;i2>=0;i2--)_loop(i2);return result}(sign2,boundaries,getTickSize,ticks2,minTickGap),candidates.filter(function(entry){return entry.isShow}))}_defineProperty$c(ReferenceArea,"displayName","ReferenceArea"),_defineProperty$c(ReferenceArea,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),_defineProperty$c(ReferenceArea,"renderRect",function(option,props){return React$1.isValidElement(option)?React$1.cloneElement(option,props):isFunction$6(option)?option(props):React$1.createElement(Rectangle,_extends$5({},props,{className:"recharts-reference-area-rect"}))});var _excluded$2=["viewBox"],_excluded2$2=["viewBox"],_excluded3=["ticks"];function _typeof$b(o2){return(_typeof$b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$4.apply(this,arguments)}function ownKeys$6(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$6(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$6(Object(t3),!0).forEach(function(r3){_defineProperty$a(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$6(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _objectWithoutProperties$2(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _defineProperties$5(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$6(descriptor.key),descriptor)}}function _callSuper$3(t3,o2,e3){return o2=_getPrototypeOf$3(o2),function(self2,call){if(call&&("object"===_typeof$b(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$3()?Reflect.construct(o2,e3||[],_getPrototypeOf$3(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$3(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$3=function(){return!!t3})()}function _getPrototypeOf$3(o2){return(_getPrototypeOf$3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$3(o2,p2){return(_setPrototypeOf$3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$a(obj,key,value){return(key=_toPropertyKey$6(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$6(t3){var i2=function(t3,r2){if("object"!=_typeof$b(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$b(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$b(i2)?i2:i2+""}var CartesianAxis=function(){function CartesianAxis2(props){var _this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CartesianAxis2),(_this=_callSuper$3(this,CartesianAxis2,[props])).state={fontSize:"",letterSpacing:""},_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$3(subClass,superClass)}(CartesianAxis2,reactExports.Component),Constructor=CartesianAxis2,staticProps=[{key:"renderTickItem",value:function(option,props,value){var combinedClassName=clsx(props.className,"recharts-cartesian-axis-tick-value");return React$1.isValidElement(option)?React$1.cloneElement(option,_objectSpread$6(_objectSpread$6({},props),{},{className:combinedClassName})):isFunction$6(option)?option(_objectSpread$6(_objectSpread$6({},props),{},{className:combinedClassName})):React$1.createElement(Text,_extends$4({},props,{className:"recharts-cartesian-axis-tick-value"}),value)}}],(protoProps=[{key:"shouldComponentUpdate",value:function(_ref,nextState){var viewBox=_ref.viewBox,restProps=_objectWithoutProperties$2(_ref,_excluded$2),_this$props=this.props,viewBoxOld=_this$props.viewBox,restPropsOld=_objectWithoutProperties$2(_this$props,_excluded2$2);return!shallowEqual(viewBox,viewBoxOld)||!shallowEqual(restProps,restPropsOld)||!shallowEqual(nextState,this.state)}},{key:"componentDidMount",value:function(){var htmlLayer=this.layerReference;if(htmlLayer){var tick=htmlLayer.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];tick&&this.setState({fontSize:window.getComputedStyle(tick).fontSize,letterSpacing:window.getComputedStyle(tick).letterSpacing})}}},{key:"getTickLineCoord",value:function(data){var x1,x22,y1,y22,tx,ty,_this$props2=this.props,x2=_this$props2.x,y2=_this$props2.y,width=_this$props2.width,height=_this$props2.height,orientation=_this$props2.orientation,tickSize=_this$props2.tickSize,mirror=_this$props2.mirror,tickMargin=_this$props2.tickMargin,sign2=mirror?-1:1,finalTickSize=data.tickSize||tickSize,tickCoord=isNumber(data.tickCoord)?data.tickCoord:data.coordinate;switch(orientation){case"top":x1=x22=data.coordinate,ty=(y1=(y22=y2+ +!mirror*height)-sign2*finalTickSize)-sign2*tickMargin,tx=tickCoord;break;case"left":y1=y22=data.coordinate,tx=(x1=(x22=x2+ +!mirror*width)-sign2*finalTickSize)-sign2*tickMargin,ty=tickCoord;break;case"right":y1=y22=data.coordinate,tx=(x1=(x22=x2+ +mirror*width)+sign2*finalTickSize)+sign2*tickMargin,ty=tickCoord;break;default:x1=x22=data.coordinate,ty=(y1=(y22=y2+ +mirror*height)+sign2*finalTickSize)+sign2*tickMargin,tx=tickCoord}return{line:{x1:x1,y1:y1,x2:x22,y2:y22},tick:{x:tx,y:ty}}}},{key:"getTickTextAnchor",value:function(){var textAnchor,_this$props3=this.props,orientation=_this$props3.orientation,mirror=_this$props3.mirror;switch(orientation){case"left":textAnchor=mirror?"start":"end";break;case"right":textAnchor=mirror?"end":"start";break;default:textAnchor="middle"}return textAnchor}},{key:"getTickVerticalAnchor",value:function(){var _this$props4=this.props,orientation=_this$props4.orientation,mirror=_this$props4.mirror,verticalAnchor="end";switch(orientation){case"left":case"right":verticalAnchor="middle";break;case"top":verticalAnchor=mirror?"start":"end";break;default:verticalAnchor=mirror?"end":"start"}return verticalAnchor}},{key:"renderAxisLine",value:function(){var _this$props5=this.props,x2=_this$props5.x,y2=_this$props5.y,width=_this$props5.width,height=_this$props5.height,orientation=_this$props5.orientation,mirror=_this$props5.mirror,axisLine=_this$props5.axisLine,props=_objectSpread$6(_objectSpread$6(_objectSpread$6({},filterProps(this.props,!1)),filterProps(axisLine,!1)),{},{fill:"none"});if("top"===orientation||"bottom"===orientation){var needHeight=+("top"===orientation&&!mirror||"bottom"===orientation&&mirror);props=_objectSpread$6(_objectSpread$6({},props),{},{x1:x2,y1:y2+needHeight*height,x2:x2+width,y2:y2+needHeight*height})}else{var needWidth=+("left"===orientation&&!mirror||"right"===orientation&&mirror);props=_objectSpread$6(_objectSpread$6({},props),{},{x1:x2+needWidth*width,y1:y2,x2:x2+needWidth*width,y2:y2+height})}return React$1.createElement("line",_extends$4({},props,{className:clsx("recharts-cartesian-axis-line",get$3(axisLine,"className"))}))}},{key:"renderTicks",value:function(ticks2,fontSize,letterSpacing){var _this2=this,_this$props6=this.props,tickLine=_this$props6.tickLine,stroke=_this$props6.stroke,tick=_this$props6.tick,tickFormatter=_this$props6.tickFormatter,unit2=_this$props6.unit,finalTicks=getTicks(_objectSpread$6(_objectSpread$6({},this.props),{},{ticks:ticks2}),fontSize,letterSpacing),textAnchor=this.getTickTextAnchor(),verticalAnchor=this.getTickVerticalAnchor(),axisProps=filterProps(this.props,!1),customTickProps=filterProps(tick,!1),tickLineProps=_objectSpread$6(_objectSpread$6({},axisProps),{},{fill:"none"},filterProps(tickLine,!1)),items=finalTicks.map(function(entry,i2){var _this2$getTickLineCoo=_this2.getTickLineCoord(entry),lineCoord=_this2$getTickLineCoo.line,tickCoord=_this2$getTickLineCoo.tick,tickProps=_objectSpread$6(_objectSpread$6(_objectSpread$6(_objectSpread$6({textAnchor:textAnchor,verticalAnchor:verticalAnchor},axisProps),{},{stroke:"none",fill:stroke},customTickProps),tickCoord),{},{index:i2,payload:entry,visibleTicksCount:finalTicks.length,tickFormatter:tickFormatter});return React$1.createElement(Layer,_extends$4({className:"recharts-cartesian-axis-tick",key:"tick-".concat(entry.value,"-").concat(entry.coordinate,"-").concat(entry.tickCoord)},adaptEventsOfChild(_this2.props,entry,i2)),tickLine&&React$1.createElement("line",_extends$4({},tickLineProps,lineCoord,{className:clsx("recharts-cartesian-axis-tick-line",get$3(tickLine,"className"))})),tick&&CartesianAxis2.renderTickItem(tick,tickProps,"".concat(isFunction$6(tickFormatter)?tickFormatter(entry.value,i2):entry.value).concat(unit2||"")))});return React$1.createElement("g",{className:"recharts-cartesian-axis-ticks"},items)}},{key:"render",value:function(){var _this3=this,_this$props7=this.props,axisLine=_this$props7.axisLine,width=_this$props7.width,height=_this$props7.height,ticksGenerator=_this$props7.ticksGenerator,className=_this$props7.className;if(_this$props7.hide)return null;var _this$props8=this.props,ticks2=_this$props8.ticks,noTicksProps=_objectWithoutProperties$2(_this$props8,_excluded3),finalTicks=ticks2;return isFunction$6(ticksGenerator)&&(finalTicks=ticks2&&ticks2.length>0?ticksGenerator(this.props):ticksGenerator(noTicksProps)),width<=0||height<=0||!finalTicks||!finalTicks.length?null:React$1.createElement(Layer,{className:clsx("recharts-cartesian-axis",className),ref:function(_ref2){_this3.layerReference=_ref2}},axisLine&&this.renderAxisLine(),this.renderTicks(finalTicks,this.state.fontSize,this.state.letterSpacing),Label$3.renderCallByParent(this.props))}}])&&_defineProperties$5(Constructor.prototype,protoProps),staticProps&&_defineProperties$5(Constructor,staticProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor;var Constructor,protoProps,staticProps}();_defineProperty$a(CartesianAxis,"displayName","CartesianAxis"),_defineProperty$a(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$1=["x1","y1","x2","y2","key"],_excluded2$1=["offset"];function _typeof$a(o2){return(_typeof$a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$5(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$5(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$5(Object(t3),!0).forEach(function(r3){_defineProperty$9(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$5(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$9(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$a(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$a(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$a(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$3.apply(this,arguments)}function _objectWithoutProperties$1(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Background=function(props){var fill=props.fill;if(!fill||"none"===fill)return null;var fillOpacity=props.fillOpacity,x2=props.x,y2=props.y,width=props.width,height=props.height,ry=props.ry;return React$1.createElement("rect",{x:x2,y:y2,ry:ry,width:width,height:height,stroke:"none",fill:fill,fillOpacity:fillOpacity,className:"recharts-cartesian-grid-bg"})};function renderLineItem(option,props){var lineItem;if(React$1.isValidElement(option))lineItem=React$1.cloneElement(option,props);else if(isFunction$6(option))lineItem=option(props);else{var x1=props.x1,y1=props.y1,x2=props.x2,y2=props.y2,key=props.key,others=_objectWithoutProperties$1(props,_excluded$1),_filterProps=filterProps(others,!1);_filterProps.offset;var restOfFilteredProps=_objectWithoutProperties$1(_filterProps,_excluded2$1);lineItem=React$1.createElement("line",_extends$3({},restOfFilteredProps,{x1:x1,y1:y1,x2:x2,y2:y2,fill:"none",key:key}))}return lineItem}function HorizontalGridLines(props){var x2=props.x,width=props.width,_props$horizontal=props.horizontal,horizontal=void 0===_props$horizontal||_props$horizontal,horizontalPoints=props.horizontalPoints;if(!horizontal||!horizontalPoints||!horizontalPoints.length)return null;var items=horizontalPoints.map(function(entry,i2){var lineItemProps=_objectSpread$5(_objectSpread$5({},props),{},{x1:x2,y1:entry,x2:x2+width,y2:entry,key:"line-".concat(i2),index:i2});return renderLineItem(horizontal,lineItemProps)});return React$1.createElement("g",{className:"recharts-cartesian-grid-horizontal"},items)}function VerticalGridLines(props){var y2=props.y,height=props.height,_props$vertical=props.vertical,vertical=void 0===_props$vertical||_props$vertical,verticalPoints=props.verticalPoints;if(!vertical||!verticalPoints||!verticalPoints.length)return null;var items=verticalPoints.map(function(entry,i2){var lineItemProps=_objectSpread$5(_objectSpread$5({},props),{},{x1:entry,y1:y2,x2:entry,y2:y2+height,key:"line-".concat(i2),index:i2});return renderLineItem(vertical,lineItemProps)});return React$1.createElement("g",{className:"recharts-cartesian-grid-vertical"},items)}function HorizontalStripes(props){var horizontalFill=props.horizontalFill,fillOpacity=props.fillOpacity,x2=props.x,y2=props.y,width=props.width,height=props.height,horizontalPoints=props.horizontalPoints,_props$horizontal2=props.horizontal;if(!(void 0===_props$horizontal2||_props$horizontal2)||!horizontalFill||!horizontalFill.length)return null;var roundedSortedHorizontalPoints=horizontalPoints.map(function(e3){return Math.round(e3+y2-y2)}).sort(function(a2,b2){return a2-b2});y2!==roundedSortedHorizontalPoints[0]&&roundedSortedHorizontalPoints.unshift(0);var items=roundedSortedHorizontalPoints.map(function(entry,i2){var lineHeight=!roundedSortedHorizontalPoints[i2+1]?y2+height-entry:roundedSortedHorizontalPoints[i2+1]-entry;if(lineHeight<=0)return null;var colorIndex=i2%horizontalFill.length;return React$1.createElement("rect",{key:"react-".concat(i2),y:entry,x:x2,height:lineHeight,width:width,stroke:"none",fill:horizontalFill[colorIndex],fillOpacity:fillOpacity,className:"recharts-cartesian-grid-bg"})});return React$1.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},items)}function VerticalStripes(props){var _props$vertical2=props.vertical,vertical=void 0===_props$vertical2||_props$vertical2,verticalFill=props.verticalFill,fillOpacity=props.fillOpacity,x2=props.x,y2=props.y,width=props.width,height=props.height,verticalPoints=props.verticalPoints;if(!vertical||!verticalFill||!verticalFill.length)return null;var roundedSortedVerticalPoints=verticalPoints.map(function(e3){return Math.round(e3+x2-x2)}).sort(function(a2,b2){return a2-b2});x2!==roundedSortedVerticalPoints[0]&&roundedSortedVerticalPoints.unshift(0);var items=roundedSortedVerticalPoints.map(function(entry,i2){var lineWidth=!roundedSortedVerticalPoints[i2+1]?x2+width-entry:roundedSortedVerticalPoints[i2+1]-entry;if(lineWidth<=0)return null;var colorIndex=i2%verticalFill.length;return React$1.createElement("rect",{key:"react-".concat(i2),x:entry,y:y2,width:lineWidth,height:height,stroke:"none",fill:verticalFill[colorIndex],fillOpacity:fillOpacity,className:"recharts-cartesian-grid-bg"})});return React$1.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},items)}var defaultVerticalCoordinatesGenerator=function(_ref,syncWithTicks){var xAxis=_ref.xAxis,width=_ref.width,height=_ref.height,offset=_ref.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$5(_objectSpread$5(_objectSpread$5({},CartesianAxis.defaultProps),xAxis),{},{ticks:getTicksOfAxis(xAxis,!0),viewBox:{x:0,y:0,width:width,height:height}})),offset.left,offset.left+offset.width,syncWithTicks)},defaultHorizontalCoordinatesGenerator=function(_ref2,syncWithTicks){var yAxis=_ref2.yAxis,width=_ref2.width,height=_ref2.height,offset=_ref2.offset;return getCoordinatesOfGrid(getTicks(_objectSpread$5(_objectSpread$5(_objectSpread$5({},CartesianAxis.defaultProps),yAxis),{},{ticks:getTicksOfAxis(yAxis,!0),viewBox:{x:0,y:0,width:width,height:height}})),offset.top,offset.top+offset.height,syncWithTicks)},defaultProps={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function CartesianGrid(props){var _props$stroke,_props$fill,_props$horizontal3,_props$horizontalFill,_props$vertical3,_props$verticalFill,xAxisMap,yAxisMap,chartWidth=useChartWidth(),chartHeight=useChartHeight(),offset=reactExports.useContext(OffsetContext),propsIncludingDefaults=_objectSpread$5(_objectSpread$5({},props),{},{stroke:null!==(_props$stroke=props.stroke)&&void 0!==_props$stroke?_props$stroke:defaultProps.stroke,fill:null!==(_props$fill=props.fill)&&void 0!==_props$fill?_props$fill:defaultProps.fill,horizontal:null!==(_props$horizontal3=props.horizontal)&&void 0!==_props$horizontal3?_props$horizontal3:defaultProps.horizontal,horizontalFill:null!==(_props$horizontalFill=props.horizontalFill)&&void 0!==_props$horizontalFill?_props$horizontalFill:defaultProps.horizontalFill,vertical:null!==(_props$vertical3=props.vertical)&&void 0!==_props$vertical3?_props$vertical3:defaultProps.vertical,verticalFill:null!==(_props$verticalFill=props.verticalFill)&&void 0!==_props$verticalFill?_props$verticalFill:defaultProps.verticalFill,x:isNumber(props.x)?props.x:offset.left,y:isNumber(props.y)?props.y:offset.top,width:isNumber(props.width)?props.width:offset.width,height:isNumber(props.height)?props.height:offset.height}),x2=propsIncludingDefaults.x,y2=propsIncludingDefaults.y,width=propsIncludingDefaults.width,height=propsIncludingDefaults.height,syncWithTicks=propsIncludingDefaults.syncWithTicks,horizontalValues=propsIncludingDefaults.horizontalValues,verticalValues=propsIncludingDefaults.verticalValues,xAxis=(xAxisMap=reactExports.useContext(XAxisContext),getAnyElementOfObject(xAxisMap)),yAxis=(yAxisMap=reactExports.useContext(YAxisContext),find$1(yAxisMap,function(axis){return every$1(axis.domain,Number.isFinite)})||getAnyElementOfObject(yAxisMap));if(!isNumber(width)||width<=0||!isNumber(height)||height<=0||!isNumber(x2)||x2!==+x2||!isNumber(y2)||y2!==+y2)return null;var verticalCoordinatesGenerator=propsIncludingDefaults.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,horizontalCoordinatesGenerator=propsIncludingDefaults.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,horizontalPoints=propsIncludingDefaults.horizontalPoints,verticalPoints=propsIncludingDefaults.verticalPoints;if((!horizontalPoints||!horizontalPoints.length)&&isFunction$6(horizontalCoordinatesGenerator)){var isHorizontalValues=horizontalValues&&horizontalValues.length,generatorResult=horizontalCoordinatesGenerator({yAxis:yAxis?_objectSpread$5(_objectSpread$5({},yAxis),{},{ticks:isHorizontalValues?horizontalValues:yAxis.ticks}):void 0,width:chartWidth,height:chartHeight,offset:offset},!!isHorizontalValues||syncWithTicks);warn(Array.isArray(generatorResult),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$a(generatorResult),"]")),Array.isArray(generatorResult)&&(horizontalPoints=generatorResult)}if((!verticalPoints||!verticalPoints.length)&&isFunction$6(verticalCoordinatesGenerator)){var isVerticalValues=verticalValues&&verticalValues.length,_generatorResult=verticalCoordinatesGenerator({xAxis:xAxis?_objectSpread$5(_objectSpread$5({},xAxis),{},{ticks:isVerticalValues?verticalValues:xAxis.ticks}):void 0,width:chartWidth,height:chartHeight,offset:offset},!!isVerticalValues||syncWithTicks);warn(Array.isArray(_generatorResult),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_typeof$a(_generatorResult),"]")),Array.isArray(_generatorResult)&&(verticalPoints=_generatorResult)}return React$1.createElement("g",{className:"recharts-cartesian-grid"},React$1.createElement(Background,{fill:propsIncludingDefaults.fill,fillOpacity:propsIncludingDefaults.fillOpacity,x:propsIncludingDefaults.x,y:propsIncludingDefaults.y,width:propsIncludingDefaults.width,height:propsIncludingDefaults.height,ry:propsIncludingDefaults.ry}),React$1.createElement(HorizontalGridLines,_extends$3({},propsIncludingDefaults,{offset:offset,horizontalPoints:horizontalPoints,xAxis:xAxis,yAxis:yAxis})),React$1.createElement(VerticalGridLines,_extends$3({},propsIncludingDefaults,{offset:offset,verticalPoints:verticalPoints,xAxis:xAxis,yAxis:yAxis})),React$1.createElement(HorizontalStripes,_extends$3({},propsIncludingDefaults,{horizontalPoints:horizontalPoints})),React$1.createElement(VerticalStripes,_extends$3({},propsIncludingDefaults,{verticalPoints:verticalPoints})))}function _typeof$9(o2){return(_typeof$9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _createClass$5(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$4(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$2(t3,o2,e3){return o2=_getPrototypeOf$2(o2),function(self2,call){if(call&&("object"===_typeof$9(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$2()?Reflect.construct(o2,e3||[],_getPrototypeOf$2(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$2(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$2=function(){return!!t3})()}function _getPrototypeOf$2(o2){return(_getPrototypeOf$2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$2(o2,p2){return(_setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$8(obj,key,value){return(key=_toPropertyKey$4(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$4(t3){var i2=function(t3,r2){if("object"!=_typeof$9(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$9(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$9(i2)?i2:i2+""}function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$2.apply(this,arguments)}function XAxisImpl(_ref){var xAxisId=_ref.xAxisId,width=useChartWidth(),height=useChartHeight(),axisOptions=useXAxisOrThrow(xAxisId);return null==axisOptions?null:reactExports.createElement(CartesianAxis,_extends$2({},axisOptions,{className:clsx("recharts-".concat(axisOptions.axisType," ").concat(axisOptions.axisType),axisOptions.className),viewBox:{x:0,y:0,width:width,height:height},ticksGenerator:function(axis){return getTicksOfAxis(axis,!0)}}))}CartesianGrid.displayName="CartesianGrid";var XAxis=function(){function XAxis2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,XAxis2),_callSuper$2(this,XAxis2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$2(subClass,superClass)}(XAxis2,reactExports.Component),_createClass$5(XAxis2,[{key:"render",value:function(){return reactExports.createElement(XAxisImpl,this.props)}}])}();function _typeof$8(o2){return(_typeof$8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _createClass$4(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$3(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper$1(t3,o2,e3){return o2=_getPrototypeOf$1(o2),function(self2,call){if(call&&("object"===_typeof$8(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct$1()?Reflect.construct(o2,e3||[],_getPrototypeOf$1(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct$1(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t4){}return(_isNativeReflectConstruct$1=function(){return!!t3})()}function _getPrototypeOf$1(o2){return(_getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o3){return o3.__proto__||Object.getPrototypeOf(o3)})(o2)}function _setPrototypeOf$1(o2,p2){return(_setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o3,p3){return o3.__proto__=p3,o3})(o2,p2)}function _defineProperty$7(obj,key,value){return(key=_toPropertyKey$3(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$3(t3){var i2=function(t3,r2){if("object"!=_typeof$8(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$8(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$8(i2)?i2:i2+""}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends$1.apply(this,arguments)}_defineProperty$8(XAxis,"displayName","XAxis"),_defineProperty$8(XAxis,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var YAxisImpl=function(_ref){var yAxisId=_ref.yAxisId,width=useChartWidth(),height=useChartHeight(),axisOptions=useYAxisOrThrow(yAxisId);return null==axisOptions?null:reactExports.createElement(CartesianAxis,_extends$1({},axisOptions,{className:clsx("recharts-".concat(axisOptions.axisType," ").concat(axisOptions.axisType),axisOptions.className),viewBox:{x:0,y:0,width:width,height:height},ticksGenerator:function(axis){return getTicksOfAxis(axis,!0)}}))},YAxis=function(){function YAxis2(){return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,YAxis2),_callSuper$1(this,YAxis2,arguments)}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf$1(subClass,superClass)}(YAxis2,reactExports.Component),_createClass$4(YAxis2,[{key:"render",value:function(){return reactExports.createElement(YAxisImpl,this.props)}}])}();function _toConsumableArray$3(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$5(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||function(o2,minLen){if(!o2)return;if("string"==typeof o2)return _arrayLikeToArray$5(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);"Object"===n2&&o2.constructor&&(n2=o2.constructor.name);if("Map"===n2||"Set"===n2)return Array.from(o2);if("Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2))return _arrayLikeToArray$5(o2,minLen)}(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray$5(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}_defineProperty$7(YAxis,"displayName","YAxis"),_defineProperty$7(YAxis,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var detectReferenceElementsDomain=function(children,domain,axisId,axisType,specifiedTicks){var lines=findAllByType(children,ReferenceLine),dots=findAllByType(children,ReferenceDot),elements=[].concat(_toConsumableArray$3(lines),_toConsumableArray$3(dots)),areas=findAllByType(children,ReferenceArea),idKey="".concat(axisType,"Id"),valueKey=axisType[0],finalDomain=domain;if(elements.length&&(finalDomain=elements.reduce(function(result,el){if(el.props[idKey]===axisId&&ifOverflowMatches(el.props,"extendDomain")&&isNumber(el.props[valueKey])){var value=el.props[valueKey];return[Math.min(result[0],value),Math.max(result[1],value)]}return result},finalDomain)),areas.length){var key1="".concat(valueKey,"1"),key2="".concat(valueKey,"2");finalDomain=areas.reduce(function(result,el){if(el.props[idKey]===axisId&&ifOverflowMatches(el.props,"extendDomain")&&isNumber(el.props[key1])&&isNumber(el.props[key2])){var value1=el.props[key1],value2=el.props[key2];return[Math.min(result[0],value1,value2),Math.max(result[1],value1,value2)]}return result},finalDomain)}return specifiedTicks&&specifiedTicks.length&&(finalDomain=specifiedTicks.reduce(function(result,tick){return isNumber(tick)?[Math.min(result[0],tick),Math.max(result[1],tick)]:result},finalDomain)),finalDomain},eventemitter3={exports:{}};!function(module){var has=Object.prototype.hasOwnProperty,prefix2="~";function Events(){}function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function addListener(emitter,event,fn,context,once){if("function"!=typeof fn)throw new TypeError("The listener must be a function");var listener=new EE(fn,context||emitter,once),evt=prefix2?prefix2+event:event;return emitter._events[evt]?emitter._events[evt].fn?emitter._events[evt]=[emitter._events[evt],listener]:emitter._events[evt].push(listener):(emitter._events[evt]=listener,emitter._eventsCount++),emitter}function clearEvent(emitter,evt){0===--emitter._eventsCount?emitter._events=new Events:delete emitter._events[evt]}function EventEmitter2(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(prefix2=!1)),EventEmitter2.prototype.eventNames=function(){var events,name,names=[];if(0===this._eventsCount)return names;for(name in events=this._events)has.call(events,name)&&names.push(prefix2?name.slice(1):name);return Object.getOwnPropertySymbols?names.concat(Object.getOwnPropertySymbols(events)):names},EventEmitter2.prototype.listeners=function(event){var evt=prefix2?prefix2+event:event,handlers=this._events[evt];if(!handlers)return[];if(handlers.fn)return[handlers.fn];for(var i2=0,l2=handlers.length,ee2=new Array(l2);i2<l2;i2++)ee2[i2]=handlers[i2].fn;return ee2},EventEmitter2.prototype.listenerCount=function(event){var evt=prefix2?prefix2+event:event,listeners2=this._events[evt];return listeners2?listeners2.fn?1:listeners2.length:0},EventEmitter2.prototype.emit=function(event,a1,a2,a3,a4,a5){var evt=prefix2?prefix2+event:event;if(!this._events[evt])return!1;var args,i2,listeners2=this._events[evt],len=arguments.length;if(listeners2.fn){switch(listeners2.once&&this.removeListener(event,listeners2.fn,void 0,!0),len){case 1:return listeners2.fn.call(listeners2.context),!0;case 2:return listeners2.fn.call(listeners2.context,a1),!0;case 3:return listeners2.fn.call(listeners2.context,a1,a2),!0;case 4:return listeners2.fn.call(listeners2.context,a1,a2,a3),!0;case 5:return listeners2.fn.call(listeners2.context,a1,a2,a3,a4),!0;case 6:return listeners2.fn.call(listeners2.context,a1,a2,a3,a4,a5),!0}for(i2=1,args=new Array(len-1);i2<len;i2++)args[i2-1]=arguments[i2];listeners2.fn.apply(listeners2.context,args)}else{var j2,length=listeners2.length;for(i2=0;i2<length;i2++)switch(listeners2[i2].once&&this.removeListener(event,listeners2[i2].fn,void 0,!0),len){case 1:listeners2[i2].fn.call(listeners2[i2].context);break;case 2:listeners2[i2].fn.call(listeners2[i2].context,a1);break;case 3:listeners2[i2].fn.call(listeners2[i2].context,a1,a2);break;case 4:listeners2[i2].fn.call(listeners2[i2].context,a1,a2,a3);break;default:if(!args)for(j2=1,args=new Array(len-1);j2<len;j2++)args[j2-1]=arguments[j2];listeners2[i2].fn.apply(listeners2[i2].context,args)}}return!0},EventEmitter2.prototype.on=function(event,fn,context){return addListener(this,event,fn,context,!1)},EventEmitter2.prototype.once=function(event,fn,context){return addListener(this,event,fn,context,!0)},EventEmitter2.prototype.removeListener=function(event,fn,context,once){var evt=prefix2?prefix2+event:event;if(!this._events[evt])return this;if(!fn)return clearEvent(this,evt),this;var listeners2=this._events[evt];if(listeners2.fn)listeners2.fn!==fn||once&&!listeners2.once||context&&listeners2.context!==context||clearEvent(this,evt);else{for(var i2=0,events=[],length=listeners2.length;i2<length;i2++)(listeners2[i2].fn!==fn||once&&!listeners2[i2].once||context&&listeners2[i2].context!==context)&&events.push(listeners2[i2]);events.length?this._events[evt]=1===events.length?events[0]:events:clearEvent(this,evt)}return this},EventEmitter2.prototype.removeAllListeners=function(event){var evt;return event?(evt=prefix2?prefix2+event:event,this._events[evt]&&clearEvent(this,evt)):(this._events=new Events,this._eventsCount=0),this},EventEmitter2.prototype.off=EventEmitter2.prototype.removeListener,EventEmitter2.prototype.addListener=EventEmitter2.prototype.on,EventEmitter2.prefixed=prefix2,EventEmitter2.EventEmitter=EventEmitter2,module.exports=EventEmitter2}(eventemitter3);var eventCenter=new(getDefaultExportFromCjs(eventemitter3.exports)),SYNC_EVENT="recharts.syncMouseEvents";function _typeof$7(o2){return(_typeof$7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function _createClass$3(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey$2(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _defineProperty$6(obj,key,value){return(key=_toPropertyKey$2(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey$2(t3){var i2=function(t3,r2){if("object"!=_typeof$7(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$7(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t3)}(t3,"string");return"symbol"==_typeof$7(i2)?i2:i2+""}var AccessibilityManager=function(){return _createClass$3(function AccessibilityManager2(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,AccessibilityManager2),_defineProperty$6(this,"activeIndex",0),_defineProperty$6(this,"coordinateList",[]),_defineProperty$6(this,"layout","horizontal")},[{key:"setDetails",value:function(_ref){var _ref2,_ref$coordinateList=_ref.coordinateList,coordinateList=void 0===_ref$coordinateList?null:_ref$coordinateList,_ref$container=_ref.container,container=void 0===_ref$container?null:_ref$container,_ref$layout=_ref.layout,layout=void 0===_ref$layout?null:_ref$layout,_ref$offset=_ref.offset,offset=void 0===_ref$offset?null:_ref$offset,_ref$mouseHandlerCall=_ref.mouseHandlerCallback,mouseHandlerCallback=void 0===_ref$mouseHandlerCall?null:_ref$mouseHandlerCall;this.coordinateList=null!==(_ref2=null!=coordinateList?coordinateList:this.coordinateList)&&void 0!==_ref2?_ref2:[],this.container=null!=container?container:this.container,this.layout=null!=layout?layout:this.layout,this.offset=null!=offset?offset:this.offset,this.mouseHandlerCallback=null!=mouseHandlerCallback?mouseHandlerCallback:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e3){if(0!==this.coordinateList.length)switch(e3.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(newIndex){this.activeIndex=newIndex}},{key:"spoofMouse",value:function(){var _window,_window2;if("horizontal"===this.layout&&0!==this.coordinateList.length){var _this$container$getBo=this.container.getBoundingClientRect(),x2=_this$container$getBo.x,y2=_this$container$getBo.y,height=_this$container$getBo.height,coordinate=this.coordinateList[this.activeIndex].coordinate,scrollOffsetX=(null===(_window=window)||void 0===_window?void 0:_window.scrollX)||0,scrollOffsetY=(null===(_window2=window)||void 0===_window2?void 0:_window2.scrollY)||0,pageX=x2+coordinate+scrollOffsetX,pageY=y2+this.offset.top+height/2+scrollOffsetY;this.mouseHandlerCallback({pageX:pageX,pageY:pageY})}}}])}();function getRadialCursorPoints(activeCoordinate){var cx2=activeCoordinate.cx,cy=activeCoordinate.cy,radius=activeCoordinate.radius,startAngle=activeCoordinate.startAngle,endAngle=activeCoordinate.endAngle;return{points:[polarToCartesian(cx2,cy,radius,startAngle),polarToCartesian(cx2,cy,radius,endAngle)],cx:cx2,cy:cy,radius:radius,startAngle:startAngle,endAngle:endAngle}}function getCursorPoints(layout,activeCoordinate,offset){var x1,y1,x2,y2;if("horizontal"===layout)x2=x1=activeCoordinate.x,y1=offset.top,y2=offset.top+offset.height;else if("vertical"===layout)y2=y1=activeCoordinate.y,x1=offset.left,x2=offset.left+offset.width;else if(null!=activeCoordinate.cx&&null!=activeCoordinate.cy){if("centric"!==layout)return getRadialCursorPoints(activeCoordinate);var cx2=activeCoordinate.cx,cy=activeCoordinate.cy,innerRadius=activeCoordinate.innerRadius,outerRadius=activeCoordinate.outerRadius,angle=activeCoordinate.angle,innerPoint=polarToCartesian(cx2,cy,innerRadius,angle),outerPoint=polarToCartesian(cx2,cy,outerRadius,angle);x1=innerPoint.x,y1=innerPoint.y,x2=outerPoint.x,y2=outerPoint.y}return[{x:x1,y:y1},{x:x2,y:y2}]}function _typeof$6(o2){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function ownKeys$4(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$4(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$4(Object(t3),!0).forEach(function(r3){_defineProperty$5(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$4(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}function _defineProperty$5(obj,key,value){var i2;return i2=function(t3,r2){if("object"!=_typeof$6(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$6(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(key,"string"),(key="symbol"==_typeof$6(i2)?i2:i2+"")in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Cursor(props){var _element$props$cursor,_defaultProps,restProps,element=props.element,tooltipEventType=props.tooltipEventType,isActive=props.isActive,activeCoordinate=props.activeCoordinate,activePayload=props.activePayload,offset=props.offset,activeTooltipIndex=props.activeTooltipIndex,tooltipAxisBandSize=props.tooltipAxisBandSize,layout=props.layout,chartName=props.chartName,elementPropsCursor=null!==(_element$props$cursor=element.props.cursor)&&void 0!==_element$props$cursor?_element$props$cursor:null===(_defaultProps=element.type.defaultProps)||void 0===_defaultProps?void 0:_defaultProps.cursor;if(!element||!elementPropsCursor||!isActive||!activeCoordinate||"ScatterChart"!==chartName&&"axis"!==tooltipEventType)return null;var cursorComp=Curve;if("ScatterChart"===chartName)restProps=activeCoordinate,cursorComp=Cross;else if("BarChart"===chartName)restProps=function(layout,activeCoordinate,offset,tooltipAxisBandSize){var halfSize=tooltipAxisBandSize/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===layout?activeCoordinate.x-halfSize:offset.left+.5,y:"horizontal"===layout?offset.top+.5:activeCoordinate.y-halfSize,width:"horizontal"===layout?tooltipAxisBandSize:offset.width-1,height:"horizontal"===layout?offset.height-1:tooltipAxisBandSize}}(layout,activeCoordinate,offset,tooltipAxisBandSize),cursorComp=Rectangle;else if("radial"===layout){var _getRadialCursorPoint=getRadialCursorPoints(activeCoordinate),cx2=_getRadialCursorPoint.cx,cy=_getRadialCursorPoint.cy,radius=_getRadialCursorPoint.radius;restProps={cx:cx2,cy:cy,startAngle:_getRadialCursorPoint.startAngle,endAngle:_getRadialCursorPoint.endAngle,innerRadius:radius,outerRadius:radius},cursorComp=Sector}else restProps={points:getCursorPoints(layout,activeCoordinate,offset)},cursorComp=Curve;var cursorProps=_objectSpread$4(_objectSpread$4(_objectSpread$4(_objectSpread$4({stroke:"#ccc",pointerEvents:"none"},offset),restProps),filterProps(elementPropsCursor,!1)),{},{payload:activePayload,payloadIndex:activeTooltipIndex,className:clsx("recharts-tooltip-cursor",elementPropsCursor.className)});return reactExports.isValidElement(elementPropsCursor)?reactExports.cloneElement(elementPropsCursor,cursorProps):reactExports.createElement(cursorComp,cursorProps)}var _excluded=["item"],_excluded2=["children","className","width","height","style","compact","title","desc"];function _typeof$5(o2){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o22){return typeof o22}:function(o22){return o22&&"function"==typeof Symbol&&o22.constructor===Symbol&&o22!==Symbol.prototype?"symbol":typeof o22})(o2)}function _extends(){return _extends=Object.assign?Object.assign.bind():function(target){for(var i2=1;i2<arguments.length;i2++){var source=arguments[i2];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function _slicedToArray$2(arr,i2){return function(arr){if(Array.isArray(arr))return arr}(arr)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r22){o2=!0,n2=r22}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(arr,i2)||_unsupportedIterableToArray$4(arr,i2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i2,target=function(source,excluded){if(null==source)return{};var target={};for(var key in source)if(Object.prototype.hasOwnProperty.call(source,key)){if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i2=0;i2<sourceSymbolKeys.length;i2++)key=sourceSymbolKeys[i2],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _createClass$2(Constructor,protoProps,staticProps){return protoProps&&function(target,props){for(var i2=0;i2<props.length;i2++){var descriptor=props[i2];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,_toPropertyKey(descriptor.key),descriptor)}}(Constructor.prototype,protoProps),Object.defineProperty(Constructor,"prototype",{writable:!1}),Constructor}function _callSuper(t3,o2,e3){return o2=_getPrototypeOf(o2),function(self2,call){if(call&&("object"===_typeof$5(call)||"function"==typeof call))return call;if(void 0!==call)throw new TypeError("Derived constructors may only return object or undefined");return function(self2){if(void 0===self2)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self2}(self2)}(t3,_isNativeReflectConstruct()?Reflect.construct(o2,e3||[],_getPrototypeOf(t3).constructor):o2.apply(t3,e3))}function _isNativeReflectConstruct(){try{var t3=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t22){}return(_isNativeReflectConstruct=function(){return!!t3})()}function _getPrototypeOf(o2){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o22){return o22.__proto__||Object.getPrototypeOf(o22)})(o2)}function _setPrototypeOf(o2,p2){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o22,p22){return o22.__proto__=p22,o22})(o2,p2)}function _toConsumableArray$2(arr){return function(arr){if(Array.isArray(arr))return _arrayLikeToArray$4(arr)}(arr)||function(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||_unsupportedIterableToArray$4(arr)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray$4(o2,minLen){if(o2){if("string"==typeof o2)return _arrayLikeToArray$4(o2,minLen);var n2=Object.prototype.toString.call(o2).slice(8,-1);return"Object"===n2&&o2.constructor&&(n2=o2.constructor.name),"Map"===n2||"Set"===n2?Array.from(o2):"Arguments"===n2||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n2)?_arrayLikeToArray$4(o2,minLen):void 0}}function _arrayLikeToArray$4(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i2=0,arr2=new Array(len);i2<len;i2++)arr2[i2]=arr[i2];return arr2}function ownKeys$3(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r22){return Object.getOwnPropertyDescriptor(e3,r22).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$3(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$3(Object(t3),!0).forEach(function(r22){_defineProperty$4(e3,r22,t3[r22])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$3(Object(t3)).forEach(function(r22){Object.defineProperty(e3,r22,Object.getOwnPropertyDescriptor(t3,r22))})}return e3}function _defineProperty$4(obj,key,value){return(key=_toPropertyKey(key))in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toPropertyKey(t3){var i2=function(t3,r2){if("object"!=_typeof$5(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$5(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(t3,"string");return"symbol"==_typeof$5(i2)?i2:i2+""}var ORIENT_MAP={xAxis:["bottom","top"],yAxis:["left","right"]},FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},originCoordinate={x:0,y:0};function renderAsIs(element){return element}var getDisplayedData=function(data,_ref){var graphicalItems=_ref.graphicalItems,dataStartIndex=_ref.dataStartIndex,dataEndIndex=_ref.dataEndIndex,itemsData=(null!=graphicalItems?graphicalItems:[]).reduce(function(result,child){var itemData=child.props.data;return itemData&&itemData.length?[].concat(_toConsumableArray$2(result),_toConsumableArray$2(itemData)):result},[]);return itemsData.length>0?itemsData:data&&data.length&&isNumber(dataStartIndex)&&isNumber(dataEndIndex)?data.slice(dataStartIndex,dataEndIndex+1):[]};function getDefaultDomainByAxisType(axisType){return"number"===axisType?[0,"auto"]:void 0}var getTooltipContent=function(state,chartData,activeIndex,activeLabel){var graphicalItems=state.graphicalItems,tooltipAxis=state.tooltipAxis,displayedData=getDisplayedData(chartData,state);return activeIndex<0||!graphicalItems||!graphicalItems.length||activeIndex>=displayedData.length?null:graphicalItems.reduce(function(result,child){var _child$props$data,payload,data=null!==(_child$props$data=child.props.data)&&void 0!==_child$props$data?_child$props$data:chartData;(data&&state.dataStartIndex+state.dataEndIndex!==0&&state.dataEndIndex-state.dataStartIndex>=activeIndex&&(data=data.slice(state.dataStartIndex,state.dataEndIndex+1)),tooltipAxis.dataKey&&!tooltipAxis.allowDuplicatedCategory)?payload=findEntryInArray(void 0===data?displayedData:data,tooltipAxis.dataKey,activeLabel):payload=data&&data[activeIndex]||displayedData[activeIndex];return payload?[].concat(_toConsumableArray$2(result),[getTooltipItem(child,payload)]):result},[])},getTooltipData=function(state,chartData,layout,rangeObj){var rangeData=rangeObj||{x:state.chartX,y:state.chartY},pos=function(rangeObj,layout){return"horizontal"===layout?rangeObj.x:"vertical"===layout?rangeObj.y:"centric"===layout?rangeObj.angle:rangeObj.radius}(rangeData,layout),ticks2=state.orderedTooltipTicks,axis=state.tooltipAxis,tooltipTicks=state.tooltipTicks,activeIndex=function(coordinate){var _ticks$length,ticks2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],unsortedTicks=arguments.length>2?arguments[2]:void 0,axis=arguments.length>3?arguments[3]:void 0,index=-1,len=null!==(_ticks$length=null==ticks2?void 0:ticks2.length)&&void 0!==_ticks$length?_ticks$length:0;if(len<=1)return 0;if(axis&&"angleAxis"===axis.axisType&&Math.abs(Math.abs(axis.range[1]-axis.range[0])-360)<=1e-6)for(var range3=axis.range,i2=0;i2<len;i2++){var before=i2>0?unsortedTicks[i2-1].coordinate:unsortedTicks[len-1].coordinate,cur=unsortedTicks[i2].coordinate,after=i2>=len-1?unsortedTicks[0].coordinate:unsortedTicks[i2+1].coordinate,sameDirectionCoord=void 0;if(mathSign(cur-before)!==mathSign(after-cur)){var diffInterval=[];if(mathSign(after-cur)===mathSign(range3[1]-range3[0])){sameDirectionCoord=after;var curInRange=cur+range3[1]-range3[0];diffInterval[0]=Math.min(curInRange,(curInRange+before)/2),diffInterval[1]=Math.max(curInRange,(curInRange+before)/2)}else{sameDirectionCoord=before;var afterInRange=after+range3[1]-range3[0];diffInterval[0]=Math.min(cur,(afterInRange+cur)/2),diffInterval[1]=Math.max(cur,(afterInRange+cur)/2)}var sameInterval=[Math.min(cur,(sameDirectionCoord+cur)/2),Math.max(cur,(sameDirectionCoord+cur)/2)];if(coordinate>sameInterval[0]&&coordinate<=sameInterval[1]||coordinate>=diffInterval[0]&&coordinate<=diffInterval[1]){index=unsortedTicks[i2].index;break}}else{var minValue=Math.min(before,after),maxValue=Math.max(before,after);if(coordinate>(minValue+cur)/2&&coordinate<=(maxValue+cur)/2){index=unsortedTicks[i2].index;break}}}else for(var _i2=0;_i2<len;_i2++)if(0===_i2&&coordinate<=(ticks2[_i2].coordinate+ticks2[_i2+1].coordinate)/2||_i2>0&&_i2<len-1&&coordinate>(ticks2[_i2].coordinate+ticks2[_i2-1].coordinate)/2&&coordinate<=(ticks2[_i2].coordinate+ticks2[_i2+1].coordinate)/2||_i2===len-1&&coordinate>(ticks2[_i2].coordinate+ticks2[_i2-1].coordinate)/2){index=ticks2[_i2].index;break}return index}(pos,ticks2,tooltipTicks,axis);if(activeIndex>=0&&tooltipTicks){var activeLabel=tooltipTicks[activeIndex]&&tooltipTicks[activeIndex].value,activePayload=getTooltipContent(state,chartData,activeIndex,activeLabel),activeCoordinate=function(layout,tooltipTicks,activeIndex,rangeObj){var entry=tooltipTicks.find(function(tick){return tick&&tick.index===activeIndex});if(entry){if("horizontal"===layout)return{x:entry.coordinate,y:rangeObj.y};if("vertical"===layout)return{x:rangeObj.x,y:entry.coordinate};if("centric"===layout){var _angle=entry.coordinate,_radius=rangeObj.radius;return _objectSpread$3(_objectSpread$3(_objectSpread$3({},rangeObj),polarToCartesian(rangeObj.cx,rangeObj.cy,_radius,_angle)),{},{angle:_angle,radius:_radius})}var radius=entry.coordinate,angle=rangeObj.angle;return _objectSpread$3(_objectSpread$3(_objectSpread$3({},rangeObj),polarToCartesian(rangeObj.cx,rangeObj.cy,radius,angle)),{},{angle:angle,radius:radius})}return originCoordinate}(layout,ticks2,activeIndex,rangeData);return{activeTooltipIndex:activeIndex,activeLabel:activeLabel,activePayload:activePayload,activeCoordinate:activeCoordinate}}return null},getAxisMapByAxes=function(props,_ref2){var axes=_ref2.axes,graphicalItems=_ref2.graphicalItems,axisType=_ref2.axisType,axisIdKey=_ref2.axisIdKey,stackGroups=_ref2.stackGroups,dataStartIndex=_ref2.dataStartIndex,dataEndIndex=_ref2.dataEndIndex,layout=props.layout,children=props.children,stackOffset=props.stackOffset,isCategorical=isCategoricalAxis(layout,axisType);return axes.reduce(function(result,child){var _childProps$domain2,childProps=void 0!==child.type.defaultProps?_objectSpread$3(_objectSpread$3({},child.type.defaultProps),child.props):child.props,type=childProps.type,dataKey=childProps.dataKey,allowDataOverflow=childProps.allowDataOverflow,allowDuplicatedCategory=childProps.allowDuplicatedCategory,scale=childProps.scale,ticks2=childProps.ticks,includeHidden=childProps.includeHidden,axisId=childProps[axisIdKey];if(result[axisId])return result;var domain,duplicateDomain,categoricalDomain,displayedData=getDisplayedData(props.data,{graphicalItems:graphicalItems.filter(function(item){var _defaultProps;return(axisIdKey in item.props?item.props[axisIdKey]:null===(_defaultProps=item.type.defaultProps)||void 0===_defaultProps?void 0:_defaultProps[axisIdKey])===axisId}),dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex}),len=displayedData.length;(function(domain,allowDataOverflow,axisType){if("number"===axisType&&!0===allowDataOverflow&&Array.isArray(domain)){var domainStart=null==domain?void 0:domain[0],domainEnd=null==domain?void 0:domain[1];if(domainStart&&domainEnd&&isNumber(domainStart)&&isNumber(domainEnd))return!0}return!1})(childProps.domain,allowDataOverflow,type)&&(domain=parseSpecifiedDomain(childProps.domain,null,allowDataOverflow),!isCategorical||"number"!==type&&"auto"===scale||(categoricalDomain=getDomainOfDataByKey(displayedData,dataKey,"category")));var defaultDomain=getDefaultDomainByAxisType(type);if(!domain||0===domain.length){var _childProps$domain,childDomain=null!==(_childProps$domain=childProps.domain)&&void 0!==_childProps$domain?_childProps$domain:defaultDomain;if(dataKey){if(domain=getDomainOfDataByKey(displayedData,dataKey,type),"category"===type&&isCategorical){var duplicate=function(ary){if(!Array.isArray(ary))return!1;for(var len=ary.length,cache={},i2=0;i2<len;i2++){if(cache[ary[i2]])return!0;cache[ary[i2]]=!0}return!1}(domain);allowDuplicatedCategory&&duplicate?(duplicateDomain=domain,domain=range$1(0,len)):allowDuplicatedCategory||(domain=parseDomainOfCategoryAxis(childDomain,domain,child).reduce(function(finalDomain,entry){return finalDomain.indexOf(entry)>=0?finalDomain:[].concat(_toConsumableArray$2(finalDomain),[entry])},[]))}else if("category"===type)domain=allowDuplicatedCategory?domain.filter(function(entry){return""!==entry&&!isNil$1(entry)}):parseDomainOfCategoryAxis(childDomain,domain,child).reduce(function(finalDomain,entry){return finalDomain.indexOf(entry)>=0||""===entry||isNil$1(entry)?finalDomain:[].concat(_toConsumableArray$2(finalDomain),[entry])},[]);else if("number"===type){var errorBarsDomain=function(data,items,dataKey,axisType,layout){var domains=items.map(function(item){return getDomainOfErrorBars(data,item,dataKey,layout,axisType)}).filter(function(entry){return!isNil$1(entry)});return domains&&domains.length?domains.reduce(function(result,entry){return[Math.min(result[0],entry[0]),Math.max(result[1],entry[1])]},[1/0,-1/0]):null}(displayedData,graphicalItems.filter(function(item){var _defaultProps2,_defaultProps3,itemAxisId=axisIdKey in item.props?item.props[axisIdKey]:null===(_defaultProps2=item.type.defaultProps)||void 0===_defaultProps2?void 0:_defaultProps2[axisIdKey],itemHide="hide"in item.props?item.props.hide:null===(_defaultProps3=item.type.defaultProps)||void 0===_defaultProps3?void 0:_defaultProps3.hide;return itemAxisId===axisId&&(includeHidden||!itemHide)}),dataKey,axisType,layout);errorBarsDomain&&(domain=errorBarsDomain)}!isCategorical||"number"!==type&&"auto"===scale||(categoricalDomain=getDomainOfDataByKey(displayedData,dataKey,"category"))}else domain=isCategorical?range$1(0,len):stackGroups&&stackGroups[axisId]&&stackGroups[axisId].hasStack&&"number"===type?"expand"===stackOffset?[0,1]:getDomainOfStackGroups(stackGroups[axisId].stackGroups,dataStartIndex,dataEndIndex):getDomainOfItemsWithSameAxis(displayedData,graphicalItems.filter(function(item){var itemAxisId=axisIdKey in item.props?item.props[axisIdKey]:item.type.defaultProps[axisIdKey],itemHide="hide"in item.props?item.props.hide:item.type.defaultProps.hide;return itemAxisId===axisId&&(includeHidden||!itemHide)}),type,layout,!0);if("number"===type)domain=detectReferenceElementsDomain(children,domain,axisId,axisType,ticks2),childDomain&&(domain=parseSpecifiedDomain(childDomain,domain,allowDataOverflow));else if("category"===type&&childDomain){var axisDomain=childDomain;domain.every(function(entry){return axisDomain.indexOf(entry)>=0})&&(domain=axisDomain)}}return _objectSpread$3(_objectSpread$3({},result),{},_defineProperty$4({},axisId,_objectSpread$3(_objectSpread$3({},childProps),{},{axisType:axisType,domain:domain,categoricalDomain:categoricalDomain,duplicateDomain:duplicateDomain,originalDomain:null!==(_childProps$domain2=childProps.domain)&&void 0!==_childProps$domain2?_childProps$domain2:defaultDomain,isCategorical:isCategorical,layout:layout})))},{})},getAxisMap=function(props,_ref4){var _ref4$axisType=_ref4.axisType,axisType=void 0===_ref4$axisType?"xAxis":_ref4$axisType,AxisComp=_ref4.AxisComp,graphicalItems=_ref4.graphicalItems,stackGroups=_ref4.stackGroups,dataStartIndex=_ref4.dataStartIndex,dataEndIndex=_ref4.dataEndIndex,children=props.children,axisIdKey="".concat(axisType,"Id"),axes=findAllByType(children,AxisComp),axisMap={};return axes&&axes.length?axisMap=getAxisMapByAxes(props,{axes:axes,graphicalItems:graphicalItems,axisType:axisType,axisIdKey:axisIdKey,stackGroups:stackGroups,dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex}):graphicalItems&&graphicalItems.length&&(axisMap=function(props,_ref3){var graphicalItems=_ref3.graphicalItems,Axis=_ref3.Axis,axisType=_ref3.axisType,axisIdKey=_ref3.axisIdKey,stackGroups=_ref3.stackGroups,dataStartIndex=_ref3.dataStartIndex,dataEndIndex=_ref3.dataEndIndex,layout=props.layout,children=props.children,displayedData=getDisplayedData(props.data,{graphicalItems:graphicalItems,dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex}),len=displayedData.length,isCategorical=isCategoricalAxis(layout,axisType),index=-1;return graphicalItems.reduce(function(result,child){var domain,axisId=(void 0!==child.type.defaultProps?_objectSpread$3(_objectSpread$3({},child.type.defaultProps),child.props):child.props)[axisIdKey],originalDomain=getDefaultDomainByAxisType("number");return result[axisId]?result:(index++,isCategorical?domain=range$1(0,len):stackGroups&&stackGroups[axisId]&&stackGroups[axisId].hasStack?(domain=getDomainOfStackGroups(stackGroups[axisId].stackGroups,dataStartIndex,dataEndIndex),domain=detectReferenceElementsDomain(children,domain,axisId,axisType)):(domain=parseSpecifiedDomain(originalDomain,getDomainOfItemsWithSameAxis(displayedData,graphicalItems.filter(function(item){var _defaultProps4,_defaultProps5,itemAxisId=axisIdKey in item.props?item.props[axisIdKey]:null===(_defaultProps4=item.type.defaultProps)||void 0===_defaultProps4?void 0:_defaultProps4[axisIdKey],itemHide="hide"in item.props?item.props.hide:null===(_defaultProps5=item.type.defaultProps)||void 0===_defaultProps5?void 0:_defaultProps5.hide;return itemAxisId===axisId&&!itemHide}),"number",layout),Axis.defaultProps.allowDataOverflow),domain=detectReferenceElementsDomain(children,domain,axisId,axisType)),_objectSpread$3(_objectSpread$3({},result),{},_defineProperty$4({},axisId,_objectSpread$3(_objectSpread$3({axisType:axisType},Axis.defaultProps),{},{hide:!0,orientation:get$3(ORIENT_MAP,"".concat(axisType,".").concat(index%2),null),domain:domain,originalDomain:originalDomain,isCategorical:isCategorical,layout:layout}))))},{})}(props,{Axis:AxisComp,graphicalItems:graphicalItems,axisType:axisType,axisIdKey:axisIdKey,stackGroups:stackGroups,dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex})),axisMap},createDefaultState=function(props){var children=props.children,defaultShowTooltip=props.defaultShowTooltip,brushItem=findChildByType(children,Brush),startIndex=0,endIndex=0;return props.data&&0!==props.data.length&&(endIndex=props.data.length-1),brushItem&&brushItem.props&&(brushItem.props.startIndex>=0&&(startIndex=brushItem.props.startIndex),brushItem.props.endIndex>=0&&(endIndex=brushItem.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:startIndex,dataEndIndex:endIndex,activeTooltipIndex:-1,isTooltipActive:Boolean(defaultShowTooltip)}},getAxisNameByLayout=function(layout){return"horizontal"===layout?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===layout?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===layout?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},calculateOffset=function(_ref5,prevLegendBBox){var props=_ref5.props,_ref5$xAxisMap=(_ref5.graphicalItems,_ref5.xAxisMap),xAxisMap=void 0===_ref5$xAxisMap?{}:_ref5$xAxisMap,_ref5$yAxisMap=_ref5.yAxisMap,yAxisMap=void 0===_ref5$yAxisMap?{}:_ref5$yAxisMap,width=props.width,height=props.height,children=props.children,margin=props.margin||{},brushItem=findChildByType(children,Brush),legendItem=findChildByType(children,Legend),offsetH=Object.keys(yAxisMap).reduce(function(result,id2){var entry=yAxisMap[id2],orientation=entry.orientation;return entry.mirror||entry.hide?result:_objectSpread$3(_objectSpread$3({},result),{},_defineProperty$4({},orientation,result[orientation]+entry.width))},{left:margin.left||0,right:margin.right||0}),offsetV=Object.keys(xAxisMap).reduce(function(result,id2){var entry=xAxisMap[id2],orientation=entry.orientation;return entry.mirror||entry.hide?result:_objectSpread$3(_objectSpread$3({},result),{},_defineProperty$4({},orientation,get$3(result,"".concat(orientation))+entry.height))},{top:margin.top||0,bottom:margin.bottom||0}),offset=_objectSpread$3(_objectSpread$3({},offsetV),offsetH),brushBottom=offset.bottom;brushItem&&(offset.bottom+=brushItem.props.height||Brush.defaultProps.height),legendItem&&prevLegendBBox&&(offset=function(offset,_unused,props,legendBox){var children=props.children,width=props.width,margin=props.margin,legendWidth=width-(margin.left||0)-(margin.right||0),legendProps=getLegendProps({children:children,legendWidth:legendWidth});if(legendProps){var _ref4=legendBox||{},boxWidth=_ref4.width,boxHeight=_ref4.height,align=legendProps.align,verticalAlign=legendProps.verticalAlign,layout=legendProps.layout;if(("vertical"===layout||"horizontal"===layout&&"middle"===verticalAlign)&&"center"!==align&&isNumber(offset[align]))return _objectSpread$v(_objectSpread$v({},offset),{},_defineProperty$z({},align,offset[align]+(boxWidth||0)));if(("horizontal"===layout||"vertical"===layout&&"center"===align)&&"middle"!==verticalAlign&&isNumber(offset[verticalAlign]))return _objectSpread$v(_objectSpread$v({},offset),{},_defineProperty$z({},verticalAlign,offset[verticalAlign]+(boxHeight||0)))}return offset}(offset,0,props,prevLegendBBox));var offsetWidth=width-offset.left-offset.right,offsetHeight=height-offset.top-offset.bottom;return _objectSpread$3(_objectSpread$3({brushBottom:brushBottom},offset),{},{width:Math.max(offsetWidth,0),height:Math.max(offsetHeight,0)})},getCartesianAxisSize=function(axisObj,axisName){return"xAxis"===axisName?axisObj[axisName].width:"yAxis"===axisName?axisObj[axisName].height:void 0},generateCategoricalChart=function(_ref6){var chartName=_ref6.chartName,GraphicalChild=_ref6.GraphicalChild,_ref6$defaultTooltipE=_ref6.defaultTooltipEventType,defaultTooltipEventType=void 0===_ref6$defaultTooltipE?"axis":_ref6$defaultTooltipE,_ref6$validateTooltip=_ref6.validateTooltipEventTypes,validateTooltipEventTypes=void 0===_ref6$validateTooltip?["axis"]:_ref6$validateTooltip,axisComponents=_ref6.axisComponents,legendContent=_ref6.legendContent,formatAxisMap4=_ref6.formatAxisMap,defaultProps2=_ref6.defaultProps,getFormatItems=function(props,currentState){var graphicalItems=currentState.graphicalItems,stackGroups=currentState.stackGroups,offset=currentState.offset,updateId=currentState.updateId,dataStartIndex=currentState.dataStartIndex,dataEndIndex=currentState.dataEndIndex,barSize=props.barSize,layout=props.layout,barGap=props.barGap,barCategoryGap=props.barCategoryGap,globalMaxBarSize=props.maxBarSize,_getAxisNameByLayout=getAxisNameByLayout(layout),numericAxisName=_getAxisNameByLayout.numericAxisName,cateAxisName=_getAxisNameByLayout.cateAxisName,hasBar=function(graphicalItems){return!(!graphicalItems||!graphicalItems.length)&&graphicalItems.some(function(item){var name=getDisplayName(item&&item.type);return name&&name.indexOf("Bar")>=0})}(graphicalItems),formattedItems=[];return graphicalItems.forEach(function(item,index){var displayedData=getDisplayedData(props.data,{graphicalItems:[item],dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex}),itemProps=void 0!==item.type.defaultProps?_objectSpread$3(_objectSpread$3({},item.type.defaultProps),item.props):item.props,dataKey=itemProps.dataKey,childMaxBarSize=itemProps.maxBarSize,numericAxisId=itemProps["".concat(numericAxisName,"Id")],cateAxisId=itemProps["".concat(cateAxisName,"Id")],axisObj=axisComponents.reduce(function(result,entry){var axisMap=currentState["".concat(entry.axisType,"Map")],id2=itemProps["".concat(entry.axisType,"Id")];axisMap&&axisMap[id2]||"zAxis"===entry.axisType||invariant();var axis=axisMap[id2];return _objectSpread$3(_objectSpread$3({},result),{},_defineProperty$4(_defineProperty$4({},entry.axisType,axis),"".concat(entry.axisType,"Ticks"),getTicksOfAxis(axis)))},{}),cateAxis=axisObj[cateAxisName],cateTicks=axisObj["".concat(cateAxisName,"Ticks")],stackedData=stackGroups&&stackGroups[numericAxisId]&&stackGroups[numericAxisId].hasStack&&function(item,stackGroups){var _item$type3,stackId=(null!==(_item$type3=item.type)&&void 0!==_item$type3&&_item$type3.defaultProps?_objectSpread$v(_objectSpread$v({},item.type.defaultProps),item.props):item.props).stackId;if(isNumOrStr(stackId)){var group=stackGroups[stackId];if(group){var itemIndex=group.items.indexOf(item);return itemIndex>=0?group.stackedData[itemIndex]:null}}return null}(item,stackGroups[numericAxisId].stackGroups),itemIsBar=getDisplayName(item.type).indexOf("Bar")>=0,bandSize=getBandSizeOfAxis(cateAxis,cateTicks),barPosition=[],sizeList=hasBar&&function(_ref2){var globalSize=_ref2.barSize,totalSize=_ref2.totalSize,_ref2$stackGroups=_ref2.stackGroups,stackGroups=void 0===_ref2$stackGroups?{}:_ref2$stackGroups;if(!stackGroups)return{};for(var result={},numericAxisIds=Object.keys(stackGroups),i2=0,len=numericAxisIds.length;i2<len;i2++)for(var sgs=stackGroups[numericAxisIds[i2]].stackGroups,stackIds=Object.keys(sgs),j2=0,sLen=stackIds.length;j2<sLen;j2++){var _sgs$stackIds$j=sgs[stackIds[j2]],items=_sgs$stackIds$j.items,cateAxisId=_sgs$stackIds$j.cateAxisId,barItems=items.filter(function(item){return getDisplayName(item.type).indexOf("Bar")>=0});if(barItems&&barItems.length){var barItemDefaultProps=barItems[0].type.defaultProps,barItemProps=void 0!==barItemDefaultProps?_objectSpread$v(_objectSpread$v({},barItemDefaultProps),barItems[0].props):barItems[0].props,selfSize=barItemProps.barSize,cateId=barItemProps[cateAxisId];result[cateId]||(result[cateId]=[]);var barSize=isNil$1(selfSize)?globalSize:selfSize;result[cateId].push({item:barItems[0],stackList:barItems.slice(1),barSize:isNil$1(barSize)?void 0:getPercentValue(barSize,totalSize,0)})}}return result}({barSize:barSize,stackGroups:stackGroups,totalSize:getCartesianAxisSize(axisObj,cateAxisName)});if(itemIsBar){var _ref7,_getBandSizeOfAxis,maxBarSize=isNil$1(childMaxBarSize)?globalMaxBarSize:childMaxBarSize,barBandSize=null!==(_ref7=null!==(_getBandSizeOfAxis=getBandSizeOfAxis(cateAxis,cateTicks,!0))&&void 0!==_getBandSizeOfAxis?_getBandSizeOfAxis:maxBarSize)&&void 0!==_ref7?_ref7:0;barPosition=function(_ref3){var barGap=_ref3.barGap,barCategoryGap=_ref3.barCategoryGap,bandSize=_ref3.bandSize,_ref3$sizeList=_ref3.sizeList,sizeList=void 0===_ref3$sizeList?[]:_ref3$sizeList,maxBarSize=_ref3.maxBarSize,len=sizeList.length;if(len<1)return null;var result,realBarGap=getPercentValue(barGap,bandSize,0,!0),initialValue=[];if(sizeList[0].barSize===+sizeList[0].barSize){var useFull=!1,fullBarSize=bandSize/len,sum2=sizeList.reduce(function(res,entry){return res+entry.barSize||0},0);(sum2+=(len-1)*realBarGap)>=bandSize&&(sum2-=(len-1)*realBarGap,realBarGap=0),sum2>=bandSize&&fullBarSize>0&&(useFull=!0,sum2=len*(fullBarSize*=.9));var prev={offset:((bandSize-sum2)/2|0)-realBarGap,size:0};result=sizeList.reduce(function(res,entry){var newPosition={item:entry.item,position:{offset:prev.offset+prev.size+realBarGap,size:useFull?fullBarSize:entry.barSize}},newRes=[].concat(_toConsumableArray$a(res),[newPosition]);return prev=newRes[newRes.length-1].position,entry.stackList&&entry.stackList.length&&entry.stackList.forEach(function(item){newRes.push({item:item,position:prev})}),newRes},initialValue)}else{var _offset=getPercentValue(barCategoryGap,bandSize,0,!0);bandSize-2*_offset-(len-1)*realBarGap<=0&&(realBarGap=0);var originalSize=(bandSize-2*_offset-(len-1)*realBarGap)/len;originalSize>1&&(originalSize>>=0);var size=maxBarSize===+maxBarSize?Math.min(originalSize,maxBarSize):originalSize;result=sizeList.reduce(function(res,entry,i2){var newRes=[].concat(_toConsumableArray$a(res),[{item:entry.item,position:{offset:_offset+(originalSize+realBarGap)*i2+(originalSize-size)/2,size:size}}]);return entry.stackList&&entry.stackList.length&&entry.stackList.forEach(function(item){newRes.push({item:item,position:newRes[newRes.length-1].position})}),newRes},initialValue)}return result}({barGap:barGap,barCategoryGap:barCategoryGap,bandSize:barBandSize!==bandSize?barBandSize:bandSize,sizeList:sizeList[cateAxisId],maxBarSize:maxBarSize}),barBandSize!==bandSize&&(barPosition=barPosition.map(function(pos){return _objectSpread$3(_objectSpread$3({},pos),{},{position:_objectSpread$3(_objectSpread$3({},pos.position),{},{offset:pos.position.offset-barBandSize/2})})}))}var child,children,composedFn=item&&item.type&&item.type.getComposedData;composedFn&&formattedItems.push({props:_objectSpread$3(_objectSpread$3({},composedFn(_objectSpread$3(_objectSpread$3({},axisObj),{},{displayedData:displayedData,props:props,dataKey:dataKey,item:item,bandSize:bandSize,barPosition:barPosition,offset:offset,stackedData:stackedData,layout:layout,dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex}))),{},_defineProperty$4(_defineProperty$4(_defineProperty$4({key:item.key||"item-".concat(index)},numericAxisName,axisObj[numericAxisName]),cateAxisName,axisObj[cateAxisName]),"animationId",updateId)),childIndex:(child=item,children=props.children,toArray(children).indexOf(child)),item:item})}),formattedItems},updateStateOfAxisMapsOffsetAndStackGroups=function(_ref8,prevState){var props=_ref8.props,dataStartIndex=_ref8.dataStartIndex,dataEndIndex=_ref8.dataEndIndex,updateId=_ref8.updateId;if(!validateWidthHeight({props:props}))return null;var children=props.children,layout=props.layout,stackOffset=props.stackOffset,data=props.data,reverseStackOrder=props.reverseStackOrder,_getAxisNameByLayout2=getAxisNameByLayout(layout),numericAxisName=_getAxisNameByLayout2.numericAxisName,cateAxisName=_getAxisNameByLayout2.cateAxisName,graphicalItems=findAllByType(children,GraphicalChild),stackGroups=function(data,_items,numericAxisId,cateAxisId,offsetType,reverseStackOrder){if(!data)return null;var stackGroups=(reverseStackOrder?_items.reverse():_items).reduce(function(result,item){var _item$type2,defaultedProps=null!==(_item$type2=item.type)&&void 0!==_item$type2&&_item$type2.defaultProps?_objectSpread$v(_objectSpread$v({},item.type.defaultProps),item.props):item.props,stackId=defaultedProps.stackId;if(defaultedProps.hide)return result;var axisId=defaultedProps[numericAxisId],parentGroup=result[axisId]||{hasStack:!1,stackGroups:{}};if(isNumOrStr(stackId)){var childGroup=parentGroup.stackGroups[stackId]||{numericAxisId:numericAxisId,cateAxisId:cateAxisId,items:[]};childGroup.items.push(item),parentGroup.hasStack=!0,parentGroup.stackGroups[stackId]=childGroup}else parentGroup.stackGroups[uniqueId("_stackId_")]={numericAxisId:numericAxisId,cateAxisId:cateAxisId,items:[item]};return _objectSpread$v(_objectSpread$v({},result),{},_defineProperty$z({},axisId,parentGroup))},{});return Object.keys(stackGroups).reduce(function(result,axisId){var group=stackGroups[axisId];return group.hasStack&&(group.stackGroups=Object.keys(group.stackGroups).reduce(function(res,stackId){var g2=group.stackGroups[stackId];return _objectSpread$v(_objectSpread$v({},res),{},_defineProperty$z({},stackId,{numericAxisId:numericAxisId,cateAxisId:cateAxisId,items:g2.items,stackedData:getStackedData(data,g2.items,offsetType)}))},{})),_objectSpread$v(_objectSpread$v({},result),{},_defineProperty$z({},axisId,group))},{})}(data,graphicalItems,"".concat(numericAxisName,"Id"),"".concat(cateAxisName,"Id"),stackOffset,reverseStackOrder),axisObj=axisComponents.reduce(function(result,entry){var name="".concat(entry.axisType,"Map");return _objectSpread$3(_objectSpread$3({},result),{},_defineProperty$4({},name,getAxisMap(props,_objectSpread$3(_objectSpread$3({},entry),{},{graphicalItems:graphicalItems,stackGroups:entry.axisType===numericAxisName&&stackGroups,dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex}))))},{}),offset=calculateOffset(_objectSpread$3(_objectSpread$3({},axisObj),{},{props:props,graphicalItems:graphicalItems}),null==prevState?void 0:prevState.legendBBox);Object.keys(axisObj).forEach(function(key){axisObj[key]=formatAxisMap4(props,axisObj[key],offset,key.replace("Map",""),chartName)});var axis,tooltipTicks,cateAxisMap=axisObj["".concat(cateAxisName,"Map")],ticksObj=(axis=getAnyElementOfObject(cateAxisMap),{tooltipTicks:tooltipTicks=getTicksOfAxis(axis,!1,!0),orderedTooltipTicks:sortBy$1(tooltipTicks,function(o2){return o2.coordinate}),tooltipAxis:axis,tooltipAxisBandSize:getBandSizeOfAxis(axis,tooltipTicks)}),formattedGraphicalItems=getFormatItems(props,_objectSpread$3(_objectSpread$3({},axisObj),{},{dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex,updateId:updateId,graphicalItems:graphicalItems,stackGroups:stackGroups,offset:offset}));return _objectSpread$3(_objectSpread$3({formattedGraphicalItems:formattedGraphicalItems,graphicalItems:graphicalItems,offset:offset,stackGroups:stackGroups},ticksObj),axisObj)},CategoricalChartWrapper=function(){function CategoricalChartWrapper2(_props){var _props$id,_props$throttleDelay,_this;return function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CategoricalChartWrapper2),_defineProperty$4(_this=_callSuper(this,CategoricalChartWrapper2,[_props]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),_defineProperty$4(_this,"accessibilityManager",new AccessibilityManager),_defineProperty$4(_this,"handleLegendBBoxUpdate",function(box){if(box){var _this$state=_this.state,dataStartIndex=_this$state.dataStartIndex,dataEndIndex=_this$state.dataEndIndex,updateId=_this$state.updateId;_this.setState(_objectSpread$3({legendBBox:box},updateStateOfAxisMapsOffsetAndStackGroups({props:_this.props,dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex,updateId:updateId},_objectSpread$3(_objectSpread$3({},_this.state),{},{legendBBox:box}))))}}),_defineProperty$4(_this,"handleReceiveSyncEvent",function(cId,data,emitter){if(_this.props.syncId===cId){if(emitter===_this.eventEmitterSymbol&&"function"!=typeof _this.props.syncMethod)return;_this.applySyncEvent(data)}}),_defineProperty$4(_this,"handleBrushChange",function(_ref9){var startIndex=_ref9.startIndex,endIndex=_ref9.endIndex;if(startIndex!==_this.state.dataStartIndex||endIndex!==_this.state.dataEndIndex){var updateId=_this.state.updateId;_this.setState(function(){return _objectSpread$3({dataStartIndex:startIndex,dataEndIndex:endIndex},updateStateOfAxisMapsOffsetAndStackGroups({props:_this.props,dataStartIndex:startIndex,dataEndIndex:endIndex,updateId:updateId},_this.state))}),_this.triggerSyncEvent({dataStartIndex:startIndex,dataEndIndex:endIndex})}}),_defineProperty$4(_this,"handleMouseEnter",function(e3){var mouse=_this.getMouseInfo(e3);if(mouse){var _nextState=_objectSpread$3(_objectSpread$3({},mouse),{},{isTooltipActive:!0});_this.setState(_nextState),_this.triggerSyncEvent(_nextState);var onMouseEnter=_this.props.onMouseEnter;isFunction$6(onMouseEnter)&&onMouseEnter(_nextState,e3)}}),_defineProperty$4(_this,"triggeredAfterMouseMove",function(e3){var mouse=_this.getMouseInfo(e3),nextState=mouse?_objectSpread$3(_objectSpread$3({},mouse),{},{isTooltipActive:!0}):{isTooltipActive:!1};_this.setState(nextState),_this.triggerSyncEvent(nextState);var onMouseMove=_this.props.onMouseMove;isFunction$6(onMouseMove)&&onMouseMove(nextState,e3)}),_defineProperty$4(_this,"handleItemMouseEnter",function(el){_this.setState(function(){return{isTooltipActive:!0,activeItem:el,activePayload:el.tooltipPayload,activeCoordinate:el.tooltipPosition||{x:el.cx,y:el.cy}}})}),_defineProperty$4(_this,"handleItemMouseLeave",function(){_this.setState(function(){return{isTooltipActive:!1}})}),_defineProperty$4(_this,"handleMouseMove",function(e3){e3.persist(),_this.throttleTriggeredAfterMouseMove(e3)}),_defineProperty$4(_this,"handleMouseLeave",function(e3){_this.throttleTriggeredAfterMouseMove.cancel();var nextState={isTooltipActive:!1};_this.setState(nextState),_this.triggerSyncEvent(nextState);var onMouseLeave=_this.props.onMouseLeave;isFunction$6(onMouseLeave)&&onMouseLeave(nextState,e3)}),_defineProperty$4(_this,"handleOuterEvent",function(e3){var _mouse,eventName=function(e3){var type=e3&&e3.type;return type&&REACT_BROWSER_EVENT_MAP[type]?REACT_BROWSER_EVENT_MAP[type]:null}(e3),event=get$3(_this.props,"".concat(eventName));eventName&&isFunction$6(event)&&event(null!==(_mouse=/.*touch.*/i.test(eventName)?_this.getMouseInfo(e3.changedTouches[0]):_this.getMouseInfo(e3))&&void 0!==_mouse?_mouse:{},e3)}),_defineProperty$4(_this,"handleClick",function(e3){var mouse=_this.getMouseInfo(e3);if(mouse){var _nextState2=_objectSpread$3(_objectSpread$3({},mouse),{},{isTooltipActive:!0});_this.setState(_nextState2),_this.triggerSyncEvent(_nextState2);var onClick=_this.props.onClick;isFunction$6(onClick)&&onClick(_nextState2,e3)}}),_defineProperty$4(_this,"handleMouseDown",function(e3){var onMouseDown=_this.props.onMouseDown;isFunction$6(onMouseDown)&&onMouseDown(_this.getMouseInfo(e3),e3)}),_defineProperty$4(_this,"handleMouseUp",function(e3){var onMouseUp=_this.props.onMouseUp;isFunction$6(onMouseUp)&&onMouseUp(_this.getMouseInfo(e3),e3)}),_defineProperty$4(_this,"handleTouchMove",function(e3){null!=e3.changedTouches&&e3.changedTouches.length>0&&_this.throttleTriggeredAfterMouseMove(e3.changedTouches[0])}),_defineProperty$4(_this,"handleTouchStart",function(e3){null!=e3.changedTouches&&e3.changedTouches.length>0&&_this.handleMouseDown(e3.changedTouches[0])}),_defineProperty$4(_this,"handleTouchEnd",function(e3){null!=e3.changedTouches&&e3.changedTouches.length>0&&_this.handleMouseUp(e3.changedTouches[0])}),_defineProperty$4(_this,"handleDoubleClick",function(e3){var onDoubleClick=_this.props.onDoubleClick;isFunction$6(onDoubleClick)&&onDoubleClick(_this.getMouseInfo(e3),e3)}),_defineProperty$4(_this,"handleContextMenu",function(e3){var onContextMenu=_this.props.onContextMenu;isFunction$6(onContextMenu)&&onContextMenu(_this.getMouseInfo(e3),e3)}),_defineProperty$4(_this,"triggerSyncEvent",function(data){void 0!==_this.props.syncId&&eventCenter.emit(SYNC_EVENT,_this.props.syncId,data,_this.eventEmitterSymbol)}),_defineProperty$4(_this,"applySyncEvent",function(data){var _this$props=_this.props,layout=_this$props.layout,syncMethod=_this$props.syncMethod,updateId=_this.state.updateId,dataStartIndex=data.dataStartIndex,dataEndIndex=data.dataEndIndex;if(void 0!==data.dataStartIndex||void 0!==data.dataEndIndex)_this.setState(_objectSpread$3({dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex},updateStateOfAxisMapsOffsetAndStackGroups({props:_this.props,dataStartIndex:dataStartIndex,dataEndIndex:dataEndIndex,updateId:updateId},_this.state)));else if(void 0!==data.activeTooltipIndex){var chartX=data.chartX,chartY=data.chartY,activeTooltipIndex=data.activeTooltipIndex,_this$state2=_this.state,offset=_this$state2.offset,tooltipTicks=_this$state2.tooltipTicks;if(!offset)return;if("function"==typeof syncMethod)activeTooltipIndex=syncMethod(tooltipTicks,data);else if("value"===syncMethod){activeTooltipIndex=-1;for(var i2=0;i2<tooltipTicks.length;i2++)if(tooltipTicks[i2].value===data.activeLabel){activeTooltipIndex=i2;break}}var viewBox=_objectSpread$3(_objectSpread$3({},offset),{},{x:offset.left,y:offset.top}),validateChartX=Math.min(chartX,viewBox.x+viewBox.width),validateChartY=Math.min(chartY,viewBox.y+viewBox.height),activeLabel=tooltipTicks[activeTooltipIndex]&&tooltipTicks[activeTooltipIndex].value,activePayload=getTooltipContent(_this.state,_this.props.data,activeTooltipIndex),activeCoordinate=tooltipTicks[activeTooltipIndex]?{x:"horizontal"===layout?tooltipTicks[activeTooltipIndex].coordinate:validateChartX,y:"horizontal"===layout?validateChartY:tooltipTicks[activeTooltipIndex].coordinate}:originCoordinate;_this.setState(_objectSpread$3(_objectSpread$3({},data),{},{activeLabel:activeLabel,activeCoordinate:activeCoordinate,activePayload:activePayload,activeTooltipIndex:activeTooltipIndex}))}else _this.setState(data)}),_defineProperty$4(_this,"renderCursor",function(element){var _element$props$active,_this$state3=_this.state,isTooltipActive=_this$state3.isTooltipActive,activeCoordinate=_this$state3.activeCoordinate,activePayload=_this$state3.activePayload,offset=_this$state3.offset,activeTooltipIndex=_this$state3.activeTooltipIndex,tooltipAxisBandSize=_this$state3.tooltipAxisBandSize,tooltipEventType=_this.getTooltipEventType(),isActive=null!==(_element$props$active=element.props.active)&&void 0!==_element$props$active?_element$props$active:isTooltipActive,layout=_this.props.layout,key=element.key||"_recharts-cursor";return React$1.createElement(Cursor,{key:key,activeCoordinate:activeCoordinate,activePayload:activePayload,activeTooltipIndex:activeTooltipIndex,chartName:chartName,element:element,isActive:isActive,layout:layout,offset:offset,tooltipAxisBandSize:tooltipAxisBandSize,tooltipEventType:tooltipEventType})}),_defineProperty$4(_this,"renderPolarAxis",function(element,displayName,index){var axisType=get$3(element,"type.axisType"),axisMap=get$3(_this.state,"".concat(axisType,"Map")),elementDefaultProps=element.type.defaultProps,elementProps=void 0!==elementDefaultProps?_objectSpread$3(_objectSpread$3({},elementDefaultProps),element.props):element.props,axisOption=axisMap&&axisMap[elementProps["".concat(axisType,"Id")]];return reactExports.cloneElement(element,_objectSpread$3(_objectSpread$3({},axisOption),{},{className:clsx(axisType,axisOption.className),key:element.key||"".concat(displayName,"-").concat(index),ticks:getTicksOfAxis(axisOption,!0)}))}),_defineProperty$4(_this,"renderPolarGrid",function(element){var _element$props=element.props,radialLines=_element$props.radialLines,polarAngles=_element$props.polarAngles,polarRadius=_element$props.polarRadius,_this$state4=_this.state,radiusAxisMap=_this$state4.radiusAxisMap,angleAxisMap=_this$state4.angleAxisMap,radiusAxis=getAnyElementOfObject(radiusAxisMap),angleAxis=getAnyElementOfObject(angleAxisMap),cx2=angleAxis.cx,cy=angleAxis.cy,innerRadius=angleAxis.innerRadius,outerRadius=angleAxis.outerRadius;return reactExports.cloneElement(element,{polarAngles:Array.isArray(polarAngles)?polarAngles:getTicksOfAxis(angleAxis,!0).map(function(entry){return entry.coordinate}),polarRadius:Array.isArray(polarRadius)?polarRadius:getTicksOfAxis(radiusAxis,!0).map(function(entry){return entry.coordinate}),cx:cx2,cy:cy,innerRadius:innerRadius,outerRadius:outerRadius,key:element.key||"polar-grid",radialLines:radialLines})}),_defineProperty$4(_this,"renderLegend",function(){var formattedGraphicalItems=_this.state.formattedGraphicalItems,_this$props2=_this.props,children=_this$props2.children,width=_this$props2.width,height=_this$props2.height,margin=_this.props.margin||{},legendWidth=width-(margin.left||0)-(margin.right||0),props=getLegendProps({children:children,formattedGraphicalItems:formattedGraphicalItems,legendWidth:legendWidth,legendContent:legendContent});if(!props)return null;var item=props.item,otherProps=_objectWithoutProperties(props,_excluded);return reactExports.cloneElement(item,_objectSpread$3(_objectSpread$3({},otherProps),{},{chartWidth:width,chartHeight:height,margin:margin,onBBoxUpdate:_this.handleLegendBBoxUpdate}))}),_defineProperty$4(_this,"renderTooltip",function(){var _tooltipItem$props$ac,_this$props3=_this.props,children=_this$props3.children,accessibilityLayer=_this$props3.accessibilityLayer,tooltipItem=findChildByType(children,Tooltip);if(!tooltipItem)return null;var _this$state5=_this.state,isTooltipActive=_this$state5.isTooltipActive,activeCoordinate=_this$state5.activeCoordinate,activePayload=_this$state5.activePayload,activeLabel=_this$state5.activeLabel,offset=_this$state5.offset,isActive=null!==(_tooltipItem$props$ac=tooltipItem.props.active)&&void 0!==_tooltipItem$props$ac?_tooltipItem$props$ac:isTooltipActive;return reactExports.cloneElement(tooltipItem,{viewBox:_objectSpread$3(_objectSpread$3({},offset),{},{x:offset.left,y:offset.top}),active:isActive,label:activeLabel,payload:isActive?activePayload:[],coordinate:activeCoordinate,accessibilityLayer:accessibilityLayer})}),_defineProperty$4(_this,"renderBrush",function(element){var _this$props4=_this.props,margin=_this$props4.margin,data=_this$props4.data,_this$state6=_this.state,offset=_this$state6.offset,dataStartIndex=_this$state6.dataStartIndex,dataEndIndex=_this$state6.dataEndIndex,updateId=_this$state6.updateId;return reactExports.cloneElement(element,{key:element.key||"_recharts-brush",onChange:combineEventHandlers(_this.handleBrushChange,element.props.onChange),data:data,x:isNumber(element.props.x)?element.props.x:offset.left,y:isNumber(element.props.y)?element.props.y:offset.top+offset.height+offset.brushBottom-(margin.bottom||0),width:isNumber(element.props.width)?element.props.width:offset.width,startIndex:dataStartIndex,endIndex:dataEndIndex,updateId:"brush-".concat(updateId)})}),_defineProperty$4(_this,"renderReferenceElement",function(element,displayName,index){if(!element)return null;var clipPathId=_this.clipPathId,_this$state7=_this.state,xAxisMap=_this$state7.xAxisMap,yAxisMap=_this$state7.yAxisMap,offset=_this$state7.offset,elementDefaultProps=element.type.defaultProps||{},_element$props2=element.props,_element$props2$xAxis=_element$props2.xAxisId,xAxisId=void 0===_element$props2$xAxis?elementDefaultProps.xAxisId:_element$props2$xAxis,_element$props2$yAxis=_element$props2.yAxisId,yAxisId=void 0===_element$props2$yAxis?elementDefaultProps.yAxisId:_element$props2$yAxis;return reactExports.cloneElement(element,{key:element.key||"".concat(displayName,"-").concat(index),xAxis:xAxisMap[xAxisId],yAxis:yAxisMap[yAxisId],viewBox:{x:offset.left,y:offset.top,width:offset.width,height:offset.height},clipPathId:clipPathId})}),_defineProperty$4(_this,"renderActivePoints",function(_ref10){var item=_ref10.item,activePoint=_ref10.activePoint,basePoint=_ref10.basePoint,childIndex=_ref10.childIndex,isRange=_ref10.isRange,result=[],key=item.props.key,itemItemProps=void 0!==item.item.type.defaultProps?_objectSpread$3(_objectSpread$3({},item.item.type.defaultProps),item.item.props):item.item.props,activeDot=itemItemProps.activeDot,dotProps=_objectSpread$3(_objectSpread$3({index:childIndex,dataKey:itemItemProps.dataKey,cx:activePoint.x,cy:activePoint.y,r:4,fill:getMainColorOfGraphicItem(item.item),strokeWidth:2,stroke:"#fff",payload:activePoint.payload,value:activePoint.value},filterProps(activeDot,!1)),adaptEventHandlers(activeDot));return result.push(CategoricalChartWrapper2.renderActiveDot(activeDot,dotProps,"".concat(key,"-activePoint-").concat(childIndex))),basePoint?result.push(CategoricalChartWrapper2.renderActiveDot(activeDot,_objectSpread$3(_objectSpread$3({},dotProps),{},{cx:basePoint.x,cy:basePoint.y}),"".concat(key,"-basePoint-").concat(childIndex))):isRange&&result.push(null),result}),_defineProperty$4(_this,"renderGraphicChild",function(element,displayName,index){var item=_this.filterFormatItem(element,displayName,index);if(!item)return null;var tooltipEventType=_this.getTooltipEventType(),_this$state8=_this.state,isTooltipActive=_this$state8.isTooltipActive,tooltipAxis=_this$state8.tooltipAxis,activeTooltipIndex=_this$state8.activeTooltipIndex,activeLabel=_this$state8.activeLabel,tooltipItem=findChildByType(_this.props.children,Tooltip),_item$props=item.props,points=_item$props.points,isRange=_item$props.isRange,baseLine=_item$props.baseLine,itemItemProps=void 0!==item.item.type.defaultProps?_objectSpread$3(_objectSpread$3({},item.item.type.defaultProps),item.item.props):item.item.props,activeDot=itemItemProps.activeDot,hide=itemItemProps.hide,activeBar=itemItemProps.activeBar,activeShape=itemItemProps.activeShape,hasActive=Boolean(!hide&&isTooltipActive&&tooltipItem&&(activeDot||activeBar||activeShape)),itemEvents={};"axis"!==tooltipEventType&&tooltipItem&&"click"===tooltipItem.props.trigger?itemEvents={onClick:combineEventHandlers(_this.handleItemMouseEnter,element.props.onClick)}:"axis"!==tooltipEventType&&(itemEvents={onMouseLeave:combineEventHandlers(_this.handleItemMouseLeave,element.props.onMouseLeave),onMouseEnter:combineEventHandlers(_this.handleItemMouseEnter,element.props.onMouseEnter)});var graphicalItem=reactExports.cloneElement(element,_objectSpread$3(_objectSpread$3({},item.props),itemEvents));if(hasActive){if(!(activeTooltipIndex>=0)){var _this$getItemByXY,_ref11$graphicalItem=(null!==(_this$getItemByXY=_this.getItemByXY(_this.state.activeCoordinate))&&void 0!==_this$getItemByXY?_this$getItemByXY:{graphicalItem:graphicalItem}).graphicalItem,_ref11$graphicalItem$=_ref11$graphicalItem.item,xyItem=void 0===_ref11$graphicalItem$?element:_ref11$graphicalItem$,childIndex=_ref11$graphicalItem.childIndex,elementProps=_objectSpread$3(_objectSpread$3(_objectSpread$3({},item.props),itemEvents),{},{activeIndex:childIndex});return[reactExports.cloneElement(xyItem,elementProps),null,null]}var activePoint,basePoint;if(tooltipAxis.dataKey&&!tooltipAxis.allowDuplicatedCategory){var specifiedKey="function"==typeof tooltipAxis.dataKey?function(entry){return"function"==typeof tooltipAxis.dataKey?tooltipAxis.dataKey(entry.payload):null}:"payload.".concat(tooltipAxis.dataKey.toString());activePoint=findEntryInArray(points,specifiedKey,activeLabel),basePoint=isRange&&baseLine&&findEntryInArray(baseLine,specifiedKey,activeLabel)}else activePoint=null==points?void 0:points[activeTooltipIndex],basePoint=isRange&&baseLine&&baseLine[activeTooltipIndex];if(activeShape||activeBar){var activeIndex=void 0!==element.props.activeIndex?element.props.activeIndex:activeTooltipIndex;return[reactExports.cloneElement(element,_objectSpread$3(_objectSpread$3(_objectSpread$3({},item.props),itemEvents),{},{activeIndex:activeIndex})),null,null]}if(!isNil$1(activePoint))return[graphicalItem].concat(_toConsumableArray$2(_this.renderActivePoints({item:item,activePoint:activePoint,basePoint:basePoint,childIndex:activeTooltipIndex,isRange:isRange})))}return isRange?[graphicalItem,null,null]:[graphicalItem,null]}),_defineProperty$4(_this,"renderCustomized",function(element,displayName,index){return reactExports.cloneElement(element,_objectSpread$3(_objectSpread$3({key:"recharts-customized-".concat(index)},_this.props),_this.state))}),_defineProperty$4(_this,"renderMap",{CartesianGrid:{handler:renderAsIs,once:!0},ReferenceArea:{handler:_this.renderReferenceElement},ReferenceLine:{handler:renderAsIs},ReferenceDot:{handler:_this.renderReferenceElement},XAxis:{handler:renderAsIs},YAxis:{handler:renderAsIs},Brush:{handler:_this.renderBrush,once:!0},Bar:{handler:_this.renderGraphicChild},Line:{handler:_this.renderGraphicChild},Area:{handler:_this.renderGraphicChild},Radar:{handler:_this.renderGraphicChild},RadialBar:{handler:_this.renderGraphicChild},Scatter:{handler:_this.renderGraphicChild},Pie:{handler:_this.renderGraphicChild},Funnel:{handler:_this.renderGraphicChild},Tooltip:{handler:_this.renderCursor,once:!0},PolarGrid:{handler:_this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_this.renderPolarAxis},PolarRadiusAxis:{handler:_this.renderPolarAxis},Customized:{handler:_this.renderCustomized}}),_this.clipPathId="".concat(null!==(_props$id=_props.id)&&void 0!==_props$id?_props$id:uniqueId("recharts"),"-clip"),_this.throttleTriggeredAfterMouseMove=throttle$1(_this.triggeredAfterMouseMove,null!==(_props$throttleDelay=_props.throttleDelay)&&void 0!==_props$throttleDelay?_props$throttleDelay:1e3/60),_this.state={},_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),Object.defineProperty(subClass,"prototype",{writable:!1}),superClass&&_setPrototypeOf(subClass,superClass)}(CategoricalChartWrapper2,reactExports.Component),_createClass$2(CategoricalChartWrapper2,[{key:"componentDidMount",value:function(){var _this$props$margin$le,_this$props$margin$to;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(_this$props$margin$le=this.props.margin.left)&&void 0!==_this$props$margin$le?_this$props$margin$le:0,top:null!==(_this$props$margin$to=this.props.margin.top)&&void 0!==_this$props$margin$to?_this$props$margin$to:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _this$props5=this.props,children=_this$props5.children,data=_this$props5.data,height=_this$props5.height,layout=_this$props5.layout,tooltipElem=findChildByType(children,Tooltip);if(tooltipElem){var defaultIndex=tooltipElem.props.defaultIndex;if(!("number"!=typeof defaultIndex||defaultIndex<0||defaultIndex>this.state.tooltipTicks.length-1)){var activeLabel=this.state.tooltipTicks[defaultIndex]&&this.state.tooltipTicks[defaultIndex].value,activePayload=getTooltipContent(this.state,data,defaultIndex,activeLabel),independentAxisCoord=this.state.tooltipTicks[defaultIndex].coordinate,dependentAxisCoord=(this.state.offset.top+height)/2,activeCoordinate="horizontal"===layout?{x:independentAxisCoord,y:dependentAxisCoord}:{y:independentAxisCoord,x:dependentAxisCoord},scatterPlotElement=this.state.formattedGraphicalItems.find(function(_ref12){return"Scatter"===_ref12.item.type.name});scatterPlotElement&&(activeCoordinate=_objectSpread$3(_objectSpread$3({},activeCoordinate),scatterPlotElement.props.points[defaultIndex].tooltipPosition),activePayload=scatterPlotElement.props.points[defaultIndex].tooltipPayload);var nextState={activeTooltipIndex:defaultIndex,isTooltipActive:!0,activeLabel:activeLabel,activePayload:activePayload,activeCoordinate:activeCoordinate};this.setState(nextState),this.renderCursor(tooltipElem),this.accessibilityManager.setIndex(defaultIndex)}}}},{key:"getSnapshotBeforeUpdate",value:function(prevProps,prevState){if(!this.props.accessibilityLayer)return null;var _this$props$margin$le2,_this$props$margin$to2;(this.state.tooltipTicks!==prevState.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==prevProps.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==prevProps.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(_this$props$margin$le2=this.props.margin.left)&&void 0!==_this$props$margin$le2?_this$props$margin$le2:0,top:null!==(_this$props$margin$to2=this.props.margin.top)&&void 0!==_this$props$margin$to2?_this$props$margin$to2:0}});return null}},{key:"componentDidUpdate",value:function(prevProps){isChildrenEqual([findChildByType(prevProps.children,Tooltip)],[findChildByType(this.props.children,Tooltip)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var tooltipItem=findChildByType(this.props.children,Tooltip);if(tooltipItem&&"boolean"==typeof tooltipItem.props.shared){var eventType=tooltipItem.props.shared?"axis":"item";return validateTooltipEventTypes.indexOf(eventType)>=0?eventType:defaultTooltipEventType}return defaultTooltipEventType}},{key:"getMouseInfo",value:function(event){if(!this.container)return null;var rect,element=this.container,boundingRect=element.getBoundingClientRect(),containerOffset={top:(rect=boundingRect).top+window.scrollY-document.documentElement.clientTop,left:rect.left+window.scrollX-document.documentElement.clientLeft},e3={chartX:Math.round(event.pageX-containerOffset.left),chartY:Math.round(event.pageY-containerOffset.top)},scale=boundingRect.width/element.offsetWidth||1,rangeObj=this.inRange(e3.chartX,e3.chartY,scale);if(!rangeObj)return null;var _this$state9=this.state,xAxisMap=_this$state9.xAxisMap,yAxisMap=_this$state9.yAxisMap,tooltipEventType=this.getTooltipEventType(),toolTipData=getTooltipData(this.state,this.props.data,this.props.layout,rangeObj);if("axis"!==tooltipEventType&&xAxisMap&&yAxisMap){var xScale=getAnyElementOfObject(xAxisMap).scale,yScale=getAnyElementOfObject(yAxisMap).scale,xValue=xScale&&xScale.invert?xScale.invert(e3.chartX):null,yValue=yScale&&yScale.invert?yScale.invert(e3.chartY):null;return _objectSpread$3(_objectSpread$3({},e3),{},{xValue:xValue,yValue:yValue},toolTipData)}return toolTipData?_objectSpread$3(_objectSpread$3({},e3),toolTipData):null}},{key:"inRange",value:function(x2,y2){var scale=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,layout=this.props.layout,scaledX=x2/scale,scaledY=y2/scale;if("horizontal"===layout||"vertical"===layout){var offset=this.state.offset;return scaledX>=offset.left&&scaledX<=offset.left+offset.width&&scaledY>=offset.top&&scaledY<=offset.top+offset.height?{x:scaledX,y:scaledY}:null}var _this$state10=this.state,angleAxisMap=_this$state10.angleAxisMap,radiusAxisMap=_this$state10.radiusAxisMap;if(angleAxisMap&&radiusAxisMap){var angleAxis=getAnyElementOfObject(angleAxisMap);return inRangeOfSector({x:scaledX,y:scaledY},angleAxis)}return null}},{key:"parseEventsOfWrapper",value:function(){var children=this.props.children,tooltipEventType=this.getTooltipEventType(),tooltipItem=findChildByType(children,Tooltip),tooltipEvents={};return tooltipItem&&"axis"===tooltipEventType&&(tooltipEvents="click"===tooltipItem.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),_objectSpread$3(_objectSpread$3({},adaptEventHandlers(this.props,this.handleOuterEvent)),tooltipEvents)}},{key:"addListener",value:function(){eventCenter.on(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){eventCenter.removeListener(SYNC_EVENT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(item,displayName,childIndex){for(var formattedGraphicalItems=this.state.formattedGraphicalItems,i2=0,len=formattedGraphicalItems.length;i2<len;i2++){var entry=formattedGraphicalItems[i2];if(entry.item===item||entry.props.key===item.key||displayName===getDisplayName(entry.item.type)&&childIndex===entry.childIndex)return entry}return null}},{key:"renderClipPath",value:function(){var clipPathId=this.clipPathId,_this$state$offset=this.state.offset,left=_this$state$offset.left,top=_this$state$offset.top,height=_this$state$offset.height,width=_this$state$offset.width;return React$1.createElement("defs",null,React$1.createElement("clipPath",{id:clipPathId},React$1.createElement("rect",{x:left,y:top,height:height,width:width})))}},{key:"getXScales",value:function(){var xAxisMap=this.state.xAxisMap;return xAxisMap?Object.entries(xAxisMap).reduce(function(res,_ref13){var _ref14=_slicedToArray$2(_ref13,2),axisId=_ref14[0],axisProps=_ref14[1];return _objectSpread$3(_objectSpread$3({},res),{},_defineProperty$4({},axisId,axisProps.scale))},{}):null}},{key:"getYScales",value:function(){var yAxisMap=this.state.yAxisMap;return yAxisMap?Object.entries(yAxisMap).reduce(function(res,_ref15){var _ref16=_slicedToArray$2(_ref15,2),axisId=_ref16[0],axisProps=_ref16[1];return _objectSpread$3(_objectSpread$3({},res),{},_defineProperty$4({},axisId,axisProps.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(axisId){var _this$state$xAxisMap;return null===(_this$state$xAxisMap=this.state.xAxisMap)||void 0===_this$state$xAxisMap||null===(_this$state$xAxisMap=_this$state$xAxisMap[axisId])||void 0===_this$state$xAxisMap?void 0:_this$state$xAxisMap.scale}},{key:"getYScaleByAxisId",value:function(axisId){var _this$state$yAxisMap;return null===(_this$state$yAxisMap=this.state.yAxisMap)||void 0===_this$state$yAxisMap||null===(_this$state$yAxisMap=_this$state$yAxisMap[axisId])||void 0===_this$state$yAxisMap?void 0:_this$state$yAxisMap.scale}},{key:"getItemByXY",value:function(chartXY){var _this$state11=this.state,formattedGraphicalItems=_this$state11.formattedGraphicalItems,activeItem=_this$state11.activeItem;if(formattedGraphicalItems&&formattedGraphicalItems.length)for(var i2=0,len=formattedGraphicalItems.length;i2<len;i2++){var graphicalItem=formattedGraphicalItems[i2],props=graphicalItem.props,item=graphicalItem.item,itemProps=void 0!==item.type.defaultProps?_objectSpread$3(_objectSpread$3({},item.type.defaultProps),item.props):item.props,itemDisplayName=getDisplayName(item.type);if("Bar"===itemDisplayName){var activeBarItem=(props.data||[]).find(function(entry){return isInRectangle(chartXY,entry)});if(activeBarItem)return{graphicalItem:graphicalItem,payload:activeBarItem}}else if("RadialBar"===itemDisplayName){var _activeBarItem=(props.data||[]).find(function(entry){return inRangeOfSector(chartXY,entry)});if(_activeBarItem)return{graphicalItem:graphicalItem,payload:_activeBarItem}}else if(isFunnel(graphicalItem,activeItem)||isPie(graphicalItem,activeItem)||isScatter(graphicalItem,activeItem)){var activeIndex=getActiveShapeIndexForTooltip({graphicalItem:graphicalItem,activeTooltipItem:activeItem,itemData:itemProps.data}),childIndex=void 0===itemProps.activeIndex?activeIndex:itemProps.activeIndex;return{graphicalItem:_objectSpread$3(_objectSpread$3({},graphicalItem),{},{childIndex:childIndex}),payload:isScatter(graphicalItem,activeItem)?itemProps.data[activeIndex]:graphicalItem.props.data[activeIndex]}}}return null}},{key:"render",value:function(){var _this3=this;if(!validateWidthHeight(this))return null;var _this$props$tabIndex,_this$props$role,_this$props6=this.props,children=_this$props6.children,className=_this$props6.className,width=_this$props6.width,height=_this$props6.height,style=_this$props6.style,compact2=_this$props6.compact,title=_this$props6.title,desc=_this$props6.desc,others=_objectWithoutProperties(_this$props6,_excluded2),attrs=filterProps(others,!1);if(compact2)return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement(Surface,_extends({},attrs,{width:width,height:height,title:title,desc:desc}),this.renderClipPath(),renderByOrder(children,this.renderMap)));this.props.accessibilityLayer&&(attrs.tabIndex=null!==(_this$props$tabIndex=this.props.tabIndex)&&void 0!==_this$props$tabIndex?_this$props$tabIndex:0,attrs.role=null!==(_this$props$role=this.props.role)&&void 0!==_this$props$role?_this$props$role:"application",attrs.onKeyDown=function(e3){_this3.accessibilityManager.keyboardEvent(e3)},attrs.onFocus=function(){_this3.accessibilityManager.focus()});var events=this.parseEventsOfWrapper();return React$1.createElement(ChartLayoutContextProvider,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},React$1.createElement("div",_extends({className:clsx("recharts-wrapper",className),style:_objectSpread$3({position:"relative",cursor:"default",width:width,height:height},style)},events,{ref:function(node){_this3.container=node}}),React$1.createElement(Surface,_extends({},attrs,{width:width,height:height,title:title,desc:desc,style:FULL_WIDTH_AND_HEIGHT}),this.renderClipPath(),renderByOrder(children,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();_defineProperty$4(CategoricalChartWrapper,"displayName",chartName),_defineProperty$4(CategoricalChartWrapper,"defaultProps",_objectSpread$3({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},defaultProps2)),_defineProperty$4(CategoricalChartWrapper,"getDerivedStateFromProps",function(nextProps,prevState){var dataKey=nextProps.dataKey,data=nextProps.data,children=nextProps.children,width=nextProps.width,height=nextProps.height,layout=nextProps.layout,stackOffset=nextProps.stackOffset,margin=nextProps.margin,dataStartIndex=prevState.dataStartIndex,dataEndIndex=prevState.dataEndIndex;if(void 0===prevState.updateId){var defaultState=createDefaultState(nextProps);return _objectSpread$3(_objectSpread$3(_objectSpread$3({},defaultState),{},{updateId:0},updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread$3(_objectSpread$3({props:nextProps},defaultState),{},{updateId:0}),prevState)),{},{prevDataKey:dataKey,prevData:data,prevWidth:width,prevHeight:height,prevLayout:layout,prevStackOffset:stackOffset,prevMargin:margin,prevChildren:children})}if(dataKey!==prevState.prevDataKey||data!==prevState.prevData||width!==prevState.prevWidth||height!==prevState.prevHeight||layout!==prevState.prevLayout||stackOffset!==prevState.prevStackOffset||!shallowEqual(margin,prevState.prevMargin)){var _defaultState=createDefaultState(nextProps),keepFromPrevState={chartX:prevState.chartX,chartY:prevState.chartY,isTooltipActive:prevState.isTooltipActive},updatesToState=_objectSpread$3(_objectSpread$3({},getTooltipData(prevState,data,layout)),{},{updateId:prevState.updateId+1}),newState=_objectSpread$3(_objectSpread$3(_objectSpread$3({},_defaultState),keepFromPrevState),updatesToState);return _objectSpread$3(_objectSpread$3(_objectSpread$3({},newState),updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread$3({props:nextProps},newState),prevState)),{},{prevDataKey:dataKey,prevData:data,prevWidth:width,prevHeight:height,prevLayout:layout,prevStackOffset:stackOffset,prevMargin:margin,prevChildren:children})}if(!isChildrenEqual(children,prevState.prevChildren)){var _brush$props$startInd,_brush$props,_brush$props$endIndex,_brush$props2,brush=findChildByType(children,Brush),startIndex=brush&&null!==(_brush$props$startInd=null===(_brush$props=brush.props)||void 0===_brush$props?void 0:_brush$props.startIndex)&&void 0!==_brush$props$startInd?_brush$props$startInd:dataStartIndex,endIndex=brush&&null!==(_brush$props$endIndex=null===(_brush$props2=brush.props)||void 0===_brush$props2?void 0:_brush$props2.endIndex)&&void 0!==_brush$props$endIndex?_brush$props$endIndex:dataEndIndex,hasDifferentStartOrEndIndex=startIndex!==dataStartIndex||endIndex!==dataEndIndex,newUpdateId=!isNil$1(data)&&!hasDifferentStartOrEndIndex?prevState.updateId:prevState.updateId+1;return _objectSpread$3(_objectSpread$3({updateId:newUpdateId},updateStateOfAxisMapsOffsetAndStackGroups(_objectSpread$3(_objectSpread$3({props:nextProps},prevState),{},{updateId:newUpdateId,dataStartIndex:startIndex,dataEndIndex:endIndex}),prevState)),{},{prevChildren:children,dataStartIndex:startIndex,dataEndIndex:endIndex})}return null}),_defineProperty$4(CategoricalChartWrapper,"renderActiveDot",function(option,props,key){var dot;return dot=reactExports.isValidElement(option)?reactExports.cloneElement(option,props):isFunction$6(option)?option(props):React$1.createElement(Dot,props),React$1.createElement(Layer,{className:"recharts-active-dot",key:key},dot)});var CategoricalChart=reactExports.forwardRef(function(props,ref){return React$1.createElement(CategoricalChartWrapper,_extends({},props,{ref:ref}))});return CategoricalChart.displayName=CategoricalChartWrapper.displayName,CategoricalChart},BarChart=generateCategoricalChart({chartName:"BarChart",GraphicalChild:Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:XAxis},{axisType:"yAxis",AxisComp:YAxis}],formatAxisMap:function(props,axisMap,offset,axisType,chartName){var width=props.width,height=props.height,layout=props.layout,children=props.children,ids=Object.keys(axisMap),steps={left:offset.left,leftMirror:offset.left,right:width-offset.right,rightMirror:width-offset.right,top:offset.top,topMirror:offset.top,bottom:height-offset.bottom,bottomMirror:height-offset.bottom},hasBar=!!findChildByType(children,Bar);return ids.reduce(function(result,id2){var calculatedPadding,range3,x2,y2,needSpace,axis=axisMap[id2],orientation=axis.orientation,domain=axis.domain,_axis$padding=axis.padding,padding=void 0===_axis$padding?{}:_axis$padding,mirror=axis.mirror,reversed=axis.reversed,offsetKey="".concat(orientation).concat(mirror?"Mirror":"");if("number"===axis.type&&("gap"===axis.padding||"no-gap"===axis.padding)){var diff=domain[1]-domain[0],smallestDistanceBetweenValues=1/0,sortedValues=axis.categoricalDomain.sort(compareValues);if(sortedValues.forEach(function(value,index){index>0&&(smallestDistanceBetweenValues=Math.min((value||0)-(sortedValues[index-1]||0),smallestDistanceBetweenValues))}),Number.isFinite(smallestDistanceBetweenValues)){var smallestDistanceInPercent=smallestDistanceBetweenValues/diff,rangeWidth="vertical"===axis.layout?offset.height:offset.width;if("gap"===axis.padding&&(calculatedPadding=smallestDistanceInPercent*rangeWidth/2),"no-gap"===axis.padding){var gap=getPercentValue(props.barCategoryGap,smallestDistanceInPercent*rangeWidth),halfBand=smallestDistanceInPercent*rangeWidth/2;calculatedPadding=halfBand-gap-(halfBand-gap)/rangeWidth*gap}}}range3="xAxis"===axisType?[offset.left+(padding.left||0)+(calculatedPadding||0),offset.left+offset.width-(padding.right||0)-(calculatedPadding||0)]:"yAxis"===axisType?"horizontal"===layout?[offset.top+offset.height-(padding.bottom||0),offset.top+(padding.top||0)]:[offset.top+(padding.top||0)+(calculatedPadding||0),offset.top+offset.height-(padding.bottom||0)-(calculatedPadding||0)]:axis.range,reversed&&(range3=[range3[1],range3[0]]);var _parseScale=parseScale(axis,chartName,hasBar),scale=_parseScale.scale,realScaleType=_parseScale.realScaleType;scale.domain(domain).range(range3),checkDomainOfScale(scale);var ticks2=getTicksOfScale(scale,_objectSpread$b(_objectSpread$b({},axis),{},{realScaleType:realScaleType}));"xAxis"===axisType?(needSpace="top"===orientation&&!mirror||"bottom"===orientation&&mirror,x2=offset.left,y2=steps[offsetKey]-needSpace*axis.height):"yAxis"===axisType&&(needSpace="left"===orientation&&!mirror||"right"===orientation&&mirror,x2=steps[offsetKey]-needSpace*axis.width,y2=offset.top);var finalAxis=_objectSpread$b(_objectSpread$b(_objectSpread$b({},axis),ticks2),{},{realScaleType:realScaleType,x:x2,y:y2,scale:scale,width:"xAxis"===axisType?offset.width:axis.width,height:"yAxis"===axisType?offset.height:axis.height});return finalAxis.bandSize=getBandSizeOfAxis(finalAxis,ticks2),axis.hide||"xAxis"!==axisType?axis.hide||(steps[offsetKey]+=(needSpace?-1:1)*finalAxis.width):steps[offsetKey]+=(needSpace?-1:1)*finalAxis.height,_objectSpread$b(_objectSpread$b({},result),{},_defineProperty$f({},id2,finalAxis))},{})}}),PieChart=generateCategoricalChart({chartName:"PieChart",GraphicalChild:Pie,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:PolarAngleAxis},{axisType:"radiusAxis",AxisComp:PolarRadiusAxis}],formatAxisMap:function(props,axisMap,offset,axisType,chartName){var width=props.width,height=props.height,startAngle=props.startAngle,endAngle=props.endAngle,cx2=getPercentValue(props.cx,width,width/2),cy=getPercentValue(props.cy,height,height/2),maxRadius=getMaxRadius(width,height,offset),innerRadius=getPercentValue(props.innerRadius,maxRadius,0),outerRadius=getPercentValue(props.outerRadius,maxRadius,.8*maxRadius);return Object.keys(axisMap).reduce(function(result,id2){var range3,axis=axisMap[id2],domain=axis.domain,reversed=axis.reversed;if(isNil$1(axis.range))"angleAxis"===axisType?range3=[startAngle,endAngle]:"radiusAxis"===axisType&&(range3=[innerRadius,outerRadius]),reversed&&(range3=[range3[1],range3[0]]);else{var _range2=_slicedToArray$8(range3=axis.range,2);startAngle=_range2[0],endAngle=_range2[1]}var _parseScale=parseScale(axis,chartName),realScaleType=_parseScale.realScaleType,scale=_parseScale.scale;scale.domain(domain).range(range3),checkDomainOfScale(scale);var ticks2=getTicksOfScale(scale,_objectSpread$u(_objectSpread$u({},axis),{},{realScaleType:realScaleType})),finalAxis=_objectSpread$u(_objectSpread$u(_objectSpread$u({},axis),ticks2),{},{range:range3,radius:outerRadius,realScaleType:realScaleType,scale:scale,cx:cx2,cy:cy,innerRadius:innerRadius,outerRadius:outerRadius,startAngle:startAngle,endAngle:endAngle});return _objectSpread$u(_objectSpread$u({},result),{},_defineProperty$y({},id2,finalAxis))},{})},defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const monthlyData=[{month:"Jan",depositos:8e4,saques:45e3,transferencias:25e3},{month:"Fev",depositos:65e3,saques:38e3,transferencias:2e4},{month:"Mar",depositos:92e3,saques:52e3,transferencias:3e4},{month:"Abr",depositos:78e3,saques:44e3,transferencias:28e3},{month:"Mai",depositos:11e4,saques:62e3,transferencias:35e3},{month:"Jun",depositos:85e3,saques:48e3,transferencias:25e3}],pieData=[{name:"Depósitos",value:45,color:"hsl(var(--primary))"},{name:"Saques",value:25,color:"hsl(var(--destructive))"},{name:"Transferências",value:20,color:"hsl(var(--accent))"},{name:"Pagamentos",value:10,color:"hsl(var(--muted-foreground))"}],recentActivity=[{id:1,type:"deposit",description:"Depósito processado",value:"R$ 1.250,00",user:"Felipe B.",time:"2 min atrás",status:"success"},{id:2,type:"user",description:"Novo usuário registrado",value:"",user:"Maria S.",time:"5 min atrás",status:"info"},{id:3,type:"transfer",description:"Transferência PIX realizada",value:"R$ 850,00",user:"João P.",time:"8 min atrás",status:"success"},{id:4,type:"withdrawal",description:"Saque processado",value:"R$ 500,00",user:"Ana C.",time:"12 min atrás",status:"warning"}],Index=()=>{const[isLoading,setIsLoading]=reactExports.useState(!1),[comparisonResults,setComparisonResults]=reactExports.useState([]),[userEmail,setUserEmail]=reactExports.useState(""),[userId,setUserId]=reactExports.useState(0),handleSearch=async(email,amount)=>{setIsLoading(!0),setComparisonResults([]);try{setUserEmail(email);const tcrResponse=await(async email=>{try{const response=await fetch(`https://vps80270.cloudpublic.com.br:8081/admin/depositos/email/usuario/${email}?por_pagina=600`,{method:"GET",headers:{"User-Agent":void 0,"Token-Cryp-Access":"","Token-Whitelabel":""}});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return await response.json()}catch(error){throw error}})(email);if("OKL"!==tcrResponse.mensagem||!tcrResponse.response)return void ue$2.error("Erro ao buscar depósitos do sistema TCR");setUserId(tcrResponse.response.id_usuario);const externalDeposits=await(async email=>{try{const response=await fetch(`https://vps80270.cloudpublic.com.br:8081/admin/depositos/bb/usuario/${email}`,{method:"GET",headers:{"User-Agent":void 0,"Token-Cryp-Access":"","Token-Whitelabel":""}});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const data=await response.json();if("OK"!==data.mensagem||!data.response)throw new Error("Resposta da API externa inválida");return data.response}catch(error){throw error}})(email),results=((tcrDeposits,externalDeposits,searchAmount)=>{const filteredExternalDeposits=searchAmount?externalDeposits.filter(deposit=>deposit.value===searchAmount):externalDeposits,tcrDepositsMap=new Map;return tcrDeposits.forEach(tcrDeposit=>{tcrDeposit.id_externo_bb&&tcrDepositsMap.set(Number(tcrDeposit.id_externo_bb),tcrDeposit)}),filteredExternalDeposits.map(externalDeposit=>{const matchingDeposit=tcrDepositsMap.get(externalDeposit.id);if(!matchingDeposit)return{tcrDeposit:null,externalDeposit:externalDeposit,status:"not_found"};const tcrAmount=parseFloat(matchingDeposit.quantia),externalAmount=parseFloat(externalDeposit.value);return Math.abs(tcrAmount-externalAmount)>.01?{tcrDeposit:matchingDeposit,externalDeposit:externalDeposit,status:"mismatch"}:{tcrDeposit:matchingDeposit,externalDeposit:externalDeposit,status:"matched"}})})(tcrResponse.response.depositos,externalDeposits,amount);setComparisonResults(results);const notFoundCount=results.filter(r2=>"not_found"===r2.status).length;notFoundCount>0?ue$2.warning(`Encontrados ${notFoundCount} depósitos não sincronizados.`):ue$2.success("Todos os depósitos estão sincronizados.")}catch(error){ue$2.error("Ocorreu um erro ao comparar os depósitos")}finally{setIsLoading(!1)}},dashboardStats=[{title:"Total de Transações",value:"1.234",change:{value:12.5,type:"increase"},icon:LayoutDashboard},{title:"Volume Total",value:"R$ 945.282",change:{value:5.2,type:"increase"},icon:DollarSign},{title:"Novos Usuários",value:"132",change:{value:18.7,type:"increase"},icon:Users},{title:"Taxa de Conversão",value:"6,8%",change:{value:2.1,type:"increase"},icon:TrendingUp}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsx(PageHeader,{title:"Sincronizador de Depósitos",description:"Gerencie e monitore transações do sistema TCR Admin",breadcrumbs:[{label:"Dashboard",isActive:!0}],actions:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",asChild:!0,className:"w-full sm:w-auto",children:jsxRuntimeExports.jsxs(Link,{to:"/extrato_tcr",children:[jsxRuntimeExports.jsx(FileText,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Extrato TCR"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Extrato"})]})}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",className:"w-full sm:w-auto",children:[jsxRuntimeExports.jsx(Activity,{className:"mr-2 h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Nova Análise"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Analisar"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8",children:[jsxRuntimeExports.jsx(DashboardStats,{stats:dashboardStats}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-4",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg sm:text-xl",children:"Buscar Depósitos"}),jsxRuntimeExports.jsx(CardDescription,{children:"Compare depósitos entre os sistemas TCR e externo"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(SearchForm,{onSearch:handleSearch,isLoading:isLoading})})]}),isLoading?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"flex flex-col items-center justify-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{className:"mt-4 text-sm sm:text-base",children:"Buscando depósitos..."})]})}):comparisonResults.length>0?jsxRuntimeExports.jsx(DepositComparison,{results:comparisonResults,userEmail:userEmail,userId:userId,onDepositRegistered:async()=>{userEmail&&await handleSearch(userEmail,"")}}):null,jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg sm:text-xl",children:"Volume Mensal"}),jsxRuntimeExports.jsx(CardDescription,{children:"Histórico de transações por mês"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"h-[250px] sm:h-[300px]",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(BarChart,{data:monthlyData,margin:{top:10,right:10,left:0,bottom:0},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3",className:"opacity-30"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"month",tick:{fontSize:12},tickLine:!1,axisLine:!1}),jsxRuntimeExports.jsx(YAxis,{tickFormatter:value=>value/1e3+"k",tick:{fontSize:12},tickLine:!1,axisLine:!1}),jsxRuntimeExports.jsx(Tooltip,{formatter:value=>[`R$ ${value.toLocaleString()}`,"Valor"],labelFormatter:label=>`Mês: ${label}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),jsxRuntimeExports.jsx(Bar,{dataKey:"depositos",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg sm:text-xl",children:"Distribuição de Operações"}),jsxRuntimeExports.jsx(CardDescription,{children:"Porcentagem por tipo de transação"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"h-[250px] sm:h-[300px] flex items-center justify-center",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:jsxRuntimeExports.jsxs(PieChart,{children:[jsxRuntimeExports.jsx(Pie,{data:pieData,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",children:pieData.map((entry,index)=>jsxRuntimeExports.jsx(Cell,{fill:entry.color},`cell-${index}`))}),jsxRuntimeExports.jsx(Tooltip,{formatter:value=>[`${value}%`,"Porcentagem"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:pieData.map((item,index)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:item.color}}),jsxRuntimeExports.jsxs("span",{className:"text-xs sm:text-sm text-muted-foreground",children:[item.name,": ",item.value,"%"]})]},index))})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg sm:text-xl",children:"Atividades Recentes"}),jsxRuntimeExports.jsx(CardDescription,{children:"Últimas transações e eventos do sistema"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-4",children:recentActivity.map(activity=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 p-3 sm:p-4 rounded-lg bg-muted/30 transition-colors hover:bg-muted/50",children:[jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 p-2 rounded-full "+("success"===activity.status?"bg-green-500/10 text-green-500":"warning"===activity.status?"bg-yellow-500/10 text-yellow-500":"bg-blue-500/10 text-blue-500"),children:"deposit"===activity.type?jsxRuntimeExports.jsx(ArrowDownRight,{className:"h-4 w-4"}):"withdrawal"===activity.type?jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-4 w-4"}):"transfer"===activity.type?jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:activity.description}),jsxRuntimeExports.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[activity.user," • ",activity.time]})]}),activity.value&&jsxRuntimeExports.jsx("div",{className:"flex-shrink-0 text-right",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:activity.value})})]},activity.id))})})]}),jsxRuntimeExports.jsx("div",{className:"text-center py-4",children:jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Dados de exemplo para demonstração • Sistema TCR Admin v2.0"})})]})]})},NotFound=()=>{const location2=useLocation();return reactExports.useEffect(()=>{},[location2.pathname]),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),jsxRuntimeExports.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var[createTabsContext,createTabsScope]=createContextScope("Tabs",[createRovingFocusGroupScope]),useRovingFocusGroupScope$1=createRovingFocusGroupScope(),[TabsProvider,useTabsContext]=createTabsContext("Tabs"),Tabs$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeTabs:__scopeTabs,value:valueProp,onValueChange:onValueChange,defaultValue:defaultValue,orientation:orientation="horizontal",dir:dir,activationMode:activationMode="automatic",...tabsProps}=props,direction=useDirection(dir),[value,setValue]=useControllableState({prop:valueProp,onChange:onValueChange,defaultProp:defaultValue??"",caller:"Tabs"});return jsxRuntimeExports.jsx(TabsProvider,{scope:__scopeTabs,baseId:useId$1(),value:value,onValueChange:setValue,orientation:orientation,dir:direction,activationMode:activationMode,children:jsxRuntimeExports.jsx(Primitive.div,{dir:direction,"data-orientation":orientation,...tabsProps,ref:forwardedRef})})});Tabs$1.displayName="Tabs";var TabsList$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeTabs:__scopeTabs,loop:loop=!0,...listProps}=props,context=useTabsContext("TabsList",__scopeTabs),rovingFocusGroupScope=useRovingFocusGroupScope$1(__scopeTabs);return jsxRuntimeExports.jsx(Root$8,{asChild:!0,...rovingFocusGroupScope,orientation:context.orientation,dir:context.dir,loop:loop,children:jsxRuntimeExports.jsx(Primitive.div,{role:"tablist","aria-orientation":context.orientation,...listProps,ref:forwardedRef})})});TabsList$1.displayName="TabsList";var TabsTrigger$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeTabs:__scopeTabs,value:value,disabled:disabled=!1,...triggerProps}=props,context=useTabsContext("TabsTrigger",__scopeTabs),rovingFocusGroupScope=useRovingFocusGroupScope$1(__scopeTabs),triggerId=makeTriggerId(context.baseId,value),contentId=makeContentId(context.baseId,value),isSelected=value===context.value;return jsxRuntimeExports.jsx(Item$1,{asChild:!0,...rovingFocusGroupScope,focusable:!disabled,active:isSelected,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"tab","aria-selected":isSelected,"aria-controls":contentId,"data-state":isSelected?"active":"inactive","data-disabled":disabled?"":void 0,disabled:disabled,id:triggerId,...triggerProps,ref:forwardedRef,onMouseDown:composeEventHandlers(props.onMouseDown,event=>{disabled||0!==event.button||!1!==event.ctrlKey?event.preventDefault():context.onValueChange(value)}),onKeyDown:composeEventHandlers(props.onKeyDown,event=>{[" ","Enter"].includes(event.key)&&context.onValueChange(value)}),onFocus:composeEventHandlers(props.onFocus,()=>{const isAutomaticActivation="manual"!==context.activationMode;isSelected||disabled||!isAutomaticActivation||context.onValueChange(value)})})})});TabsTrigger$1.displayName="TabsTrigger";var TabsContent$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeTabs:__scopeTabs,value:value,forceMount:forceMount,children:children,...contentProps}=props,context=useTabsContext("TabsContent",__scopeTabs),triggerId=makeTriggerId(context.baseId,value),contentId=makeContentId(context.baseId,value),isSelected=value===context.value,isMountAnimationPreventedRef=reactExports.useRef(isSelected);return reactExports.useEffect(()=>{const rAF=requestAnimationFrame(()=>isMountAnimationPreventedRef.current=!1);return()=>cancelAnimationFrame(rAF)},[]),jsxRuntimeExports.jsx(Presence,{present:forceMount||isSelected,children:({present:present})=>jsxRuntimeExports.jsx(Primitive.div,{"data-state":isSelected?"active":"inactive","data-orientation":context.orientation,role:"tabpanel","aria-labelledby":triggerId,hidden:!present,id:contentId,tabIndex:0,...contentProps,ref:forwardedRef,style:{...props.style,animationDuration:isMountAnimationPreventedRef.current?"0s":void 0},children:present&&children})})});function makeTriggerId(baseId,value){return`${baseId}-trigger-${value}`}function makeContentId(baseId,value){return`${baseId}-content-${value}`}TabsContent$1.displayName="TabsContent";var List=TabsList$1,Trigger$2=TabsTrigger$1,Content=TabsContent$1;const Tabs=Tabs$1,TabsList=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(List,{ref:ref,className:cn("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",className),...props}));TabsList.displayName=List.displayName;const TabsTrigger=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Trigger$2,{ref:ref,className:cn("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",className),...props}));TabsTrigger.displayName=Trigger$2.displayName;const TabsContent=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Content,{ref:ref,className:cn("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",className),...props}));TabsContent.displayName=Content.displayName;const useTransactions=({accountNumber:accountNumber,startDate:startDate,endDate:endDate,order:order="asc",limit:limit=5e4,enabled:enabled=!0})=>useQuery({queryKey:["transactions",accountNumber,startDate,endDate,order,limit],queryFn:()=>(async(accountNumber,startDate,endDate,order="asc",limit=5e4)=>{try{const url=`https://vps80270.cloudpublic.com.br:8081/api/b8cash/consultarTransacoes?accountNumber=${accountNumber}&startDate=${startDate}&endDate=${endDate}&order=${order}&limit=${limit}`,response=await fetch(url,{method:"GET",headers:{"Content-Type":"application/json","x-api-enterprise":"tcr"}});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return await response.json()}catch(error){throw error}})(accountNumber,startDate,endDate,order,limit),enabled:enabled&&!!accountNumber&&!!startDate&&!!endDate,staleTime:3e5});var isCheckBoxInput=element=>"checkbox"===element.type,isDateObject=value=>value instanceof Date,isNullOrUndefined=value=>null==value;const isObjectType=value=>"object"==typeof value;var isObject=value=>!isNullOrUndefined(value)&&!Array.isArray(value)&&isObjectType(value)&&!isDateObject(value),getEventValue=event=>isObject(event)&&event.target?isCheckBoxInput(event.target)?event.target.checked:event.target.value:event,isNameInFieldArray=(names,name)=>names.has((name=>name.substring(0,name.search(/\.\d+(\.|$)/))||name)(name)),isWeb="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function cloneObject(data){let copy2;const isArray2=Array.isArray(data),isFileListInstance="undefined"!=typeof FileList&&data instanceof FileList;if(data instanceof Date)copy2=new Date(data);else{if(isWeb&&(data instanceof Blob||isFileListInstance)||!isArray2&&!isObject(data))return data;if(copy2=isArray2?[]:{},isArray2||(tempObject=>{const prototypeCopy=tempObject.constructor&&tempObject.constructor.prototype;return isObject(prototypeCopy)&&prototypeCopy.hasOwnProperty("isPrototypeOf")})(data))for(const key in data)data.hasOwnProperty(key)&&(copy2[key]=cloneObject(data[key]));else copy2=data}return copy2}var isKey=value=>/^\w*$/.test(value),isUndefined=val=>void 0===val,compact=value=>Array.isArray(value)?value.filter(Boolean):[],stringToPath=input=>compact(input.replace(/["|']|\]/g,"").split(/\.|\[/)),get=(object2,path,defaultValue)=>{if(!path||!isObject(object2))return defaultValue;const result=(isKey(path)?[path]:stringToPath(path)).reduce((result2,key)=>isNullOrUndefined(result2)?result2:result2[key],object2);return isUndefined(result)||result===object2?isUndefined(object2[path])?defaultValue:object2[path]:result},isBoolean=value=>"boolean"==typeof value,set=(object2,path,value)=>{let index=-1;const tempPath=isKey(path)?[path]:stringToPath(path),length=tempPath.length,lastIndex=length-1;for(;++index<length;){const key=tempPath[index];let newValue=value;if(index!==lastIndex){const objValue=object2[key];newValue=isObject(objValue)||Array.isArray(objValue)?objValue:isNaN(+tempPath[index+1])?{}:[]}if("__proto__"===key||"constructor"===key||"prototype"===key)return;object2[key]=newValue,object2=object2[key]}};const EVENTS_BLUR="blur",EVENTS_FOCUS_OUT="focusout",EVENTS_CHANGE="change",VALIDATION_MODE_onBlur="onBlur",VALIDATION_MODE_onChange="onChange",VALIDATION_MODE_onSubmit="onSubmit",VALIDATION_MODE_onTouched="onTouched",VALIDATION_MODE_all="all",INPUT_VALIDATION_RULES_max="max",INPUT_VALIDATION_RULES_min="min",INPUT_VALIDATION_RULES_maxLength="maxLength",INPUT_VALIDATION_RULES_minLength="minLength",INPUT_VALIDATION_RULES_pattern="pattern",INPUT_VALIDATION_RULES_required="required",INPUT_VALIDATION_RULES_validate="validate",HookFormContext=React$1.createContext(null);HookFormContext.displayName="HookFormContext";const useFormContext=()=>React$1.useContext(HookFormContext);var getProxyFormState=(formState,control,localProxyFormState,isRoot=!0)=>{const result={defaultValues:control._defaultValues};for(const key in formState)Object.defineProperty(result,key,{get:()=>{const _key=key;return control._proxyFormState[_key]!==VALIDATION_MODE_all&&(control._proxyFormState[_key]=!isRoot||VALIDATION_MODE_all),localProxyFormState&&(localProxyFormState[_key]=!0),formState[_key]}});return result};const useIsomorphicLayoutEffect$1="undefined"!=typeof window?reactExports.useLayoutEffect:reactExports.useEffect;var isString=value=>"string"==typeof value,generateWatchOutput=(names,_names,formValues,isGlobal,defaultValue)=>isString(names)?(isGlobal&&_names.watch.add(names),get(formValues,names,defaultValue)):Array.isArray(names)?names.map(fieldName=>(isGlobal&&_names.watch.add(fieldName),get(formValues,fieldName))):(isGlobal&&(_names.watchAll=!0),formValues);function useController(props){const methods=useFormContext(),{name:name,disabled:disabled,control:control=methods.control,shouldUnregister:shouldUnregister}=props,isArrayField=isNameInFieldArray(control._names.array,name),value=function(props){const methods=useFormContext(),{control:control=methods.control,name:name,defaultValue:defaultValue,disabled:disabled,exact:exact}=props||{},_defaultValue=React$1.useRef(defaultValue),[value,updateValue]=React$1.useState(control._getWatch(name,_defaultValue.current));return useIsomorphicLayoutEffect$1(()=>control._subscribe({name:name,formState:{values:!0},exact:exact,callback:formState=>!disabled&&updateValue(generateWatchOutput(name,control._names,formState.values||control._formValues,!1,_defaultValue.current))}),[name,control,disabled,exact]),React$1.useEffect(()=>control._removeUnmounted()),value}({control:control,name:name,defaultValue:get(control._formValues,name,get(control._defaultValues,name,props.defaultValue)),exact:!0}),formState=function(props){const methods=useFormContext(),{control:control=methods.control,disabled:disabled,name:name,exact:exact}=props||{},[formState,updateFormState]=React$1.useState(control._formState),_localProxyFormState=React$1.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return useIsomorphicLayoutEffect$1(()=>control._subscribe({name:name,formState:_localProxyFormState.current,exact:exact,callback:formState2=>{!disabled&&updateFormState({...control._formState,...formState2})}}),[name,disabled,exact]),React$1.useEffect(()=>{_localProxyFormState.current.isValid&&control._setValid(!0)},[control]),React$1.useMemo(()=>getProxyFormState(formState,control,_localProxyFormState.current,!1),[formState,control])}({control:control,name:name,exact:!0}),_props=React$1.useRef(props),_registerProps=React$1.useRef(control.register(name,{...props.rules,value:value,...isBoolean(props.disabled)?{disabled:props.disabled}:{}})),fieldState=React$1.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get(formState.errors,name)},isDirty:{enumerable:!0,get:()=>!!get(formState.dirtyFields,name)},isTouched:{enumerable:!0,get:()=>!!get(formState.touchedFields,name)},isValidating:{enumerable:!0,get:()=>!!get(formState.validatingFields,name)},error:{enumerable:!0,get:()=>get(formState.errors,name)}}),[formState,name]),onChange=React$1.useCallback(event=>_registerProps.current.onChange({target:{value:getEventValue(event),name:name},type:EVENTS_CHANGE}),[name]),onBlur=React$1.useCallback(()=>_registerProps.current.onBlur({target:{value:get(control._formValues,name),name:name},type:EVENTS_BLUR}),[name,control._formValues]),ref=React$1.useCallback(elm=>{const field2=get(control._fields,name);field2&&elm&&(field2._f.ref={focus:()=>elm.focus&&elm.focus(),select:()=>elm.select&&elm.select(),setCustomValidity:message2=>elm.setCustomValidity(message2),reportValidity:()=>elm.reportValidity()})},[control._fields,name]),field=React$1.useMemo(()=>({name:name,value:value,...isBoolean(disabled)||formState.disabled?{disabled:formState.disabled||disabled}:{},onChange:onChange,onBlur:onBlur,ref:ref}),[name,disabled,formState.disabled,onChange,onBlur,ref,value]);return React$1.useEffect(()=>{const _shouldUnregisterField=control._options.shouldUnregister||shouldUnregister;control.register(name,{..._props.current.rules,...isBoolean(_props.current.disabled)?{disabled:_props.current.disabled}:{}});const updateMounted=(name2,value2)=>{const field2=get(control._fields,name2);field2&&field2._f&&(field2._f.mount=value2)};if(updateMounted(name,!0),_shouldUnregisterField){const value2=cloneObject(get(control._options.defaultValues,name));set(control._defaultValues,name,value2),isUndefined(get(control._formValues,name))&&set(control._formValues,name,value2)}return!isArrayField&&control.register(name),()=>{(isArrayField?_shouldUnregisterField&&!control._state.action:_shouldUnregisterField)?control.unregister(name):updateMounted(name,!1)}},[name,control,isArrayField,shouldUnregister]),React$1.useEffect(()=>{control._setDisabledField({disabled:disabled,name:name})},[disabled,name,control]),React$1.useMemo(()=>({field:field,formState:formState,fieldState:fieldState}),[field,formState,fieldState])}const Controller=props=>props.render(useController(props));var appendErrors=(name,validateAllFieldCriteria,errors,type,message2)=>validateAllFieldCriteria?{...errors[name],types:{...errors[name]&&errors[name].types?errors[name].types:{},[type]:message2||!0}}:{},convertToArrayPayload=value=>Array.isArray(value)?value:[value],createSubject=()=>{let _observers2=[];return{get observers(){return _observers2},next:value=>{for(const observer of _observers2)observer.next&&observer.next(value)},subscribe:observer=>(_observers2.push(observer),{unsubscribe:()=>{_observers2=_observers2.filter(o2=>o2!==observer)}}),unsubscribe:()=>{_observers2=[]}}},isPrimitive=value=>isNullOrUndefined(value)||!isObjectType(value);function deepEqual(object1,object2,_internal_visited=new WeakSet){if(isPrimitive(object1)||isPrimitive(object2))return object1===object2;if(isDateObject(object1)&&isDateObject(object2))return object1.getTime()===object2.getTime();const keys1=Object.keys(object1),keys2=Object.keys(object2);if(keys1.length!==keys2.length)return!1;if(_internal_visited.has(object1)||_internal_visited.has(object2))return!0;_internal_visited.add(object1),_internal_visited.add(object2);for(const key of keys1){const val1=object1[key];if(!keys2.includes(key))return!1;if("ref"!==key){const val2=object2[key];if(isDateObject(val1)&&isDateObject(val2)||isObject(val1)&&isObject(val2)||Array.isArray(val1)&&Array.isArray(val2)?!deepEqual(val1,val2,_internal_visited):val1!==val2)return!1}}return!0}var isEmptyObject=value=>isObject(value)&&!Object.keys(value).length,isFileInput=element=>"file"===element.type,isFunction$2=value=>"function"==typeof value,isHTMLElement=value=>{if(!isWeb)return!1;const owner=value?value.ownerDocument:0;return value instanceof(owner&&owner.defaultView?owner.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=element=>"select-multiple"===element.type,isRadioInput=element=>"radio"===element.type,live=ref=>isHTMLElement(ref)&&ref.isConnected;function unset(object2,path){const paths=Array.isArray(path)?path:isKey(path)?[path]:stringToPath(path),childObject=1===paths.length?object2:function(object2,updatePath){const length=updatePath.slice(0,-1).length;let index=0;for(;index<length;)object2=isUndefined(object2)?index++:object2[updatePath[index++]];return object2}(object2,paths),index=paths.length-1,key=paths[index];return childObject&&delete childObject[key],0!==index&&(isObject(childObject)&&isEmptyObject(childObject)||Array.isArray(childObject)&&function(obj){for(const key in obj)if(obj.hasOwnProperty(key)&&!isUndefined(obj[key]))return!1;return!0}(childObject))&&unset(object2,paths.slice(0,-1)),object2}var objectHasFunction=data=>{for(const key in data)if(isFunction$2(data[key]))return!0;return!1};function markFieldsDirty(data,fields={}){const isParentNodeArray=Array.isArray(data);if(isObject(data)||isParentNodeArray)for(const key in data)Array.isArray(data[key])||isObject(data[key])&&!objectHasFunction(data[key])?(fields[key]=Array.isArray(data[key])?[]:{},markFieldsDirty(data[key],fields[key])):isNullOrUndefined(data[key])||(fields[key]=!0);return fields}function getDirtyFieldsFromDefaultValues(data,formValues,dirtyFieldsFromValues){const isParentNodeArray=Array.isArray(data);if(isObject(data)||isParentNodeArray)for(const key in data)Array.isArray(data[key])||isObject(data[key])&&!objectHasFunction(data[key])?isUndefined(formValues)||isPrimitive(dirtyFieldsFromValues[key])?dirtyFieldsFromValues[key]=Array.isArray(data[key])?markFieldsDirty(data[key],[]):{...markFieldsDirty(data[key])}:getDirtyFieldsFromDefaultValues(data[key],isNullOrUndefined(formValues)?{}:formValues[key],dirtyFieldsFromValues[key]):dirtyFieldsFromValues[key]=!deepEqual(data[key],formValues[key]);return dirtyFieldsFromValues}var getDirtyFields=(defaultValues,formValues)=>getDirtyFieldsFromDefaultValues(defaultValues,formValues,markFieldsDirty(formValues));const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=options=>{if(Array.isArray(options)){if(options.length>1){const values=options.filter(option=>option&&option.checked&&!option.disabled).map(option=>option.value);return{value:values,isValid:!!values.length}}return options[0].checked&&!options[0].disabled?options[0].attributes&&!isUndefined(options[0].attributes.value)?isUndefined(options[0].value)||""===options[0].value?validResult:{value:options[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(value,{valueAsNumber:valueAsNumber,valueAsDate:valueAsDate,setValueAs:setValueAs})=>isUndefined(value)?value:valueAsNumber?""===value?NaN:value?+value:value:valueAsDate&&isString(value)?new Date(value):setValueAs?setValueAs(value):value;const defaultReturn={isValid:!1,value:null};var getRadioValue=options=>Array.isArray(options)?options.reduce((previous,option)=>option&&option.checked&&!option.disabled?{isValid:!0,value:option.value}:previous,defaultReturn):defaultReturn;function getFieldValue(_f2){const ref=_f2.ref;return isFileInput(ref)?ref.files:isRadioInput(ref)?getRadioValue(_f2.refs).value:isMultipleSelect(ref)?[...ref.selectedOptions].map(({value:value})=>value):isCheckBoxInput(ref)?getCheckboxValue(_f2.refs).value:getFieldValueAs(isUndefined(ref.value)?_f2.ref.value:ref.value,_f2)}var isRegex=value=>value instanceof RegExp,getRuleValue=rule=>isUndefined(rule)?rule:isRegex(rule)?rule.source:isObject(rule)?isRegex(rule.value)?rule.value.source:rule.value:rule,getValidationModes=mode=>({isOnSubmit:!mode||mode===VALIDATION_MODE_onSubmit,isOnBlur:mode===VALIDATION_MODE_onBlur,isOnChange:mode===VALIDATION_MODE_onChange,isOnAll:mode===VALIDATION_MODE_all,isOnTouch:mode===VALIDATION_MODE_onTouched});var hasPromiseValidation=fieldReference=>!!fieldReference&&!!fieldReference.validate&&!!(isFunction$2(fieldReference.validate)&&"AsyncFunction"===fieldReference.validate.constructor.name||isObject(fieldReference.validate)&&Object.values(fieldReference.validate).find(validateFunction=>"AsyncFunction"===validateFunction.constructor.name)),isWatched=(name,_names,isBlurEvent)=>!isBlurEvent&&(_names.watchAll||_names.watch.has(name)||[..._names.watch].some(watchName=>name.startsWith(watchName)&&/^\.\w+/.test(name.slice(watchName.length))));const iterateFieldsByAction=(fields,action,fieldsNames,abortEarly)=>{for(const key of fieldsNames||Object.keys(fields)){const field=get(fields,key);if(field){const{_f:_f2,...currentField}=field;if(_f2){if(_f2.refs&&_f2.refs[0]&&action(_f2.refs[0],key)&&!abortEarly)return!0;if(_f2.ref&&action(_f2.ref,_f2.name)&&!abortEarly)return!0;if(iterateFieldsByAction(currentField,action))break}else if(isObject(currentField)&&iterateFieldsByAction(currentField,action))break}}};function schemaErrorLookup(errors,_fields,name){const error=get(errors,name);if(error||isKey(name))return{error:error,name:name};const names=name.split(".");for(;names.length;){const fieldName=names.join("."),field=get(_fields,fieldName),foundError=get(errors,fieldName);if(field&&!Array.isArray(field)&&name!==fieldName)return{name:name};if(foundError&&foundError.type)return{name:fieldName,error:foundError};if(foundError&&foundError.root&&foundError.root.type)return{name:`${fieldName}.root`,error:foundError.root};names.pop()}return{name:name}}var updateFieldArrayRootError=(errors,error,name)=>{const fieldArrayErrors=convertToArrayPayload(get(errors,name));return set(fieldArrayErrors,"root",error[name]),set(errors,name,fieldArrayErrors),errors},isMessage=value=>isString(value);function getValidateError(result,ref,type="validate"){if(isMessage(result)||Array.isArray(result)&&result.every(isMessage)||isBoolean(result)&&!result)return{type:type,message:isMessage(result)?result:"",ref:ref}}var getValueAndMessage=validationData=>isObject(validationData)&&!isRegex(validationData)?validationData:{value:validationData,message:""},validateField=async(field,disabledFieldNames,formValues,validateAllFieldCriteria,shouldUseNativeValidation,isFieldArray)=>{const{ref:ref,refs:refs,required:required,maxLength:maxLength,minLength:minLength,min:min2,max:max2,pattern:pattern,validate:validate,name:name,valueAsNumber:valueAsNumber,mount:mount}=field._f,inputValue=get(formValues,name);if(!mount||disabledFieldNames.has(name))return{};const inputRef=refs?refs[0]:ref,setCustomValidity=message2=>{shouldUseNativeValidation&&inputRef.reportValidity&&(inputRef.setCustomValidity(isBoolean(message2)?"":message2||""),inputRef.reportValidity())},error={},isRadio=isRadioInput(ref),isCheckBox=isCheckBoxInput(ref),isRadioOrCheckbox2=isRadio||isCheckBox,isEmpty=(valueAsNumber||isFileInput(ref))&&isUndefined(ref.value)&&isUndefined(inputValue)||isHTMLElement(ref)&&""===ref.value||""===inputValue||Array.isArray(inputValue)&&!inputValue.length,appendErrorsCurry=appendErrors.bind(null,name,validateAllFieldCriteria,error),getMinMaxMessage=(exceedMax,maxLengthMessage,minLengthMessage,maxType=INPUT_VALIDATION_RULES_maxLength,minType=INPUT_VALIDATION_RULES_minLength)=>{const message2=exceedMax?maxLengthMessage:minLengthMessage;error[name]={type:exceedMax?maxType:minType,message:message2,ref:ref,...appendErrorsCurry(exceedMax?maxType:minType,message2)}};if(isFieldArray?!Array.isArray(inputValue)||!inputValue.length:required&&(!isRadioOrCheckbox2&&(isEmpty||isNullOrUndefined(inputValue))||isBoolean(inputValue)&&!inputValue||isCheckBox&&!getCheckboxValue(refs).isValid||isRadio&&!getRadioValue(refs).isValid)){const{value:value,message:message2}=isMessage(required)?{value:!!required,message:required}:getValueAndMessage(required);if(value&&(error[name]={type:INPUT_VALIDATION_RULES_required,message:message2,ref:inputRef,...appendErrorsCurry(INPUT_VALIDATION_RULES_required,message2)},!validateAllFieldCriteria))return setCustomValidity(message2),error}if(!(isEmpty||isNullOrUndefined(min2)&&isNullOrUndefined(max2))){let exceedMax,exceedMin;const maxOutput=getValueAndMessage(max2),minOutput=getValueAndMessage(min2);if(isNullOrUndefined(inputValue)||isNaN(inputValue)){const valueDate=ref.valueAsDate||new Date(inputValue),convertTimeToDate=time2=>new Date((new Date).toDateString()+" "+time2),isTime="time"==ref.type,isWeek="week"==ref.type;isString(maxOutput.value)&&inputValue&&(exceedMax=isTime?convertTimeToDate(inputValue)>convertTimeToDate(maxOutput.value):isWeek?inputValue>maxOutput.value:valueDate>new Date(maxOutput.value)),isString(minOutput.value)&&inputValue&&(exceedMin=isTime?convertTimeToDate(inputValue)<convertTimeToDate(minOutput.value):isWeek?inputValue<minOutput.value:valueDate<new Date(minOutput.value))}else{const valueNumber=ref.valueAsNumber||(inputValue?+inputValue:inputValue);isNullOrUndefined(maxOutput.value)||(exceedMax=valueNumber>maxOutput.value),isNullOrUndefined(minOutput.value)||(exceedMin=valueNumber<minOutput.value)}if((exceedMax||exceedMin)&&(getMinMaxMessage(!!exceedMax,maxOutput.message,minOutput.message,INPUT_VALIDATION_RULES_max,INPUT_VALIDATION_RULES_min),!validateAllFieldCriteria))return setCustomValidity(error[name].message),error}if((maxLength||minLength)&&!isEmpty&&(isString(inputValue)||isFieldArray&&Array.isArray(inputValue))){const maxLengthOutput=getValueAndMessage(maxLength),minLengthOutput=getValueAndMessage(minLength),exceedMax=!isNullOrUndefined(maxLengthOutput.value)&&inputValue.length>+maxLengthOutput.value,exceedMin=!isNullOrUndefined(minLengthOutput.value)&&inputValue.length<+minLengthOutput.value;if((exceedMax||exceedMin)&&(getMinMaxMessage(exceedMax,maxLengthOutput.message,minLengthOutput.message),!validateAllFieldCriteria))return setCustomValidity(error[name].message),error}if(pattern&&!isEmpty&&isString(inputValue)){const{value:patternValue,message:message2}=getValueAndMessage(pattern);if(isRegex(patternValue)&&!inputValue.match(patternValue)&&(error[name]={type:INPUT_VALIDATION_RULES_pattern,message:message2,ref:ref,...appendErrorsCurry(INPUT_VALIDATION_RULES_pattern,message2)},!validateAllFieldCriteria))return setCustomValidity(message2),error}if(validate)if(isFunction$2(validate)){const validateError=getValidateError(await validate(inputValue,formValues),inputRef);if(validateError&&(error[name]={...validateError,...appendErrorsCurry(INPUT_VALIDATION_RULES_validate,validateError.message)},!validateAllFieldCriteria))return setCustomValidity(validateError.message),error}else if(isObject(validate)){let validationResult={};for(const key in validate){if(!isEmptyObject(validationResult)&&!validateAllFieldCriteria)break;const validateError=getValidateError(await validate[key](inputValue,formValues),inputRef,key);validateError&&(validationResult={...validateError,...appendErrorsCurry(key,validateError.message)},setCustomValidity(validateError.message),validateAllFieldCriteria&&(error[name]=validationResult))}if(!isEmptyObject(validationResult)&&(error[name]={ref:inputRef,...validationResult},!validateAllFieldCriteria))return error}return setCustomValidity(!0),error};const defaultOptions$1={mode:VALIDATION_MODE_onSubmit,reValidateMode:VALIDATION_MODE_onChange,shouldFocusError:!0};function createFormControl(props={}){let delayErrorCallback,_options={...defaultOptions$1,...props},_formState={submitCount:0,isDirty:!1,isReady:!1,isLoading:isFunction$2(_options.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:_options.errors||{},disabled:_options.disabled||!1},_fields={},_defaultValues=(isObject(_options.defaultValues)||isObject(_options.values))&&cloneObject(_options.defaultValues||_options.values)||{},_formValues=_options.shouldUnregister?{}:cloneObject(_defaultValues),_state={action:!1,mount:!1,watch:!1},_names={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},timer=0;const _proxyFormState={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _proxySubscribeFormState={..._proxyFormState};const _subjects={array:createSubject(),state:createSubject()},shouldDisplayAllAssociatedErrors=_options.criteriaMode===VALIDATION_MODE_all,_setValid=async shouldUpdateValid=>{if(!_options.disabled&&(_proxyFormState.isValid||_proxySubscribeFormState.isValid||shouldUpdateValid)){const isValid2=_options.resolver?isEmptyObject((await _runSchema()).errors):await executeBuiltInValidation(_fields,!0);isValid2!==_formState.isValid&&_subjects.state.next({isValid:isValid2})}},_updateIsValidating=(names,isValidating)=>{!_options.disabled&&(_proxyFormState.isValidating||_proxyFormState.validatingFields||_proxySubscribeFormState.isValidating||_proxySubscribeFormState.validatingFields)&&((names||Array.from(_names.mount)).forEach(name=>{name&&(isValidating?set(_formState.validatingFields,name,isValidating):unset(_formState.validatingFields,name))}),_subjects.state.next({validatingFields:_formState.validatingFields,isValidating:!isEmptyObject(_formState.validatingFields)}))},updateValidAndValue=(name,shouldSkipSetValueAs,value,ref)=>{const field=get(_fields,name);if(field){const defaultValue=get(_formValues,name,isUndefined(value)?get(_defaultValues,name):value);isUndefined(defaultValue)||ref&&ref.defaultChecked||shouldSkipSetValueAs?set(_formValues,name,shouldSkipSetValueAs?defaultValue:getFieldValue(field._f)):setFieldValue(name,defaultValue),_state.mount&&_setValid()}},updateTouchAndDirty=(name,fieldValue,isBlurEvent,shouldDirty,shouldRender)=>{let shouldUpdateField=!1,isPreviousDirty=!1;const output={name:name};if(!_options.disabled){if(!isBlurEvent||shouldDirty){(_proxyFormState.isDirty||_proxySubscribeFormState.isDirty)&&(isPreviousDirty=_formState.isDirty,_formState.isDirty=output.isDirty=_getDirty(),shouldUpdateField=isPreviousDirty!==output.isDirty);const isCurrentFieldPristine=deepEqual(get(_defaultValues,name),fieldValue);isPreviousDirty=!!get(_formState.dirtyFields,name),isCurrentFieldPristine?unset(_formState.dirtyFields,name):set(_formState.dirtyFields,name,!0),output.dirtyFields=_formState.dirtyFields,shouldUpdateField=shouldUpdateField||(_proxyFormState.dirtyFields||_proxySubscribeFormState.dirtyFields)&&isPreviousDirty!==!isCurrentFieldPristine}if(isBlurEvent){const isPreviousFieldTouched=get(_formState.touchedFields,name);isPreviousFieldTouched||(set(_formState.touchedFields,name,isBlurEvent),output.touchedFields=_formState.touchedFields,shouldUpdateField=shouldUpdateField||(_proxyFormState.touchedFields||_proxySubscribeFormState.touchedFields)&&isPreviousFieldTouched!==isBlurEvent)}shouldUpdateField&&shouldRender&&_subjects.state.next(output)}return shouldUpdateField?output:{}},shouldRenderByError=(name,isValid2,error,fieldState)=>{const previousFieldError=get(_formState.errors,name),shouldUpdateValid=(_proxyFormState.isValid||_proxySubscribeFormState.isValid)&&isBoolean(isValid2)&&_formState.isValid!==isValid2;var callback;if(_options.delayError&&error?(callback=()=>((name,error)=>{set(_formState.errors,name,error),_subjects.state.next({errors:_formState.errors})})(name,error),delayErrorCallback=wait=>{clearTimeout(timer),timer=setTimeout(callback,wait)},delayErrorCallback(_options.delayError)):(clearTimeout(timer),delayErrorCallback=null,error?set(_formState.errors,name,error):unset(_formState.errors,name)),(error?!deepEqual(previousFieldError,error):previousFieldError)||!isEmptyObject(fieldState)||shouldUpdateValid){const updatedFormState={...fieldState,...shouldUpdateValid&&isBoolean(isValid2)?{isValid:isValid2}:{},errors:_formState.errors,name:name};_formState={..._formState,...updatedFormState},_subjects.state.next(updatedFormState)}},_runSchema=async name=>{_updateIsValidating(name,!0);const result=await _options.resolver(_formValues,_options.context,((fieldsNames,_fields,criteriaMode,shouldUseNativeValidation)=>{const fields={};for(const name of fieldsNames){const field=get(_fields,name);field&&set(fields,name,field._f)}return{criteriaMode:criteriaMode,names:[...fieldsNames],fields:fields,shouldUseNativeValidation:shouldUseNativeValidation}})(name||_names.mount,_fields,_options.criteriaMode,_options.shouldUseNativeValidation));return _updateIsValidating(name),result},executeBuiltInValidation=async(fields,shouldOnlyCheckValid,context={valid:!0})=>{for(const name in fields){const field=fields[name];if(field){const{_f:_f2,...fieldValue}=field;if(_f2){const isFieldArrayRoot=_names.array.has(_f2.name),isPromiseFunction=field._f&&hasPromiseValidation(field._f);isPromiseFunction&&_proxyFormState.validatingFields&&_updateIsValidating([name],!0);const fieldError=await validateField(field,_names.disabled,_formValues,shouldDisplayAllAssociatedErrors,_options.shouldUseNativeValidation&&!shouldOnlyCheckValid,isFieldArrayRoot);if(isPromiseFunction&&_proxyFormState.validatingFields&&_updateIsValidating([name]),fieldError[_f2.name]&&(context.valid=!1,shouldOnlyCheckValid))break;!shouldOnlyCheckValid&&(get(fieldError,_f2.name)?isFieldArrayRoot?updateFieldArrayRootError(_formState.errors,fieldError,_f2.name):set(_formState.errors,_f2.name,fieldError[_f2.name]):unset(_formState.errors,_f2.name))}!isEmptyObject(fieldValue)&&await executeBuiltInValidation(fieldValue,shouldOnlyCheckValid,context)}}return context.valid},_getDirty=(name,data)=>!_options.disabled&&(name&&data&&set(_formValues,name,data),!deepEqual(getValues(),_defaultValues)),_getWatch=(names,defaultValue,isGlobal)=>generateWatchOutput(names,_names,{..._state.mount?_formValues:isUndefined(defaultValue)?_defaultValues:isString(names)?{[names]:defaultValue}:defaultValue},isGlobal,defaultValue),setFieldValue=(name,value,options={})=>{const field=get(_fields,name);let fieldValue=value;if(field){const fieldReference=field._f;fieldReference&&(!fieldReference.disabled&&set(_formValues,name,getFieldValueAs(value,fieldReference)),fieldValue=isHTMLElement(fieldReference.ref)&&isNullOrUndefined(value)?"":value,isMultipleSelect(fieldReference.ref)?[...fieldReference.ref.options].forEach(optionRef=>optionRef.selected=fieldValue.includes(optionRef.value)):fieldReference.refs?isCheckBoxInput(fieldReference.ref)?fieldReference.refs.forEach(checkboxRef=>{checkboxRef.defaultChecked&&checkboxRef.disabled||(Array.isArray(fieldValue)?checkboxRef.checked=!!fieldValue.find(data=>data===checkboxRef.value):checkboxRef.checked=fieldValue===checkboxRef.value||!!fieldValue)}):fieldReference.refs.forEach(radioRef=>radioRef.checked=radioRef.value===fieldValue):isFileInput(fieldReference.ref)?fieldReference.ref.value="":(fieldReference.ref.value=fieldValue,fieldReference.ref.type||_subjects.state.next({name:name,values:cloneObject(_formValues)})))}(options.shouldDirty||options.shouldTouch)&&updateTouchAndDirty(name,fieldValue,options.shouldTouch,options.shouldDirty,!0),options.shouldValidate&&trigger(name)},setValues=(name,value,options)=>{for(const fieldKey in value){if(!value.hasOwnProperty(fieldKey))return;const fieldValue=value[fieldKey],fieldName=name+"."+fieldKey,field=get(_fields,fieldName);(_names.array.has(name)||isObject(fieldValue)||field&&!field._f)&&!isDateObject(fieldValue)?setValues(fieldName,fieldValue,options):setFieldValue(fieldName,fieldValue,options)}},setValue=(name,value,options={})=>{const field=get(_fields,name),isFieldArray=_names.array.has(name),cloneValue=cloneObject(value);set(_formValues,name,cloneValue),isFieldArray?(_subjects.array.next({name:name,values:cloneObject(_formValues)}),(_proxyFormState.isDirty||_proxyFormState.dirtyFields||_proxySubscribeFormState.isDirty||_proxySubscribeFormState.dirtyFields)&&options.shouldDirty&&_subjects.state.next({name:name,dirtyFields:getDirtyFields(_defaultValues,_formValues),isDirty:_getDirty(name,cloneValue)})):!field||field._f||isNullOrUndefined(cloneValue)?setFieldValue(name,cloneValue,options):setValues(name,cloneValue,options),isWatched(name,_names)&&_subjects.state.next({..._formState}),_subjects.state.next({name:_state.mount?name:void 0,values:cloneObject(_formValues)})},onChange=async event=>{_state.mount=!0;const target=event.target;let name=target.name,isFieldValueUpdated=!0;const field=get(_fields,name),_updateIsFieldValueUpdated=fieldValue=>{isFieldValueUpdated=Number.isNaN(fieldValue)||isDateObject(fieldValue)&&isNaN(fieldValue.getTime())||deepEqual(fieldValue,get(_formValues,name,fieldValue))},validationModeBeforeSubmit=getValidationModes(_options.mode),validationModeAfterSubmit=getValidationModes(_options.reValidateMode);if(field){let error,isValid2;const fieldValue=target.type?getFieldValue(field._f):getEventValue(event),isBlurEvent=event.type===EVENTS_BLUR||event.type===EVENTS_FOCUS_OUT,shouldSkipValidation=!((options=field._f).mount&&(options.required||options.min||options.max||options.maxLength||options.minLength||options.pattern||options.validate)||_options.resolver||get(_formState.errors,name)||field._f.deps)||((isBlurEvent,isTouched,isSubmitted,reValidateMode,mode)=>!mode.isOnAll&&(!isSubmitted&&mode.isOnTouch?!(isTouched||isBlurEvent):(isSubmitted?reValidateMode.isOnBlur:mode.isOnBlur)?!isBlurEvent:!(isSubmitted?reValidateMode.isOnChange:mode.isOnChange)||isBlurEvent))(isBlurEvent,get(_formState.touchedFields,name),_formState.isSubmitted,validationModeAfterSubmit,validationModeBeforeSubmit),watched=isWatched(name,_names,isBlurEvent);set(_formValues,name,fieldValue),isBlurEvent?(field._f.onBlur&&field._f.onBlur(event),delayErrorCallback&&delayErrorCallback(0)):field._f.onChange&&field._f.onChange(event);const fieldState=updateTouchAndDirty(name,fieldValue,isBlurEvent),shouldRender=!isEmptyObject(fieldState)||watched;if(!isBlurEvent&&_subjects.state.next({name:name,type:event.type,values:cloneObject(_formValues)}),shouldSkipValidation)return(_proxyFormState.isValid||_proxySubscribeFormState.isValid)&&("onBlur"===_options.mode?isBlurEvent&&_setValid():isBlurEvent||_setValid()),shouldRender&&_subjects.state.next({name:name,...watched?{}:fieldState});if(!isBlurEvent&&watched&&_subjects.state.next({..._formState}),_options.resolver){const{errors:errors}=await _runSchema([name]);if(_updateIsFieldValueUpdated(fieldValue),isFieldValueUpdated){const previousErrorLookupResult=schemaErrorLookup(_formState.errors,_fields,name),errorLookupResult=schemaErrorLookup(errors,_fields,previousErrorLookupResult.name||name);error=errorLookupResult.error,name=errorLookupResult.name,isValid2=isEmptyObject(errors)}}else _updateIsValidating([name],!0),error=(await validateField(field,_names.disabled,_formValues,shouldDisplayAllAssociatedErrors,_options.shouldUseNativeValidation))[name],_updateIsValidating([name]),_updateIsFieldValueUpdated(fieldValue),isFieldValueUpdated&&(error?isValid2=!1:(_proxyFormState.isValid||_proxySubscribeFormState.isValid)&&(isValid2=await executeBuiltInValidation(_fields,!0)));isFieldValueUpdated&&(field._f.deps&&trigger(field._f.deps),shouldRenderByError(name,isValid2,error,fieldState))}var options},_focusInput=(ref,key)=>{if(get(_formState.errors,key)&&ref.focus)return ref.focus(),1},trigger=async(name,options={})=>{let isValid2,validationResult;const fieldNames=convertToArrayPayload(name);if(_options.resolver){const errors=await(async names=>{const{errors:errors}=await _runSchema(names);if(names)for(const name of names){const error=get(errors,name);error?set(_formState.errors,name,error):unset(_formState.errors,name)}else _formState.errors=errors;return errors})(isUndefined(name)?name:fieldNames);isValid2=isEmptyObject(errors),validationResult=name?!fieldNames.some(name2=>get(errors,name2)):isValid2}else name?(validationResult=(await Promise.all(fieldNames.map(async fieldName=>{const field=get(_fields,fieldName);return await executeBuiltInValidation(field&&field._f?{[fieldName]:field}:field)}))).every(Boolean),(validationResult||_formState.isValid)&&_setValid()):validationResult=isValid2=await executeBuiltInValidation(_fields);return _subjects.state.next({...!isString(name)||(_proxyFormState.isValid||_proxySubscribeFormState.isValid)&&isValid2!==_formState.isValid?{}:{name:name},..._options.resolver||!name?{isValid:isValid2}:{},errors:_formState.errors}),options.shouldFocus&&!validationResult&&iterateFieldsByAction(_fields,_focusInput,name?fieldNames:_names.mount),validationResult},getValues=fieldNames=>{const values={..._state.mount?_formValues:_defaultValues};return isUndefined(fieldNames)?values:isString(fieldNames)?get(values,fieldNames):fieldNames.map(name=>get(values,name))},getFieldState=(name,formState)=>({invalid:!!get((formState||_formState).errors,name),isDirty:!!get((formState||_formState).dirtyFields,name),error:get((formState||_formState).errors,name),isValidating:!!get(_formState.validatingFields,name),isTouched:!!get((formState||_formState).touchedFields,name)}),setError=(name,error,options)=>{const ref=(get(_fields,name,{_f:{}})._f||{}).ref,currentError=get(_formState.errors,name)||{},{ref:currentRef,message:message2,type:type,...restOfErrorTree}=currentError;set(_formState.errors,name,{...restOfErrorTree,...error,ref:ref}),_subjects.state.next({name:name,errors:_formState.errors,isValid:!1}),options&&options.shouldFocus&&ref&&ref.focus&&ref.focus()},_subscribe=props2=>_subjects.state.subscribe({next:formState=>{var name,signalName,exact;name=props2.name,signalName=formState.name,exact=props2.exact,name&&signalName&&name!==signalName&&!convertToArrayPayload(name).some(currentName=>currentName&&(exact?currentName===signalName:currentName.startsWith(signalName)||signalName.startsWith(currentName)))||!((formStateData,_proxyFormState,updateFormState,isRoot)=>{updateFormState(formStateData);const{name:name,...formState}=formStateData;return isEmptyObject(formState)||Object.keys(formState).length>=Object.keys(_proxyFormState).length||Object.keys(formState).find(key=>_proxyFormState[key]===(!isRoot||VALIDATION_MODE_all))})(formState,props2.formState||_proxyFormState,_setFormState,props2.reRenderRoot)||props2.callback({values:{..._formValues},..._formState,...formState})}}).unsubscribe,unregister=(name,options={})=>{for(const fieldName of name?convertToArrayPayload(name):_names.mount)_names.mount.delete(fieldName),_names.array.delete(fieldName),options.keepValue||(unset(_fields,fieldName),unset(_formValues,fieldName)),!options.keepError&&unset(_formState.errors,fieldName),!options.keepDirty&&unset(_formState.dirtyFields,fieldName),!options.keepTouched&&unset(_formState.touchedFields,fieldName),!options.keepIsValidating&&unset(_formState.validatingFields,fieldName),!_options.shouldUnregister&&!options.keepDefaultValue&&unset(_defaultValues,fieldName);_subjects.state.next({values:cloneObject(_formValues)}),_subjects.state.next({..._formState,...options.keepDirty?{isDirty:_getDirty()}:{}}),!options.keepIsValid&&_setValid()},_setDisabledField=({disabled:disabled,name:name})=>{(isBoolean(disabled)&&_state.mount||disabled||_names.disabled.has(name))&&(disabled?_names.disabled.add(name):_names.disabled.delete(name))},register=(name,options={})=>{let field=get(_fields,name);const disabledIsDefined=isBoolean(options.disabled)||isBoolean(_options.disabled);return set(_fields,name,{...field||{},_f:{...field&&field._f?field._f:{ref:{name:name}},name:name,mount:!0,...options}}),_names.mount.add(name),field?_setDisabledField({disabled:isBoolean(options.disabled)?options.disabled:_options.disabled,name:name}):updateValidAndValue(name,!0,options.value),{...disabledIsDefined?{disabled:options.disabled||_options.disabled}:{},..._options.progressive?{required:!!options.required,min:getRuleValue(options.min),max:getRuleValue(options.max),minLength:getRuleValue(options.minLength),maxLength:getRuleValue(options.maxLength),pattern:getRuleValue(options.pattern)}:{},name:name,onChange:onChange,onBlur:onChange,ref:ref=>{if(ref){register(name,options),field=get(_fields,name);const fieldRef=isUndefined(ref.value)&&ref.querySelectorAll&&ref.querySelectorAll("input,select,textarea")[0]||ref,radioOrCheckbox=(ref=>isRadioInput(ref)||isCheckBoxInput(ref))(fieldRef),refs=field._f.refs||[];if(radioOrCheckbox?refs.find(option=>option===fieldRef):fieldRef===field._f.ref)return;set(_fields,name,{_f:{...field._f,...radioOrCheckbox?{refs:[...refs.filter(live),fieldRef,...Array.isArray(get(_defaultValues,name))?[{}]:[]],ref:{type:fieldRef.type,name:name}}:{ref:fieldRef}}}),updateValidAndValue(name,!1,void 0,fieldRef)}else field=get(_fields,name,{}),field._f&&(field._f.mount=!1),(_options.shouldUnregister||options.shouldUnregister)&&(!isNameInFieldArray(_names.array,name)||!_state.action)&&_names.unMount.add(name)}}},_focusError=()=>_options.shouldFocusError&&iterateFieldsByAction(_fields,_focusInput,_names.mount),handleSubmit=(onValid,onInvalid)=>async e3=>{let onValidError;e3&&(e3.preventDefault&&e3.preventDefault(),e3.persist&&e3.persist());let fieldValues=cloneObject(_formValues);if(_subjects.state.next({isSubmitting:!0}),_options.resolver){const{errors:errors,values:values}=await _runSchema();_formState.errors=errors,fieldValues=cloneObject(values)}else await executeBuiltInValidation(_fields);if(_names.disabled.size)for(const name of _names.disabled)unset(fieldValues,name);if(unset(_formState.errors,"root"),isEmptyObject(_formState.errors)){_subjects.state.next({errors:{}});try{await onValid(fieldValues,e3)}catch(error){onValidError=error}}else onInvalid&&await onInvalid({..._formState.errors},e3),_focusError(),setTimeout(_focusError);if(_subjects.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(_formState.errors)&&!onValidError,submitCount:_formState.submitCount+1,errors:_formState.errors}),onValidError)throw onValidError},_reset=(formValues,keepStateOptions={})=>{const updatedValues=formValues?cloneObject(formValues):_defaultValues,cloneUpdatedValues=cloneObject(updatedValues),isEmptyResetValues=isEmptyObject(formValues),values=isEmptyResetValues?_defaultValues:cloneUpdatedValues;if(keepStateOptions.keepDefaultValues||(_defaultValues=updatedValues),!keepStateOptions.keepValues){if(keepStateOptions.keepDirtyValues){const fieldsToCheck=new Set([..._names.mount,...Object.keys(getDirtyFields(_defaultValues,_formValues))]);for(const fieldName of Array.from(fieldsToCheck))get(_formState.dirtyFields,fieldName)?set(values,fieldName,get(_formValues,fieldName)):setValue(fieldName,get(values,fieldName))}else{if(isWeb&&isUndefined(formValues))for(const name of _names.mount){const field=get(_fields,name);if(field&&field._f){const fieldReference=Array.isArray(field._f.refs)?field._f.refs[0]:field._f.ref;if(isHTMLElement(fieldReference)){const form=fieldReference.closest("form");if(form){form.reset();break}}}}if(keepStateOptions.keepFieldsRef)for(const fieldName of _names.mount)setValue(fieldName,get(values,fieldName));else _fields={}}_formValues=_options.shouldUnregister?keepStateOptions.keepDefaultValues?cloneObject(_defaultValues):{}:cloneObject(values),_subjects.array.next({values:{...values}}),_subjects.state.next({values:{...values}})}_names={mount:keepStateOptions.keepDirtyValues?_names.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},_state.mount=!_proxyFormState.isValid||!!keepStateOptions.keepIsValid||!!keepStateOptions.keepDirtyValues,_state.watch=!!_options.shouldUnregister,_subjects.state.next({submitCount:keepStateOptions.keepSubmitCount?_formState.submitCount:0,isDirty:!isEmptyResetValues&&(keepStateOptions.keepDirty?_formState.isDirty:!(!keepStateOptions.keepDefaultValues||deepEqual(formValues,_defaultValues))),isSubmitted:!!keepStateOptions.keepIsSubmitted&&_formState.isSubmitted,dirtyFields:isEmptyResetValues?{}:keepStateOptions.keepDirtyValues?keepStateOptions.keepDefaultValues&&_formValues?getDirtyFields(_defaultValues,_formValues):_formState.dirtyFields:keepStateOptions.keepDefaultValues&&formValues?getDirtyFields(_defaultValues,formValues):keepStateOptions.keepDirty?_formState.dirtyFields:{},touchedFields:keepStateOptions.keepTouched?_formState.touchedFields:{},errors:keepStateOptions.keepErrors?_formState.errors:{},isSubmitSuccessful:!!keepStateOptions.keepIsSubmitSuccessful&&_formState.isSubmitSuccessful,isSubmitting:!1})},reset=(formValues,keepStateOptions)=>_reset(isFunction$2(formValues)?formValues(_formValues):formValues,keepStateOptions),_setFormState=updatedFormState=>{_formState={..._formState,...updatedFormState}},methods={control:{register:register,unregister:unregister,getFieldState:getFieldState,handleSubmit:handleSubmit,setError:setError,_subscribe:_subscribe,_runSchema:_runSchema,_focusError:_focusError,_getWatch:_getWatch,_getDirty:_getDirty,_setValid:_setValid,_setFieldArray:(name,values=[],method,args,shouldSetValues=!0,shouldUpdateFieldsAndState=!0)=>{if(args&&method&&!_options.disabled){if(_state.action=!0,shouldUpdateFieldsAndState&&Array.isArray(get(_fields,name))){const fieldValues=method(get(_fields,name),args.argA,args.argB);shouldSetValues&&set(_fields,name,fieldValues)}if(shouldUpdateFieldsAndState&&Array.isArray(get(_formState.errors,name))){const errors=method(get(_formState.errors,name),args.argA,args.argB);shouldSetValues&&set(_formState.errors,name,errors),((ref,name)=>{!compact(get(ref,name)).length&&unset(ref,name)})(_formState.errors,name)}if((_proxyFormState.touchedFields||_proxySubscribeFormState.touchedFields)&&shouldUpdateFieldsAndState&&Array.isArray(get(_formState.touchedFields,name))){const touchedFields=method(get(_formState.touchedFields,name),args.argA,args.argB);shouldSetValues&&set(_formState.touchedFields,name,touchedFields)}(_proxyFormState.dirtyFields||_proxySubscribeFormState.dirtyFields)&&(_formState.dirtyFields=getDirtyFields(_defaultValues,_formValues)),_subjects.state.next({name:name,isDirty:_getDirty(name,values),dirtyFields:_formState.dirtyFields,errors:_formState.errors,isValid:_formState.isValid})}else set(_formValues,name,values)},_setDisabledField:_setDisabledField,_setErrors:errors=>{_formState.errors=errors,_subjects.state.next({errors:_formState.errors,isValid:!1})},_getFieldArray:name=>compact(get(_state.mount?_formValues:_defaultValues,name,_options.shouldUnregister?get(_defaultValues,name,[]):[])),_reset:_reset,_resetDefaultValues:()=>isFunction$2(_options.defaultValues)&&_options.defaultValues().then(values=>{reset(values,_options.resetOptions),_subjects.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const name of _names.unMount){const field=get(_fields,name);field&&(field._f.refs?field._f.refs.every(ref=>!live(ref)):!live(field._f.ref))&&unregister(name)}_names.unMount=new Set},_disableForm:disabled=>{isBoolean(disabled)&&(_subjects.state.next({disabled:disabled}),iterateFieldsByAction(_fields,(ref,name)=>{const currentField=get(_fields,name);currentField&&(ref.disabled=currentField._f.disabled||disabled,Array.isArray(currentField._f.refs)&&currentField._f.refs.forEach(inputRef=>{inputRef.disabled=currentField._f.disabled||disabled}))},0,!1))},_subjects:_subjects,_proxyFormState:_proxyFormState,get _fields(){return _fields},get _formValues(){return _formValues},get _state(){return _state},set _state(value){_state=value},get _defaultValues(){return _defaultValues},get _names(){return _names},set _names(value){_names=value},get _formState(){return _formState},get _options(){return _options},set _options(value){_options={..._options,...value}}},subscribe:props2=>(_state.mount=!0,_proxySubscribeFormState={..._proxySubscribeFormState,...props2.formState},_subscribe({...props2,formState:_proxySubscribeFormState})),trigger:trigger,register:register,handleSubmit:handleSubmit,watch:(name,defaultValue)=>isFunction$2(name)?_subjects.state.subscribe({next:payload=>name(_getWatch(void 0,defaultValue),payload)}):_getWatch(name,defaultValue,!0),setValue:setValue,getValues:getValues,reset:reset,resetField:(name,options={})=>{get(_fields,name)&&(isUndefined(options.defaultValue)?setValue(name,cloneObject(get(_defaultValues,name))):(setValue(name,options.defaultValue),set(_defaultValues,name,cloneObject(options.defaultValue))),options.keepTouched||unset(_formState.touchedFields,name),options.keepDirty||(unset(_formState.dirtyFields,name),_formState.isDirty=options.defaultValue?_getDirty(name,cloneObject(get(_defaultValues,name))):_getDirty()),options.keepError||(unset(_formState.errors,name),_proxyFormState.isValid&&_setValid()),_subjects.state.next({..._formState}))},clearErrors:name=>{name&&convertToArrayPayload(name).forEach(inputName=>unset(_formState.errors,inputName)),_subjects.state.next({errors:name?_formState.errors:{}})},unregister:unregister,setError:setError,setFocus:(name,options={})=>{const field=get(_fields,name),fieldReference=field&&field._f;if(fieldReference){const fieldRef=fieldReference.refs?fieldReference.refs[0]:fieldReference.ref;fieldRef.focus&&(fieldRef.focus(),options.shouldSelect&&isFunction$2(fieldRef.select)&&fieldRef.select())}},getFieldState:getFieldState};return{...methods,formControl:methods}}function useForm(props={}){const _formControl=React$1.useRef(void 0),_values=React$1.useRef(void 0),[formState,updateFormState]=React$1.useState({isDirty:!1,isValidating:!1,isLoading:isFunction$2(props.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:props.errors||{},disabled:props.disabled||!1,isReady:!1,defaultValues:isFunction$2(props.defaultValues)?void 0:props.defaultValues});if(!_formControl.current)if(props.formControl)_formControl.current={...props.formControl,formState:formState},props.defaultValues&&!isFunction$2(props.defaultValues)&&props.formControl.reset(props.defaultValues,props.resetOptions);else{const{formControl:formControl,...rest}=createFormControl(props);_formControl.current={...rest,formState:formState}}const control=_formControl.current.control;return control._options=props,useIsomorphicLayoutEffect$1(()=>{const sub=control._subscribe({formState:control._proxyFormState,callback:()=>updateFormState({...control._formState}),reRenderRoot:!0});return updateFormState(data=>({...data,isReady:!0})),control._formState.isReady=!0,sub},[control]),React$1.useEffect(()=>control._disableForm(props.disabled),[control,props.disabled]),React$1.useEffect(()=>{props.mode&&(control._options.mode=props.mode),props.reValidateMode&&(control._options.reValidateMode=props.reValidateMode)},[control,props.mode,props.reValidateMode]),React$1.useEffect(()=>{props.errors&&(control._setErrors(props.errors),control._focusError())},[control,props.errors]),React$1.useEffect(()=>{props.shouldUnregister&&control._subjects.state.next({values:control._getWatch()})},[control,props.shouldUnregister]),React$1.useEffect(()=>{if(control._proxyFormState.isDirty){const isDirty2=control._getDirty();isDirty2!==formState.isDirty&&control._subjects.state.next({isDirty:isDirty2})}},[control,formState.isDirty]),React$1.useEffect(()=>{props.values&&!deepEqual(props.values,_values.current)?(control._reset(props.values,{keepFieldsRef:!0,...control._options.resetOptions}),_values.current=props.values,updateFormState(state=>({...state}))):control._resetDefaultValues()},[control,props.values]),React$1.useEffect(()=>{control._state.mount||(control._setValid(),control._state.mount=!0),control._state.watch&&(control._state.watch=!1,control._subjects.state.next({...control._formState})),control._removeUnmounted()}),_formControl.current.formState=getProxyFormState(formState,control),_formControl.current}const s$1=(e3,s2,o2)=>{if(e3&&"reportValidity"in e3){const r2=get(o2,s2);e3.setCustomValidity(r2&&r2.message||""),e3.reportValidity()}},o$1=(t3,e3)=>{for(const o2 in e3.fields){const r2=e3.fields[o2];r2&&r2.ref&&"reportValidity"in r2.ref?s$1(r2.ref,o2,t3):r2.refs&&r2.refs.forEach(e4=>s$1(e4,o2,t3))}},r=(s2,r2)=>{r2.shouldUseNativeValidation&&o$1(s2,r2);const f2={};for(const o2 in s2){const n2=get(r2.fields,o2),a2=Object.assign(s2[o2]||{},{ref:n2&&n2.ref});if(i$2(r2.names||Object.keys(s2),o2)){const s3=Object.assign({},get(f2,o2));set(s3,"root",a2),set(f2,o2,s3)}else set(f2,o2,a2)}return f2},i$2=(t3,e3)=>t3.some(t4=>t4.startsWith(e3+"."));var util,util2,objectUtil,n$1=function(r2,e3){for(var n2={};r2.length;){var t3=r2[0],s2=t3.code,i2=t3.message,a2=t3.path.join(".");if(!n2[a2])if("unionErrors"in t3){var u2=t3.unionErrors[0].errors[0];n2[a2]={message:u2.message,type:u2.code}}else n2[a2]={message:i2,type:s2};if("unionErrors"in t3&&t3.unionErrors.forEach(function(e4){return e4.errors.forEach(function(e6){return r2.push(e6)})}),e3){var c2=n2[a2].types,f2=c2&&c2[t3.code];n2[a2]=appendErrors(a2,e3,n2,s2,f2?[].concat(f2,t3.message):t3.message)}r2.shift()}return n2},t=function(o2,t3,s2){return void 0===s2&&(s2={}),function(i2,a2,u2){try{return Promise.resolve(function(e3,n2){try{var a3=Promise.resolve(o2["sync"===s2.mode?"parse":"parseAsync"](i2,t3)).then(function(e4){return u2.shouldUseNativeValidation&&o$1({},u2),{errors:{},values:s2.raw?i2:e4}})}catch(r2){return n2(r2)}return a3&&a3.then?a3.then(void 0,n2):a3}(0,function(r$12){if(r2=r$12,Array.isArray(null==r2?void 0:r2.errors))return{values:{},errors:r(n$1(r$12.errors,!u2.shouldUseNativeValidation&&"all"===u2.criteriaMode),u2)};var r2;throw r$12}))}catch(r2){return Promise.reject(r2)}}};(util2=util||(util={})).assertEqual=_2=>{},util2.assertIs=function(_arg){},util2.assertNever=function(_x){throw new Error},util2.arrayToEnum=items=>{const obj={};for(const item of items)obj[item]=item;return obj},util2.getValidEnumValues=obj=>{const validKeys=util2.objectKeys(obj).filter(k2=>"number"!=typeof obj[obj[k2]]),filtered={};for(const k2 of validKeys)filtered[k2]=obj[k2];return util2.objectValues(filtered)},util2.objectValues=obj=>util2.objectKeys(obj).map(function(e3){return obj[e3]}),util2.objectKeys="function"==typeof Object.keys?obj=>Object.keys(obj):object2=>{const keys2=[];for(const key in object2)Object.prototype.hasOwnProperty.call(object2,key)&&keys2.push(key);return keys2},util2.find=(arr,checker)=>{for(const item of arr)if(checker(item))return item},util2.isInteger="function"==typeof Number.isInteger?val=>Number.isInteger(val):val=>"number"==typeof val&&Number.isFinite(val)&&Math.floor(val)===val,util2.joinValues=function(array2,separator=" | "){return array2.map(val=>"string"==typeof val?`'${val}'`:val).join(separator)},util2.jsonStringifyReplacer=(_2,value)=>"bigint"==typeof value?value.toString():value,(objectUtil||(objectUtil={})).mergeShapes=(first,second2)=>({...first,...second2});const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=data=>{switch(typeof data){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(data)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(data)?ZodParsedType.array:null===data?ZodParsedType.null:data.then&&"function"==typeof data.then&&data.catch&&"function"==typeof data.catch?ZodParsedType.promise:"undefined"!=typeof Map&&data instanceof Map?ZodParsedType.map:"undefined"!=typeof Set&&data instanceof Set?ZodParsedType.set:"undefined"!=typeof Date&&data instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError extends Error{get errors(){return this.issues}constructor(issues){super(),this.issues=[],this.addIssue=sub=>{this.issues=[...this.issues,sub]},this.addIssues=(subs=[])=>{this.issues=[...this.issues,...subs]};const actualProto=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,actualProto):this.__proto__=actualProto,this.name="ZodError",this.issues=issues}format(_mapper){const mapper=_mapper||function(issue){return issue.message},fieldErrors={_errors:[]},processError=error=>{for(const issue of error.issues)if("invalid_union"===issue.code)issue.unionErrors.map(processError);else if("invalid_return_type"===issue.code)processError(issue.returnTypeError);else if("invalid_arguments"===issue.code)processError(issue.argumentsError);else if(0===issue.path.length)fieldErrors._errors.push(mapper(issue));else{let curr=fieldErrors,i2=0;for(;i2<issue.path.length;){const el=issue.path[i2];i2===issue.path.length-1?(curr[el]=curr[el]||{_errors:[]},curr[el]._errors.push(mapper(issue))):curr[el]=curr[el]||{_errors:[]},curr=curr[el],i2++}}};return processError(this),fieldErrors}static assert(value){if(!(value instanceof ZodError))throw new Error(`Not a ZodError: ${value}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(mapper=issue=>issue.message){const fieldErrors={},formErrors=[];for(const sub of this.issues)if(sub.path.length>0){const firstEl=sub.path[0];fieldErrors[firstEl]=fieldErrors[firstEl]||[],fieldErrors[firstEl].push(mapper(sub))}else formErrors.push(mapper(sub));return{formErrors:formErrors,fieldErrors:fieldErrors}}get formErrors(){return this.flatten()}}ZodError.create=issues=>new ZodError(issues);const errorMap=(issue,_ctx)=>{let message2;switch(issue.code){case ZodIssueCode.invalid_type:message2=issue.received===ZodParsedType.undefined?"Required":`Expected ${issue.expected}, received ${issue.received}`;break;case ZodIssueCode.invalid_literal:message2=`Invalid literal value, expected ${JSON.stringify(issue.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:message2=`Unrecognized key(s) in object: ${util.joinValues(issue.keys,", ")}`;break;case ZodIssueCode.invalid_union:message2="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:message2=`Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;break;case ZodIssueCode.invalid_enum_value:message2=`Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;break;case ZodIssueCode.invalid_arguments:message2="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:message2="Invalid function return type";break;case ZodIssueCode.invalid_date:message2="Invalid date";break;case ZodIssueCode.invalid_string:"object"==typeof issue.validation?"includes"in issue.validation?(message2=`Invalid input: must include "${issue.validation.includes}"`,"number"==typeof issue.validation.position&&(message2=`${message2} at one or more positions greater than or equal to ${issue.validation.position}`)):"startsWith"in issue.validation?message2=`Invalid input: must start with "${issue.validation.startsWith}"`:"endsWith"in issue.validation?message2=`Invalid input: must end with "${issue.validation.endsWith}"`:util.assertNever(issue.validation):message2="regex"!==issue.validation?`Invalid ${issue.validation}`:"Invalid";break;case ZodIssueCode.too_small:message2="array"===issue.type?`Array must contain ${issue.exact?"exactly":issue.inclusive?"at least":"more than"} ${issue.minimum} element(s)`:"string"===issue.type?`String must contain ${issue.exact?"exactly":issue.inclusive?"at least":"over"} ${issue.minimum} character(s)`:"number"===issue.type||"bigint"===issue.type?`Number must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${issue.minimum}`:"date"===issue.type?`Date must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(issue.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:message2="array"===issue.type?`Array must contain ${issue.exact?"exactly":issue.inclusive?"at most":"less than"} ${issue.maximum} element(s)`:"string"===issue.type?`String must contain ${issue.exact?"exactly":issue.inclusive?"at most":"under"} ${issue.maximum} character(s)`:"number"===issue.type?`Number must be ${issue.exact?"exactly":issue.inclusive?"less than or equal to":"less than"} ${issue.maximum}`:"bigint"===issue.type?`BigInt must be ${issue.exact?"exactly":issue.inclusive?"less than or equal to":"less than"} ${issue.maximum}`:"date"===issue.type?`Date must be ${issue.exact?"exactly":issue.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(issue.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:message2="Invalid input";break;case ZodIssueCode.invalid_intersection_types:message2="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:message2=`Number must be a multiple of ${issue.multipleOf}`;break;case ZodIssueCode.not_finite:message2="Number must be finite";break;default:message2=_ctx.defaultError,util.assertNever(issue)}return{message:message2}};let overrideErrorMap=errorMap;function addIssueToContext(ctx,issueData){const overrideMap=overrideErrorMap,issue=(params=>{const{data:data,path:path,errorMaps:errorMaps,issueData:issueData}=params,fullPath=[...path,...issueData.path||[]],fullIssue={...issueData,path:fullPath};if(void 0!==issueData.message)return{...issueData,path:fullPath,message:issueData.message};let errorMessage="";const maps=errorMaps.filter(m2=>!!m2).slice().reverse();for(const map2 of maps)errorMessage=map2(fullIssue,{data:data,defaultError:errorMessage}).message;return{...issueData,path:fullPath,message:errorMessage}})({issueData:issueData,data:ctx.data,path:ctx.path,errorMaps:[ctx.common.contextualErrorMap,ctx.schemaErrorMap,overrideMap,overrideMap===errorMap?void 0:errorMap].filter(x2=>!!x2)});ctx.common.issues.push(issue)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(status,results){const arrayValue=[];for(const s2 of results){if("aborted"===s2.status)return INVALID;"dirty"===s2.status&&status.dirty(),arrayValue.push(s2.value)}return{status:status.value,value:arrayValue}}static async mergeObjectAsync(status,pairs){const syncPairs=[];for(const pair of pairs){const key=await pair.key,value=await pair.value;syncPairs.push({key:key,value:value})}return ParseStatus.mergeObjectSync(status,syncPairs)}static mergeObjectSync(status,pairs){const finalObject={};for(const pair of pairs){const{key:key,value:value}=pair;if("aborted"===key.status)return INVALID;if("aborted"===value.status)return INVALID;"dirty"===key.status&&status.dirty(),"dirty"===value.status&&status.dirty(),"__proto__"===key.value||void 0===value.value&&!pair.alwaysSet||(finalObject[key.value]=value.value)}return{status:status.value,value:finalObject}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=value=>({status:"dirty",value:value}),OK=value=>({status:"valid",value:value}),isAborted=x2=>"aborted"===x2.status,isDirty=x2=>"dirty"===x2.status,isValid$1=x2=>"valid"===x2.status,isAsync=x2=>"undefined"!=typeof Promise&&x2 instanceof Promise;var errorUtil,errorUtil2;(errorUtil2=errorUtil||(errorUtil={})).errToObj=message2=>"string"==typeof message2?{message:message2}:message2||{},errorUtil2.toString=message2=>"string"==typeof message2?message2:null==message2?void 0:message2.message;class ParseInputLazyPath{constructor(parent,value,path,key){this._cachedPath=[],this.parent=parent,this.data=value,this._path=path,this._key=key}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(ctx,result)=>{if(isValid$1(result))return{success:!0,data:result.value};if(!ctx.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const error=new ZodError(ctx.common.issues);return this._error=error,this._error}}};function processCreateParams(params){if(!params)return{};const{errorMap:errorMap2,invalid_type_error:invalid_type_error,required_error:required_error,description:description}=params;if(errorMap2&&(invalid_type_error||required_error))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(errorMap2)return{errorMap:errorMap2,description:description};return{errorMap:(iss,ctx)=>{const{message:message2}=params;return"invalid_enum_value"===iss.code?{message:message2??ctx.defaultError}:void 0===ctx.data?{message:message2??required_error??ctx.defaultError}:"invalid_type"!==iss.code?{message:ctx.defaultError}:{message:message2??invalid_type_error??ctx.defaultError}},description:description}}class ZodType{get description(){return this._def.description}_getType(input){return getParsedType(input.data)}_getOrReturnCtx(input,ctx){return ctx||{common:input.parent.common,data:input.data,parsedType:getParsedType(input.data),schemaErrorMap:this._def.errorMap,path:input.path,parent:input.parent}}_processInputParams(input){return{status:new ParseStatus,ctx:{common:input.parent.common,data:input.data,parsedType:getParsedType(input.data),schemaErrorMap:this._def.errorMap,path:input.path,parent:input.parent}}}_parseSync(input){const result=this._parse(input);if(isAsync(result))throw new Error("Synchronous parse encountered promise.");return result}_parseAsync(input){const result=this._parse(input);return Promise.resolve(result)}parse(data,params){const result=this.safeParse(data,params);if(result.success)return result.data;throw result.error}safeParse(data,params){const ctx={common:{issues:[],async:(null==params?void 0:params.async)??!1,contextualErrorMap:null==params?void 0:params.errorMap},path:(null==params?void 0:params.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:data,parsedType:getParsedType(data)},result=this._parseSync({data:data,path:ctx.path,parent:ctx});return handleResult(ctx,result)}"~validate"(data){var _a3,_b3;const ctx={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:data,parsedType:getParsedType(data)};if(!this["~standard"].async)try{const result=this._parseSync({data:data,path:[],parent:ctx});return isValid$1(result)?{value:result.value}:{issues:ctx.common.issues}}catch(err2){(null==(_b3=null==(_a3=null==err2?void 0:err2.message)?void 0:_a3.toLowerCase())?void 0:_b3.includes("encountered"))&&(this["~standard"].async=!0),ctx.common={issues:[],async:!0}}return this._parseAsync({data:data,path:[],parent:ctx}).then(result=>isValid$1(result)?{value:result.value}:{issues:ctx.common.issues})}async parseAsync(data,params){const result=await this.safeParseAsync(data,params);if(result.success)return result.data;throw result.error}async safeParseAsync(data,params){const ctx={common:{issues:[],contextualErrorMap:null==params?void 0:params.errorMap,async:!0},path:(null==params?void 0:params.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:data,parsedType:getParsedType(data)},maybeAsyncResult=this._parse({data:data,path:ctx.path,parent:ctx}),result=await(isAsync(maybeAsyncResult)?maybeAsyncResult:Promise.resolve(maybeAsyncResult));return handleResult(ctx,result)}refine(check,message2){const getIssueProperties=val=>"string"==typeof message2||void 0===message2?{message:message2}:"function"==typeof message2?message2(val):message2;return this._refinement((val,ctx)=>{const result=check(val),setError=()=>ctx.addIssue({code:ZodIssueCode.custom,...getIssueProperties(val)});return"undefined"!=typeof Promise&&result instanceof Promise?result.then(data=>!!data||(setError(),!1)):!!result||(setError(),!1)})}refinement(check,refinementData){return this._refinement((val,ctx)=>!!check(val)||(ctx.addIssue("function"==typeof refinementData?refinementData(val,ctx):refinementData),!1))}_refinement(refinement){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:refinement}})}superRefine(refinement){return this._refinement(refinement)}constructor(def){this.spa=this.safeParseAsync,this._def=def,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:data=>this["~validate"](data)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(option){return ZodUnion.create([this,option],this._def)}and(incoming){return ZodIntersection.create(this,incoming,this._def)}transform(transform){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:transform}})}default(def){const defaultValueFunc="function"==typeof def?def:()=>def;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:defaultValueFunc,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(def){const catchValueFunc="function"==typeof def?def:()=>def;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:catchValueFunc,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(description){return new(0,this.constructor)({...this._def,description:description})}pipe(target){return ZodPipeline.create(this,target)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex$1=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(args){let secondsRegexSource="[0-5]\\d";args.precision?secondsRegexSource=`${secondsRegexSource}\\.\\d{${args.precision}}`:null==args.precision&&(secondsRegexSource=`${secondsRegexSource}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${args.precision?"+":"?"}`}function timeRegex$1(args){return new RegExp(`^${timeRegexSource(args)}$`)}function datetimeRegex(args){let regex=`${dateRegexSource}T${timeRegexSource(args)}`;const opts=[];return opts.push(args.local?"Z?":"Z"),args.offset&&opts.push("([+-]\\d{2}:?\\d{2})"),regex=`${regex}(${opts.join("|")})`,new RegExp(`^${regex}$`)}function isValidIP(ip,version){return!("v4"!==version&&version||!ipv4Regex.test(ip))||!("v6"!==version&&version||!ipv6Regex.test(ip))}function isValidJWT(jwt,alg){if(!jwtRegex.test(jwt))return!1;try{const[header]=jwt.split(".");if(!header)return!1;const base64=header.replace(/-/g,"+").replace(/_/g,"/").padEnd(header.length+(4-header.length%4)%4,"="),decoded=JSON.parse(atob(base64));return"object"==typeof decoded&&null!==decoded&&((!("typ"in decoded)||"JWT"===(null==decoded?void 0:decoded.typ))&&(!!decoded.alg&&(!alg||decoded.alg===alg)))}catch{return!1}}function isValidCidr(ip,version){return!("v4"!==version&&version||!ipv4CidrRegex.test(ip))||!("v6"!==version&&version||!ipv6CidrRegex.test(ip))}class ZodString extends ZodType{_parse(input){this._def.coerce&&(input.data=String(input.data));if(this._getType(input)!==ZodParsedType.string){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:ctx2.parsedType}),INVALID}const status=new ParseStatus;let ctx;for(const check of this._def.checks)if("min"===check.kind)input.data.length<check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"string",inclusive:!0,exact:!1,message:check.message}),status.dirty());else if("max"===check.kind)input.data.length>check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"string",inclusive:!0,exact:!1,message:check.message}),status.dirty());else if("length"===check.kind){const tooBig=input.data.length>check.value,tooSmall=input.data.length<check.value;(tooBig||tooSmall)&&(ctx=this._getOrReturnCtx(input,ctx),tooBig?addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"string",inclusive:!0,exact:!0,message:check.message}):tooSmall&&addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"string",inclusive:!0,exact:!0,message:check.message}),status.dirty())}else if("email"===check.kind)emailRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"email",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("emoji"===check.kind)emojiRegex||(emojiRegex=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),emojiRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"emoji",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("uuid"===check.kind)uuidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"uuid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("nanoid"===check.kind)nanoidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("cuid"===check.kind)cuidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cuid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("cuid2"===check.kind)cuid2Regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("ulid"===check.kind)ulidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"ulid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("url"===check.kind)try{new URL(input.data)}catch{ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"url",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()}else if("regex"===check.kind){check.regex.lastIndex=0;check.regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"regex",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty())}else if("trim"===check.kind)input.data=input.data.trim();else if("includes"===check.kind)input.data.includes(check.value,check.position)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{includes:check.value,position:check.position},message:check.message}),status.dirty());else if("toLowerCase"===check.kind)input.data=input.data.toLowerCase();else if("toUpperCase"===check.kind)input.data=input.data.toUpperCase();else if("startsWith"===check.kind)input.data.startsWith(check.value)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{startsWith:check.value},message:check.message}),status.dirty());else if("endsWith"===check.kind)input.data.endsWith(check.value)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{endsWith:check.value},message:check.message}),status.dirty());else if("datetime"===check.kind){datetimeRegex(check).test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"datetime",message:check.message}),status.dirty())}else if("date"===check.kind){dateRegex$1.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"date",message:check.message}),status.dirty())}else if("time"===check.kind){timeRegex$1(check).test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"time",message:check.message}),status.dirty())}else"duration"===check.kind?durationRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"duration",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"ip"===check.kind?isValidIP(input.data,check.version)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"ip",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"jwt"===check.kind?isValidJWT(input.data,check.alg)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"jwt",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"cidr"===check.kind?isValidCidr(input.data,check.version)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cidr",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"base64"===check.kind?base64Regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"base64",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"base64url"===check.kind?base64urlRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"base64url",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):util.assertNever(check);return{status:status.value,value:input.data}}_regex(regex,validation,message2){return this.refinement(data=>regex.test(data),{validation:validation,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(message2)})}_addCheck(check){return new ZodString({...this._def,checks:[...this._def.checks,check]})}email(message2){return this._addCheck({kind:"email",...errorUtil.errToObj(message2)})}url(message2){return this._addCheck({kind:"url",...errorUtil.errToObj(message2)})}emoji(message2){return this._addCheck({kind:"emoji",...errorUtil.errToObj(message2)})}uuid(message2){return this._addCheck({kind:"uuid",...errorUtil.errToObj(message2)})}nanoid(message2){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(message2)})}cuid(message2){return this._addCheck({kind:"cuid",...errorUtil.errToObj(message2)})}cuid2(message2){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(message2)})}ulid(message2){return this._addCheck({kind:"ulid",...errorUtil.errToObj(message2)})}base64(message2){return this._addCheck({kind:"base64",...errorUtil.errToObj(message2)})}base64url(message2){return this._addCheck({kind:"base64url",...errorUtil.errToObj(message2)})}jwt(options){return this._addCheck({kind:"jwt",...errorUtil.errToObj(options)})}ip(options){return this._addCheck({kind:"ip",...errorUtil.errToObj(options)})}cidr(options){return this._addCheck({kind:"cidr",...errorUtil.errToObj(options)})}datetime(options){return"string"==typeof options?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:options}):this._addCheck({kind:"datetime",precision:void 0===(null==options?void 0:options.precision)?null:null==options?void 0:options.precision,offset:(null==options?void 0:options.offset)??!1,local:(null==options?void 0:options.local)??!1,...errorUtil.errToObj(null==options?void 0:options.message)})}date(message2){return this._addCheck({kind:"date",message:message2})}time(options){return"string"==typeof options?this._addCheck({kind:"time",precision:null,message:options}):this._addCheck({kind:"time",precision:void 0===(null==options?void 0:options.precision)?null:null==options?void 0:options.precision,...errorUtil.errToObj(null==options?void 0:options.message)})}duration(message2){return this._addCheck({kind:"duration",...errorUtil.errToObj(message2)})}regex(regex,message2){return this._addCheck({kind:"regex",regex:regex,...errorUtil.errToObj(message2)})}includes(value,options){return this._addCheck({kind:"includes",value:value,position:null==options?void 0:options.position,...errorUtil.errToObj(null==options?void 0:options.message)})}startsWith(value,message2){return this._addCheck({kind:"startsWith",value:value,...errorUtil.errToObj(message2)})}endsWith(value,message2){return this._addCheck({kind:"endsWith",value:value,...errorUtil.errToObj(message2)})}min(minLength,message2){return this._addCheck({kind:"min",value:minLength,...errorUtil.errToObj(message2)})}max(maxLength,message2){return this._addCheck({kind:"max",value:maxLength,...errorUtil.errToObj(message2)})}length(len,message2){return this._addCheck({kind:"length",value:len,...errorUtil.errToObj(message2)})}nonempty(message2){return this.min(1,errorUtil.errToObj(message2))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(ch=>"datetime"===ch.kind)}get isDate(){return!!this._def.checks.find(ch=>"date"===ch.kind)}get isTime(){return!!this._def.checks.find(ch=>"time"===ch.kind)}get isDuration(){return!!this._def.checks.find(ch=>"duration"===ch.kind)}get isEmail(){return!!this._def.checks.find(ch=>"email"===ch.kind)}get isURL(){return!!this._def.checks.find(ch=>"url"===ch.kind)}get isEmoji(){return!!this._def.checks.find(ch=>"emoji"===ch.kind)}get isUUID(){return!!this._def.checks.find(ch=>"uuid"===ch.kind)}get isNANOID(){return!!this._def.checks.find(ch=>"nanoid"===ch.kind)}get isCUID(){return!!this._def.checks.find(ch=>"cuid"===ch.kind)}get isCUID2(){return!!this._def.checks.find(ch=>"cuid2"===ch.kind)}get isULID(){return!!this._def.checks.find(ch=>"ulid"===ch.kind)}get isIP(){return!!this._def.checks.find(ch=>"ip"===ch.kind)}get isCIDR(){return!!this._def.checks.find(ch=>"cidr"===ch.kind)}get isBase64(){return!!this._def.checks.find(ch=>"base64"===ch.kind)}get isBase64url(){return!!this._def.checks.find(ch=>"base64url"===ch.kind)}get minLength(){let min2=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min2||ch.value>min2)&&(min2=ch.value);return min2}get maxLength(){let max2=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max2||ch.value<max2)&&(max2=ch.value);return max2}}function floatSafeRemainder(val,step){const valDecCount=(val.toString().split(".")[1]||"").length,stepDecCount=(step.toString().split(".")[1]||"").length,decCount=valDecCount>stepDecCount?valDecCount:stepDecCount;return Number.parseInt(val.toFixed(decCount).replace(".",""))%Number.parseInt(step.toFixed(decCount).replace(".",""))/10**decCount}ZodString.create=params=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:(null==params?void 0:params.coerce)??!1,...processCreateParams(params)});class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(input){this._def.coerce&&(input.data=Number(input.data));if(this._getType(input)!==ZodParsedType.number){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:ctx2.parsedType}),INVALID}let ctx;const status=new ParseStatus;for(const check of this._def.checks)if("int"===check.kind)util.isInteger(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:check.message}),status.dirty());else if("min"===check.kind){(check.inclusive?input.data<check.value:input.data<=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"number",inclusive:check.inclusive,exact:!1,message:check.message}),status.dirty())}else if("max"===check.kind){(check.inclusive?input.data>check.value:input.data>=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"number",inclusive:check.inclusive,exact:!1,message:check.message}),status.dirty())}else"multipleOf"===check.kind?0!==floatSafeRemainder(input.data,check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_multiple_of,multipleOf:check.value,message:check.message}),status.dirty()):"finite"===check.kind?Number.isFinite(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_finite,message:check.message}),status.dirty()):util.assertNever(check);return{status:status.value,value:input.data}}gte(value,message2){return this.setLimit("min",value,!0,errorUtil.toString(message2))}gt(value,message2){return this.setLimit("min",value,!1,errorUtil.toString(message2))}lte(value,message2){return this.setLimit("max",value,!0,errorUtil.toString(message2))}lt(value,message2){return this.setLimit("max",value,!1,errorUtil.toString(message2))}setLimit(kind,value,inclusive,message2){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:kind,value:value,inclusive:inclusive,message:errorUtil.toString(message2)}]})}_addCheck(check){return new ZodNumber({...this._def,checks:[...this._def.checks,check]})}int(message2){return this._addCheck({kind:"int",message:errorUtil.toString(message2)})}positive(message2){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(message2)})}negative(message2){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(message2)})}nonpositive(message2){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(message2)})}nonnegative(message2){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(message2)})}multipleOf(value,message2){return this._addCheck({kind:"multipleOf",value:value,message:errorUtil.toString(message2)})}finite(message2){return this._addCheck({kind:"finite",message:errorUtil.toString(message2)})}safe(message2){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(message2)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(message2)})}get minValue(){let min2=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min2||ch.value>min2)&&(min2=ch.value);return min2}get maxValue(){let max2=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max2||ch.value<max2)&&(max2=ch.value);return max2}get isInt(){return!!this._def.checks.find(ch=>"int"===ch.kind||"multipleOf"===ch.kind&&util.isInteger(ch.value))}get isFinite(){let max2=null,min2=null;for(const ch of this._def.checks){if("finite"===ch.kind||"int"===ch.kind||"multipleOf"===ch.kind)return!0;"min"===ch.kind?(null===min2||ch.value>min2)&&(min2=ch.value):"max"===ch.kind&&(null===max2||ch.value<max2)&&(max2=ch.value)}return Number.isFinite(min2)&&Number.isFinite(max2)}}ZodNumber.create=params=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(null==params?void 0:params.coerce)||!1,...processCreateParams(params)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(input){if(this._def.coerce)try{input.data=BigInt(input.data)}catch{return this._getInvalidInput(input)}if(this._getType(input)!==ZodParsedType.bigint)return this._getInvalidInput(input);let ctx;const status=new ParseStatus;for(const check of this._def.checks)if("min"===check.kind){(check.inclusive?input.data<check.value:input.data<=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,type:"bigint",minimum:check.value,inclusive:check.inclusive,message:check.message}),status.dirty())}else if("max"===check.kind){(check.inclusive?input.data>check.value:input.data>=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,type:"bigint",maximum:check.value,inclusive:check.inclusive,message:check.message}),status.dirty())}else"multipleOf"===check.kind?input.data%check.value!==BigInt(0)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_multiple_of,multipleOf:check.value,message:check.message}),status.dirty()):util.assertNever(check);return{status:status.value,value:input.data}}_getInvalidInput(input){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:ctx.parsedType}),INVALID}gte(value,message2){return this.setLimit("min",value,!0,errorUtil.toString(message2))}gt(value,message2){return this.setLimit("min",value,!1,errorUtil.toString(message2))}lte(value,message2){return this.setLimit("max",value,!0,errorUtil.toString(message2))}lt(value,message2){return this.setLimit("max",value,!1,errorUtil.toString(message2))}setLimit(kind,value,inclusive,message2){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:kind,value:value,inclusive:inclusive,message:errorUtil.toString(message2)}]})}_addCheck(check){return new ZodBigInt({...this._def,checks:[...this._def.checks,check]})}positive(message2){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(message2)})}negative(message2){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(message2)})}nonpositive(message2){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(message2)})}nonnegative(message2){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(message2)})}multipleOf(value,message2){return this._addCheck({kind:"multipleOf",value:value,message:errorUtil.toString(message2)})}get minValue(){let min2=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min2||ch.value>min2)&&(min2=ch.value);return min2}get maxValue(){let max2=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max2||ch.value<max2)&&(max2=ch.value);return max2}}ZodBigInt.create=params=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:(null==params?void 0:params.coerce)??!1,...processCreateParams(params)});class ZodBoolean extends ZodType{_parse(input){this._def.coerce&&(input.data=Boolean(input.data));if(this._getType(input)!==ZodParsedType.boolean){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodBoolean.create=params=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(null==params?void 0:params.coerce)||!1,...processCreateParams(params)});class ZodDate extends ZodType{_parse(input){this._def.coerce&&(input.data=new Date(input.data));if(this._getType(input)!==ZodParsedType.date){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:ctx2.parsedType}),INVALID}if(Number.isNaN(input.data.getTime())){return addIssueToContext(this._getOrReturnCtx(input),{code:ZodIssueCode.invalid_date}),INVALID}const status=new ParseStatus;let ctx;for(const check of this._def.checks)"min"===check.kind?input.data.getTime()<check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,message:check.message,inclusive:!0,exact:!1,minimum:check.value,type:"date"}),status.dirty()):"max"===check.kind?input.data.getTime()>check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,message:check.message,inclusive:!0,exact:!1,maximum:check.value,type:"date"}),status.dirty()):util.assertNever(check);return{status:status.value,value:new Date(input.data.getTime())}}_addCheck(check){return new ZodDate({...this._def,checks:[...this._def.checks,check]})}min(minDate,message2){return this._addCheck({kind:"min",value:minDate.getTime(),message:errorUtil.toString(message2)})}max(maxDate,message2){return this._addCheck({kind:"max",value:maxDate.getTime(),message:errorUtil.toString(message2)})}get minDate(){let min2=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min2||ch.value>min2)&&(min2=ch.value);return null!=min2?new Date(min2):null}get maxDate(){let max2=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max2||ch.value<max2)&&(max2=ch.value);return null!=max2?new Date(max2):null}}ZodDate.create=params=>new ZodDate({checks:[],coerce:(null==params?void 0:params.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(params)});class ZodSymbol extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.symbol){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodSymbol.create=params=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(params)});class ZodUndefined extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.undefined){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodUndefined.create=params=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(params)});class ZodNull extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.null){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodNull.create=params=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(params)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(input){return OK(input.data)}}ZodAny.create=params=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(params)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(input){return OK(input.data)}}ZodUnknown.create=params=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(params)});class ZodNever extends ZodType{_parse(input){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ctx.parsedType}),INVALID}}ZodNever.create=params=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(params)});class ZodVoid extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.undefined){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:ctx.parsedType}),INVALID}return OK(input.data)}}ZodVoid.create=params=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(params)});class ZodArray extends ZodType{_parse(input){const{ctx:ctx,status:status}=this._processInputParams(input),def=this._def;if(ctx.parsedType!==ZodParsedType.array)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ctx.parsedType}),INVALID;if(null!==def.exactLength){const tooBig=ctx.data.length>def.exactLength.value,tooSmall=ctx.data.length<def.exactLength.value;(tooBig||tooSmall)&&(addIssueToContext(ctx,{code:tooBig?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:tooSmall?def.exactLength.value:void 0,maximum:tooBig?def.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:def.exactLength.message}),status.dirty())}if(null!==def.minLength&&ctx.data.length<def.minLength.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:def.minLength.value,type:"array",inclusive:!0,exact:!1,message:def.minLength.message}),status.dirty()),null!==def.maxLength&&ctx.data.length>def.maxLength.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:def.maxLength.value,type:"array",inclusive:!0,exact:!1,message:def.maxLength.message}),status.dirty()),ctx.common.async)return Promise.all([...ctx.data].map((item,i2)=>def.type._parseAsync(new ParseInputLazyPath(ctx,item,ctx.path,i2)))).then(result2=>ParseStatus.mergeArray(status,result2));const result=[...ctx.data].map((item,i2)=>def.type._parseSync(new ParseInputLazyPath(ctx,item,ctx.path,i2)));return ParseStatus.mergeArray(status,result)}get element(){return this._def.type}min(minLength,message2){return new ZodArray({...this._def,minLength:{value:minLength,message:errorUtil.toString(message2)}})}max(maxLength,message2){return new ZodArray({...this._def,maxLength:{value:maxLength,message:errorUtil.toString(message2)}})}length(len,message2){return new ZodArray({...this._def,exactLength:{value:len,message:errorUtil.toString(message2)}})}nonempty(message2){return this.min(1,message2)}}function deepPartialify(schema){if(schema instanceof ZodObject){const newShape={};for(const key in schema.shape){const fieldSchema=schema.shape[key];newShape[key]=ZodOptional.create(deepPartialify(fieldSchema))}return new ZodObject({...schema._def,shape:()=>newShape})}return schema instanceof ZodArray?new ZodArray({...schema._def,type:deepPartialify(schema.element)}):schema instanceof ZodOptional?ZodOptional.create(deepPartialify(schema.unwrap())):schema instanceof ZodNullable?ZodNullable.create(deepPartialify(schema.unwrap())):schema instanceof ZodTuple?ZodTuple.create(schema.items.map(item=>deepPartialify(item))):schema}ZodArray.create=(schema,params)=>new ZodArray({type:schema,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(params)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const shape=this._def.shape(),keys2=util.objectKeys(shape);return this._cached={shape:shape,keys:keys2},this._cached}_parse(input){if(this._getType(input)!==ZodParsedType.object){const ctx2=this._getOrReturnCtx(input);return addIssueToContext(ctx2,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ctx2.parsedType}),INVALID}const{status:status,ctx:ctx}=this._processInputParams(input),{shape:shape,keys:shapeKeys}=this._getCached(),extraKeys=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const key in ctx.data)shapeKeys.includes(key)||extraKeys.push(key);const pairs=[];for(const key of shapeKeys){const keyValidator=shape[key],value=ctx.data[key];pairs.push({key:{status:"valid",value:key},value:keyValidator._parse(new ParseInputLazyPath(ctx,value,ctx.path,key)),alwaysSet:key in ctx.data})}if(this._def.catchall instanceof ZodNever){const unknownKeys=this._def.unknownKeys;if("passthrough"===unknownKeys)for(const key of extraKeys)pairs.push({key:{status:"valid",value:key},value:{status:"valid",value:ctx.data[key]}});else if("strict"===unknownKeys)extraKeys.length>0&&(addIssueToContext(ctx,{code:ZodIssueCode.unrecognized_keys,keys:extraKeys}),status.dirty());else if("strip"!==unknownKeys)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const catchall=this._def.catchall;for(const key of extraKeys){const value=ctx.data[key];pairs.push({key:{status:"valid",value:key},value:catchall._parse(new ParseInputLazyPath(ctx,value,ctx.path,key)),alwaysSet:key in ctx.data})}}return ctx.common.async?Promise.resolve().then(async()=>{const syncPairs=[];for(const pair of pairs){const key=await pair.key,value=await pair.value;syncPairs.push({key:key,value:value,alwaysSet:pair.alwaysSet})}return syncPairs}).then(syncPairs=>ParseStatus.mergeObjectSync(status,syncPairs)):ParseStatus.mergeObjectSync(status,pairs)}get shape(){return this._def.shape()}strict(message2){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==message2?{errorMap:(issue,ctx)=>{var _a3,_b3;const defaultError=(null==(_b3=(_a3=this._def).errorMap)?void 0:_b3.call(_a3,issue,ctx).message)??ctx.defaultError;return"unrecognized_keys"===issue.code?{message:errorUtil.errToObj(message2).message??defaultError}:{message:defaultError}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(augmentation){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...augmentation})})}merge(merging){return new ZodObject({unknownKeys:merging._def.unknownKeys,catchall:merging._def.catchall,shape:()=>({...this._def.shape(),...merging._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(key,schema){return this.augment({[key]:schema})}catchall(index){return new ZodObject({...this._def,catchall:index})}pick(mask){const shape={};for(const key of util.objectKeys(mask))mask[key]&&this.shape[key]&&(shape[key]=this.shape[key]);return new ZodObject({...this._def,shape:()=>shape})}omit(mask){const shape={};for(const key of util.objectKeys(this.shape))mask[key]||(shape[key]=this.shape[key]);return new ZodObject({...this._def,shape:()=>shape})}deepPartial(){return deepPartialify(this)}partial(mask){const newShape={};for(const key of util.objectKeys(this.shape)){const fieldSchema=this.shape[key];mask&&!mask[key]?newShape[key]=fieldSchema:newShape[key]=fieldSchema.optional()}return new ZodObject({...this._def,shape:()=>newShape})}required(mask){const newShape={};for(const key of util.objectKeys(this.shape))if(mask&&!mask[key])newShape[key]=this.shape[key];else{let newField=this.shape[key];for(;newField instanceof ZodOptional;)newField=newField._def.innerType;newShape[key]=newField}return new ZodObject({...this._def,shape:()=>newShape})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(shape,params)=>new ZodObject({shape:()=>shape,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)}),ZodObject.strictCreate=(shape,params)=>new ZodObject({shape:()=>shape,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)}),ZodObject.lazycreate=(shape,params)=>new ZodObject({shape:shape,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)});class ZodUnion extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input),options=this._def.options;if(ctx.common.async)return Promise.all(options.map(async option=>{const childCtx={...ctx,common:{...ctx.common,issues:[]},parent:null};return{result:await option._parseAsync({data:ctx.data,path:ctx.path,parent:childCtx}),ctx:childCtx}})).then(function(results){for(const result of results)if("valid"===result.result.status)return result.result;for(const result of results)if("dirty"===result.result.status)return ctx.common.issues.push(...result.ctx.common.issues),result.result;const unionErrors=results.map(result=>new ZodError(result.ctx.common.issues));return addIssueToContext(ctx,{code:ZodIssueCode.invalid_union,unionErrors:unionErrors}),INVALID});{let dirty;const issues=[];for(const option of options){const childCtx={...ctx,common:{...ctx.common,issues:[]},parent:null},result=option._parseSync({data:ctx.data,path:ctx.path,parent:childCtx});if("valid"===result.status)return result;"dirty"!==result.status||dirty||(dirty={result:result,ctx:childCtx}),childCtx.common.issues.length&&issues.push(childCtx.common.issues)}if(dirty)return ctx.common.issues.push(...dirty.ctx.common.issues),dirty.result;const unionErrors=issues.map(issues2=>new ZodError(issues2));return addIssueToContext(ctx,{code:ZodIssueCode.invalid_union,unionErrors:unionErrors}),INVALID}}get options(){return this._def.options}}function mergeValues(a2,b2){const aType=getParsedType(a2),bType=getParsedType(b2);if(a2===b2)return{valid:!0,data:a2};if(aType===ZodParsedType.object&&bType===ZodParsedType.object){const bKeys=util.objectKeys(b2),sharedKeys=util.objectKeys(a2).filter(key=>-1!==bKeys.indexOf(key)),newObj={...a2,...b2};for(const key of sharedKeys){const sharedValue=mergeValues(a2[key],b2[key]);if(!sharedValue.valid)return{valid:!1};newObj[key]=sharedValue.data}return{valid:!0,data:newObj}}if(aType===ZodParsedType.array&&bType===ZodParsedType.array){if(a2.length!==b2.length)return{valid:!1};const newArray=[];for(let index=0;index<a2.length;index++){const sharedValue=mergeValues(a2[index],b2[index]);if(!sharedValue.valid)return{valid:!1};newArray.push(sharedValue.data)}return{valid:!0,data:newArray}}return aType===ZodParsedType.date&&bType===ZodParsedType.date&&+a2===+b2?{valid:!0,data:a2}:{valid:!1}}ZodUnion.create=(types,params)=>new ZodUnion({options:types,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(params)});class ZodIntersection extends ZodType{_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input),handleParsed=(parsedLeft,parsedRight)=>{if(isAborted(parsedLeft)||isAborted(parsedRight))return INVALID;const merged=mergeValues(parsedLeft.value,parsedRight.value);return merged.valid?((isDirty(parsedLeft)||isDirty(parsedRight))&&status.dirty(),{status:status.value,value:merged.data}):(addIssueToContext(ctx,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return ctx.common.async?Promise.all([this._def.left._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}),this._def.right._parseAsync({data:ctx.data,path:ctx.path,parent:ctx})]).then(([left,right])=>handleParsed(left,right)):handleParsed(this._def.left._parseSync({data:ctx.data,path:ctx.path,parent:ctx}),this._def.right._parseSync({data:ctx.data,path:ctx.path,parent:ctx}))}}ZodIntersection.create=(left,right,params)=>new ZodIntersection({left:left,right:right,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(params)});class ZodTuple extends ZodType{_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.array)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ctx.parsedType}),INVALID;if(ctx.data.length<this._def.items.length)return addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&ctx.data.length>this._def.items.length&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),status.dirty());const items=[...ctx.data].map((item,itemIndex)=>{const schema=this._def.items[itemIndex]||this._def.rest;return schema?schema._parse(new ParseInputLazyPath(ctx,item,ctx.path,itemIndex)):null}).filter(x2=>!!x2);return ctx.common.async?Promise.all(items).then(results=>ParseStatus.mergeArray(status,results)):ParseStatus.mergeArray(status,items)}get items(){return this._def.items}rest(rest){return new ZodTuple({...this._def,rest:rest})}}ZodTuple.create=(schemas,params)=>{if(!Array.isArray(schemas))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:schemas,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(params)})};class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.map)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:ctx.parsedType}),INVALID;const keyType=this._def.keyType,valueType=this._def.valueType,pairs=[...ctx.data.entries()].map(([key,value],index)=>({key:keyType._parse(new ParseInputLazyPath(ctx,key,ctx.path,[index,"key"])),value:valueType._parse(new ParseInputLazyPath(ctx,value,ctx.path,[index,"value"]))}));if(ctx.common.async){const finalMap=new Map;return Promise.resolve().then(async()=>{for(const pair of pairs){const key=await pair.key,value=await pair.value;if("aborted"===key.status||"aborted"===value.status)return INVALID;"dirty"!==key.status&&"dirty"!==value.status||status.dirty(),finalMap.set(key.value,value.value)}return{status:status.value,value:finalMap}})}{const finalMap=new Map;for(const pair of pairs){const key=pair.key,value=pair.value;if("aborted"===key.status||"aborted"===value.status)return INVALID;"dirty"!==key.status&&"dirty"!==value.status||status.dirty(),finalMap.set(key.value,value.value)}return{status:status.value,value:finalMap}}}}ZodMap.create=(keyType,valueType,params)=>new ZodMap({valueType:valueType,keyType:keyType,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(params)});class ZodSet extends ZodType{_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.set)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:ctx.parsedType}),INVALID;const def=this._def;null!==def.minSize&&ctx.data.size<def.minSize.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:def.minSize.value,type:"set",inclusive:!0,exact:!1,message:def.minSize.message}),status.dirty()),null!==def.maxSize&&ctx.data.size>def.maxSize.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:def.maxSize.value,type:"set",inclusive:!0,exact:!1,message:def.maxSize.message}),status.dirty());const valueType=this._def.valueType;function finalizeSet(elements2){const parsedSet=new Set;for(const element of elements2){if("aborted"===element.status)return INVALID;"dirty"===element.status&&status.dirty(),parsedSet.add(element.value)}return{status:status.value,value:parsedSet}}const elements=[...ctx.data.values()].map((item,i2)=>valueType._parse(new ParseInputLazyPath(ctx,item,ctx.path,i2)));return ctx.common.async?Promise.all(elements).then(elements2=>finalizeSet(elements2)):finalizeSet(elements)}min(minSize,message2){return new ZodSet({...this._def,minSize:{value:minSize,message:errorUtil.toString(message2)}})}max(maxSize,message2){return new ZodSet({...this._def,maxSize:{value:maxSize,message:errorUtil.toString(message2)}})}size(size,message2){return this.min(size,message2).max(size,message2)}nonempty(message2){return this.min(1,message2)}}ZodSet.create=(valueType,params)=>new ZodSet({valueType:valueType,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(params)});class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(input){const{ctx:ctx}=this._processInputParams(input);return this._def.getter()._parse({data:ctx.data,path:ctx.path,parent:ctx})}}ZodLazy.create=(getter,params)=>new ZodLazy({getter:getter,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(params)});class ZodLiteral extends ZodType{_parse(input){if(input.data!==this._def.value){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:input.data}}get value(){return this._def.value}}function createZodEnum(values,params){return new ZodEnum({values:values,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(params)})}ZodLiteral.create=(value,params)=>new ZodLiteral({value:value,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(params)});class ZodEnum extends ZodType{_parse(input){if("string"!=typeof input.data){const ctx=this._getOrReturnCtx(input),expectedValues=this._def.values;return addIssueToContext(ctx,{expected:util.joinValues(expectedValues),received:ctx.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(input.data)){const ctx=this._getOrReturnCtx(input),expectedValues=this._def.values;return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_enum_value,options:expectedValues}),INVALID}return OK(input.data)}get options(){return this._def.values}get enum(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}get Values(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}get Enum(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}extract(values,newDef=this._def){return ZodEnum.create(values,{...this._def,...newDef})}exclude(values,newDef=this._def){return ZodEnum.create(this.options.filter(opt=>!values.includes(opt)),{...this._def,...newDef})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(input){const nativeEnumValues=util.getValidEnumValues(this._def.values),ctx=this._getOrReturnCtx(input);if(ctx.parsedType!==ZodParsedType.string&&ctx.parsedType!==ZodParsedType.number){const expectedValues=util.objectValues(nativeEnumValues);return addIssueToContext(ctx,{expected:util.joinValues(expectedValues),received:ctx.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(this._cache||(this._cache=new Set(util.getValidEnumValues(this._def.values))),!this._cache.has(input.data)){const expectedValues=util.objectValues(nativeEnumValues);return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_enum_value,options:expectedValues}),INVALID}return OK(input.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(values,params)=>new ZodNativeEnum({values:values,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(params)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(input){const{ctx:ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.promise&&!1===ctx.common.async)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ctx.parsedType}),INVALID;const promisified=ctx.parsedType===ZodParsedType.promise?ctx.data:Promise.resolve(ctx.data);return OK(promisified.then(data=>this._def.type.parseAsync(data,{path:ctx.path,errorMap:ctx.common.contextualErrorMap})))}}ZodPromise.create=(schema,params)=>new ZodPromise({type:schema,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(params)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input),effect=this._def.effect||null,checkCtx={addIssue:arg=>{addIssueToContext(ctx,arg),arg.fatal?status.abort():status.dirty()},get path(){return ctx.path}};if(checkCtx.addIssue=checkCtx.addIssue.bind(checkCtx),"preprocess"===effect.type){const processed=effect.transform(ctx.data,checkCtx);if(ctx.common.async)return Promise.resolve(processed).then(async processed2=>{if("aborted"===status.value)return INVALID;const result=await this._def.schema._parseAsync({data:processed2,path:ctx.path,parent:ctx});return"aborted"===result.status?INVALID:"dirty"===result.status||"dirty"===status.value?DIRTY(result.value):result});{if("aborted"===status.value)return INVALID;const result=this._def.schema._parseSync({data:processed,path:ctx.path,parent:ctx});return"aborted"===result.status?INVALID:"dirty"===result.status||"dirty"===status.value?DIRTY(result.value):result}}if("refinement"===effect.type){const executeRefinement=acc=>{const result=effect.refinement(acc,checkCtx);if(ctx.common.async)return Promise.resolve(result);if(result instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return acc};if(!1===ctx.common.async){const inner=this._def.schema._parseSync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inner.status?INVALID:("dirty"===inner.status&&status.dirty(),executeRefinement(inner.value),{status:status.value,value:inner.value})}return this._def.schema._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}).then(inner=>"aborted"===inner.status?INVALID:("dirty"===inner.status&&status.dirty(),executeRefinement(inner.value).then(()=>({status:status.value,value:inner.value}))))}if("transform"===effect.type){if(!1===ctx.common.async){const base=this._def.schema._parseSync({data:ctx.data,path:ctx.path,parent:ctx});if(!isValid$1(base))return INVALID;const result=effect.transform(base.value,checkCtx);if(result instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:status.value,value:result}}return this._def.schema._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}).then(base=>isValid$1(base)?Promise.resolve(effect.transform(base.value,checkCtx)).then(result=>({status:status.value,value:result})):INVALID)}util.assertNever(effect)}}ZodEffects.create=(schema,effect,params)=>new ZodEffects({schema:schema,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:effect,...processCreateParams(params)}),ZodEffects.createWithPreprocess=(preprocess,schema,params)=>new ZodEffects({schema:schema,effect:{type:"preprocess",transform:preprocess},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(params)});class ZodOptional extends ZodType{_parse(input){return this._getType(input)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(input)}unwrap(){return this._def.innerType}}ZodOptional.create=(type,params)=>new ZodOptional({innerType:type,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(params)});class ZodNullable extends ZodType{_parse(input){return this._getType(input)===ZodParsedType.null?OK(null):this._def.innerType._parse(input)}unwrap(){return this._def.innerType}}ZodNullable.create=(type,params)=>new ZodNullable({innerType:type,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(params)});class ZodDefault extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input);let data=ctx.data;return ctx.parsedType===ZodParsedType.undefined&&(data=this._def.defaultValue()),this._def.innerType._parse({data:data,path:ctx.path,parent:ctx})}removeDefault(){return this._def.innerType}}ZodDefault.create=(type,params)=>new ZodDefault({innerType:type,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:"function"==typeof params.default?params.default:()=>params.default,...processCreateParams(params)});class ZodCatch extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input),newCtx={...ctx,common:{...ctx.common,issues:[]}},result=this._def.innerType._parse({data:newCtx.data,path:newCtx.path,parent:{...newCtx}});return isAsync(result)?result.then(result2=>({status:"valid",value:"valid"===result2.status?result2.value:this._def.catchValue({get error(){return new ZodError(newCtx.common.issues)},input:newCtx.data})})):{status:"valid",value:"valid"===result.status?result.value:this._def.catchValue({get error(){return new ZodError(newCtx.common.issues)},input:newCtx.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(type,params)=>new ZodCatch({innerType:type,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:"function"==typeof params.catch?params.catch:()=>params.catch,...processCreateParams(params)});class ZodNaN extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.nan){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:ctx.parsedType}),INVALID}return{status:"valid",value:input.data}}}ZodNaN.create=params=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(params)});class ZodBranded extends ZodType{_parse(input){const{ctx:ctx}=this._processInputParams(input),data=ctx.data;return this._def.type._parse({data:data,path:ctx.path,parent:ctx})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(input){const{status:status,ctx:ctx}=this._processInputParams(input);if(ctx.common.async){return(async()=>{const inResult=await this._def.in._parseAsync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inResult.status?INVALID:"dirty"===inResult.status?(status.dirty(),DIRTY(inResult.value)):this._def.out._parseAsync({data:inResult.value,path:ctx.path,parent:ctx})})()}{const inResult=this._def.in._parseSync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inResult.status?INVALID:"dirty"===inResult.status?(status.dirty(),{status:"dirty",value:inResult.value}):this._def.out._parseSync({data:inResult.value,path:ctx.path,parent:ctx})}}static create(a2,b2){return new ZodPipeline({in:a2,out:b2,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(input){const result=this._def.innerType._parse(input),freeze=data=>(isValid$1(data)&&(data.value=Object.freeze(data.value)),data);return isAsync(result)?result.then(data=>freeze(data)):freeze(result)}unwrap(){return this._def.innerType}}var ZodFirstPartyTypeKind,ZodFirstPartyTypeKind2;ZodReadonly.create=(type,params)=>new ZodReadonly({innerType:type,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(params)}),(ZodFirstPartyTypeKind2=ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={})).ZodString="ZodString",ZodFirstPartyTypeKind2.ZodNumber="ZodNumber",ZodFirstPartyTypeKind2.ZodNaN="ZodNaN",ZodFirstPartyTypeKind2.ZodBigInt="ZodBigInt",ZodFirstPartyTypeKind2.ZodBoolean="ZodBoolean",ZodFirstPartyTypeKind2.ZodDate="ZodDate",ZodFirstPartyTypeKind2.ZodSymbol="ZodSymbol",ZodFirstPartyTypeKind2.ZodUndefined="ZodUndefined",ZodFirstPartyTypeKind2.ZodNull="ZodNull",ZodFirstPartyTypeKind2.ZodAny="ZodAny",ZodFirstPartyTypeKind2.ZodUnknown="ZodUnknown",ZodFirstPartyTypeKind2.ZodNever="ZodNever",ZodFirstPartyTypeKind2.ZodVoid="ZodVoid",ZodFirstPartyTypeKind2.ZodArray="ZodArray",ZodFirstPartyTypeKind2.ZodObject="ZodObject",ZodFirstPartyTypeKind2.ZodUnion="ZodUnion",ZodFirstPartyTypeKind2.ZodDiscriminatedUnion="ZodDiscriminatedUnion",ZodFirstPartyTypeKind2.ZodIntersection="ZodIntersection",ZodFirstPartyTypeKind2.ZodTuple="ZodTuple",ZodFirstPartyTypeKind2.ZodRecord="ZodRecord",ZodFirstPartyTypeKind2.ZodMap="ZodMap",ZodFirstPartyTypeKind2.ZodSet="ZodSet",ZodFirstPartyTypeKind2.ZodFunction="ZodFunction",ZodFirstPartyTypeKind2.ZodLazy="ZodLazy",ZodFirstPartyTypeKind2.ZodLiteral="ZodLiteral",ZodFirstPartyTypeKind2.ZodEnum="ZodEnum",ZodFirstPartyTypeKind2.ZodEffects="ZodEffects",ZodFirstPartyTypeKind2.ZodNativeEnum="ZodNativeEnum",ZodFirstPartyTypeKind2.ZodOptional="ZodOptional",ZodFirstPartyTypeKind2.ZodNullable="ZodNullable",ZodFirstPartyTypeKind2.ZodDefault="ZodDefault",ZodFirstPartyTypeKind2.ZodCatch="ZodCatch",ZodFirstPartyTypeKind2.ZodPromise="ZodPromise",ZodFirstPartyTypeKind2.ZodBranded="ZodBranded",ZodFirstPartyTypeKind2.ZodPipeline="ZodPipeline",ZodFirstPartyTypeKind2.ZodReadonly="ZodReadonly";const stringType=ZodString.create,dateType=ZodDate.create;ZodNever.create,ZodArray.create;const objectType=ZodObject.create;ZodUnion.create,ZodIntersection.create,ZodTuple.create;const enumType=ZodEnum.create;function toDate(argument){const argStr=Object.prototype.toString.call(argument);return argument instanceof Date||"object"==typeof argument&&"[object Date]"===argStr?new argument.constructor(+argument):"number"==typeof argument||"[object Number]"===argStr||"string"==typeof argument||"[object String]"===argStr?new Date(argument):new Date(NaN)}function constructFrom(date2,value){return date2 instanceof Date?new date2.constructor(value):new Date(value)}function addDays(date2,amount){const _date=toDate(date2);return isNaN(amount)?constructFrom(date2,NaN):amount?(_date.setDate(_date.getDate()+amount),_date):_date}function addMonths(date2,amount){const _date=toDate(date2);if(isNaN(amount))return constructFrom(date2,NaN);if(!amount)return _date;const dayOfMonth=_date.getDate(),endOfDesiredMonth=constructFrom(date2,_date.getTime());endOfDesiredMonth.setMonth(_date.getMonth()+amount+1,0);return dayOfMonth>=endOfDesiredMonth.getDate()?endOfDesiredMonth:(_date.setFullYear(endOfDesiredMonth.getFullYear(),endOfDesiredMonth.getMonth(),dayOfMonth),_date)}ZodPromise.create,ZodOptional.create,ZodNullable.create;function addHours(date2,amount){return function(date2,amount){return constructFrom(date2,+toDate(date2)+amount)}(date2,36e5*amount)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(date2,options){var _a3,_b3,_c2,_d2;const defaultOptions2=getDefaultOptions(),weekStartsOn=(null==options?void 0:options.weekStartsOn)??(null==(_b3=null==(_a3=null==options?void 0:options.locale)?void 0:_a3.options)?void 0:_b3.weekStartsOn)??defaultOptions2.weekStartsOn??(null==(_d2=null==(_c2=defaultOptions2.locale)?void 0:_c2.options)?void 0:_d2.weekStartsOn)??0,_date=toDate(date2),day=_date.getDay(),diff=(day<weekStartsOn?7:0)+day-weekStartsOn;return _date.setDate(_date.getDate()-diff),_date.setHours(0,0,0,0),_date}function startOfISOWeek(date2){return startOfWeek(date2,{weekStartsOn:1})}function getISOWeekYear(date2){const _date=toDate(date2),year=_date.getFullYear(),fourthOfJanuaryOfNextYear=constructFrom(date2,0);fourthOfJanuaryOfNextYear.setFullYear(year+1,0,4),fourthOfJanuaryOfNextYear.setHours(0,0,0,0);const startOfNextYear=startOfISOWeek(fourthOfJanuaryOfNextYear),fourthOfJanuaryOfThisYear=constructFrom(date2,0);fourthOfJanuaryOfThisYear.setFullYear(year,0,4),fourthOfJanuaryOfThisYear.setHours(0,0,0,0);const startOfThisYear=startOfISOWeek(fourthOfJanuaryOfThisYear);return _date.getTime()>=startOfNextYear.getTime()?year+1:_date.getTime()>=startOfThisYear.getTime()?year:year-1}function startOfDay(date2){const _date=toDate(date2);return _date.setHours(0,0,0,0),_date}function getTimezoneOffsetInMilliseconds(date2){const _date=toDate(date2),utcDate2=new Date(Date.UTC(_date.getFullYear(),_date.getMonth(),_date.getDate(),_date.getHours(),_date.getMinutes(),_date.getSeconds(),_date.getMilliseconds()));return utcDate2.setUTCFullYear(_date.getFullYear()),+date2-+utcDate2}function differenceInCalendarDays(dateLeft,dateRight){const startOfDayLeft=startOfDay(dateLeft),startOfDayRight=startOfDay(dateRight),timestampLeft=+startOfDayLeft-getTimezoneOffsetInMilliseconds(startOfDayLeft),timestampRight=+startOfDayRight-getTimezoneOffsetInMilliseconds(startOfDayRight);return Math.round((timestampLeft-timestampRight)/864e5)}function addWeeks(date2,amount){return addDays(date2,7*amount)}function addYears(date2,amount){return addMonths(date2,12*amount)}function isSameDay(dateLeft,dateRight){return+startOfDay(dateLeft)===+startOfDay(dateRight)}function isDate(value){return value instanceof Date||"object"==typeof value&&"[object Date]"===Object.prototype.toString.call(value)}function differenceInCalendarMonths(dateLeft,dateRight){const _dateLeft=toDate(dateLeft),_dateRight=toDate(dateRight);return 12*(_dateLeft.getFullYear()-_dateRight.getFullYear())+(_dateLeft.getMonth()-_dateRight.getMonth())}function endOfDay(date2){const _date=toDate(date2);return _date.setHours(23,59,59,999),_date}function endOfMonth(date2){const _date=toDate(date2),month=_date.getMonth();return _date.setFullYear(_date.getFullYear(),month+1,0),_date.setHours(23,59,59,999),_date}function startOfMonth(date2){const _date=toDate(date2);return _date.setDate(1),_date.setHours(0,0,0,0),_date}function startOfYear(date2){const cleanDate=toDate(date2),_date=constructFrom(date2,0);return _date.setFullYear(cleanDate.getFullYear(),0,1),_date.setHours(0,0,0,0),_date}function endOfWeek(date2,options){var _a3,_b3,_c2,_d2;const defaultOptions2=getDefaultOptions(),weekStartsOn=(null==options?void 0:options.weekStartsOn)??(null==(_b3=null==(_a3=null==options?void 0:options.locale)?void 0:_a3.options)?void 0:_b3.weekStartsOn)??defaultOptions2.weekStartsOn??(null==(_d2=null==(_c2=defaultOptions2.locale)?void 0:_c2.options)?void 0:_d2.weekStartsOn)??0,_date=toDate(date2),day=_date.getDay(),diff=6+(day<weekStartsOn?-7:0)-(day-weekStartsOn);return _date.setDate(_date.getDate()+diff),_date.setHours(23,59,59,999),_date}function endOfISOWeek(date2){return endOfWeek(date2,{weekStartsOn:1})}const formatDistanceLocale$1={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function buildFormatLongFn(args){return(options={})=>{const width=options.width?String(options.width):args.defaultWidth;return args.formats[width]||args.formats[args.defaultWidth]}}const formatLong$1={date:buildFormatLongFn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:buildFormatLongFn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelativeLocale$1={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function buildLocalizeFn(args){return(value,options)=>{let valuesArray;if("formatting"===((null==options?void 0:options.context)?String(options.context):"standalone")&&args.formattingValues){const defaultWidth=args.defaultFormattingWidth||args.defaultWidth,width=(null==options?void 0:options.width)?String(options.width):defaultWidth;valuesArray=args.formattingValues[width]||args.formattingValues[defaultWidth]}else{const defaultWidth=args.defaultWidth,width=(null==options?void 0:options.width)?String(options.width):args.defaultWidth;valuesArray=args.values[width]||args.values[defaultWidth]}return valuesArray[args.argumentCallback?args.argumentCallback(value):value]}}function buildMatchFn(args){return(string2,options={})=>{const width=options.width,matchPattern=width&&args.matchPatterns[width]||args.matchPatterns[args.defaultMatchWidth],matchResult=string2.match(matchPattern);if(!matchResult)return null;const matchedString=matchResult[0],parsePatterns=width&&args.parsePatterns[width]||args.parsePatterns[args.defaultParseWidth],key=Array.isArray(parsePatterns)?function(array2,predicate){for(let key=0;key<array2.length;key++)if(predicate(array2[key]))return key;return}(parsePatterns,pattern=>pattern.test(matchedString)):function(object2,predicate){for(const key in object2)if(Object.prototype.hasOwnProperty.call(object2,key)&&predicate(object2[key]))return key;return}(parsePatterns,pattern=>pattern.test(matchedString));let value;value=args.valueCallback?args.valueCallback(key):key,value=options.valueCallback?options.valueCallback(value):value;return{value:value,rest:string2.slice(matchedString.length)}}}function buildMatchPatternFn(args){return(string2,options={})=>{const matchResult=string2.match(args.matchPattern);if(!matchResult)return null;const matchedString=matchResult[0],parseResult=string2.match(args.parsePattern);if(!parseResult)return null;let value=args.valueCallback?args.valueCallback(parseResult[0]):parseResult[0];value=options.valueCallback?options.valueCallback(value):value;return{value:value,rest:string2.slice(matchedString.length)}}}const enUS={code:"en-US",formatDistance:(token,count2,options)=>{let result;const tokenValue=formatDistanceLocale$1[token];return result="string"==typeof tokenValue?tokenValue:1===count2?tokenValue.one:tokenValue.other.replace("{{count}}",count2.toString()),(null==options?void 0:options.addSuffix)?options.comparison&&options.comparison>0?"in "+result:result+" ago":result},formatLong:formatLong$1,formatRelative:(token,_date,_baseDate,_options)=>formatRelativeLocale$1[token],localize:{ordinalNumber:(dirtyNumber,_options)=>{const number2=Number(dirtyNumber),rem100=number2%100;if(rem100>20||rem100<10)switch(rem100%10){case 1:return number2+"st";case 2:return number2+"nd";case 3:return number2+"rd"}return number2+"th"},era:buildLocalizeFn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:buildLocalizeFn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:quarter=>quarter-1}),month:buildLocalizeFn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:buildLocalizeFn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:buildMatchPatternFn({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:value=>parseInt(value,10)}),era:buildMatchFn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:index=>index+1}),month:buildMatchFn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function getISOWeek(date2){const _date=toDate(date2),diff=+startOfISOWeek(_date)-+function(date2){const year=getISOWeekYear(date2),fourthOfJanuary=constructFrom(date2,0);return fourthOfJanuary.setFullYear(year,0,4),fourthOfJanuary.setHours(0,0,0,0),startOfISOWeek(fourthOfJanuary)}(_date);return Math.round(diff/6048e5)+1}function getWeekYear(date2,options){var _a3,_b3,_c2,_d2;const _date=toDate(date2),year=_date.getFullYear(),defaultOptions2=getDefaultOptions(),firstWeekContainsDate=(null==options?void 0:options.firstWeekContainsDate)??(null==(_b3=null==(_a3=null==options?void 0:options.locale)?void 0:_a3.options)?void 0:_b3.firstWeekContainsDate)??defaultOptions2.firstWeekContainsDate??(null==(_d2=null==(_c2=defaultOptions2.locale)?void 0:_c2.options)?void 0:_d2.firstWeekContainsDate)??1,firstWeekOfNextYear=constructFrom(date2,0);firstWeekOfNextYear.setFullYear(year+1,0,firstWeekContainsDate),firstWeekOfNextYear.setHours(0,0,0,0);const startOfNextYear=startOfWeek(firstWeekOfNextYear,options),firstWeekOfThisYear=constructFrom(date2,0);firstWeekOfThisYear.setFullYear(year,0,firstWeekContainsDate),firstWeekOfThisYear.setHours(0,0,0,0);const startOfThisYear=startOfWeek(firstWeekOfThisYear,options);return _date.getTime()>=startOfNextYear.getTime()?year+1:_date.getTime()>=startOfThisYear.getTime()?year:year-1}function getWeek(date2,options){const _date=toDate(date2),diff=+startOfWeek(_date,options)-+function(date2,options){var _a3,_b3,_c2,_d2;const defaultOptions2=getDefaultOptions(),firstWeekContainsDate=(null==options?void 0:options.firstWeekContainsDate)??(null==(_b3=null==(_a3=null==options?void 0:options.locale)?void 0:_a3.options)?void 0:_b3.firstWeekContainsDate)??defaultOptions2.firstWeekContainsDate??(null==(_d2=null==(_c2=defaultOptions2.locale)?void 0:_c2.options)?void 0:_d2.firstWeekContainsDate)??1,year=getWeekYear(date2,options),firstWeek=constructFrom(date2,0);return firstWeek.setFullYear(year,0,firstWeekContainsDate),firstWeek.setHours(0,0,0,0),startOfWeek(firstWeek,options)}(_date,options);return Math.round(diff/6048e5)+1}function addLeadingZeros(number2,targetLength){return(number2<0?"-":"")+Math.abs(number2).toString().padStart(targetLength,"0")}const lightFormatters={y(date2,token){const signedYear=date2.getFullYear(),year=signedYear>0?signedYear:1-signedYear;return addLeadingZeros("yy"===token?year%100:year,token.length)},M(date2,token){const month=date2.getMonth();return"M"===token?String(month+1):addLeadingZeros(month+1,2)},d:(date2,token)=>addLeadingZeros(date2.getDate(),token.length),a(date2,token){const dayPeriodEnumValue=date2.getHours()/12>=1?"pm":"am";switch(token){case"a":case"aa":return dayPeriodEnumValue.toUpperCase();case"aaa":return dayPeriodEnumValue;case"aaaaa":return dayPeriodEnumValue[0];default:return"am"===dayPeriodEnumValue?"a.m.":"p.m."}},h:(date2,token)=>addLeadingZeros(date2.getHours()%12||12,token.length),H:(date2,token)=>addLeadingZeros(date2.getHours(),token.length),m:(date2,token)=>addLeadingZeros(date2.getMinutes(),token.length),s:(date2,token)=>addLeadingZeros(date2.getSeconds(),token.length),S(date2,token){const numberOfDigits=token.length,milliseconds=date2.getMilliseconds();return addLeadingZeros(Math.trunc(milliseconds*Math.pow(10,numberOfDigits-3)),token.length)}},dayPeriodEnum_midnight="midnight",dayPeriodEnum_noon="noon",dayPeriodEnum_morning="morning",dayPeriodEnum_afternoon="afternoon",dayPeriodEnum_evening="evening",dayPeriodEnum_night="night",formatters$1={G:function(date2,token,localize2){const era=date2.getFullYear()>0?1:0;switch(token){case"G":case"GG":case"GGG":return localize2.era(era,{width:"abbreviated"});case"GGGGG":return localize2.era(era,{width:"narrow"});default:return localize2.era(era,{width:"wide"})}},y:function(date2,token,localize2){if("yo"===token){const signedYear=date2.getFullYear(),year=signedYear>0?signedYear:1-signedYear;return localize2.ordinalNumber(year,{unit:"year"})}return lightFormatters.y(date2,token)},Y:function(date2,token,localize2,options){const signedWeekYear=getWeekYear(date2,options),weekYear=signedWeekYear>0?signedWeekYear:1-signedWeekYear;if("YY"===token){return addLeadingZeros(weekYear%100,2)}return"Yo"===token?localize2.ordinalNumber(weekYear,{unit:"year"}):addLeadingZeros(weekYear,token.length)},R:function(date2,token){return addLeadingZeros(getISOWeekYear(date2),token.length)},u:function(date2,token){return addLeadingZeros(date2.getFullYear(),token.length)},Q:function(date2,token,localize2){const quarter=Math.ceil((date2.getMonth()+1)/3);switch(token){case"Q":return String(quarter);case"QQ":return addLeadingZeros(quarter,2);case"Qo":return localize2.ordinalNumber(quarter,{unit:"quarter"});case"QQQ":return localize2.quarter(quarter,{width:"abbreviated",context:"formatting"});case"QQQQQ":return localize2.quarter(quarter,{width:"narrow",context:"formatting"});default:return localize2.quarter(quarter,{width:"wide",context:"formatting"})}},q:function(date2,token,localize2){const quarter=Math.ceil((date2.getMonth()+1)/3);switch(token){case"q":return String(quarter);case"qq":return addLeadingZeros(quarter,2);case"qo":return localize2.ordinalNumber(quarter,{unit:"quarter"});case"qqq":return localize2.quarter(quarter,{width:"abbreviated",context:"standalone"});case"qqqqq":return localize2.quarter(quarter,{width:"narrow",context:"standalone"});default:return localize2.quarter(quarter,{width:"wide",context:"standalone"})}},M:function(date2,token,localize2){const month=date2.getMonth();switch(token){case"M":case"MM":return lightFormatters.M(date2,token);case"Mo":return localize2.ordinalNumber(month+1,{unit:"month"});case"MMM":return localize2.month(month,{width:"abbreviated",context:"formatting"});case"MMMMM":return localize2.month(month,{width:"narrow",context:"formatting"});default:return localize2.month(month,{width:"wide",context:"formatting"})}},L:function(date2,token,localize2){const month=date2.getMonth();switch(token){case"L":return String(month+1);case"LL":return addLeadingZeros(month+1,2);case"Lo":return localize2.ordinalNumber(month+1,{unit:"month"});case"LLL":return localize2.month(month,{width:"abbreviated",context:"standalone"});case"LLLLL":return localize2.month(month,{width:"narrow",context:"standalone"});default:return localize2.month(month,{width:"wide",context:"standalone"})}},w:function(date2,token,localize2,options){const week=getWeek(date2,options);return"wo"===token?localize2.ordinalNumber(week,{unit:"week"}):addLeadingZeros(week,token.length)},I:function(date2,token,localize2){const isoWeek=getISOWeek(date2);return"Io"===token?localize2.ordinalNumber(isoWeek,{unit:"week"}):addLeadingZeros(isoWeek,token.length)},d:function(date2,token,localize2){return"do"===token?localize2.ordinalNumber(date2.getDate(),{unit:"date"}):lightFormatters.d(date2,token)},D:function(date2,token,localize2){const dayOfYear=function(date2){const _date=toDate(date2);return differenceInCalendarDays(_date,startOfYear(_date))+1}(date2);return"Do"===token?localize2.ordinalNumber(dayOfYear,{unit:"dayOfYear"}):addLeadingZeros(dayOfYear,token.length)},E:function(date2,token,localize2){const dayOfWeek=date2.getDay();switch(token){case"E":case"EE":case"EEE":return localize2.day(dayOfWeek,{width:"abbreviated",context:"formatting"});case"EEEEE":return localize2.day(dayOfWeek,{width:"narrow",context:"formatting"});case"EEEEEE":return localize2.day(dayOfWeek,{width:"short",context:"formatting"});default:return localize2.day(dayOfWeek,{width:"wide",context:"formatting"})}},e:function(date2,token,localize2,options){const dayOfWeek=date2.getDay(),localDayOfWeek=(dayOfWeek-options.weekStartsOn+8)%7||7;switch(token){case"e":return String(localDayOfWeek);case"ee":return addLeadingZeros(localDayOfWeek,2);case"eo":return localize2.ordinalNumber(localDayOfWeek,{unit:"day"});case"eee":return localize2.day(dayOfWeek,{width:"abbreviated",context:"formatting"});case"eeeee":return localize2.day(dayOfWeek,{width:"narrow",context:"formatting"});case"eeeeee":return localize2.day(dayOfWeek,{width:"short",context:"formatting"});default:return localize2.day(dayOfWeek,{width:"wide",context:"formatting"})}},c:function(date2,token,localize2,options){const dayOfWeek=date2.getDay(),localDayOfWeek=(dayOfWeek-options.weekStartsOn+8)%7||7;switch(token){case"c":return String(localDayOfWeek);case"cc":return addLeadingZeros(localDayOfWeek,token.length);case"co":return localize2.ordinalNumber(localDayOfWeek,{unit:"day"});case"ccc":return localize2.day(dayOfWeek,{width:"abbreviated",context:"standalone"});case"ccccc":return localize2.day(dayOfWeek,{width:"narrow",context:"standalone"});case"cccccc":return localize2.day(dayOfWeek,{width:"short",context:"standalone"});default:return localize2.day(dayOfWeek,{width:"wide",context:"standalone"})}},i:function(date2,token,localize2){const dayOfWeek=date2.getDay(),isoDayOfWeek=0===dayOfWeek?7:dayOfWeek;switch(token){case"i":return String(isoDayOfWeek);case"ii":return addLeadingZeros(isoDayOfWeek,token.length);case"io":return localize2.ordinalNumber(isoDayOfWeek,{unit:"day"});case"iii":return localize2.day(dayOfWeek,{width:"abbreviated",context:"formatting"});case"iiiii":return localize2.day(dayOfWeek,{width:"narrow",context:"formatting"});case"iiiiii":return localize2.day(dayOfWeek,{width:"short",context:"formatting"});default:return localize2.day(dayOfWeek,{width:"wide",context:"formatting"})}},a:function(date2,token,localize2){const dayPeriodEnumValue=date2.getHours()/12>=1?"pm":"am";switch(token){case"a":case"aa":return localize2.dayPeriod(dayPeriodEnumValue,{width:"abbreviated",context:"formatting"});case"aaa":return localize2.dayPeriod(dayPeriodEnumValue,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return localize2.dayPeriod(dayPeriodEnumValue,{width:"narrow",context:"formatting"});default:return localize2.dayPeriod(dayPeriodEnumValue,{width:"wide",context:"formatting"})}},b:function(date2,token,localize2){const hours=date2.getHours();let dayPeriodEnumValue;switch(dayPeriodEnumValue=12===hours?dayPeriodEnum_noon:0===hours?dayPeriodEnum_midnight:hours/12>=1?"pm":"am",token){case"b":case"bb":return localize2.dayPeriod(dayPeriodEnumValue,{width:"abbreviated",context:"formatting"});case"bbb":return localize2.dayPeriod(dayPeriodEnumValue,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return localize2.dayPeriod(dayPeriodEnumValue,{width:"narrow",context:"formatting"});default:return localize2.dayPeriod(dayPeriodEnumValue,{width:"wide",context:"formatting"})}},B:function(date2,token,localize2){const hours=date2.getHours();let dayPeriodEnumValue;switch(dayPeriodEnumValue=hours>=17?dayPeriodEnum_evening:hours>=12?dayPeriodEnum_afternoon:hours>=4?dayPeriodEnum_morning:dayPeriodEnum_night,token){case"B":case"BB":case"BBB":return localize2.dayPeriod(dayPeriodEnumValue,{width:"abbreviated",context:"formatting"});case"BBBBB":return localize2.dayPeriod(dayPeriodEnumValue,{width:"narrow",context:"formatting"});default:return localize2.dayPeriod(dayPeriodEnumValue,{width:"wide",context:"formatting"})}},h:function(date2,token,localize2){if("ho"===token){let hours=date2.getHours()%12;return 0===hours&&(hours=12),localize2.ordinalNumber(hours,{unit:"hour"})}return lightFormatters.h(date2,token)},H:function(date2,token,localize2){return"Ho"===token?localize2.ordinalNumber(date2.getHours(),{unit:"hour"}):lightFormatters.H(date2,token)},K:function(date2,token,localize2){const hours=date2.getHours()%12;return"Ko"===token?localize2.ordinalNumber(hours,{unit:"hour"}):addLeadingZeros(hours,token.length)},k:function(date2,token,localize2){let hours=date2.getHours();return 0===hours&&(hours=24),"ko"===token?localize2.ordinalNumber(hours,{unit:"hour"}):addLeadingZeros(hours,token.length)},m:function(date2,token,localize2){return"mo"===token?localize2.ordinalNumber(date2.getMinutes(),{unit:"minute"}):lightFormatters.m(date2,token)},s:function(date2,token,localize2){return"so"===token?localize2.ordinalNumber(date2.getSeconds(),{unit:"second"}):lightFormatters.s(date2,token)},S:function(date2,token){return lightFormatters.S(date2,token)},X:function(date2,token,_localize){const timezoneOffset=date2.getTimezoneOffset();if(0===timezoneOffset)return"Z";switch(token){case"X":return formatTimezoneWithOptionalMinutes(timezoneOffset);case"XXXX":case"XX":return formatTimezone(timezoneOffset);default:return formatTimezone(timezoneOffset,":")}},x:function(date2,token,_localize){const timezoneOffset=date2.getTimezoneOffset();switch(token){case"x":return formatTimezoneWithOptionalMinutes(timezoneOffset);case"xxxx":case"xx":return formatTimezone(timezoneOffset);default:return formatTimezone(timezoneOffset,":")}},O:function(date2,token,_localize){const timezoneOffset=date2.getTimezoneOffset();switch(token){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(timezoneOffset,":");default:return"GMT"+formatTimezone(timezoneOffset,":")}},z:function(date2,token,_localize){const timezoneOffset=date2.getTimezoneOffset();switch(token){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(timezoneOffset,":");default:return"GMT"+formatTimezone(timezoneOffset,":")}},t:function(date2,token,_localize){return addLeadingZeros(Math.trunc(date2.getTime()/1e3),token.length)},T:function(date2,token,_localize){return addLeadingZeros(date2.getTime(),token.length)}};function formatTimezoneShort(offset,delimiter=""){const sign2=offset>0?"-":"+",absOffset=Math.abs(offset),hours=Math.trunc(absOffset/60),minutes=absOffset%60;return 0===minutes?sign2+String(hours):sign2+String(hours)+delimiter+addLeadingZeros(minutes,2)}function formatTimezoneWithOptionalMinutes(offset,delimiter){if(offset%60==0){return(offset>0?"-":"+")+addLeadingZeros(Math.abs(offset)/60,2)}return formatTimezone(offset,delimiter)}function formatTimezone(offset,delimiter=""){const sign2=offset>0?"-":"+",absOffset=Math.abs(offset);return sign2+addLeadingZeros(Math.trunc(absOffset/60),2)+delimiter+addLeadingZeros(absOffset%60,2)}const dateLongFormatter=(pattern,formatLong2)=>{switch(pattern){case"P":return formatLong2.date({width:"short"});case"PP":return formatLong2.date({width:"medium"});case"PPP":return formatLong2.date({width:"long"});default:return formatLong2.date({width:"full"})}},timeLongFormatter=(pattern,formatLong2)=>{switch(pattern){case"p":return formatLong2.time({width:"short"});case"pp":return formatLong2.time({width:"medium"});case"ppp":return formatLong2.time({width:"long"});default:return formatLong2.time({width:"full"})}},longFormatters={p:timeLongFormatter,P:(pattern,formatLong2)=>{const matchResult=pattern.match(/(P+)(p+)?/)||[],datePattern=matchResult[1],timePattern=matchResult[2];if(!timePattern)return dateLongFormatter(pattern,formatLong2);let dateTimeFormat;switch(datePattern){case"P":dateTimeFormat=formatLong2.dateTime({width:"short"});break;case"PP":dateTimeFormat=formatLong2.dateTime({width:"medium"});break;case"PPP":dateTimeFormat=formatLong2.dateTime({width:"long"});break;default:dateTimeFormat=formatLong2.dateTime({width:"full"})}return dateTimeFormat.replace("{{date}}",dateLongFormatter(datePattern,formatLong2)).replace("{{time}}",timeLongFormatter(timePattern,formatLong2))}},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(date2,formatStr,options){var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2;const defaultOptions2=getDefaultOptions(),locale2=(null==options?void 0:options.locale)??defaultOptions2.locale??enUS,firstWeekContainsDate=(null==options?void 0:options.firstWeekContainsDate)??(null==(_b3=null==(_a3=null==options?void 0:options.locale)?void 0:_a3.options)?void 0:_b3.firstWeekContainsDate)??defaultOptions2.firstWeekContainsDate??(null==(_d2=null==(_c2=defaultOptions2.locale)?void 0:_c2.options)?void 0:_d2.firstWeekContainsDate)??1,weekStartsOn=(null==options?void 0:options.weekStartsOn)??(null==(_f2=null==(_e3=null==options?void 0:options.locale)?void 0:_e3.options)?void 0:_f2.weekStartsOn)??defaultOptions2.weekStartsOn??(null==(_h2=null==(_g2=defaultOptions2.locale)?void 0:_g2.options)?void 0:_h2.weekStartsOn)??0,originalDate=toDate(date2);if(!function(date2){if(!isDate(date2)&&"number"!=typeof date2)return!1;const _date=toDate(date2);return!isNaN(Number(_date))}(originalDate))throw new RangeError("Invalid time value");let parts=formatStr.match(longFormattingTokensRegExp).map(substring=>{const firstCharacter=substring[0];if("p"===firstCharacter||"P"===firstCharacter){return(0,longFormatters[firstCharacter])(substring,locale2.formatLong)}return substring}).join("").match(formattingTokensRegExp).map(substring=>{if("''"===substring)return{isToken:!1,value:"'"};const firstCharacter=substring[0];if("'"===firstCharacter)return{isToken:!1,value:cleanEscapedString(substring)};if(formatters$1[firstCharacter])return{isToken:!0,value:substring};if(firstCharacter.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+firstCharacter+"`");return{isToken:!1,value:substring}});locale2.localize.preprocessor&&(parts=locale2.localize.preprocessor(originalDate,parts));const formatterOptions={firstWeekContainsDate:firstWeekContainsDate,weekStartsOn:weekStartsOn,locale:locale2};return parts.map(part=>{if(!part.isToken)return part.value;const token=part.value;(!(null==options?void 0:options.useAdditionalWeekYearTokens)&&function(token){return weekYearTokenRE.test(token)}(token)||!(null==options?void 0:options.useAdditionalDayOfYearTokens)&&function(token){return dayOfYearTokenRE.test(token)}(token))&&function(token,format2,input){const _message=function(token,format2,input){const subject="Y"===token[0]?"years":"days of the month";return`Use \`${token.toLowerCase()}\` instead of \`${token}\` (in \`${format2}\`) for formatting ${subject} to the input \`${input}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(token,format2,input);if(throwTokens.includes(token))throw new RangeError(_message)}(token,formatStr,String(date2));return(0,formatters$1[token[0]])(originalDate,token,locale2.localize,formatterOptions)}).join("")}function cleanEscapedString(input){const matched=input.match(escapedStringRegExp);return matched?matched[1].replace(doubleQuoteRegExp,"'"):input}function fromUnixTime(unixTime){return toDate(1e3*unixTime)}function getUnixTime(date2){return Math.trunc(+toDate(date2)/1e3)}function getWeeksInMonth(date2,options){return function(dateLeft,dateRight,options){const startOfWeekLeft=startOfWeek(dateLeft,options),startOfWeekRight=startOfWeek(dateRight,options),timestampLeft=+startOfWeekLeft-getTimezoneOffsetInMilliseconds(startOfWeekLeft),timestampRight=+startOfWeekRight-getTimezoneOffsetInMilliseconds(startOfWeekRight);return Math.round((timestampLeft-timestampRight)/6048e5)}(function(date2){const _date=toDate(date2),month=_date.getMonth();return _date.setFullYear(_date.getFullYear(),month+1,0),_date.setHours(0,0,0,0),_date}(date2),startOfMonth(date2),options)+1}function isAfter(date2,dateToCompare){const _date=toDate(date2),_dateToCompare=toDate(dateToCompare);return _date.getTime()>_dateToCompare.getTime()}function isBefore(date2,dateToCompare){return+toDate(date2)<+toDate(dateToCompare)}function isSameMonth(dateLeft,dateRight){const _dateLeft=toDate(dateLeft),_dateRight=toDate(dateRight);return _dateLeft.getFullYear()===_dateRight.getFullYear()&&_dateLeft.getMonth()===_dateRight.getMonth()}function subDays(date2,amount){return addDays(date2,-amount)}function parseISO(argument,options){const dateStrings=function(dateString){const dateStrings={},array2=dateString.split(patterns.dateTimeDelimiter);let timeString;if(array2.length>2)return dateStrings;/:/.test(array2[0])?timeString=array2[0]:(dateStrings.date=array2[0],timeString=array2[1],patterns.timeZoneDelimiter.test(dateStrings.date)&&(dateStrings.date=dateString.split(patterns.timeZoneDelimiter)[0],timeString=dateString.substr(dateStrings.date.length,dateString.length)));if(timeString){const token=patterns.timezone.exec(timeString);token?(dateStrings.time=timeString.replace(token[1],""),dateStrings.timezone=token[1]):dateStrings.time=timeString}return dateStrings}(argument);let date2;if(dateStrings.date){const parseYearResult=function(dateString,additionalDigits){const regex=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+additionalDigits)+"})|(\\d{2}|[+-]\\d{"+(2+additionalDigits)+"})$)"),captures=dateString.match(regex);if(!captures)return{year:NaN,restDateString:""};const year=captures[1]?parseInt(captures[1]):null,century=captures[2]?parseInt(captures[2]):null;return{year:null===century?year:100*century,restDateString:dateString.slice((captures[1]||captures[2]).length)}}(dateStrings.date,2);date2=function(dateString,year){if(null===year)return new Date(NaN);const captures=dateString.match(dateRegex);if(!captures)return new Date(NaN);const isWeekDate=!!captures[4],dayOfYear=parseDateUnit(captures[1]),month=parseDateUnit(captures[2])-1,day=parseDateUnit(captures[3]),week=parseDateUnit(captures[4]),dayOfWeek=parseDateUnit(captures[5])-1;if(isWeekDate)return function(_year,week,day){return week>=1&&week<=53&&day>=0&&day<=6}(0,week,dayOfWeek)?function(isoWeekYear,week,day){const date2=new Date(0);date2.setUTCFullYear(isoWeekYear,0,4);const fourthOfJanuaryDay=date2.getUTCDay()||7,diff=7*(week-1)+day+1-fourthOfJanuaryDay;return date2.setUTCDate(date2.getUTCDate()+diff),date2}(year,week,dayOfWeek):new Date(NaN);{const date2=new Date(0);return function(year,month,date2){return month>=0&&month<=11&&date2>=1&&date2<=(daysInMonths[month]||(isLeapYearIndex(year)?29:28))}(year,month,day)&&function(year,dayOfYear){return dayOfYear>=1&&dayOfYear<=(isLeapYearIndex(year)?366:365)}(year,dayOfYear)?(date2.setUTCFullYear(year,month,Math.max(dayOfYear,day)),date2):new Date(NaN)}}(parseYearResult.restDateString,parseYearResult.year)}if(!date2||isNaN(date2.getTime()))return new Date(NaN);const timestamp=date2.getTime();let offset,time2=0;if(dateStrings.time&&(time2=function(timeString){const captures=timeString.match(timeRegex);if(!captures)return NaN;const hours=parseTimeUnit(captures[1]),minutes=parseTimeUnit(captures[2]),seconds=parseTimeUnit(captures[3]);if(!function(hours,minutes,seconds){if(24===hours)return 0===minutes&&0===seconds;return seconds>=0&&seconds<60&&minutes>=0&&minutes<60&&hours>=0&&hours<25}(hours,minutes,seconds))return NaN;return 36e5*hours+6e4*minutes+1e3*seconds}(dateStrings.time),isNaN(time2)))return new Date(NaN);if(!dateStrings.timezone){const dirtyDate=new Date(timestamp+time2),result=new Date(0);return result.setFullYear(dirtyDate.getUTCFullYear(),dirtyDate.getUTCMonth(),dirtyDate.getUTCDate()),result.setHours(dirtyDate.getUTCHours(),dirtyDate.getUTCMinutes(),dirtyDate.getUTCSeconds(),dirtyDate.getUTCMilliseconds()),result}return offset=function(timezoneString){if("Z"===timezoneString)return 0;const captures=timezoneString.match(timezoneRegex);if(!captures)return 0;const sign2="+"===captures[1]?-1:1,hours=parseInt(captures[2]),minutes=captures[3]&&parseInt(captures[3])||0;if(!function(_hours,minutes){return minutes>=0&&minutes<=59}(0,minutes))return NaN;return sign2*(36e5*hours+6e4*minutes)}(dateStrings.timezone),isNaN(offset)?new Date(NaN):new Date(timestamp+time2+offset)}const patterns={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dateRegex=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,timeRegex=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,timezoneRegex=/^([+-])(\d{2})(?::?(\d{2}))?$/;function parseDateUnit(value){return value?parseInt(value):1}function parseTimeUnit(value){return value&&parseFloat(value.replace(",","."))||0}const daysInMonths=[31,null,31,30,31,30,31,31,30,31,30,31];function isLeapYearIndex(year){return year%400==0||year%4==0&&year%100!=0}function setMonth(date2,month){const _date=toDate(date2),year=_date.getFullYear(),day=_date.getDate(),dateWithDesiredMonth=constructFrom(date2,0);dateWithDesiredMonth.setFullYear(year,month,15),dateWithDesiredMonth.setHours(0,0,0,0);const daysInMonth=function(date2){const _date=toDate(date2),year=_date.getFullYear(),monthIndex=_date.getMonth(),lastDayOfMonth2=constructFrom(date2,0);return lastDayOfMonth2.setFullYear(year,monthIndex+1,0),lastDayOfMonth2.setHours(0,0,0,0),lastDayOfMonth2.getDate()}(dateWithDesiredMonth);return _date.setMonth(month,Math.min(day,daysInMonth)),_date}function setYear(date2,year){const _date=toDate(date2);return isNaN(+_date)?constructFrom(date2,NaN):(_date.setFullYear(year),_date)}const formatDistanceLocale={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},formatLong={date:buildFormatLongFn({formats:{full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},defaultWidth:"full"}),time:buildFormatLongFn({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:{full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},formatRelativeLocale={lastWeek:date2=>{const weekday=date2.getDay();return"'"+(0===weekday||6===weekday?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},ptBR={code:"pt-BR",formatDistance:(token,count2,options)=>{let result;const tokenValue=formatDistanceLocale[token];return result="string"==typeof tokenValue?tokenValue:1===count2?tokenValue.one:tokenValue.other.replace("{{count}}",String(count2)),(null==options?void 0:options.addSuffix)?options.comparison&&options.comparison>0?"em "+result:"há "+result:result},formatLong:formatLong,formatRelative:(token,date2,_baseDate,_options)=>{const format2=formatRelativeLocale[token];return"function"==typeof format2?format2(date2):format2},localize:{ordinalNumber:(dirtyNumber,options)=>{const number2=Number(dirtyNumber);return"week"===(null==options?void 0:options.unit)?number2+"ª":number2+"º"},era:buildLocalizeFn({values:{narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},defaultWidth:"wide"}),quarter:buildLocalizeFn({values:{narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},defaultWidth:"wide",argumentCallback:quarter=>quarter-1}),month:buildLocalizeFn({values:{narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},defaultWidth:"wide"}),day:buildLocalizeFn({values:{narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:buildMatchPatternFn({matchPattern:/^(\d+)[ºªo]?/i,parsePattern:/\d+/i,valueCallback:value=>parseInt(value,10)}),era:buildMatchFn({matchPatterns:{narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:index=>index+1}),month:buildMatchFn({matchPatterns:{narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:{narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},defaultMatchWidth:"wide",parsePatterns:{short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:{narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var Label$2=reactExports.forwardRef((props,forwardedRef)=>jsxRuntimeExports.jsx(Primitive.label,{...props,ref:forwardedRef,onMouseDown:event=>{var _a3;event.target.closest("button, input, select, textarea")||(null==(_a3=props.onMouseDown)||_a3.call(props,event),!event.defaultPrevented&&event.detail>1&&event.preventDefault())}}));Label$2.displayName="Label";var Root$3=Label$2;const labelVariants=cva("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Label$1=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Root$3,{ref:ref,className:cn(labelVariants(),className),...props}));Label$1.displayName=Root$3.displayName;const Form=props=>{const{children:children,...data}=props;return React$1.createElement(HookFormContext.Provider,{value:data},children)},FormFieldContext=reactExports.createContext({}),FormField=({...props})=>jsxRuntimeExports.jsx(FormFieldContext.Provider,{value:{name:props.name},children:jsxRuntimeExports.jsx(Controller,{...props})}),useFormField=()=>{const fieldContext=reactExports.useContext(FormFieldContext),itemContext=reactExports.useContext(FormItemContext),{getFieldState:getFieldState,formState:formState}=useFormContext(),fieldState=getFieldState(fieldContext.name,formState);if(!fieldContext)throw new Error("useFormField should be used within <FormField>");const{id:id2}=itemContext;return{id:id2,name:fieldContext.name,formItemId:`${id2}-form-item`,formDescriptionId:`${id2}-form-item-description`,formMessageId:`${id2}-form-item-message`,...fieldState}},FormItemContext=reactExports.createContext({}),FormItem=reactExports.forwardRef(({className:className,...props},ref)=>{const id2=reactExports.useId();return jsxRuntimeExports.jsx(FormItemContext.Provider,{value:{id:id2},children:jsxRuntimeExports.jsx("div",{ref:ref,className:cn("space-y-2",className),...props})})});FormItem.displayName="FormItem";const FormLabel=reactExports.forwardRef(({className:className,...props},ref)=>{const{error:error,formItemId:formItemId}=useFormField();return jsxRuntimeExports.jsx(Label$1,{ref:ref,className:cn(error&&"text-destructive",className),htmlFor:formItemId,...props})});FormLabel.displayName="FormLabel";const FormControl=reactExports.forwardRef(({...props},ref)=>{const{error:error,formItemId:formItemId,formDescriptionId:formDescriptionId,formMessageId:formMessageId}=useFormField();return jsxRuntimeExports.jsx(Slot$2,{ref:ref,id:formItemId,"aria-describedby":error?`${formDescriptionId} ${formMessageId}`:`${formDescriptionId}`,"aria-invalid":!!error,...props})});FormControl.displayName="FormControl";reactExports.forwardRef(({className:className,...props},ref)=>{const{formDescriptionId:formDescriptionId}=useFormField();return jsxRuntimeExports.jsx("p",{ref:ref,id:formDescriptionId,className:cn("text-sm text-muted-foreground",className),...props})}).displayName="FormDescription";const FormMessage=reactExports.forwardRef(({className:className,children:children,...props},ref)=>{const{error:error,formMessageId:formMessageId}=useFormField(),body=error?String(null==error?void 0:error.message):children;return body?jsxRuntimeExports.jsx("p",{ref:ref,id:formMessageId,className:cn("text-sm font-medium text-destructive",className),...props,children:body}):null});FormMessage.displayName="FormMessage";var __assign=function(){return __assign=Object.assign||function(t3){for(var s2,i2=1,n2=arguments.length;i2<n2;i2++)for(var p2 in s2=arguments[i2])Object.prototype.hasOwnProperty.call(s2,p2)&&(t3[p2]=s2[p2]);return t3},__assign.apply(this,arguments)};function __spreadArray(to,from,pack){for(var ar,i2=0,l2=from.length;i2<l2;i2++)!ar&&i2 in from||(ar||(ar=Array.prototype.slice.call(from,0,i2)),ar[i2]=from[i2]);return to.concat(ar||Array.prototype.slice.call(from))}function isDayPickerMultiple(props){return"multiple"===props.mode}function isDayPickerRange(props){return"range"===props.mode}function isDayPickerSingle(props){return"single"===props.mode}"function"==typeof SuppressedError&&SuppressedError;var defaultClassNames={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};var formatters=Object.freeze({__proto__:null,formatCaption:function(month,options){return format(month,"LLLL y",options)},formatDay:function(day,options){return format(day,"d",options)},formatMonthCaption:function(month,options){return format(month,"LLLL",options)},formatWeekNumber:function(weekNumber){return"".concat(weekNumber)},formatWeekdayName:function(weekday,options){return format(weekday,"cccccc",options)},formatYearCaption:function(year,options){return format(year,"yyyy",options)}}),labels=Object.freeze({__proto__:null,labelDay:function(day,activeModifiers,options){return format(day,"do MMMM (EEEE)",options)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(n2){return"Week n. ".concat(n2)},labelWeekday:function(day,options){return format(day,"cccc",options)},labelYearDropdown:function(){return"Year: "}});var DayPickerContext=reactExports.createContext(void 0);function DayPickerProvider(props){var _a3,onSelect,initialProps=props.initialProps,defaultContextValues={captionLayout:"buttons",classNames:defaultClassNames,formatters:formatters,labels:labels,locale:enUS,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},_b3=function(props){var fromYear=props.fromYear,toYear=props.toYear,fromMonth=props.fromMonth,toMonth=props.toMonth,fromDate=props.fromDate,toDate2=props.toDate;return fromMonth?fromDate=startOfMonth(fromMonth):fromYear&&(fromDate=new Date(fromYear,0,1)),toMonth?toDate2=endOfMonth(toMonth):toYear&&(toDate2=new Date(toYear,11,31)),{fromDate:fromDate?startOfDay(fromDate):void 0,toDate:toDate2?startOfDay(toDate2):void 0}}(initialProps),fromDate=_b3.fromDate,toDate2=_b3.toDate,captionLayout=null!==(_a3=initialProps.captionLayout)&&void 0!==_a3?_a3:defaultContextValues.captionLayout;"buttons"===captionLayout||fromDate&&toDate2||(captionLayout="buttons"),(isDayPickerSingle(initialProps)||isDayPickerMultiple(initialProps)||isDayPickerRange(initialProps))&&(onSelect=initialProps.onSelect);var value=__assign(__assign(__assign({},defaultContextValues),initialProps),{captionLayout:captionLayout,classNames:__assign(__assign({},defaultContextValues.classNames),initialProps.classNames),components:__assign({},initialProps.components),formatters:__assign(__assign({},defaultContextValues.formatters),initialProps.formatters),fromDate:fromDate,labels:__assign(__assign({},defaultContextValues.labels),initialProps.labels),mode:initialProps.mode||defaultContextValues.mode,modifiers:__assign(__assign({},defaultContextValues.modifiers),initialProps.modifiers),modifiersClassNames:__assign(__assign({},defaultContextValues.modifiersClassNames),initialProps.modifiersClassNames),onSelect:onSelect,styles:__assign(__assign({},defaultContextValues.styles),initialProps.styles),toDate:toDate2});return jsxRuntimeExports.jsx(DayPickerContext.Provider,{value:value,children:props.children})}function useDayPicker(){var context=reactExports.useContext(DayPickerContext);if(!context)throw new Error("useDayPicker must be used within a DayPickerProvider.");return context}function CaptionLabel(props){var _a3=useDayPicker(),locale2=_a3.locale,classNames2=_a3.classNames,styles2=_a3.styles,formatCaption2=_a3.formatters.formatCaption;return jsxRuntimeExports.jsx("div",{className:classNames2.caption_label,style:styles2.caption_label,"aria-live":"polite",role:"presentation",id:props.id,children:formatCaption2(props.displayMonth,{locale:locale2})})}function IconDropdown(props){return jsxRuntimeExports.jsx("svg",__assign({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},props,{children:jsxRuntimeExports.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Dropdown(props){var _a3,_b3,onChange=props.onChange,value=props.value,children=props.children,caption=props.caption,className=props.className,style=props.style,dayPicker=useDayPicker(),IconDropdownComponent=null!==(_b3=null===(_a3=dayPicker.components)||void 0===_a3?void 0:_a3.IconDropdown)&&void 0!==_b3?_b3:IconDropdown;return jsxRuntimeExports.jsxs("div",{className:className,style:style,children:[jsxRuntimeExports.jsx("span",{className:dayPicker.classNames.vhidden,children:props["aria-label"]}),jsxRuntimeExports.jsx("select",{name:props.name,"aria-label":props["aria-label"],className:dayPicker.classNames.dropdown,style:dayPicker.styles.dropdown,value:value,onChange:onChange,children:children}),jsxRuntimeExports.jsxs("div",{className:dayPicker.classNames.caption_label,style:dayPicker.styles.caption_label,"aria-hidden":"true",children:[caption,jsxRuntimeExports.jsx(IconDropdownComponent,{className:dayPicker.classNames.dropdown_icon,style:dayPicker.styles.dropdown_icon})]})]})}function MonthsDropdown(props){var _a3,_b3=useDayPicker(),fromDate=_b3.fromDate,toDate2=_b3.toDate,styles2=_b3.styles,locale2=_b3.locale,formatMonthCaption2=_b3.formatters.formatMonthCaption,classNames2=_b3.classNames,components=_b3.components,labelMonthDropdown2=_b3.labels.labelMonthDropdown;if(!fromDate)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});if(!toDate2)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});var dropdownMonths=[];if(function(dateLeft,dateRight){const _dateLeft=toDate(dateLeft),_dateRight=toDate(dateRight);return _dateLeft.getFullYear()===_dateRight.getFullYear()}(fromDate,toDate2))for(var date2=startOfMonth(fromDate),month=fromDate.getMonth();month<=toDate2.getMonth();month++)dropdownMonths.push(setMonth(date2,month));else for(date2=startOfMonth(new Date),month=0;month<=11;month++)dropdownMonths.push(setMonth(date2,month));var DropdownComponent=null!==(_a3=null==components?void 0:components.Dropdown)&&void 0!==_a3?_a3:Dropdown;return jsxRuntimeExports.jsx(DropdownComponent,{name:"months","aria-label":labelMonthDropdown2(),className:classNames2.dropdown_month,style:styles2.dropdown_month,onChange:function(e3){var selectedMonth=Number(e3.target.value),newMonth=setMonth(startOfMonth(props.displayMonth),selectedMonth);props.onChange(newMonth)},value:props.displayMonth.getMonth(),caption:formatMonthCaption2(props.displayMonth,{locale:locale2}),children:dropdownMonths.map(function(m2){return jsxRuntimeExports.jsx("option",{value:m2.getMonth(),children:formatMonthCaption2(m2,{locale:locale2})},m2.getMonth())})})}function YearsDropdown(props){var _a3,displayMonth=props.displayMonth,_b3=useDayPicker(),fromDate=_b3.fromDate,toDate2=_b3.toDate,locale2=_b3.locale,styles2=_b3.styles,classNames2=_b3.classNames,components=_b3.components,formatYearCaption2=_b3.formatters.formatYearCaption,labelYearDropdown2=_b3.labels.labelYearDropdown,years=[];if(!fromDate)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});if(!toDate2)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});for(var fromYear=fromDate.getFullYear(),toYear=toDate2.getFullYear(),year=fromYear;year<=toYear;year++)years.push(setYear(startOfYear(new Date),year));var DropdownComponent=null!==(_a3=null==components?void 0:components.Dropdown)&&void 0!==_a3?_a3:Dropdown;return jsxRuntimeExports.jsx(DropdownComponent,{name:"years","aria-label":labelYearDropdown2(),className:classNames2.dropdown_year,style:styles2.dropdown_year,onChange:function(e3){var newMonth=setYear(startOfMonth(displayMonth),Number(e3.target.value));props.onChange(newMonth)},value:displayMonth.getFullYear(),caption:formatYearCaption2(displayMonth,{locale:locale2}),children:years.map(function(year2){return jsxRuntimeExports.jsx("option",{value:year2.getFullYear(),children:formatYearCaption2(year2,{locale:locale2})},year2.getFullYear())})})}function useNavigationState(){var context=useDayPicker(),initialMonth=function(context){var month=context.month,defaultMonth=context.defaultMonth,today=context.today,initialMonth=month||defaultMonth||today||new Date,toDate2=context.toDate,fromDate=context.fromDate,_a3=context.numberOfMonths,numberOfMonths=void 0===_a3?1:_a3;return toDate2&&differenceInCalendarMonths(toDate2,initialMonth)<0&&(initialMonth=addMonths(toDate2,-1*(numberOfMonths-1))),fromDate&&differenceInCalendarMonths(initialMonth,fromDate)<0&&(initialMonth=fromDate),startOfMonth(initialMonth)}(context),_a3=function(defaultValue,controlledValue){var _a3=reactExports.useState(defaultValue),uncontrolledValue=_a3[0];return[void 0===controlledValue?uncontrolledValue:controlledValue,_a3[1]]}(initialMonth,context.month),month=_a3[0],setMonth2=_a3[1];return[month,function(date2){var _a4;if(!context.disableNavigation){var month2=startOfMonth(date2);setMonth2(month2),null===(_a4=context.onMonthChange)||void 0===_a4||_a4.call(context,month2)}}]}var NavigationContext=reactExports.createContext(void 0);function NavigationProvider(props){var dayPicker=useDayPicker(),_a3=useNavigationState(),currentMonth=_a3[0],goToMonth=_a3[1],displayMonths=function(month,_a3){for(var reverseMonths=_a3.reverseMonths,numberOfMonths=_a3.numberOfMonths,start=startOfMonth(month),monthsDiff=differenceInCalendarMonths(startOfMonth(addMonths(start,numberOfMonths)),start),months=[],i2=0;i2<monthsDiff;i2++){var nextMonth=addMonths(start,i2);months.push(nextMonth)}return reverseMonths&&(months=months.reverse()),months}(currentMonth,dayPicker),nextMonth=function(startingMonth,options){if(!options.disableNavigation){var toDate2=options.toDate,pagedNavigation=options.pagedNavigation,_a3=options.numberOfMonths,numberOfMonths=void 0===_a3?1:_a3,offset=pagedNavigation?numberOfMonths:1,month=startOfMonth(startingMonth);if(!toDate2)return addMonths(month,offset);if(!(differenceInCalendarMonths(toDate2,startingMonth)<numberOfMonths))return addMonths(month,offset)}}(currentMonth,dayPicker),previousMonth=function(startingMonth,options){if(!options.disableNavigation){var fromDate=options.fromDate,pagedNavigation=options.pagedNavigation,_a3=options.numberOfMonths,offset=pagedNavigation?void 0===_a3?1:_a3:1,month=startOfMonth(startingMonth);if(!fromDate)return addMonths(month,-offset);if(!(differenceInCalendarMonths(month,fromDate)<=0))return addMonths(month,-offset)}}(currentMonth,dayPicker),isDateDisplayed=function(date2){return displayMonths.some(function(displayMonth){return isSameMonth(date2,displayMonth)})},value={currentMonth:currentMonth,displayMonths:displayMonths,goToMonth:goToMonth,goToDate:function(date2,refDate){isDateDisplayed(date2)||(refDate&&isBefore(date2,refDate)?goToMonth(addMonths(date2,1+-1*dayPicker.numberOfMonths)):goToMonth(date2))},previousMonth:previousMonth,nextMonth:nextMonth,isDateDisplayed:isDateDisplayed};return jsxRuntimeExports.jsx(NavigationContext.Provider,{value:value,children:props.children})}function useNavigation(){var context=reactExports.useContext(NavigationContext);if(!context)throw new Error("useNavigation must be used within a NavigationProvider");return context}function CaptionDropdowns(props){var _a3,_b3=useDayPicker(),classNames2=_b3.classNames,styles2=_b3.styles,components=_b3.components,goToMonth=useNavigation().goToMonth,handleMonthChange=function(newMonth){goToMonth(addMonths(newMonth,props.displayIndex?-props.displayIndex:0))},CaptionLabelComponent=null!==(_a3=null==components?void 0:components.CaptionLabel)&&void 0!==_a3?_a3:CaptionLabel,captionLabel=jsxRuntimeExports.jsx(CaptionLabelComponent,{id:props.id,displayMonth:props.displayMonth});return jsxRuntimeExports.jsxs("div",{className:classNames2.caption_dropdowns,style:styles2.caption_dropdowns,children:[jsxRuntimeExports.jsx("div",{className:classNames2.vhidden,children:captionLabel}),jsxRuntimeExports.jsx(MonthsDropdown,{onChange:handleMonthChange,displayMonth:props.displayMonth}),jsxRuntimeExports.jsx(YearsDropdown,{onChange:handleMonthChange,displayMonth:props.displayMonth})]})}function IconLeft(props){return jsxRuntimeExports.jsx("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},props,{children:jsxRuntimeExports.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IconRight(props){return jsxRuntimeExports.jsx("svg",__assign({width:"16px",height:"16px",viewBox:"0 0 120 120"},props,{children:jsxRuntimeExports.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Button=reactExports.forwardRef(function(props,ref){var _a3=useDayPicker(),classNames2=_a3.classNames,styles2=_a3.styles,classNamesArr=[classNames2.button_reset,classNames2.button];props.className&&classNamesArr.push(props.className);var className=classNamesArr.join(" "),style=__assign(__assign({},styles2.button_reset),styles2.button);return props.style&&Object.assign(style,props.style),jsxRuntimeExports.jsx("button",__assign({},props,{ref:ref,type:"button",className:className,style:style}))});function Navigation(props){var _a3,_b3,_c2=useDayPicker(),dir=_c2.dir,locale2=_c2.locale,classNames2=_c2.classNames,styles2=_c2.styles,_d2=_c2.labels,labelPrevious2=_d2.labelPrevious,labelNext2=_d2.labelNext,components=_c2.components;if(!props.nextMonth&&!props.previousMonth)return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{});var previousLabel=labelPrevious2(props.previousMonth,{locale:locale2}),previousClassName=[classNames2.nav_button,classNames2.nav_button_previous].join(" "),nextLabel=labelNext2(props.nextMonth,{locale:locale2}),nextClassName=[classNames2.nav_button,classNames2.nav_button_next].join(" "),IconRightComponent=null!==(_a3=null==components?void 0:components.IconRight)&&void 0!==_a3?_a3:IconRight,IconLeftComponent=null!==(_b3=null==components?void 0:components.IconLeft)&&void 0!==_b3?_b3:IconLeft;return jsxRuntimeExports.jsxs("div",{className:classNames2.nav,style:styles2.nav,children:[!props.hidePrevious&&jsxRuntimeExports.jsx(Button,{name:"previous-month","aria-label":previousLabel,className:previousClassName,style:styles2.nav_button_previous,disabled:!props.previousMonth,onClick:props.onPreviousClick,children:"rtl"===dir?jsxRuntimeExports.jsx(IconRightComponent,{className:classNames2.nav_icon,style:styles2.nav_icon}):jsxRuntimeExports.jsx(IconLeftComponent,{className:classNames2.nav_icon,style:styles2.nav_icon})}),!props.hideNext&&jsxRuntimeExports.jsx(Button,{name:"next-month","aria-label":nextLabel,className:nextClassName,style:styles2.nav_button_next,disabled:!props.nextMonth,onClick:props.onNextClick,children:"rtl"===dir?jsxRuntimeExports.jsx(IconLeftComponent,{className:classNames2.nav_icon,style:styles2.nav_icon}):jsxRuntimeExports.jsx(IconRightComponent,{className:classNames2.nav_icon,style:styles2.nav_icon})})]})}function CaptionNavigation(props){var numberOfMonths=useDayPicker().numberOfMonths,_a3=useNavigation(),previousMonth=_a3.previousMonth,nextMonth=_a3.nextMonth,goToMonth=_a3.goToMonth,displayMonths=_a3.displayMonths,displayIndex=displayMonths.findIndex(function(month){return isSameMonth(props.displayMonth,month)}),isFirst=0===displayIndex,isLast=displayIndex===displayMonths.length-1,hideNext=numberOfMonths>1&&(isFirst||!isLast),hidePrevious=numberOfMonths>1&&(isLast||!isFirst);return jsxRuntimeExports.jsx(Navigation,{displayMonth:props.displayMonth,hideNext:hideNext,hidePrevious:hidePrevious,nextMonth:nextMonth,previousMonth:previousMonth,onPreviousClick:function(){previousMonth&&goToMonth(previousMonth)},onNextClick:function(){nextMonth&&goToMonth(nextMonth)}})}function Caption(props){var _a3,caption,_b3=useDayPicker(),classNames2=_b3.classNames,disableNavigation=_b3.disableNavigation,styles2=_b3.styles,captionLayout=_b3.captionLayout,components=_b3.components,CaptionLabelComponent=null!==(_a3=null==components?void 0:components.CaptionLabel)&&void 0!==_a3?_a3:CaptionLabel;return caption=disableNavigation?jsxRuntimeExports.jsx(CaptionLabelComponent,{id:props.id,displayMonth:props.displayMonth}):"dropdown"===captionLayout?jsxRuntimeExports.jsx(CaptionDropdowns,{displayMonth:props.displayMonth,id:props.id}):"dropdown-buttons"===captionLayout?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CaptionDropdowns,{displayMonth:props.displayMonth,displayIndex:props.displayIndex,id:props.id}),jsxRuntimeExports.jsx(CaptionNavigation,{displayMonth:props.displayMonth,displayIndex:props.displayIndex,id:props.id})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CaptionLabelComponent,{id:props.id,displayMonth:props.displayMonth,displayIndex:props.displayIndex}),jsxRuntimeExports.jsx(CaptionNavigation,{displayMonth:props.displayMonth,id:props.id})]}),jsxRuntimeExports.jsx("div",{className:classNames2.caption,style:styles2.caption,children:caption})}function Footer(props){var _a3=useDayPicker(),footer=_a3.footer,styles2=_a3.styles,tfoot=_a3.classNames.tfoot;return footer?jsxRuntimeExports.jsx("tfoot",{className:tfoot,style:styles2.tfoot,children:jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:8,children:footer})})}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{})}function HeadRow(){var _a3=useDayPicker(),classNames2=_a3.classNames,styles2=_a3.styles,showWeekNumber=_a3.showWeekNumber,locale2=_a3.locale,weekStartsOn=_a3.weekStartsOn,ISOWeek=_a3.ISOWeek,formatWeekdayName2=_a3.formatters.formatWeekdayName,labelWeekday2=_a3.labels.labelWeekday,weekdays=function(locale2,weekStartsOn,ISOWeek){for(var start=ISOWeek?startOfISOWeek(new Date):startOfWeek(new Date,{locale:locale2,weekStartsOn:weekStartsOn}),days=[],i2=0;i2<7;i2++){var day=addDays(start,i2);days.push(day)}return days}(locale2,weekStartsOn,ISOWeek);return jsxRuntimeExports.jsxs("tr",{style:styles2.head_row,className:classNames2.head_row,children:[showWeekNumber&&jsxRuntimeExports.jsx("td",{style:styles2.head_cell,className:classNames2.head_cell}),weekdays.map(function(weekday,i2){return jsxRuntimeExports.jsx("th",{scope:"col",className:classNames2.head_cell,style:styles2.head_cell,"aria-label":labelWeekday2(weekday,{locale:locale2}),children:formatWeekdayName2(weekday,{locale:locale2})},i2)})]})}function Head(){var _a3,_b3=useDayPicker(),classNames2=_b3.classNames,styles2=_b3.styles,components=_b3.components,HeadRowComponent=null!==(_a3=null==components?void 0:components.HeadRow)&&void 0!==_a3?_a3:HeadRow;return jsxRuntimeExports.jsx("thead",{style:styles2.head,className:classNames2.head,children:jsxRuntimeExports.jsx(HeadRowComponent,{})})}function DayContent(props){var _a3=useDayPicker(),locale2=_a3.locale,formatDay2=_a3.formatters.formatDay;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:formatDay2(props.date,{locale:locale2})})}var SelectMultipleContext=reactExports.createContext(void 0);function SelectMultipleProvider(props){if(!isDayPickerMultiple(props.initialProps)){return jsxRuntimeExports.jsx(SelectMultipleContext.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:props.children})}return jsxRuntimeExports.jsx(SelectMultipleProviderInternal,{initialProps:props.initialProps,children:props.children})}function SelectMultipleProviderInternal(_a3){var initialProps=_a3.initialProps,children=_a3.children,selected=initialProps.selected,min2=initialProps.min,max2=initialProps.max,modifiers={disabled:[]};selected&&modifiers.disabled.push(function(day){var isMaxSelected=max2&&selected.length>max2-1,isSelected=selected.some(function(selectedDay){return isSameDay(selectedDay,day)});return Boolean(isMaxSelected&&!isSelected)});var contextValue={selected:selected,onDayClick:function(day,activeModifiers,e3){var _a4,_b3;if((null===(_a4=initialProps.onDayClick)||void 0===_a4||_a4.call(initialProps,day,activeModifiers,e3),!Boolean(activeModifiers.selected&&min2&&(null==selected?void 0:selected.length)===min2))&&!Boolean(!activeModifiers.selected&&max2&&(null==selected?void 0:selected.length)===max2)){var selectedDays=selected?__spreadArray([],selected):[];if(activeModifiers.selected){var index=selectedDays.findIndex(function(selectedDay){return isSameDay(day,selectedDay)});selectedDays.splice(index,1)}else selectedDays.push(day);null===(_b3=initialProps.onSelect)||void 0===_b3||_b3.call(initialProps,selectedDays,day,activeModifiers,e3)}},modifiers:modifiers};return jsxRuntimeExports.jsx(SelectMultipleContext.Provider,{value:contextValue,children:children})}function useSelectMultiple(){var context=reactExports.useContext(SelectMultipleContext);if(!context)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return context}var InternalModifier,InternalModifier2,SelectRangeContext=reactExports.createContext(void 0);function SelectRangeProvider(props){if(!isDayPickerRange(props.initialProps)){return jsxRuntimeExports.jsx(SelectRangeContext.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:props.children})}return jsxRuntimeExports.jsx(SelectRangeProviderInternal,{initialProps:props.initialProps,children:props.children})}function SelectRangeProviderInternal(_a3){var initialProps=_a3.initialProps,children=_a3.children,selected=initialProps.selected,_b3=selected||{},selectedFrom=_b3.from,selectedTo=_b3.to,min2=initialProps.min,max2=initialProps.max,modifiers={range_start:[],range_end:[],range_middle:[],disabled:[]};if(selectedFrom?(modifiers.range_start=[selectedFrom],selectedTo?(modifiers.range_end=[selectedTo],isSameDay(selectedFrom,selectedTo)||(modifiers.range_middle=[{after:selectedFrom,before:selectedTo}])):modifiers.range_end=[selectedFrom]):selectedTo&&(modifiers.range_start=[selectedTo],modifiers.range_end=[selectedTo]),min2&&(selectedFrom&&!selectedTo&&modifiers.disabled.push({after:subDays(selectedFrom,min2-1),before:addDays(selectedFrom,min2-1)}),selectedFrom&&selectedTo&&modifiers.disabled.push({after:selectedFrom,before:addDays(selectedFrom,min2-1)}),!selectedFrom&&selectedTo&&modifiers.disabled.push({after:subDays(selectedTo,min2-1),before:addDays(selectedTo,min2-1)})),max2){if(selectedFrom&&!selectedTo&&(modifiers.disabled.push({before:addDays(selectedFrom,1-max2)}),modifiers.disabled.push({after:addDays(selectedFrom,max2-1)})),selectedFrom&&selectedTo){var offset=max2-(differenceInCalendarDays(selectedTo,selectedFrom)+1);modifiers.disabled.push({before:subDays(selectedFrom,offset)}),modifiers.disabled.push({after:addDays(selectedTo,offset)})}!selectedFrom&&selectedTo&&(modifiers.disabled.push({before:addDays(selectedTo,1-max2)}),modifiers.disabled.push({after:addDays(selectedTo,max2-1)}))}return jsxRuntimeExports.jsx(SelectRangeContext.Provider,{value:{selected:selected,onDayClick:function(day,activeModifiers,e3){var _a4,_b4;null===(_a4=initialProps.onDayClick)||void 0===_a4||_a4.call(initialProps,day,activeModifiers,e3);var newRange=function(day,range3){var _a3=range3||{},from=_a3.from,to=_a3.to;if(from&&to){if(isSameDay(to,day)&&isSameDay(from,day))return;if(isSameDay(to,day))return{from:to,to:void 0};if(isSameDay(from,day))return;return isAfter(from,day)?{from:day,to:to}:{from:from,to:day}}return to?isAfter(day,to)?{from:to,to:day}:{from:day,to:to}:from?isBefore(day,from)?{from:day,to:from}:{from:from,to:day}:{from:day,to:void 0}}(day,selected);null===(_b4=initialProps.onSelect)||void 0===_b4||_b4.call(initialProps,newRange,day,activeModifiers,e3)},modifiers:modifiers},children:children})}function useSelectRange(){var context=reactExports.useContext(SelectRangeContext);if(!context)throw new Error("useSelectRange must be used within a SelectRangeProvider");return context}function matcherToArray(matcher){return Array.isArray(matcher)?__spreadArray([],matcher):void 0!==matcher?[matcher]:[]}(InternalModifier2=InternalModifier||(InternalModifier={})).Outside="outside",InternalModifier2.Disabled="disabled",InternalModifier2.Selected="selected",InternalModifier2.Hidden="hidden",InternalModifier2.Today="today",InternalModifier2.RangeStart="range_start",InternalModifier2.RangeEnd="range_end",InternalModifier2.RangeMiddle="range_middle";var Selected=InternalModifier.Selected,Disabled=InternalModifier.Disabled,Hidden=InternalModifier.Hidden,Today=InternalModifier.Today,RangeEnd=InternalModifier.RangeEnd,RangeMiddle=InternalModifier.RangeMiddle,RangeStart=InternalModifier.RangeStart,Outside=InternalModifier.Outside;var ModifiersContext=reactExports.createContext(void 0);function ModifiersProvider(props){var dayPicker=useDayPicker(),internalModifiers=function(dayPicker,selectMultiple,selectRange){var _a3,internalModifiers=((_a3={})[Selected]=matcherToArray(dayPicker.selected),_a3[Disabled]=matcherToArray(dayPicker.disabled),_a3[Hidden]=matcherToArray(dayPicker.hidden),_a3[Today]=[dayPicker.today],_a3[RangeEnd]=[],_a3[RangeMiddle]=[],_a3[RangeStart]=[],_a3[Outside]=[],_a3);return dayPicker.fromDate&&internalModifiers[Disabled].push({before:dayPicker.fromDate}),dayPicker.toDate&&internalModifiers[Disabled].push({after:dayPicker.toDate}),isDayPickerMultiple(dayPicker)?internalModifiers[Disabled]=internalModifiers[Disabled].concat(selectMultiple.modifiers[Disabled]):isDayPickerRange(dayPicker)&&(internalModifiers[Disabled]=internalModifiers[Disabled].concat(selectRange.modifiers[Disabled]),internalModifiers[RangeStart]=selectRange.modifiers[RangeStart],internalModifiers[RangeMiddle]=selectRange.modifiers[RangeMiddle],internalModifiers[RangeEnd]=selectRange.modifiers[RangeEnd]),internalModifiers}(dayPicker,useSelectMultiple(),useSelectRange()),customModifiers=function(dayModifiers){var customModifiers={};return Object.entries(dayModifiers).forEach(function(_a3){var modifier=_a3[0],matcher=_a3[1];customModifiers[modifier]=matcherToArray(matcher)}),customModifiers}(dayPicker.modifiers),modifiers=__assign(__assign({},internalModifiers),customModifiers);return jsxRuntimeExports.jsx(ModifiersContext.Provider,{value:modifiers,children:props.children})}function useModifiers(){var context=reactExports.useContext(ModifiersContext);if(!context)throw new Error("useModifiers must be used within a ModifiersProvider");return context}function isMatch(day,matchers){return matchers.some(function(matcher){if("boolean"==typeof matcher)return matcher;if(isDate(matcher))return isSameDay(day,matcher);var date2,range3,_a3,from,to;if(function(value){return Array.isArray(value)&&value.every(isDate)}(matcher))return matcher.includes(day);if(function(value){return Boolean(value&&"object"==typeof value&&"from"in value)}(matcher))return date2=day,from=(range3=matcher).from,to=range3.to,from&&to?(differenceInCalendarDays(to,from)<0&&(from=(_a3=[to,from])[0],to=_a3[1]),differenceInCalendarDays(date2,from)>=0&&differenceInCalendarDays(to,date2)>=0):to?isSameDay(to,date2):!!from&&isSameDay(from,date2);if(function(value){return Boolean(value&&"object"==typeof value&&"dayOfWeek"in value)}(matcher))return matcher.dayOfWeek.includes(day.getDay());if(function(matcher){return Boolean(matcher&&"object"==typeof matcher&&"before"in matcher&&"after"in matcher)}(matcher)){var isDayBefore=differenceInCalendarDays(matcher.before,day)>0,isDayAfter=differenceInCalendarDays(matcher.after,day)<0;return isAfter(matcher.before,matcher.after)?isDayAfter&&isDayBefore:isDayBefore||isDayAfter}return function(value){return Boolean(value&&"object"==typeof value&&"after"in value)}(matcher)?differenceInCalendarDays(day,matcher.after)>0:function(value){return Boolean(value&&"object"==typeof value&&"before"in value)}(matcher)?differenceInCalendarDays(matcher.before,day)>0:"function"==typeof matcher&&matcher(day)})}function getActiveModifiers(day,modifiers,displayMonth){var matchedModifiers=Object.keys(modifiers).reduce(function(result,key){var modifier=modifiers[key];return isMatch(day,modifier)&&result.push(key),result},[]),activeModifiers={};return matchedModifiers.forEach(function(modifier){return activeModifiers[modifier]=!0}),displayMonth&&!isSameMonth(day,displayMonth)&&(activeModifiers.outside=!0),activeModifiers}function getNextFocus(focusedDay,options){var moveBy=options.moveBy,direction=options.direction,context=options.context,modifiers=options.modifiers,_a3=options.retry,retry=void 0===_a3?{count:0,lastFocused:focusedDay}:_a3,weekStartsOn=context.weekStartsOn,fromDate=context.fromDate,toDate2=context.toDate,locale2=context.locale,newFocusedDay={day:addDays,week:addWeeks,month:addMonths,year:addYears,startOfWeek:function(date2){return context.ISOWeek?startOfISOWeek(date2):startOfWeek(date2,{locale:locale2,weekStartsOn:weekStartsOn})},endOfWeek:function(date2){return context.ISOWeek?endOfISOWeek(date2):endOfWeek(date2,{locale:locale2,weekStartsOn:weekStartsOn})}}[moveBy](focusedDay,"after"===direction?1:-1);"before"===direction&&fromDate?newFocusedDay=function(dates){let result;return dates.forEach(function(dirtyDate){const currentDate=toDate(dirtyDate);(void 0===result||result<currentDate||isNaN(Number(currentDate)))&&(result=currentDate)}),result||new Date(NaN)}([fromDate,newFocusedDay]):"after"===direction&&toDate2&&(newFocusedDay=function(dates){let result;return dates.forEach(dirtyDate=>{const date2=toDate(dirtyDate);(!result||result>date2||isNaN(+date2))&&(result=date2)}),result||new Date(NaN)}([toDate2,newFocusedDay]));var isFocusable=!0;if(modifiers){var activeModifiers=getActiveModifiers(newFocusedDay,modifiers);isFocusable=!activeModifiers.disabled&&!activeModifiers.hidden}return isFocusable?newFocusedDay:retry.count>365?retry.lastFocused:getNextFocus(newFocusedDay,{moveBy:moveBy,direction:direction,context:context,modifiers:modifiers,retry:__assign(__assign({},retry),{count:retry.count+1})})}var FocusContext=reactExports.createContext(void 0);function FocusProvider(props){var navigation=useNavigation(),modifiers=useModifiers(),_a3=reactExports.useState(),focusedDay=_a3[0],setFocusedDay=_a3[1],_b3=reactExports.useState(),lastFocused=_b3[0],setLastFocused=_b3[1],initialFocusTarget=function(displayMonths,modifiers){for(var firstFocusableDay,today,firstDayInMonth=startOfMonth(displayMonths[0]),lastDayInMonth=endOfMonth(displayMonths[displayMonths.length-1]),date2=firstDayInMonth;date2<=lastDayInMonth;){var activeModifiers=getActiveModifiers(date2,modifiers);if(activeModifiers.disabled||activeModifiers.hidden)date2=addDays(date2,1);else{if(activeModifiers.selected)return date2;activeModifiers.today&&!today&&(today=date2),firstFocusableDay||(firstFocusableDay=date2),date2=addDays(date2,1)}}return today||firstFocusableDay}(navigation.displayMonths,modifiers),focusTarget=(null!=focusedDay?focusedDay:lastFocused&&navigation.isDateDisplayed(lastFocused))?lastFocused:initialFocusTarget,focus=function(date2){setFocusedDay(date2)},context=useDayPicker(),moveFocus=function(moveBy,direction){if(focusedDay){var nextFocused=getNextFocus(focusedDay,{moveBy:moveBy,direction:direction,context:context,modifiers:modifiers});isSameDay(focusedDay,nextFocused)||(navigation.goToDate(nextFocused,focusedDay),focus(nextFocused))}},value={focusedDay:focusedDay,focusTarget:focusTarget,blur:function(){setLastFocused(focusedDay),setFocusedDay(void 0)},focus:focus,focusDayAfter:function(){return moveFocus("day","after")},focusDayBefore:function(){return moveFocus("day","before")},focusWeekAfter:function(){return moveFocus("week","after")},focusWeekBefore:function(){return moveFocus("week","before")},focusMonthBefore:function(){return moveFocus("month","before")},focusMonthAfter:function(){return moveFocus("month","after")},focusYearBefore:function(){return moveFocus("year","before")},focusYearAfter:function(){return moveFocus("year","after")},focusStartOfWeek:function(){return moveFocus("startOfWeek","before")},focusEndOfWeek:function(){return moveFocus("endOfWeek","after")}};return jsxRuntimeExports.jsx(FocusContext.Provider,{value:value,children:props.children})}function useFocusContext(){var context=reactExports.useContext(FocusContext);if(!context)throw new Error("useFocusContext must be used within a FocusProvider");return context}var SelectSingleContext=reactExports.createContext(void 0);function SelectSingleProvider(props){if(!isDayPickerSingle(props.initialProps)){return jsxRuntimeExports.jsx(SelectSingleContext.Provider,{value:{selected:void 0},children:props.children})}return jsxRuntimeExports.jsx(SelectSingleProviderInternal,{initialProps:props.initialProps,children:props.children})}function SelectSingleProviderInternal(_a3){var initialProps=_a3.initialProps,children=_a3.children,contextValue={selected:initialProps.selected,onDayClick:function(day,activeModifiers,e3){var _a4,_b3,_c2;null===(_a4=initialProps.onDayClick)||void 0===_a4||_a4.call(initialProps,day,activeModifiers,e3),!activeModifiers.selected||initialProps.required?null===(_c2=initialProps.onSelect)||void 0===_c2||_c2.call(initialProps,day,day,activeModifiers,e3):null===(_b3=initialProps.onSelect)||void 0===_b3||_b3.call(initialProps,void 0,day,activeModifiers,e3)}};return jsxRuntimeExports.jsx(SelectSingleContext.Provider,{value:contextValue,children:children})}function useSelectSingle(){var context=reactExports.useContext(SelectSingleContext);if(!context)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return context}function getDayClassNames(dayPicker,activeModifiers){var classNames2=[dayPicker.classNames.day];return Object.keys(activeModifiers).forEach(function(modifier){var customClassName=dayPicker.modifiersClassNames[modifier];if(customClassName)classNames2.push(customClassName);else if(function(modifier){return Object.values(InternalModifier).includes(modifier)}(modifier)){var internalClassName=dayPicker.classNames["day_".concat(modifier)];internalClassName&&classNames2.push(internalClassName)}}),classNames2}function useDayRender(day,displayMonth,buttonRef){var _a3,_b3,_c2,dayPicker=useDayPicker(),focusContext=useFocusContext(),activeModifiers=function(day,displayMonth){return getActiveModifiers(day,useModifiers(),displayMonth)}(day,displayMonth),eventHandlers=function(date2,activeModifiers){var dayPicker=useDayPicker(),single=useSelectSingle(),multiple=useSelectMultiple(),range3=useSelectRange(),_a3=useFocusContext(),focusDayAfter=_a3.focusDayAfter,focusDayBefore=_a3.focusDayBefore,focusWeekAfter=_a3.focusWeekAfter,focusWeekBefore=_a3.focusWeekBefore,blur=_a3.blur,focus=_a3.focus,focusMonthBefore=_a3.focusMonthBefore,focusMonthAfter=_a3.focusMonthAfter,focusYearBefore=_a3.focusYearBefore,focusYearAfter=_a3.focusYearAfter,focusStartOfWeek=_a3.focusStartOfWeek,focusEndOfWeek=_a3.focusEndOfWeek;return{onClick:function(e3){var _a4,_b3,_c2,_d2;isDayPickerSingle(dayPicker)?null===(_a4=single.onDayClick)||void 0===_a4||_a4.call(single,date2,activeModifiers,e3):isDayPickerMultiple(dayPicker)?null===(_b3=multiple.onDayClick)||void 0===_b3||_b3.call(multiple,date2,activeModifiers,e3):isDayPickerRange(dayPicker)?null===(_c2=range3.onDayClick)||void 0===_c2||_c2.call(range3,date2,activeModifiers,e3):null===(_d2=dayPicker.onDayClick)||void 0===_d2||_d2.call(dayPicker,date2,activeModifiers,e3)},onFocus:function(e3){var _a4;focus(date2),null===(_a4=dayPicker.onDayFocus)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onBlur:function(e3){var _a4;blur(),null===(_a4=dayPicker.onDayBlur)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onKeyDown:function(e3){var _a4;switch(e3.key){case"ArrowLeft":e3.preventDefault(),e3.stopPropagation(),"rtl"===dayPicker.dir?focusDayAfter():focusDayBefore();break;case"ArrowRight":e3.preventDefault(),e3.stopPropagation(),"rtl"===dayPicker.dir?focusDayBefore():focusDayAfter();break;case"ArrowDown":e3.preventDefault(),e3.stopPropagation(),focusWeekAfter();break;case"ArrowUp":e3.preventDefault(),e3.stopPropagation(),focusWeekBefore();break;case"PageUp":e3.preventDefault(),e3.stopPropagation(),e3.shiftKey?focusYearBefore():focusMonthBefore();break;case"PageDown":e3.preventDefault(),e3.stopPropagation(),e3.shiftKey?focusYearAfter():focusMonthAfter();break;case"Home":e3.preventDefault(),e3.stopPropagation(),focusStartOfWeek();break;case"End":e3.preventDefault(),e3.stopPropagation(),focusEndOfWeek()}null===(_a4=dayPicker.onDayKeyDown)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onKeyUp:function(e3){var _a4;null===(_a4=dayPicker.onDayKeyUp)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onMouseEnter:function(e3){var _a4;null===(_a4=dayPicker.onDayMouseEnter)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onMouseLeave:function(e3){var _a4;null===(_a4=dayPicker.onDayMouseLeave)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onPointerEnter:function(e3){var _a4;null===(_a4=dayPicker.onDayPointerEnter)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onPointerLeave:function(e3){var _a4;null===(_a4=dayPicker.onDayPointerLeave)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onTouchCancel:function(e3){var _a4;null===(_a4=dayPicker.onDayTouchCancel)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onTouchEnd:function(e3){var _a4;null===(_a4=dayPicker.onDayTouchEnd)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onTouchMove:function(e3){var _a4;null===(_a4=dayPicker.onDayTouchMove)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)},onTouchStart:function(e3){var _a4;null===(_a4=dayPicker.onDayTouchStart)||void 0===_a4||_a4.call(dayPicker,date2,activeModifiers,e3)}}}(day,activeModifiers),selectedDays=function(){var dayPicker=useDayPicker(),single=useSelectSingle(),multiple=useSelectMultiple(),range3=useSelectRange();return isDayPickerSingle(dayPicker)?single.selected:isDayPickerMultiple(dayPicker)?multiple.selected:isDayPickerRange(dayPicker)?range3.selected:void 0}(),isButton=Boolean(dayPicker.onDayClick||"default"!==dayPicker.mode);reactExports.useEffect(function(){var _a4;activeModifiers.outside||focusContext.focusedDay&&isButton&&isSameDay(focusContext.focusedDay,day)&&(null===(_a4=buttonRef.current)||void 0===_a4||_a4.focus())},[focusContext.focusedDay,day,buttonRef,isButton,activeModifiers.outside]);var className=getDayClassNames(dayPicker,activeModifiers).join(" "),style=function(dayPicker,activeModifiers){var style=__assign({},dayPicker.styles.day);return Object.keys(activeModifiers).forEach(function(modifier){var _a3;style=__assign(__assign({},style),null===(_a3=dayPicker.modifiersStyles)||void 0===_a3?void 0:_a3[modifier])}),style}(dayPicker,activeModifiers),isHidden=Boolean(activeModifiers.outside&&!dayPicker.showOutsideDays||activeModifiers.hidden),DayContentComponent=null!==(_c2=null===(_b3=dayPicker.components)||void 0===_b3?void 0:_b3.DayContent)&&void 0!==_c2?_c2:DayContent,divProps={style:style,className:className,children:jsxRuntimeExports.jsx(DayContentComponent,{date:day,displayMonth:displayMonth,activeModifiers:activeModifiers}),role:"gridcell"},isFocusTarget=focusContext.focusTarget&&isSameDay(focusContext.focusTarget,day)&&!activeModifiers.outside,isFocused=focusContext.focusedDay&&isSameDay(focusContext.focusedDay,day),buttonProps=__assign(__assign(__assign({},divProps),((_a3={disabled:activeModifiers.disabled,role:"gridcell"})["aria-selected"]=activeModifiers.selected,_a3.tabIndex=isFocused||isFocusTarget?0:-1,_a3)),eventHandlers);return{isButton:isButton,isHidden:isHidden,activeModifiers:activeModifiers,selectedDays:selectedDays,buttonProps:buttonProps,divProps:divProps}}function Day(props){var buttonRef=reactExports.useRef(null),dayRender=useDayRender(props.date,props.displayMonth,buttonRef);return dayRender.isHidden?jsxRuntimeExports.jsx("div",{role:"gridcell"}):dayRender.isButton?jsxRuntimeExports.jsx(Button,__assign({name:"day",ref:buttonRef},dayRender.buttonProps)):jsxRuntimeExports.jsx("div",__assign({},dayRender.divProps))}function WeekNumber(props){var weekNumber=props.number,dates=props.dates,_a3=useDayPicker(),onWeekNumberClick=_a3.onWeekNumberClick,styles2=_a3.styles,classNames2=_a3.classNames,locale2=_a3.locale,labelWeekNumber2=_a3.labels.labelWeekNumber,content=(0,_a3.formatters.formatWeekNumber)(Number(weekNumber),{locale:locale2});if(!onWeekNumberClick)return jsxRuntimeExports.jsx("span",{className:classNames2.weeknumber,style:styles2.weeknumber,children:content});var label=labelWeekNumber2(Number(weekNumber),{locale:locale2});return jsxRuntimeExports.jsx(Button,{name:"week-number","aria-label":label,className:classNames2.weeknumber,style:styles2.weeknumber,onClick:function(e3){onWeekNumberClick(weekNumber,dates,e3)},children:content})}function Row(props){var _a3,_b3,weekNumberCell,_c2=useDayPicker(),styles2=_c2.styles,classNames2=_c2.classNames,showWeekNumber=_c2.showWeekNumber,components=_c2.components,DayComponent=null!==(_a3=null==components?void 0:components.Day)&&void 0!==_a3?_a3:Day,WeeknumberComponent=null!==(_b3=null==components?void 0:components.WeekNumber)&&void 0!==_b3?_b3:WeekNumber;return showWeekNumber&&(weekNumberCell=jsxRuntimeExports.jsx("td",{className:classNames2.cell,style:styles2.cell,children:jsxRuntimeExports.jsx(WeeknumberComponent,{number:props.weekNumber,dates:props.dates})})),jsxRuntimeExports.jsxs("tr",{className:classNames2.row,style:styles2.row,children:[weekNumberCell,props.dates.map(function(date2){return jsxRuntimeExports.jsx("td",{className:classNames2.cell,style:styles2.cell,role:"presentation",children:jsxRuntimeExports.jsx(DayComponent,{displayMonth:props.displayMonth,date:date2})},getUnixTime(date2))})]})}function daysToMonthWeeks(fromDate,toDate2,options){for(var toWeek=(null==options?void 0:options.ISOWeek)?endOfISOWeek(toDate2):endOfWeek(toDate2,options),fromWeek=(null==options?void 0:options.ISOWeek)?startOfISOWeek(fromDate):startOfWeek(fromDate,options),nOfDays=differenceInCalendarDays(toWeek,fromWeek),days=[],i2=0;i2<=nOfDays;i2++)days.push(addDays(fromWeek,i2));return days.reduce(function(result,date2){var weekNumber=(null==options?void 0:options.ISOWeek)?getISOWeek(date2):getWeek(date2,options),existingWeek=result.find(function(value){return value.weekNumber===weekNumber});return existingWeek?(existingWeek.dates.push(date2),result):(result.push({weekNumber:weekNumber,dates:[date2]}),result)},[])}function Table$1(props){var _a3,_b3,_c2,_d2=useDayPicker(),locale2=_d2.locale,classNames2=_d2.classNames,styles2=_d2.styles,hideHead=_d2.hideHead,fixedWeeks=_d2.fixedWeeks,components=_d2.components,weekStartsOn=_d2.weekStartsOn,firstWeekContainsDate=_d2.firstWeekContainsDate,ISOWeek=_d2.ISOWeek,weeks=function(month,options){var weeksInMonth=daysToMonthWeeks(startOfMonth(month),endOfMonth(month),options);if(null==options?void 0:options.useFixedWeeks){var nrOfMonthWeeks=getWeeksInMonth(month,options);if(nrOfMonthWeeks<6){var lastWeek=weeksInMonth[weeksInMonth.length-1],lastDate=lastWeek.dates[lastWeek.dates.length-1],toDate2=addWeeks(lastDate,6-nrOfMonthWeeks),extraWeeks=daysToMonthWeeks(addWeeks(lastDate,1),toDate2,options);weeksInMonth.push.apply(weeksInMonth,extraWeeks)}}return weeksInMonth}(props.displayMonth,{useFixedWeeks:Boolean(fixedWeeks),ISOWeek:ISOWeek,locale:locale2,weekStartsOn:weekStartsOn,firstWeekContainsDate:firstWeekContainsDate}),HeadComponent=null!==(_a3=null==components?void 0:components.Head)&&void 0!==_a3?_a3:Head,RowComponent=null!==(_b3=null==components?void 0:components.Row)&&void 0!==_b3?_b3:Row,FooterComponent=null!==(_c2=null==components?void 0:components.Footer)&&void 0!==_c2?_c2:Footer;return jsxRuntimeExports.jsxs("table",{id:props.id,className:classNames2.table,style:styles2.table,role:"grid","aria-labelledby":props["aria-labelledby"],children:[!hideHead&&jsxRuntimeExports.jsx(HeadComponent,{}),jsxRuntimeExports.jsx("tbody",{className:classNames2.tbody,style:styles2.tbody,children:weeks.map(function(week){return jsxRuntimeExports.jsx(RowComponent,{displayMonth:props.displayMonth,dates:week.dates,weekNumber:week.weekNumber},week.weekNumber)})}),jsxRuntimeExports.jsx(FooterComponent,{displayMonth:props.displayMonth})]})}var useIsomorphicLayoutEffect="undefined"!=typeof window&&window.document&&window.document.createElement?reactExports.useLayoutEffect:reactExports.useEffect,serverHandoffComplete=!1,id=0;function genId(){return"react-day-picker-".concat(++id)}function Month(props){var _a3,_b3,dayPicker=useDayPicker(),dir=dayPicker.dir,classNames2=dayPicker.classNames,styles2=dayPicker.styles,components=dayPicker.components,displayMonths=useNavigation().displayMonths,captionId=function(providedId){var _a3,initialId=null!=providedId?providedId:serverHandoffComplete?genId():null,_b3=reactExports.useState(initialId),id2=_b3[0],setId=_b3[1];return useIsomorphicLayoutEffect(function(){null===id2&&setId(genId())},[]),reactExports.useEffect(function(){!1===serverHandoffComplete&&(serverHandoffComplete=!0)},[]),null!==(_a3=null!=providedId?providedId:id2)&&void 0!==_a3?_a3:void 0}(dayPicker.id?"".concat(dayPicker.id,"-").concat(props.displayIndex):void 0),tableId=dayPicker.id?"".concat(dayPicker.id,"-grid-").concat(props.displayIndex):void 0,className=[classNames2.month],style=styles2.month,isStart=0===props.displayIndex,isEnd=props.displayIndex===displayMonths.length-1,isCenter=!isStart&&!isEnd;"rtl"===dir&&(isEnd=(_a3=[isStart,isEnd])[0],isStart=_a3[1]),isStart&&(className.push(classNames2.caption_start),style=__assign(__assign({},style),styles2.caption_start)),isEnd&&(className.push(classNames2.caption_end),style=__assign(__assign({},style),styles2.caption_end)),isCenter&&(className.push(classNames2.caption_between),style=__assign(__assign({},style),styles2.caption_between));var CaptionComponent=null!==(_b3=null==components?void 0:components.Caption)&&void 0!==_b3?_b3:Caption;return jsxRuntimeExports.jsxs("div",{className:className.join(" "),style:style,children:[jsxRuntimeExports.jsx(CaptionComponent,{id:captionId,displayMonth:props.displayMonth,displayIndex:props.displayIndex}),jsxRuntimeExports.jsx(Table$1,{id:tableId,"aria-labelledby":captionId,displayMonth:props.displayMonth})]},props.displayIndex)}function Months(props){var _a3=useDayPicker(),classNames2=_a3.classNames,styles2=_a3.styles;return jsxRuntimeExports.jsx("div",{className:classNames2.months,style:styles2.months,children:props.children})}function Root$2(_a3){var _b3,_c2,initialProps=_a3.initialProps,dayPicker=useDayPicker(),focusContext=useFocusContext(),navigation=useNavigation(),_d2=reactExports.useState(!1),hasInitialFocus=_d2[0],setHasInitialFocus=_d2[1];reactExports.useEffect(function(){dayPicker.initialFocus&&focusContext.focusTarget&&(hasInitialFocus||(focusContext.focus(focusContext.focusTarget),setHasInitialFocus(!0)))},[dayPicker.initialFocus,hasInitialFocus,focusContext.focus,focusContext.focusTarget,focusContext]);var classNames2=[dayPicker.classNames.root,dayPicker.className];dayPicker.numberOfMonths>1&&classNames2.push(dayPicker.classNames.multiple_months),dayPicker.showWeekNumber&&classNames2.push(dayPicker.classNames.with_weeknumber);var style=__assign(__assign({},dayPicker.styles.root),dayPicker.style),dataAttributes=Object.keys(initialProps).filter(function(key){return key.startsWith("data-")}).reduce(function(attrs,key){var _a4;return __assign(__assign({},attrs),((_a4={})[key]=initialProps[key],_a4))},{}),MonthsComponent=null!==(_c2=null===(_b3=initialProps.components)||void 0===_b3?void 0:_b3.Months)&&void 0!==_c2?_c2:Months;return jsxRuntimeExports.jsx("div",__assign({className:classNames2.join(" "),style:style,dir:dayPicker.dir,id:dayPicker.id,nonce:initialProps.nonce,title:initialProps.title,lang:initialProps.lang},dataAttributes,{children:jsxRuntimeExports.jsx(MonthsComponent,{children:navigation.displayMonths.map(function(month,i2){return jsxRuntimeExports.jsx(Month,{displayIndex:i2,displayMonth:month},i2)})})}))}function RootProvider(props){var children=props.children,initialProps=function(s2,e3){var t3={};for(var p2 in s2)Object.prototype.hasOwnProperty.call(s2,p2)&&e3.indexOf(p2)<0&&(t3[p2]=s2[p2]);if(null!=s2&&"function"==typeof Object.getOwnPropertySymbols){var i2=0;for(p2=Object.getOwnPropertySymbols(s2);i2<p2.length;i2++)e3.indexOf(p2[i2])<0&&Object.prototype.propertyIsEnumerable.call(s2,p2[i2])&&(t3[p2[i2]]=s2[p2[i2]])}return t3}(props,["children"]);return jsxRuntimeExports.jsx(DayPickerProvider,{initialProps:initialProps,children:jsxRuntimeExports.jsx(NavigationProvider,{children:jsxRuntimeExports.jsx(SelectSingleProvider,{initialProps:initialProps,children:jsxRuntimeExports.jsx(SelectMultipleProvider,{initialProps:initialProps,children:jsxRuntimeExports.jsx(SelectRangeProvider,{initialProps:initialProps,children:jsxRuntimeExports.jsx(ModifiersProvider,{children:jsxRuntimeExports.jsx(FocusProvider,{children:children})})})})})})})}function DayPicker(props){return jsxRuntimeExports.jsx(RootProvider,__assign({},props,{children:jsxRuntimeExports.jsx(Root$2,{initialProps:props})}))}function Calendar({className:className,classNames:classNames2,showOutsideDays:showOutsideDays=!0,...props}){return jsxRuntimeExports.jsx(DayPicker,{showOutsideDays:showOutsideDays,className:cn("p-3",className),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:cn(buttonVariants({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:cn(buttonVariants({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...classNames2},components:{IconLeft:({..._props})=>jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"}),IconRight:({..._props})=>jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})},...props})}Calendar.displayName="Calendar";var[createPopoverContext,createPopoverScope]=createContextScope("Popover",[createPopperScope]),usePopperScope$1=createPopperScope(),[PopoverProvider,usePopoverContext]=createPopoverContext("Popover"),Popover$1=props=>{const{__scopePopover:__scopePopover,children:children,open:openProp,defaultOpen:defaultOpen,onOpenChange:onOpenChange,modal:modal=!1}=props,popperScope=usePopperScope$1(__scopePopover),triggerRef=reactExports.useRef(null),[hasCustomAnchor,setHasCustomAnchor]=reactExports.useState(!1),[open2,setOpen]=useControllableState({prop:openProp,defaultProp:defaultOpen??!1,onChange:onOpenChange,caller:"Popover"});return jsxRuntimeExports.jsx(Root2$7,{...popperScope,children:jsxRuntimeExports.jsx(PopoverProvider,{scope:__scopePopover,contentId:useId$1(),triggerRef:triggerRef,open:open2,onOpenChange:setOpen,onOpenToggle:reactExports.useCallback(()=>setOpen(prevOpen=>!prevOpen),[setOpen]),hasCustomAnchor:hasCustomAnchor,onCustomAnchorAdd:reactExports.useCallback(()=>setHasCustomAnchor(!0),[]),onCustomAnchorRemove:reactExports.useCallback(()=>setHasCustomAnchor(!1),[]),modal:modal,children:children})})};Popover$1.displayName="Popover";reactExports.forwardRef((props,forwardedRef)=>{const{__scopePopover:__scopePopover,...anchorProps}=props,context=usePopoverContext("PopoverAnchor",__scopePopover),popperScope=usePopperScope$1(__scopePopover),{onCustomAnchorAdd:onCustomAnchorAdd,onCustomAnchorRemove:onCustomAnchorRemove}=context;return reactExports.useEffect(()=>(onCustomAnchorAdd(),()=>onCustomAnchorRemove()),[onCustomAnchorAdd,onCustomAnchorRemove]),jsxRuntimeExports.jsx(Anchor,{...popperScope,...anchorProps,ref:forwardedRef})}).displayName="PopoverAnchor";var PopoverTrigger$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopePopover:__scopePopover,...triggerProps}=props,context=usePopoverContext("PopoverTrigger",__scopePopover),popperScope=usePopperScope$1(__scopePopover),composedTriggerRef=useComposedRefs(forwardedRef,context.triggerRef),trigger=jsxRuntimeExports.jsx(Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":context.open,"aria-controls":context.contentId,"data-state":getState$3(context.open),...triggerProps,ref:composedTriggerRef,onClick:composeEventHandlers(props.onClick,context.onOpenToggle)});return context.hasCustomAnchor?trigger:jsxRuntimeExports.jsx(Anchor,{asChild:!0,...popperScope,children:trigger})});PopoverTrigger$1.displayName="PopoverTrigger";var[PortalProvider,usePortalContext]=createPopoverContext("PopoverPortal",{forceMount:void 0}),PopoverPortal=props=>{const{__scopePopover:__scopePopover,forceMount:forceMount,children:children,container:container}=props,context=usePopoverContext("PopoverPortal",__scopePopover);return jsxRuntimeExports.jsx(PortalProvider,{scope:__scopePopover,forceMount:forceMount,children:jsxRuntimeExports.jsx(Presence,{present:forceMount||context.open,children:jsxRuntimeExports.jsx(Portal$2,{asChild:!0,container:container,children:children})})})};PopoverPortal.displayName="PopoverPortal";var PopoverContent$1=reactExports.forwardRef((props,forwardedRef)=>{const portalContext=usePortalContext("PopoverContent",props.__scopePopover),{forceMount:forceMount=portalContext.forceMount,...contentProps}=props,context=usePopoverContext("PopoverContent",props.__scopePopover);return jsxRuntimeExports.jsx(Presence,{present:forceMount||context.open,children:context.modal?jsxRuntimeExports.jsx(PopoverContentModal,{...contentProps,ref:forwardedRef}):jsxRuntimeExports.jsx(PopoverContentNonModal,{...contentProps,ref:forwardedRef})})});PopoverContent$1.displayName="PopoverContent";var Slot$1=createSlot("PopoverContent.RemoveScroll"),PopoverContentModal=reactExports.forwardRef((props,forwardedRef)=>{const context=usePopoverContext("PopoverContent",props.__scopePopover),contentRef=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,contentRef),isRightClickOutsideRef=reactExports.useRef(!1);return reactExports.useEffect(()=>{const content=contentRef.current;if(content)return hideOthers(content)},[]),jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot$1,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(PopoverContentImpl,{...props,ref:composedRefs,trapFocus:context.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:composeEventHandlers(props.onCloseAutoFocus,event=>{var _a3;event.preventDefault(),isRightClickOutsideRef.current||null==(_a3=context.triggerRef.current)||_a3.focus()}),onPointerDownOutside:composeEventHandlers(props.onPointerDownOutside,event=>{const originalEvent=event.detail.originalEvent,ctrlLeftClick=0===originalEvent.button&&!0===originalEvent.ctrlKey,isRightClick=2===originalEvent.button||ctrlLeftClick;isRightClickOutsideRef.current=isRightClick},{checkForDefaultPrevented:!1}),onFocusOutside:composeEventHandlers(props.onFocusOutside,event=>event.preventDefault(),{checkForDefaultPrevented:!1})})})}),PopoverContentNonModal=reactExports.forwardRef((props,forwardedRef)=>{const context=usePopoverContext("PopoverContent",props.__scopePopover),hasInteractedOutsideRef=reactExports.useRef(!1),hasPointerDownOutsideRef=reactExports.useRef(!1);return jsxRuntimeExports.jsx(PopoverContentImpl,{...props,ref:forwardedRef,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:event=>{var _a3,_b3;null==(_a3=props.onCloseAutoFocus)||_a3.call(props,event),event.defaultPrevented||(hasInteractedOutsideRef.current||null==(_b3=context.triggerRef.current)||_b3.focus(),event.preventDefault()),hasInteractedOutsideRef.current=!1,hasPointerDownOutsideRef.current=!1},onInteractOutside:event=>{var _a3,_b3;null==(_a3=props.onInteractOutside)||_a3.call(props,event),event.defaultPrevented||(hasInteractedOutsideRef.current=!0,"pointerdown"===event.detail.originalEvent.type&&(hasPointerDownOutsideRef.current=!0));const target=event.target;(null==(_b3=context.triggerRef.current)?void 0:_b3.contains(target))&&event.preventDefault(),"focusin"===event.detail.originalEvent.type&&hasPointerDownOutsideRef.current&&event.preventDefault()}})}),PopoverContentImpl=reactExports.forwardRef((props,forwardedRef)=>{const{__scopePopover:__scopePopover,trapFocus:trapFocus,onOpenAutoFocus:onOpenAutoFocus,onCloseAutoFocus:onCloseAutoFocus,disableOutsidePointerEvents:disableOutsidePointerEvents,onEscapeKeyDown:onEscapeKeyDown,onPointerDownOutside:onPointerDownOutside,onFocusOutside:onFocusOutside,onInteractOutside:onInteractOutside,...contentProps}=props,context=usePopoverContext("PopoverContent",__scopePopover),popperScope=usePopperScope$1(__scopePopover);return useFocusGuards(),jsxRuntimeExports.jsx(FocusScope,{asChild:!0,loop:!0,trapped:trapFocus,onMountAutoFocus:onOpenAutoFocus,onUnmountAutoFocus:onCloseAutoFocus,children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:disableOutsidePointerEvents,onInteractOutside:onInteractOutside,onEscapeKeyDown:onEscapeKeyDown,onPointerDownOutside:onPointerDownOutside,onFocusOutside:onFocusOutside,onDismiss:()=>context.onOpenChange(!1),children:jsxRuntimeExports.jsx(Content$1,{"data-state":getState$3(context.open),role:"dialog",id:context.contentId,...popperScope,...contentProps,ref:forwardedRef,style:{...contentProps.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})});reactExports.forwardRef((props,forwardedRef)=>{const{__scopePopover:__scopePopover,...closeProps}=props,context=usePopoverContext("PopoverClose",__scopePopover);return jsxRuntimeExports.jsx(Primitive.button,{type:"button",...closeProps,ref:forwardedRef,onClick:composeEventHandlers(props.onClick,()=>context.onOpenChange(!1))})}).displayName="PopoverClose";function getState$3(open2){return open2?"open":"closed"}reactExports.forwardRef((props,forwardedRef)=>{const{__scopePopover:__scopePopover,...arrowProps}=props,popperScope=usePopperScope$1(__scopePopover);return jsxRuntimeExports.jsx(Arrow,{...popperScope,...arrowProps,ref:forwardedRef})}).displayName="PopoverArrow";var Portal$1=PopoverPortal,Content2$2=PopoverContent$1;const Popover=Popover$1,PopoverTrigger=PopoverTrigger$1,PopoverContent=reactExports.forwardRef(({className:className,align:align="center",sideOffset:sideOffset=4,...props},ref)=>jsxRuntimeExports.jsx(Portal$1,{children:jsxRuntimeExports.jsx(Content2$2,{ref:ref,align:align,sideOffset:sideOffset,className:cn("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",className),...props})}));PopoverContent.displayName=Content2$2.displayName;const formatTimestamp=(timestamp,formatStr="dd/MM/yyyy HH:mm")=>{if(!timestamp||null==timestamp)return"Data inválida";let date2;try{return date2="string"==typeof timestamp?parseISO(timestamp):fromUnixTime(timestamp),isNaN(date2.getTime())?"Data inválida":format(date2,formatStr,{locale:ptBR})}catch(error){return"Data inválida"}},formatOTCTimestamp=(timestamp,formatStr="dd/MM/yyyy HH:mm")=>{if(!timestamp||null==timestamp)return"Data inválida";let date2;try{return date2="string"==typeof timestamp?addHours(parseISO(timestamp),5):fromUnixTime(timestamp),isNaN(date2.getTime())?"Data inválida":format(date2,formatStr,{locale:ptBR})}catch(error){return"Data inválida"}},formatCurrency=value=>{const numValue="string"==typeof value?parseFloat(value):value;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(numValue)},getEndOfDayTimestamp=date2=>getUnixTime(endOfDay(date2)),formSchema=objectType({accountNumber:stringType().min(1,"Número da conta é obrigatório"),startDate:dateType({required_error:"Data inicial é obrigatória"}),endDate:dateType({required_error:"Data final é obrigatória"})});function TransactionSearchForm({onSearch:onSearch,isLoading:isLoading}){const[dateOpen,setDateOpen]=reactExports.useState({start:!1,end:!1}),form=useForm({resolver:t(formSchema),defaultValues:{accountNumber:"8734873",startDate:new Date,endDate:new Date}});return jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsxs("form",{onSubmit:form.handleSubmit(data=>{var date2;onSearch({accountNumber:data.accountNumber,startDate:(date2=data.startDate,getUnixTime(startOfDay(date2))),endDate:getEndOfDayTimestamp(data.endDate)})}),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col w-full",children:jsxRuntimeExports.jsx(FormField,{control:form.control,name:"accountNumber",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsx(FormLabel,{children:"Número da Conta"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Digite o número da conta",...field,className:"w-full"})}),jsxRuntimeExports.jsx(FormMessage,{})]})})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col w-full",children:jsxRuntimeExports.jsx(FormField,{control:form.control,name:"startDate",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsx(FormLabel,{children:"Data Inicial"}),jsxRuntimeExports.jsxs(Popover,{open:dateOpen.start,onOpenChange:open2=>setDateOpen({...dateOpen,start:open2}),children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("pl-3 text-left font-normal w-full",!field.value&&"text-muted-foreground"),children:[field.value?format(field.value,"dd/MM/yyyy",{locale:ptBR}):jsxRuntimeExports.jsx("span",{children:"Selecione uma data"}),jsxRuntimeExports.jsx(Calendar$1,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:field.value,onSelect:date2=>{field.onChange(date2),setDateOpen({...dateOpen,start:!1})},disabled:date2=>date2>new Date,locale:ptBR})})]}),jsxRuntimeExports.jsx(FormMessage,{})]})})}),jsxRuntimeExports.jsx("div",{className:"flex flex-col w-full",children:jsxRuntimeExports.jsx(FormField,{control:form.control,name:"endDate",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsx(FormLabel,{children:"Data Final"}),jsxRuntimeExports.jsxs(Popover,{open:dateOpen.end,onOpenChange:open2=>setDateOpen({...dateOpen,end:open2}),children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("pl-3 text-left font-normal w-full",!field.value&&"text-muted-foreground"),children:[field.value?format(field.value,"dd/MM/yyyy",{locale:ptBR}):jsxRuntimeExports.jsx("span",{children:"Selecione uma data"}),jsxRuntimeExports.jsx(Calendar$1,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:field.value,onSelect:date2=>{field.onChange(date2),setDateOpen({...dateOpen,end:!1})},disabled:date2=>date2>new Date,locale:ptBR})})]}),jsxRuntimeExports.jsx(FormMessage,{})]})})})]}),jsxRuntimeExports.jsx(Button$1,{type:"submit",className:"w-full",disabled:isLoading,children:isLoading?"Carregando...":"Buscar Transações"})]})})}function functionalUpdate(updater,input){return"function"==typeof updater?updater(input):updater}function makeStateUpdater(key,instance){return updater=>{instance.setState(old=>({...old,[key]:functionalUpdate(updater,old[key])}))}}function isFunction$1(d2){return d2 instanceof Function}function memo(getDeps,fn,opts){let result,deps=[];return depArgs=>{let depTime;opts.key&&opts.debug&&(depTime=Date.now());const newDeps=getDeps(depArgs);if(!(newDeps.length!==deps.length||newDeps.some((dep,index)=>deps[index]!==dep)))return result;let resultTime;if(deps=newDeps,opts.key&&opts.debug&&(resultTime=Date.now()),result=fn(...newDeps),null==opts||null==opts.onChange||opts.onChange(result),opts.key&&opts.debug&&null!=opts&&opts.debug()){Math.round(100*(Date.now()-depTime)),Math.round(100*(Date.now()-resultTime))}return result}}function getMemoOptions(tableOptions,debugLevel,key,onChange){return{debug:()=>{var _tableOptions$debugAl;return null!=(_tableOptions$debugAl=null==tableOptions?void 0:tableOptions.debugAll)?_tableOptions$debugAl:tableOptions[debugLevel]},key:!1,onChange:onChange}}const debug="debugHeaders";function createHeader(table,column,options){var _options$id;let header={id:null!=(_options$id=options.id)?_options$id:column.id,column:column,index:options.index,isPlaceholder:!!options.isPlaceholder,placeholderId:options.placeholderId,depth:options.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const leafHeaders=[],recurseHeader=h2=>{h2.subHeaders&&h2.subHeaders.length&&h2.subHeaders.map(recurseHeader),leafHeaders.push(h2)};return recurseHeader(header),leafHeaders},getContext:()=>({table:table,header:header,column:column})};return table._features.forEach(feature=>{null==feature.createHeader||feature.createHeader(header,table)}),header}const Headers={createTable:table=>{table.getHeaderGroups=memo(()=>[table.getAllColumns(),table.getVisibleLeafColumns(),table.getState().columnPinning.left,table.getState().columnPinning.right],(allColumns,leafColumns,left,right)=>{var _left$map$filter,_right$map$filter;const leftColumns=null!=(_left$map$filter=null==left?void 0:left.map(columnId=>leafColumns.find(d2=>d2.id===columnId)).filter(Boolean))?_left$map$filter:[],rightColumns=null!=(_right$map$filter=null==right?void 0:right.map(columnId=>leafColumns.find(d2=>d2.id===columnId)).filter(Boolean))?_right$map$filter:[];return buildHeaderGroups(allColumns,[...leftColumns,...leafColumns.filter(column=>!(null!=left&&left.includes(column.id)||null!=right&&right.includes(column.id))),...rightColumns],table)},getMemoOptions(table.options,debug)),table.getCenterHeaderGroups=memo(()=>[table.getAllColumns(),table.getVisibleLeafColumns(),table.getState().columnPinning.left,table.getState().columnPinning.right],(allColumns,leafColumns,left,right)=>buildHeaderGroups(allColumns,leafColumns=leafColumns.filter(column=>!(null!=left&&left.includes(column.id)||null!=right&&right.includes(column.id))),table,"center"),getMemoOptions(table.options,debug)),table.getLeftHeaderGroups=memo(()=>[table.getAllColumns(),table.getVisibleLeafColumns(),table.getState().columnPinning.left],(allColumns,leafColumns,left)=>{var _left$map$filter2;return buildHeaderGroups(allColumns,null!=(_left$map$filter2=null==left?void 0:left.map(columnId=>leafColumns.find(d2=>d2.id===columnId)).filter(Boolean))?_left$map$filter2:[],table,"left")},getMemoOptions(table.options,debug)),table.getRightHeaderGroups=memo(()=>[table.getAllColumns(),table.getVisibleLeafColumns(),table.getState().columnPinning.right],(allColumns,leafColumns,right)=>{var _right$map$filter2;return buildHeaderGroups(allColumns,null!=(_right$map$filter2=null==right?void 0:right.map(columnId=>leafColumns.find(d2=>d2.id===columnId)).filter(Boolean))?_right$map$filter2:[],table,"right")},getMemoOptions(table.options,debug)),table.getFooterGroups=memo(()=>[table.getHeaderGroups()],headerGroups=>[...headerGroups].reverse(),getMemoOptions(table.options,debug)),table.getLeftFooterGroups=memo(()=>[table.getLeftHeaderGroups()],headerGroups=>[...headerGroups].reverse(),getMemoOptions(table.options,debug)),table.getCenterFooterGroups=memo(()=>[table.getCenterHeaderGroups()],headerGroups=>[...headerGroups].reverse(),getMemoOptions(table.options,debug)),table.getRightFooterGroups=memo(()=>[table.getRightHeaderGroups()],headerGroups=>[...headerGroups].reverse(),getMemoOptions(table.options,debug)),table.getFlatHeaders=memo(()=>[table.getHeaderGroups()],headerGroups=>headerGroups.map(headerGroup=>headerGroup.headers).flat(),getMemoOptions(table.options,debug)),table.getLeftFlatHeaders=memo(()=>[table.getLeftHeaderGroups()],left=>left.map(headerGroup=>headerGroup.headers).flat(),getMemoOptions(table.options,debug)),table.getCenterFlatHeaders=memo(()=>[table.getCenterHeaderGroups()],left=>left.map(headerGroup=>headerGroup.headers).flat(),getMemoOptions(table.options,debug)),table.getRightFlatHeaders=memo(()=>[table.getRightHeaderGroups()],left=>left.map(headerGroup=>headerGroup.headers).flat(),getMemoOptions(table.options,debug)),table.getCenterLeafHeaders=memo(()=>[table.getCenterFlatHeaders()],flatHeaders=>flatHeaders.filter(header=>{var _header$subHeaders;return!(null!=(_header$subHeaders=header.subHeaders)&&_header$subHeaders.length)}),getMemoOptions(table.options,debug)),table.getLeftLeafHeaders=memo(()=>[table.getLeftFlatHeaders()],flatHeaders=>flatHeaders.filter(header=>{var _header$subHeaders2;return!(null!=(_header$subHeaders2=header.subHeaders)&&_header$subHeaders2.length)}),getMemoOptions(table.options,debug)),table.getRightLeafHeaders=memo(()=>[table.getRightFlatHeaders()],flatHeaders=>flatHeaders.filter(header=>{var _header$subHeaders3;return!(null!=(_header$subHeaders3=header.subHeaders)&&_header$subHeaders3.length)}),getMemoOptions(table.options,debug)),table.getLeafHeaders=memo(()=>[table.getLeftHeaderGroups(),table.getCenterHeaderGroups(),table.getRightHeaderGroups()],(left,center,right)=>{var _left$0$headers,_left$,_center$0$headers,_center$,_right$0$headers,_right$;return[...null!=(_left$0$headers=null==(_left$=left[0])?void 0:_left$.headers)?_left$0$headers:[],...null!=(_center$0$headers=null==(_center$=center[0])?void 0:_center$.headers)?_center$0$headers:[],...null!=(_right$0$headers=null==(_right$=right[0])?void 0:_right$.headers)?_right$0$headers:[]].map(header=>header.getLeafHeaders()).flat()},getMemoOptions(table.options,debug))}};function buildHeaderGroups(allColumns,columnsToGroup,table,headerFamily){var _headerGroups$0$heade,_headerGroups$;let maxDepth=0;const findMaxDepth=function(columns,depth){void 0===depth&&(depth=1),maxDepth=Math.max(maxDepth,depth),columns.filter(column=>column.getIsVisible()).forEach(column=>{var _column$columns;null!=(_column$columns=column.columns)&&_column$columns.length&&findMaxDepth(column.columns,depth+1)},0)};findMaxDepth(allColumns);let headerGroups=[];const createHeaderGroup=(headersToGroup,depth)=>{const headerGroup={depth:depth,id:[headerFamily,`${depth}`].filter(Boolean).join("_"),headers:[]},pendingParentHeaders=[];headersToGroup.forEach(headerToGroup=>{const latestPendingParentHeader=[...pendingParentHeaders].reverse()[0];let column,isPlaceholder=!1;if(headerToGroup.column.depth===headerGroup.depth&&headerToGroup.column.parent?column=headerToGroup.column.parent:(column=headerToGroup.column,isPlaceholder=!0),latestPendingParentHeader&&(null==latestPendingParentHeader?void 0:latestPendingParentHeader.column)===column)latestPendingParentHeader.subHeaders.push(headerToGroup);else{const header=createHeader(table,column,{id:[headerFamily,depth,column.id,null==headerToGroup?void 0:headerToGroup.id].filter(Boolean).join("_"),isPlaceholder:isPlaceholder,placeholderId:isPlaceholder?`${pendingParentHeaders.filter(d2=>d2.column===column).length}`:void 0,depth:depth,index:pendingParentHeaders.length});header.subHeaders.push(headerToGroup),pendingParentHeaders.push(header)}headerGroup.headers.push(headerToGroup),headerToGroup.headerGroup=headerGroup}),headerGroups.push(headerGroup),depth>0&&createHeaderGroup(pendingParentHeaders,depth-1)},bottomHeaders=columnsToGroup.map((column,index)=>createHeader(table,column,{depth:maxDepth,index:index}));createHeaderGroup(bottomHeaders,maxDepth-1),headerGroups.reverse();const recurseHeadersForSpans=headers=>headers.filter(header=>header.column.getIsVisible()).map(header=>{let colSpan=0,rowSpan=0,childRowSpans=[0];header.subHeaders&&header.subHeaders.length?(childRowSpans=[],recurseHeadersForSpans(header.subHeaders).forEach(_ref=>{let{colSpan:childColSpan,rowSpan:childRowSpan}=_ref;colSpan+=childColSpan,childRowSpans.push(childRowSpan)})):colSpan=1;return rowSpan+=Math.min(...childRowSpans),header.colSpan=colSpan,header.rowSpan=rowSpan,{colSpan:colSpan,rowSpan:rowSpan}});return recurseHeadersForSpans(null!=(_headerGroups$0$heade=null==(_headerGroups$=headerGroups[0])?void 0:_headerGroups$.headers)?_headerGroups$0$heade:[]),headerGroups}const createRow=(table,id2,original,rowIndex,depth,subRows,parentId)=>{let row={id:id2,index:rowIndex,original:original,depth:depth,parentId:parentId,_valuesCache:{},_uniqueValuesCache:{},getValue:columnId=>{if(row._valuesCache.hasOwnProperty(columnId))return row._valuesCache[columnId];const column=table.getColumn(columnId);return null!=column&&column.accessorFn?(row._valuesCache[columnId]=column.accessorFn(row.original,rowIndex),row._valuesCache[columnId]):void 0},getUniqueValues:columnId=>{if(row._uniqueValuesCache.hasOwnProperty(columnId))return row._uniqueValuesCache[columnId];const column=table.getColumn(columnId);return null!=column&&column.accessorFn?column.columnDef.getUniqueValues?(row._uniqueValuesCache[columnId]=column.columnDef.getUniqueValues(row.original,rowIndex),row._uniqueValuesCache[columnId]):(row._uniqueValuesCache[columnId]=[row.getValue(columnId)],row._uniqueValuesCache[columnId]):void 0},renderValue:columnId=>{var _row$getValue;return null!=(_row$getValue=row.getValue(columnId))?_row$getValue:table.options.renderFallbackValue},subRows:[],getLeafRows:()=>function(arr,getChildren){const flat=[],recurse=subArr=>{subArr.forEach(item=>{flat.push(item);const children=getChildren(item);null!=children&&children.length&&recurse(children)})};return recurse(arr),flat}(row.subRows,d2=>d2.subRows),getParentRow:()=>row.parentId?table.getRow(row.parentId,!0):void 0,getParentRows:()=>{let parentRows=[],currentRow=row;for(;;){const parentRow=currentRow.getParentRow();if(!parentRow)break;parentRows.push(parentRow),currentRow=parentRow}return parentRows.reverse()},getAllCells:memo(()=>[table.getAllLeafColumns()],leafColumns=>leafColumns.map(column=>function(table,row,column,columnId){const cell={id:`${row.id}_${column.id}`,row:row,column:column,getValue:()=>row.getValue(columnId),renderValue:()=>{var _cell$getValue;return null!=(_cell$getValue=cell.getValue())?_cell$getValue:table.options.renderFallbackValue},getContext:memo(()=>[table,column,row,cell],(table2,column2,row2,cell2)=>({table:table2,column:column2,row:row2,cell:cell2,getValue:cell2.getValue,renderValue:cell2.renderValue}),getMemoOptions(table.options,"debugCells"))};return table._features.forEach(feature=>{null==feature.createCell||feature.createCell(cell,column,row,table)},{}),cell}(table,row,column,column.id)),getMemoOptions(table.options,"debugRows")),_getAllCellsByColumnId:memo(()=>[row.getAllCells()],allCells=>allCells.reduce((acc,cell)=>(acc[cell.column.id]=cell,acc),{}),getMemoOptions(table.options,"debugRows"))};for(let i2=0;i2<table._features.length;i2++){const feature=table._features[i2];null==feature||null==feature.createRow||feature.createRow(row,table)}return row},ColumnFaceting={createColumn:(column,table)=>{column._getFacetedRowModel=table.options.getFacetedRowModel&&table.options.getFacetedRowModel(table,column.id),column.getFacetedRowModel=()=>column._getFacetedRowModel?column._getFacetedRowModel():table.getPreFilteredRowModel(),column._getFacetedUniqueValues=table.options.getFacetedUniqueValues&&table.options.getFacetedUniqueValues(table,column.id),column.getFacetedUniqueValues=()=>column._getFacetedUniqueValues?column._getFacetedUniqueValues():new Map,column._getFacetedMinMaxValues=table.options.getFacetedMinMaxValues&&table.options.getFacetedMinMaxValues(table,column.id),column.getFacetedMinMaxValues=()=>{if(column._getFacetedMinMaxValues)return column._getFacetedMinMaxValues()}}},includesString=(row,columnId,filterValue)=>{var _filterValue$toString,_row$getValue;const search=null==filterValue||null==(_filterValue$toString=filterValue.toString())?void 0:_filterValue$toString.toLowerCase();return Boolean(null==(_row$getValue=row.getValue(columnId))||null==(_row$getValue=_row$getValue.toString())||null==(_row$getValue=_row$getValue.toLowerCase())?void 0:_row$getValue.includes(search))};includesString.autoRemove=val=>testFalsey(val);const includesStringSensitive=(row,columnId,filterValue)=>{var _row$getValue2;return Boolean(null==(_row$getValue2=row.getValue(columnId))||null==(_row$getValue2=_row$getValue2.toString())?void 0:_row$getValue2.includes(filterValue))};includesStringSensitive.autoRemove=val=>testFalsey(val);const equalsString=(row,columnId,filterValue)=>{var _row$getValue3;return(null==(_row$getValue3=row.getValue(columnId))||null==(_row$getValue3=_row$getValue3.toString())?void 0:_row$getValue3.toLowerCase())===(null==filterValue?void 0:filterValue.toLowerCase())};equalsString.autoRemove=val=>testFalsey(val);const arrIncludes=(row,columnId,filterValue)=>{var _row$getValue4;return null==(_row$getValue4=row.getValue(columnId))?void 0:_row$getValue4.includes(filterValue)};arrIncludes.autoRemove=val=>testFalsey(val);const arrIncludesAll=(row,columnId,filterValue)=>!filterValue.some(val=>{var _row$getValue5;return!(null!=(_row$getValue5=row.getValue(columnId))&&_row$getValue5.includes(val))});arrIncludesAll.autoRemove=val=>testFalsey(val)||!(null!=val&&val.length);const arrIncludesSome=(row,columnId,filterValue)=>filterValue.some(val=>{var _row$getValue6;return null==(_row$getValue6=row.getValue(columnId))?void 0:_row$getValue6.includes(val)});arrIncludesSome.autoRemove=val=>testFalsey(val)||!(null!=val&&val.length);const equals=(row,columnId,filterValue)=>row.getValue(columnId)===filterValue;equals.autoRemove=val=>testFalsey(val);const weakEquals=(row,columnId,filterValue)=>row.getValue(columnId)==filterValue;weakEquals.autoRemove=val=>testFalsey(val);const inNumberRange=(row,columnId,filterValue)=>{let[min2,max2]=filterValue;const rowValue=row.getValue(columnId);return rowValue>=min2&&rowValue<=max2};inNumberRange.resolveFilterValue=val=>{let[unsafeMin,unsafeMax]=val,parsedMin="number"!=typeof unsafeMin?parseFloat(unsafeMin):unsafeMin,parsedMax="number"!=typeof unsafeMax?parseFloat(unsafeMax):unsafeMax,min2=null===unsafeMin||Number.isNaN(parsedMin)?-1/0:parsedMin,max2=null===unsafeMax||Number.isNaN(parsedMax)?1/0:parsedMax;if(min2>max2){const temp=min2;min2=max2,max2=temp}return[min2,max2]},inNumberRange.autoRemove=val=>testFalsey(val)||testFalsey(val[0])&&testFalsey(val[1]);const filterFns={includesString:includesString,includesStringSensitive:includesStringSensitive,equalsString:equalsString,arrIncludes:arrIncludes,arrIncludesAll:arrIncludesAll,arrIncludesSome:arrIncludesSome,equals:equals,weakEquals:weakEquals,inNumberRange:inNumberRange};function testFalsey(val){return null==val||""===val}const ColumnFiltering={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:state=>({columnFilters:[],...state}),getDefaultOptions:table=>({onColumnFiltersChange:makeStateUpdater("columnFilters",table),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(column,table)=>{column.getAutoFilterFn=()=>{const firstRow=table.getCoreRowModel().flatRows[0],value=null==firstRow?void 0:firstRow.getValue(column.id);return"string"==typeof value?filterFns.includesString:"number"==typeof value?filterFns.inNumberRange:"boolean"==typeof value||null!==value&&"object"==typeof value?filterFns.equals:Array.isArray(value)?filterFns.arrIncludes:filterFns.weakEquals},column.getFilterFn=()=>{var _table$options$filter,_table$options$filter2;return isFunction$1(column.columnDef.filterFn)?column.columnDef.filterFn:"auto"===column.columnDef.filterFn?column.getAutoFilterFn():null!=(_table$options$filter=null==(_table$options$filter2=table.options.filterFns)?void 0:_table$options$filter2[column.columnDef.filterFn])?_table$options$filter:filterFns[column.columnDef.filterFn]},column.getCanFilter=()=>{var _column$columnDef$ena,_table$options$enable,_table$options$enable2;return(null==(_column$columnDef$ena=column.columnDef.enableColumnFilter)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableColumnFilters)||_table$options$enable)&&(null==(_table$options$enable2=table.options.enableFilters)||_table$options$enable2)&&!!column.accessorFn},column.getIsFiltered=()=>column.getFilterIndex()>-1,column.getFilterValue=()=>{var _table$getState$colum;return null==(_table$getState$colum=table.getState().columnFilters)||null==(_table$getState$colum=_table$getState$colum.find(d2=>d2.id===column.id))?void 0:_table$getState$colum.value},column.getFilterIndex=()=>{var _table$getState$colum2,_table$getState$colum3;return null!=(_table$getState$colum2=null==(_table$getState$colum3=table.getState().columnFilters)?void 0:_table$getState$colum3.findIndex(d2=>d2.id===column.id))?_table$getState$colum2:-1},column.setFilterValue=value=>{table.setColumnFilters(old=>{const filterFn=column.getFilterFn(),previousFilter=null==old?void 0:old.find(d2=>d2.id===column.id),newFilter=functionalUpdate(value,previousFilter?previousFilter.value:void 0);var _old$filter;if(shouldAutoRemoveFilter(filterFn,newFilter,column))return null!=(_old$filter=null==old?void 0:old.filter(d2=>d2.id!==column.id))?_old$filter:[];const newFilterObj={id:column.id,value:newFilter};var _old$map;return previousFilter?null!=(_old$map=null==old?void 0:old.map(d2=>d2.id===column.id?newFilterObj:d2))?_old$map:[]:null!=old&&old.length?[...old,newFilterObj]:[newFilterObj]})}},createRow:(row,_table)=>{row.columnFilters={},row.columnFiltersMeta={}},createTable:table=>{table.setColumnFilters=updater=>{const leafColumns=table.getAllLeafColumns();null==table.options.onColumnFiltersChange||table.options.onColumnFiltersChange(old=>{var _functionalUpdate;return null==(_functionalUpdate=functionalUpdate(updater,old))?void 0:_functionalUpdate.filter(filter=>{const column=leafColumns.find(d2=>d2.id===filter.id);if(column){if(shouldAutoRemoveFilter(column.getFilterFn(),filter.value,column))return!1}return!0})})},table.resetColumnFilters=defaultState=>{var _table$initialState$c,_table$initialState;table.setColumnFilters(defaultState?[]:null!=(_table$initialState$c=null==(_table$initialState=table.initialState)?void 0:_table$initialState.columnFilters)?_table$initialState$c:[])},table.getPreFilteredRowModel=()=>table.getCoreRowModel(),table.getFilteredRowModel=()=>(!table._getFilteredRowModel&&table.options.getFilteredRowModel&&(table._getFilteredRowModel=table.options.getFilteredRowModel(table)),table.options.manualFiltering||!table._getFilteredRowModel?table.getPreFilteredRowModel():table._getFilteredRowModel())}};function shouldAutoRemoveFilter(filterFn,value,column){return!(!filterFn||!filterFn.autoRemove)&&filterFn.autoRemove(value,column)||void 0===value||"string"==typeof value&&!value}const aggregationFns={sum:(columnId,_leafRows,childRows)=>childRows.reduce((sum2,next)=>{const nextValue=next.getValue(columnId);return sum2+("number"==typeof nextValue?nextValue:0)},0),min:(columnId,_leafRows,childRows)=>{let min2;return childRows.forEach(row=>{const value=row.getValue(columnId);null!=value&&(min2>value||void 0===min2&&value>=value)&&(min2=value)}),min2},max:(columnId,_leafRows,childRows)=>{let max2;return childRows.forEach(row=>{const value=row.getValue(columnId);null!=value&&(max2<value||void 0===max2&&value>=value)&&(max2=value)}),max2},extent:(columnId,_leafRows,childRows)=>{let min2,max2;return childRows.forEach(row=>{const value=row.getValue(columnId);null!=value&&(void 0===min2?value>=value&&(min2=max2=value):(min2>value&&(min2=value),max2<value&&(max2=value)))}),[min2,max2]},mean:(columnId,leafRows)=>{let count2=0,sum2=0;if(leafRows.forEach(row=>{let value=row.getValue(columnId);null!=value&&(value=+value)>=value&&(++count2,sum2+=value)}),count2)return sum2/count2},median:(columnId,leafRows)=>{if(!leafRows.length)return;const values=leafRows.map(row=>row.getValue(columnId));if(d2=values,!Array.isArray(d2)||!d2.every(val=>"number"==typeof val))return;var d2;if(1===values.length)return values[0];const mid=Math.floor(values.length/2),nums=values.sort((a2,b2)=>a2-b2);return values.length%2!=0?nums[mid]:(nums[mid-1]+nums[mid])/2},unique:(columnId,leafRows)=>Array.from(new Set(leafRows.map(d2=>d2.getValue(columnId))).values()),uniqueCount:(columnId,leafRows)=>new Set(leafRows.map(d2=>d2.getValue(columnId))).size,count:(_columnId,leafRows)=>leafRows.length},ColumnGrouping={getDefaultColumnDef:()=>({aggregatedCell:props=>{var _toString,_props$getValue;return null!=(_toString=null==(_props$getValue=props.getValue())||null==_props$getValue.toString?void 0:_props$getValue.toString())?_toString:null},aggregationFn:"auto"}),getInitialState:state=>({grouping:[],...state}),getDefaultOptions:table=>({onGroupingChange:makeStateUpdater("grouping",table),groupedColumnMode:"reorder"}),createColumn:(column,table)=>{column.toggleGrouping=()=>{table.setGrouping(old=>null!=old&&old.includes(column.id)?old.filter(d2=>d2!==column.id):[...null!=old?old:[],column.id])},column.getCanGroup=()=>{var _column$columnDef$ena,_table$options$enable;return(null==(_column$columnDef$ena=column.columnDef.enableGrouping)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableGrouping)||_table$options$enable)&&(!!column.accessorFn||!!column.columnDef.getGroupingValue)},column.getIsGrouped=()=>{var _table$getState$group;return null==(_table$getState$group=table.getState().grouping)?void 0:_table$getState$group.includes(column.id)},column.getGroupedIndex=()=>{var _table$getState$group2;return null==(_table$getState$group2=table.getState().grouping)?void 0:_table$getState$group2.indexOf(column.id)},column.getToggleGroupingHandler=()=>{const canGroup=column.getCanGroup();return()=>{canGroup&&column.toggleGrouping()}},column.getAutoAggregationFn=()=>{const firstRow=table.getCoreRowModel().flatRows[0],value=null==firstRow?void 0:firstRow.getValue(column.id);return"number"==typeof value?aggregationFns.sum:"[object Date]"===Object.prototype.toString.call(value)?aggregationFns.extent:void 0},column.getAggregationFn=()=>{var _table$options$aggreg,_table$options$aggreg2;if(!column)throw new Error;return isFunction$1(column.columnDef.aggregationFn)?column.columnDef.aggregationFn:"auto"===column.columnDef.aggregationFn?column.getAutoAggregationFn():null!=(_table$options$aggreg=null==(_table$options$aggreg2=table.options.aggregationFns)?void 0:_table$options$aggreg2[column.columnDef.aggregationFn])?_table$options$aggreg:aggregationFns[column.columnDef.aggregationFn]}},createTable:table=>{table.setGrouping=updater=>null==table.options.onGroupingChange?void 0:table.options.onGroupingChange(updater),table.resetGrouping=defaultState=>{var _table$initialState$g,_table$initialState;table.setGrouping(defaultState?[]:null!=(_table$initialState$g=null==(_table$initialState=table.initialState)?void 0:_table$initialState.grouping)?_table$initialState$g:[])},table.getPreGroupedRowModel=()=>table.getFilteredRowModel(),table.getGroupedRowModel=()=>(!table._getGroupedRowModel&&table.options.getGroupedRowModel&&(table._getGroupedRowModel=table.options.getGroupedRowModel(table)),table.options.manualGrouping||!table._getGroupedRowModel?table.getPreGroupedRowModel():table._getGroupedRowModel())},createRow:(row,table)=>{row.getIsGrouped=()=>!!row.groupingColumnId,row.getGroupingValue=columnId=>{if(row._groupingValuesCache.hasOwnProperty(columnId))return row._groupingValuesCache[columnId];const column=table.getColumn(columnId);return null!=column&&column.columnDef.getGroupingValue?(row._groupingValuesCache[columnId]=column.columnDef.getGroupingValue(row.original),row._groupingValuesCache[columnId]):row.getValue(columnId)},row._groupingValuesCache={}},createCell:(cell,column,row,table)=>{cell.getIsGrouped=()=>column.getIsGrouped()&&column.id===row.groupingColumnId,cell.getIsPlaceholder=()=>!cell.getIsGrouped()&&column.getIsGrouped(),cell.getIsAggregated=()=>{var _row$subRows;return!cell.getIsGrouped()&&!cell.getIsPlaceholder()&&!(null==(_row$subRows=row.subRows)||!_row$subRows.length)}}};const ColumnOrdering={getInitialState:state=>({columnOrder:[],...state}),getDefaultOptions:table=>({onColumnOrderChange:makeStateUpdater("columnOrder",table)}),createColumn:(column,table)=>{column.getIndex=memo(position=>[_getVisibleLeafColumns(table,position)],columns=>columns.findIndex(d2=>d2.id===column.id),getMemoOptions(table.options,"debugColumns")),column.getIsFirstColumn=position=>{var _columns$;return(null==(_columns$=_getVisibleLeafColumns(table,position)[0])?void 0:_columns$.id)===column.id},column.getIsLastColumn=position=>{var _columns;const columns=_getVisibleLeafColumns(table,position);return(null==(_columns=columns[columns.length-1])?void 0:_columns.id)===column.id}},createTable:table=>{table.setColumnOrder=updater=>null==table.options.onColumnOrderChange?void 0:table.options.onColumnOrderChange(updater),table.resetColumnOrder=defaultState=>{var _table$initialState$c;table.setColumnOrder(defaultState?[]:null!=(_table$initialState$c=table.initialState.columnOrder)?_table$initialState$c:[])},table._getOrderColumnsFn=memo(()=>[table.getState().columnOrder,table.getState().grouping,table.options.groupedColumnMode],(columnOrder,grouping,groupedColumnMode)=>columns=>{let orderedColumns=[];if(null!=columnOrder&&columnOrder.length){const columnOrderCopy=[...columnOrder],columnsCopy=[...columns];for(;columnsCopy.length&&columnOrderCopy.length;){const targetColumnId=columnOrderCopy.shift(),foundIndex=columnsCopy.findIndex(d2=>d2.id===targetColumnId);foundIndex>-1&&orderedColumns.push(columnsCopy.splice(foundIndex,1)[0])}orderedColumns=[...orderedColumns,...columnsCopy]}else orderedColumns=columns;return function(leafColumns,grouping,groupedColumnMode){if(null==grouping||!grouping.length||!groupedColumnMode)return leafColumns;const nonGroupingColumns=leafColumns.filter(col=>!grouping.includes(col.id));return"remove"===groupedColumnMode?nonGroupingColumns:[...grouping.map(g2=>leafColumns.find(col=>col.id===g2)).filter(Boolean),...nonGroupingColumns]}(orderedColumns,grouping,groupedColumnMode)},getMemoOptions(table.options,"debugTable"))}},ColumnPinning={getInitialState:state=>({columnPinning:{left:[],right:[]},...state}),getDefaultOptions:table=>({onColumnPinningChange:makeStateUpdater("columnPinning",table)}),createColumn:(column,table)=>{column.pin=position=>{const columnIds=column.getLeafColumns().map(d2=>d2.id).filter(Boolean);table.setColumnPinning(old=>{var _old$left3,_old$right3,_old$left,_old$right,_old$left2,_old$right2;return"right"===position?{left:(null!=(_old$left=null==old?void 0:old.left)?_old$left:[]).filter(d2=>!(null!=columnIds&&columnIds.includes(d2))),right:[...(null!=(_old$right=null==old?void 0:old.right)?_old$right:[]).filter(d2=>!(null!=columnIds&&columnIds.includes(d2))),...columnIds]}:"left"===position?{left:[...(null!=(_old$left2=null==old?void 0:old.left)?_old$left2:[]).filter(d2=>!(null!=columnIds&&columnIds.includes(d2))),...columnIds],right:(null!=(_old$right2=null==old?void 0:old.right)?_old$right2:[]).filter(d2=>!(null!=columnIds&&columnIds.includes(d2)))}:{left:(null!=(_old$left3=null==old?void 0:old.left)?_old$left3:[]).filter(d2=>!(null!=columnIds&&columnIds.includes(d2))),right:(null!=(_old$right3=null==old?void 0:old.right)?_old$right3:[]).filter(d2=>!(null!=columnIds&&columnIds.includes(d2)))}})},column.getCanPin=()=>column.getLeafColumns().some(d2=>{var _d$columnDef$enablePi,_ref,_table$options$enable;return(null==(_d$columnDef$enablePi=d2.columnDef.enablePinning)||_d$columnDef$enablePi)&&(null==(_ref=null!=(_table$options$enable=table.options.enableColumnPinning)?_table$options$enable:table.options.enablePinning)||_ref)}),column.getIsPinned=()=>{const leafColumnIds=column.getLeafColumns().map(d2=>d2.id),{left:left,right:right}=table.getState().columnPinning,isLeft=leafColumnIds.some(d2=>null==left?void 0:left.includes(d2)),isRight=leafColumnIds.some(d2=>null==right?void 0:right.includes(d2));return isLeft?"left":!!isRight&&"right"},column.getPinnedIndex=()=>{var _table$getState$colum,_table$getState$colum2;const position=column.getIsPinned();return position?null!=(_table$getState$colum=null==(_table$getState$colum2=table.getState().columnPinning)||null==(_table$getState$colum2=_table$getState$colum2[position])?void 0:_table$getState$colum2.indexOf(column.id))?_table$getState$colum:-1:0}},createRow:(row,table)=>{row.getCenterVisibleCells=memo(()=>[row._getAllVisibleCells(),table.getState().columnPinning.left,table.getState().columnPinning.right],(allCells,left,right)=>{const leftAndRight=[...null!=left?left:[],...null!=right?right:[]];return allCells.filter(d2=>!leftAndRight.includes(d2.column.id))},getMemoOptions(table.options,"debugRows")),row.getLeftVisibleCells=memo(()=>[row._getAllVisibleCells(),table.getState().columnPinning.left],(allCells,left)=>(null!=left?left:[]).map(columnId=>allCells.find(cell=>cell.column.id===columnId)).filter(Boolean).map(d2=>({...d2,position:"left"})),getMemoOptions(table.options,"debugRows")),row.getRightVisibleCells=memo(()=>[row._getAllVisibleCells(),table.getState().columnPinning.right],(allCells,right)=>(null!=right?right:[]).map(columnId=>allCells.find(cell=>cell.column.id===columnId)).filter(Boolean).map(d2=>({...d2,position:"right"})),getMemoOptions(table.options,"debugRows"))},createTable:table=>{table.setColumnPinning=updater=>null==table.options.onColumnPinningChange?void 0:table.options.onColumnPinningChange(updater),table.resetColumnPinning=defaultState=>{var _table$initialState$c,_table$initialState;return table.setColumnPinning(defaultState?{left:[],right:[]}:null!=(_table$initialState$c=null==(_table$initialState=table.initialState)?void 0:_table$initialState.columnPinning)?_table$initialState$c:{left:[],right:[]})},table.getIsSomeColumnsPinned=position=>{var _pinningState$positio;const pinningState=table.getState().columnPinning;var _pinningState$left,_pinningState$right;return position?Boolean(null==(_pinningState$positio=pinningState[position])?void 0:_pinningState$positio.length):Boolean((null==(_pinningState$left=pinningState.left)?void 0:_pinningState$left.length)||(null==(_pinningState$right=pinningState.right)?void 0:_pinningState$right.length))},table.getLeftLeafColumns=memo(()=>[table.getAllLeafColumns(),table.getState().columnPinning.left],(allColumns,left)=>(null!=left?left:[]).map(columnId=>allColumns.find(column=>column.id===columnId)).filter(Boolean),getMemoOptions(table.options,"debugColumns")),table.getRightLeafColumns=memo(()=>[table.getAllLeafColumns(),table.getState().columnPinning.right],(allColumns,right)=>(null!=right?right:[]).map(columnId=>allColumns.find(column=>column.id===columnId)).filter(Boolean),getMemoOptions(table.options,"debugColumns")),table.getCenterLeafColumns=memo(()=>[table.getAllLeafColumns(),table.getState().columnPinning.left,table.getState().columnPinning.right],(allColumns,left,right)=>{const leftAndRight=[...null!=left?left:[],...null!=right?right:[]];return allColumns.filter(d2=>!leftAndRight.includes(d2.id))},getMemoOptions(table.options,"debugColumns"))}};const defaultColumnSizing={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},ColumnSizing={getDefaultColumnDef:()=>defaultColumnSizing,getInitialState:state=>({columnSizing:{},columnSizingInfo:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]},...state}),getDefaultOptions:table=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:makeStateUpdater("columnSizing",table),onColumnSizingInfoChange:makeStateUpdater("columnSizingInfo",table)}),createColumn:(column,table)=>{column.getSize=()=>{var _column$columnDef$min,_ref,_column$columnDef$max;const columnSize=table.getState().columnSizing[column.id];return Math.min(Math.max(null!=(_column$columnDef$min=column.columnDef.minSize)?_column$columnDef$min:defaultColumnSizing.minSize,null!=(_ref=null!=columnSize?columnSize:column.columnDef.size)?_ref:defaultColumnSizing.size),null!=(_column$columnDef$max=column.columnDef.maxSize)?_column$columnDef$max:defaultColumnSizing.maxSize)},column.getStart=memo(position=>[position,_getVisibleLeafColumns(table,position),table.getState().columnSizing],(position,columns)=>columns.slice(0,column.getIndex(position)).reduce((sum2,column2)=>sum2+column2.getSize(),0),getMemoOptions(table.options,"debugColumns")),column.getAfter=memo(position=>[position,_getVisibleLeafColumns(table,position),table.getState().columnSizing],(position,columns)=>columns.slice(column.getIndex(position)+1).reduce((sum2,column2)=>sum2+column2.getSize(),0),getMemoOptions(table.options,"debugColumns")),column.resetSize=()=>{table.setColumnSizing(_ref2=>{let{[column.id]:_2,...rest}=_ref2;return rest})},column.getCanResize=()=>{var _column$columnDef$ena,_table$options$enable;return(null==(_column$columnDef$ena=column.columnDef.enableResizing)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableColumnResizing)||_table$options$enable)},column.getIsResizing=()=>table.getState().columnSizingInfo.isResizingColumn===column.id},createHeader:(header,table)=>{header.getSize=()=>{let sum2=0;const recurse=header2=>{var _header$column$getSiz;header2.subHeaders.length?header2.subHeaders.forEach(recurse):sum2+=null!=(_header$column$getSiz=header2.column.getSize())?_header$column$getSiz:0};return recurse(header),sum2},header.getStart=()=>{if(header.index>0){const prevSiblingHeader=header.headerGroup.headers[header.index-1];return prevSiblingHeader.getStart()+prevSiblingHeader.getSize()}return 0},header.getResizeHandler=_contextDocument=>{const column=table.getColumn(header.column.id),canResize=null==column?void 0:column.getCanResize();return e3=>{if(!column||!canResize)return;if(null==e3.persist||e3.persist(),isTouchStartEvent(e3)&&e3.touches&&e3.touches.length>1)return;const startSize=header.getSize(),columnSizingStart=header?header.getLeafHeaders().map(d2=>[d2.column.id,d2.column.getSize()]):[[column.id,column.getSize()]],clientX=isTouchStartEvent(e3)?Math.round(e3.touches[0].clientX):e3.clientX,newColumnSizing={},updateOffset=(eventType,clientXPos)=>{"number"==typeof clientXPos&&(table.setColumnSizingInfo(old=>{var _old$startOffset,_old$startSize;const deltaDirection="rtl"===table.options.columnResizeDirection?-1:1,deltaOffset=(clientXPos-(null!=(_old$startOffset=null==old?void 0:old.startOffset)?_old$startOffset:0))*deltaDirection,deltaPercentage=Math.max(deltaOffset/(null!=(_old$startSize=null==old?void 0:old.startSize)?_old$startSize:0),-.999999);return old.columnSizingStart.forEach(_ref3=>{let[columnId,headerSize]=_ref3;newColumnSizing[columnId]=Math.round(100*Math.max(headerSize+headerSize*deltaPercentage,0))/100}),{...old,deltaOffset:deltaOffset,deltaPercentage:deltaPercentage}}),"onChange"!==table.options.columnResizeMode&&"end"!==eventType||table.setColumnSizing(old=>({...old,...newColumnSizing})))},onMove=clientXPos=>updateOffset("move",clientXPos),onEnd=clientXPos=>{updateOffset("end",clientXPos),table.setColumnSizingInfo(old=>({...old,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},contextDocument=_contextDocument||("undefined"!=typeof document?document:null);const mouseEvents={moveHandler:e22=>onMove(e22.clientX),upHandler:e22=>{null==contextDocument||contextDocument.removeEventListener("mousemove",mouseEvents.moveHandler),null==contextDocument||contextDocument.removeEventListener("mouseup",mouseEvents.upHandler),onEnd(e22.clientX)}},touchEvents={moveHandler:e22=>(e22.cancelable&&(e22.preventDefault(),e22.stopPropagation()),onMove(e22.touches[0].clientX),!1),upHandler:e22=>{var _e$touches$;null==contextDocument||contextDocument.removeEventListener("touchmove",touchEvents.moveHandler),null==contextDocument||contextDocument.removeEventListener("touchend",touchEvents.upHandler),e22.cancelable&&(e22.preventDefault(),e22.stopPropagation()),onEnd(null==(_e$touches$=e22.touches[0])?void 0:_e$touches$.clientX)}},passiveIfSupported=!!function(){if("boolean"==typeof passiveSupported)return passiveSupported;let supported=!1;try{const options={get passive(){return supported=!0,!1}},noop2=()=>{};window.addEventListener("test",noop2,options),window.removeEventListener("test",noop2)}catch(err2){supported=!1}return passiveSupported=supported,passiveSupported}()&&{passive:!1};isTouchStartEvent(e3)?(null==contextDocument||contextDocument.addEventListener("touchmove",touchEvents.moveHandler,passiveIfSupported),null==contextDocument||contextDocument.addEventListener("touchend",touchEvents.upHandler,passiveIfSupported)):(null==contextDocument||contextDocument.addEventListener("mousemove",mouseEvents.moveHandler,passiveIfSupported),null==contextDocument||contextDocument.addEventListener("mouseup",mouseEvents.upHandler,passiveIfSupported)),table.setColumnSizingInfo(old=>({...old,startOffset:clientX,startSize:startSize,deltaOffset:0,deltaPercentage:0,columnSizingStart:columnSizingStart,isResizingColumn:column.id}))}}},createTable:table=>{table.setColumnSizing=updater=>null==table.options.onColumnSizingChange?void 0:table.options.onColumnSizingChange(updater),table.setColumnSizingInfo=updater=>null==table.options.onColumnSizingInfoChange?void 0:table.options.onColumnSizingInfoChange(updater),table.resetColumnSizing=defaultState=>{var _table$initialState$c;table.setColumnSizing(defaultState?{}:null!=(_table$initialState$c=table.initialState.columnSizing)?_table$initialState$c:{})},table.resetHeaderSizeInfo=defaultState=>{var _table$initialState$c2;table.setColumnSizingInfo(defaultState?{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}:null!=(_table$initialState$c2=table.initialState.columnSizingInfo)?_table$initialState$c2:{startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]})},table.getTotalSize=()=>{var _table$getHeaderGroup,_table$getHeaderGroup2;return null!=(_table$getHeaderGroup=null==(_table$getHeaderGroup2=table.getHeaderGroups()[0])?void 0:_table$getHeaderGroup2.headers.reduce((sum2,header)=>sum2+header.getSize(),0))?_table$getHeaderGroup:0},table.getLeftTotalSize=()=>{var _table$getLeftHeaderG,_table$getLeftHeaderG2;return null!=(_table$getLeftHeaderG=null==(_table$getLeftHeaderG2=table.getLeftHeaderGroups()[0])?void 0:_table$getLeftHeaderG2.headers.reduce((sum2,header)=>sum2+header.getSize(),0))?_table$getLeftHeaderG:0},table.getCenterTotalSize=()=>{var _table$getCenterHeade,_table$getCenterHeade2;return null!=(_table$getCenterHeade=null==(_table$getCenterHeade2=table.getCenterHeaderGroups()[0])?void 0:_table$getCenterHeade2.headers.reduce((sum2,header)=>sum2+header.getSize(),0))?_table$getCenterHeade:0},table.getRightTotalSize=()=>{var _table$getRightHeader,_table$getRightHeader2;return null!=(_table$getRightHeader=null==(_table$getRightHeader2=table.getRightHeaderGroups()[0])?void 0:_table$getRightHeader2.headers.reduce((sum2,header)=>sum2+header.getSize(),0))?_table$getRightHeader:0}}};let passiveSupported=null;function isTouchStartEvent(e3){return"touchstart"===e3.type}const ColumnVisibility={getInitialState:state=>({columnVisibility:{},...state}),getDefaultOptions:table=>({onColumnVisibilityChange:makeStateUpdater("columnVisibility",table)}),createColumn:(column,table)=>{column.toggleVisibility=value=>{column.getCanHide()&&table.setColumnVisibility(old=>({...old,[column.id]:null!=value?value:!column.getIsVisible()}))},column.getIsVisible=()=>{var _ref,_table$getState$colum;const childColumns=column.columns;return null==(_ref=childColumns.length?childColumns.some(c2=>c2.getIsVisible()):null==(_table$getState$colum=table.getState().columnVisibility)?void 0:_table$getState$colum[column.id])||_ref},column.getCanHide=()=>{var _column$columnDef$ena,_table$options$enable;return(null==(_column$columnDef$ena=column.columnDef.enableHiding)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableHiding)||_table$options$enable)},column.getToggleVisibilityHandler=()=>e3=>{null==column.toggleVisibility||column.toggleVisibility(e3.target.checked)}},createRow:(row,table)=>{row._getAllVisibleCells=memo(()=>[row.getAllCells(),table.getState().columnVisibility],cells=>cells.filter(cell=>cell.column.getIsVisible()),getMemoOptions(table.options,"debugRows")),row.getVisibleCells=memo(()=>[row.getLeftVisibleCells(),row.getCenterVisibleCells(),row.getRightVisibleCells()],(left,center,right)=>[...left,...center,...right],getMemoOptions(table.options,"debugRows"))},createTable:table=>{const makeVisibleColumnsMethod=(key,getColumns)=>memo(()=>[getColumns(),getColumns().filter(d2=>d2.getIsVisible()).map(d2=>d2.id).join("_")],columns=>columns.filter(d2=>null==d2.getIsVisible?void 0:d2.getIsVisible()),getMemoOptions(table.options,"debugColumns"));table.getVisibleFlatColumns=makeVisibleColumnsMethod(0,()=>table.getAllFlatColumns()),table.getVisibleLeafColumns=makeVisibleColumnsMethod(0,()=>table.getAllLeafColumns()),table.getLeftVisibleLeafColumns=makeVisibleColumnsMethod(0,()=>table.getLeftLeafColumns()),table.getRightVisibleLeafColumns=makeVisibleColumnsMethod(0,()=>table.getRightLeafColumns()),table.getCenterVisibleLeafColumns=makeVisibleColumnsMethod(0,()=>table.getCenterLeafColumns()),table.setColumnVisibility=updater=>null==table.options.onColumnVisibilityChange?void 0:table.options.onColumnVisibilityChange(updater),table.resetColumnVisibility=defaultState=>{var _table$initialState$c;table.setColumnVisibility(defaultState?{}:null!=(_table$initialState$c=table.initialState.columnVisibility)?_table$initialState$c:{})},table.toggleAllColumnsVisible=value=>{var _value;value=null!=(_value=value)?_value:!table.getIsAllColumnsVisible(),table.setColumnVisibility(table.getAllLeafColumns().reduce((obj,column)=>({...obj,[column.id]:value||!(null!=column.getCanHide&&column.getCanHide())}),{}))},table.getIsAllColumnsVisible=()=>!table.getAllLeafColumns().some(column=>!(null!=column.getIsVisible&&column.getIsVisible())),table.getIsSomeColumnsVisible=()=>table.getAllLeafColumns().some(column=>null==column.getIsVisible?void 0:column.getIsVisible()),table.getToggleAllColumnsVisibilityHandler=()=>e3=>{var _target;table.toggleAllColumnsVisible(null==(_target=e3.target)?void 0:_target.checked)}}};function _getVisibleLeafColumns(table,position){return position?"center"===position?table.getCenterVisibleLeafColumns():"left"===position?table.getLeftVisibleLeafColumns():table.getRightVisibleLeafColumns():table.getVisibleLeafColumns()}const RowExpanding={getInitialState:state=>({expanded:{},...state}),getDefaultOptions:table=>({onExpandedChange:makeStateUpdater("expanded",table),paginateExpandedRows:!0}),createTable:table=>{let registered=!1,queued=!1;table._autoResetExpanded=()=>{var _ref,_table$options$autoRe;if(registered){if(null!=(_ref=null!=(_table$options$autoRe=table.options.autoResetAll)?_table$options$autoRe:table.options.autoResetExpanded)?_ref:!table.options.manualExpanding){if(queued)return;queued=!0,table._queue(()=>{table.resetExpanded(),queued=!1})}}else table._queue(()=>{registered=!0})},table.setExpanded=updater=>null==table.options.onExpandedChange?void 0:table.options.onExpandedChange(updater),table.toggleAllRowsExpanded=expanded=>{(null!=expanded?expanded:!table.getIsAllRowsExpanded())?table.setExpanded(!0):table.setExpanded({})},table.resetExpanded=defaultState=>{var _table$initialState$e,_table$initialState;table.setExpanded(defaultState?{}:null!=(_table$initialState$e=null==(_table$initialState=table.initialState)?void 0:_table$initialState.expanded)?_table$initialState$e:{})},table.getCanSomeRowsExpand=()=>table.getPrePaginationRowModel().flatRows.some(row=>row.getCanExpand()),table.getToggleAllRowsExpandedHandler=()=>e3=>{null==e3.persist||e3.persist(),table.toggleAllRowsExpanded()},table.getIsSomeRowsExpanded=()=>{const expanded=table.getState().expanded;return!0===expanded||Object.values(expanded).some(Boolean)},table.getIsAllRowsExpanded=()=>{const expanded=table.getState().expanded;return"boolean"==typeof expanded?!0===expanded:!!Object.keys(expanded).length&&!table.getRowModel().flatRows.some(row=>!row.getIsExpanded())},table.getExpandedDepth=()=>{let maxDepth=0;return(!0===table.getState().expanded?Object.keys(table.getRowModel().rowsById):Object.keys(table.getState().expanded)).forEach(id2=>{const splitId=id2.split(".");maxDepth=Math.max(maxDepth,splitId.length)}),maxDepth},table.getPreExpandedRowModel=()=>table.getSortedRowModel(),table.getExpandedRowModel=()=>(!table._getExpandedRowModel&&table.options.getExpandedRowModel&&(table._getExpandedRowModel=table.options.getExpandedRowModel(table)),table.options.manualExpanding||!table._getExpandedRowModel?table.getPreExpandedRowModel():table._getExpandedRowModel())},createRow:(row,table)=>{row.toggleExpanded=expanded=>{table.setExpanded(old=>{var _expanded;const exists=!0===old||!(null==old||!old[row.id]);let oldExpanded={};if(!0===old?Object.keys(table.getRowModel().rowsById).forEach(rowId=>{oldExpanded[rowId]=!0}):oldExpanded=old,expanded=null!=(_expanded=expanded)?_expanded:!exists,!exists&&expanded)return{...oldExpanded,[row.id]:!0};if(exists&&!expanded){const{[row.id]:_2,...rest}=oldExpanded;return rest}return old})},row.getIsExpanded=()=>{var _table$options$getIsR;const expanded=table.getState().expanded;return!!(null!=(_table$options$getIsR=null==table.options.getIsRowExpanded?void 0:table.options.getIsRowExpanded(row))?_table$options$getIsR:!0===expanded||(null==expanded?void 0:expanded[row.id]))},row.getCanExpand=()=>{var _table$options$getRow,_table$options$enable,_row$subRows;return null!=(_table$options$getRow=null==table.options.getRowCanExpand?void 0:table.options.getRowCanExpand(row))?_table$options$getRow:(null==(_table$options$enable=table.options.enableExpanding)||_table$options$enable)&&!(null==(_row$subRows=row.subRows)||!_row$subRows.length)},row.getIsAllParentsExpanded=()=>{let isFullyExpanded=!0,currentRow=row;for(;isFullyExpanded&&currentRow.parentId;)currentRow=table.getRow(currentRow.parentId,!0),isFullyExpanded=currentRow.getIsExpanded();return isFullyExpanded},row.getToggleExpandedHandler=()=>{const canExpand=row.getCanExpand();return()=>{canExpand&&row.toggleExpanded()}}}},RowSelection={getInitialState:state=>({rowSelection:{},...state}),getDefaultOptions:table=>({onRowSelectionChange:makeStateUpdater("rowSelection",table),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:table=>{table.setRowSelection=updater=>null==table.options.onRowSelectionChange?void 0:table.options.onRowSelectionChange(updater),table.resetRowSelection=defaultState=>{var _table$initialState$r;return table.setRowSelection(defaultState?{}:null!=(_table$initialState$r=table.initialState.rowSelection)?_table$initialState$r:{})},table.toggleAllRowsSelected=value=>{table.setRowSelection(old=>{value=void 0!==value?value:!table.getIsAllRowsSelected();const rowSelection={...old},preGroupedFlatRows=table.getPreGroupedRowModel().flatRows;return value?preGroupedFlatRows.forEach(row=>{row.getCanSelect()&&(rowSelection[row.id]=!0)}):preGroupedFlatRows.forEach(row=>{delete rowSelection[row.id]}),rowSelection})},table.toggleAllPageRowsSelected=value=>table.setRowSelection(old=>{const resolvedValue=void 0!==value?value:!table.getIsAllPageRowsSelected(),rowSelection={...old};return table.getRowModel().rows.forEach(row=>{mutateRowIsSelected(rowSelection,row.id,resolvedValue,!0,table)}),rowSelection}),table.getPreSelectedRowModel=()=>table.getCoreRowModel(),table.getSelectedRowModel=memo(()=>[table.getState().rowSelection,table.getCoreRowModel()],(rowSelection,rowModel)=>Object.keys(rowSelection).length?selectRowsFn(table,rowModel):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(table.options,"debugTable")),table.getFilteredSelectedRowModel=memo(()=>[table.getState().rowSelection,table.getFilteredRowModel()],(rowSelection,rowModel)=>Object.keys(rowSelection).length?selectRowsFn(table,rowModel):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(table.options,"debugTable")),table.getGroupedSelectedRowModel=memo(()=>[table.getState().rowSelection,table.getSortedRowModel()],(rowSelection,rowModel)=>Object.keys(rowSelection).length?selectRowsFn(table,rowModel):{rows:[],flatRows:[],rowsById:{}},getMemoOptions(table.options,"debugTable")),table.getIsAllRowsSelected=()=>{const preGroupedFlatRows=table.getFilteredRowModel().flatRows,{rowSelection:rowSelection}=table.getState();let isAllRowsSelected=Boolean(preGroupedFlatRows.length&&Object.keys(rowSelection).length);return isAllRowsSelected&&preGroupedFlatRows.some(row=>row.getCanSelect()&&!rowSelection[row.id])&&(isAllRowsSelected=!1),isAllRowsSelected},table.getIsAllPageRowsSelected=()=>{const paginationFlatRows=table.getPaginationRowModel().flatRows.filter(row=>row.getCanSelect()),{rowSelection:rowSelection}=table.getState();let isAllPageRowsSelected=!!paginationFlatRows.length;return isAllPageRowsSelected&&paginationFlatRows.some(row=>!rowSelection[row.id])&&(isAllPageRowsSelected=!1),isAllPageRowsSelected},table.getIsSomeRowsSelected=()=>{var _table$getState$rowSe;const totalSelected=Object.keys(null!=(_table$getState$rowSe=table.getState().rowSelection)?_table$getState$rowSe:{}).length;return totalSelected>0&&totalSelected<table.getFilteredRowModel().flatRows.length},table.getIsSomePageRowsSelected=()=>{const paginationFlatRows=table.getPaginationRowModel().flatRows;return!table.getIsAllPageRowsSelected()&&paginationFlatRows.filter(row=>row.getCanSelect()).some(d2=>d2.getIsSelected()||d2.getIsSomeSelected())},table.getToggleAllRowsSelectedHandler=()=>e3=>{table.toggleAllRowsSelected(e3.target.checked)},table.getToggleAllPageRowsSelectedHandler=()=>e3=>{table.toggleAllPageRowsSelected(e3.target.checked)}},createRow:(row,table)=>{row.toggleSelected=(value,opts)=>{const isSelected=row.getIsSelected();table.setRowSelection(old=>{var _opts$selectChildren;if(value=void 0!==value?value:!isSelected,row.getCanSelect()&&isSelected===value)return old;const selectedRowIds={...old};return mutateRowIsSelected(selectedRowIds,row.id,value,null==(_opts$selectChildren=null==opts?void 0:opts.selectChildren)||_opts$selectChildren,table),selectedRowIds})},row.getIsSelected=()=>{const{rowSelection:rowSelection}=table.getState();return isRowSelected(row,rowSelection)},row.getIsSomeSelected=()=>{const{rowSelection:rowSelection}=table.getState();return"some"===isSubRowSelected(row,rowSelection)},row.getIsAllSubRowsSelected=()=>{const{rowSelection:rowSelection}=table.getState();return"all"===isSubRowSelected(row,rowSelection)},row.getCanSelect=()=>{var _table$options$enable;return"function"==typeof table.options.enableRowSelection?table.options.enableRowSelection(row):null==(_table$options$enable=table.options.enableRowSelection)||_table$options$enable},row.getCanSelectSubRows=()=>{var _table$options$enable2;return"function"==typeof table.options.enableSubRowSelection?table.options.enableSubRowSelection(row):null==(_table$options$enable2=table.options.enableSubRowSelection)||_table$options$enable2},row.getCanMultiSelect=()=>{var _table$options$enable3;return"function"==typeof table.options.enableMultiRowSelection?table.options.enableMultiRowSelection(row):null==(_table$options$enable3=table.options.enableMultiRowSelection)||_table$options$enable3},row.getToggleSelectedHandler=()=>{const canSelect=row.getCanSelect();return e3=>{var _target;canSelect&&row.toggleSelected(null==(_target=e3.target)?void 0:_target.checked)}}}},mutateRowIsSelected=(selectedRowIds,id2,value,includeChildren,table)=>{var _row$subRows;const row=table.getRow(id2,!0);value?(row.getCanMultiSelect()||Object.keys(selectedRowIds).forEach(key=>delete selectedRowIds[key]),row.getCanSelect()&&(selectedRowIds[id2]=!0)):delete selectedRowIds[id2],includeChildren&&null!=(_row$subRows=row.subRows)&&_row$subRows.length&&row.getCanSelectSubRows()&&row.subRows.forEach(row2=>mutateRowIsSelected(selectedRowIds,row2.id,value,includeChildren,table))};function selectRowsFn(table,rowModel){const rowSelection=table.getState().rowSelection,newSelectedFlatRows=[],newSelectedRowsById={},recurseRows=function(rows,depth){return rows.map(row=>{var _row$subRows2;const isSelected=isRowSelected(row,rowSelection);if(isSelected&&(newSelectedFlatRows.push(row),newSelectedRowsById[row.id]=row),null!=(_row$subRows2=row.subRows)&&_row$subRows2.length&&(row={...row,subRows:recurseRows(row.subRows)}),isSelected)return row}).filter(Boolean)};return{rows:recurseRows(rowModel.rows),flatRows:newSelectedFlatRows,rowsById:newSelectedRowsById}}function isRowSelected(row,selection){var _selection$row$id;return null!=(_selection$row$id=selection[row.id])&&_selection$row$id}function isSubRowSelected(row,selection,table){var _row$subRows3;if(null==(_row$subRows3=row.subRows)||!_row$subRows3.length)return!1;let allChildrenSelected=!0,someSelected=!1;return row.subRows.forEach(subRow=>{if((!someSelected||allChildrenSelected)&&(subRow.getCanSelect()&&(isRowSelected(subRow,selection)?someSelected=!0:allChildrenSelected=!1),subRow.subRows&&subRow.subRows.length)){const subRowChildrenSelected=isSubRowSelected(subRow,selection);"all"===subRowChildrenSelected?someSelected=!0:"some"===subRowChildrenSelected?(someSelected=!0,allChildrenSelected=!1):allChildrenSelected=!1}}),allChildrenSelected?"all":!!someSelected&&"some"}const reSplitAlphaNumeric=/([0-9]+)/gm;function compareBasic(a2,b2){return a2===b2?0:a2>b2?1:-1}function toString(a2){return"number"==typeof a2?isNaN(a2)||a2===1/0||a2===-1/0?"":String(a2):"string"==typeof a2?a2:""}function compareAlphanumeric(aStr,bStr){const a2=aStr.split(reSplitAlphaNumeric).filter(Boolean),b2=bStr.split(reSplitAlphaNumeric).filter(Boolean);for(;a2.length&&b2.length;){const aa=a2.shift(),bb=b2.shift(),an=parseInt(aa,10),bn=parseInt(bb,10),combo=[an,bn].sort();if(isNaN(combo[0])){if(aa>bb)return 1;if(bb>aa)return-1}else{if(isNaN(combo[1]))return isNaN(an)?-1:1;if(an>bn)return 1;if(bn>an)return-1}}return a2.length-b2.length}const sortingFns={alphanumeric:(rowA,rowB,columnId)=>compareAlphanumeric(toString(rowA.getValue(columnId)).toLowerCase(),toString(rowB.getValue(columnId)).toLowerCase()),alphanumericCaseSensitive:(rowA,rowB,columnId)=>compareAlphanumeric(toString(rowA.getValue(columnId)),toString(rowB.getValue(columnId))),text:(rowA,rowB,columnId)=>compareBasic(toString(rowA.getValue(columnId)).toLowerCase(),toString(rowB.getValue(columnId)).toLowerCase()),textCaseSensitive:(rowA,rowB,columnId)=>compareBasic(toString(rowA.getValue(columnId)),toString(rowB.getValue(columnId))),datetime:(rowA,rowB,columnId)=>{const a2=rowA.getValue(columnId),b2=rowB.getValue(columnId);return a2>b2?1:a2<b2?-1:0},basic:(rowA,rowB,columnId)=>compareBasic(rowA.getValue(columnId),rowB.getValue(columnId))},RowSorting={getInitialState:state=>({sorting:[],...state}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:table=>({onSortingChange:makeStateUpdater("sorting",table),isMultiSortEvent:e3=>e3.shiftKey}),createColumn:(column,table)=>{column.getAutoSortingFn=()=>{const firstRows=table.getFilteredRowModel().flatRows.slice(10);let isString2=!1;for(const row of firstRows){const value=null==row?void 0:row.getValue(column.id);if("[object Date]"===Object.prototype.toString.call(value))return sortingFns.datetime;if("string"==typeof value&&(isString2=!0,value.split(reSplitAlphaNumeric).length>1))return sortingFns.alphanumeric}return isString2?sortingFns.text:sortingFns.basic},column.getAutoSortDir=()=>{const firstRow=table.getFilteredRowModel().flatRows[0];return"string"==typeof(null==firstRow?void 0:firstRow.getValue(column.id))?"asc":"desc"},column.getSortingFn=()=>{var _table$options$sortin,_table$options$sortin2;if(!column)throw new Error;return isFunction$1(column.columnDef.sortingFn)?column.columnDef.sortingFn:"auto"===column.columnDef.sortingFn?column.getAutoSortingFn():null!=(_table$options$sortin=null==(_table$options$sortin2=table.options.sortingFns)?void 0:_table$options$sortin2[column.columnDef.sortingFn])?_table$options$sortin:sortingFns[column.columnDef.sortingFn]},column.toggleSorting=(desc,multi)=>{const nextSortingOrder=column.getNextSortingOrder(),hasManualValue=null!=desc;table.setSorting(old=>{const existingSorting=null==old?void 0:old.find(d2=>d2.id===column.id),existingIndex=null==old?void 0:old.findIndex(d2=>d2.id===column.id);let sortAction,newSorting=[],nextDesc=hasManualValue?desc:"desc"===nextSortingOrder;var _table$options$maxMul;(sortAction=null!=old&&old.length&&column.getCanMultiSort()&&multi?existingSorting?"toggle":"add":null!=old&&old.length&&existingIndex!==old.length-1?"replace":existingSorting?"toggle":"replace","toggle"===sortAction&&(hasManualValue||nextSortingOrder||(sortAction="remove")),"add"===sortAction)?(newSorting=[...old,{id:column.id,desc:nextDesc}],newSorting.splice(0,newSorting.length-(null!=(_table$options$maxMul=table.options.maxMultiSortColCount)?_table$options$maxMul:Number.MAX_SAFE_INTEGER))):newSorting="toggle"===sortAction?old.map(d2=>d2.id===column.id?{...d2,desc:nextDesc}:d2):"remove"===sortAction?old.filter(d2=>d2.id!==column.id):[{id:column.id,desc:nextDesc}];return newSorting})},column.getFirstSortDir=()=>{var _ref,_column$columnDef$sor;return(null!=(_ref=null!=(_column$columnDef$sor=column.columnDef.sortDescFirst)?_column$columnDef$sor:table.options.sortDescFirst)?_ref:"desc"===column.getAutoSortDir())?"desc":"asc"},column.getNextSortingOrder=multi=>{var _table$options$enable,_table$options$enable2;const firstSortDirection=column.getFirstSortDir(),isSorted=column.getIsSorted();return isSorted?!!(isSorted===firstSortDirection||null!=(_table$options$enable=table.options.enableSortingRemoval)&&!_table$options$enable||multi&&null!=(_table$options$enable2=table.options.enableMultiRemove)&&!_table$options$enable2)&&("desc"===isSorted?"asc":"desc"):firstSortDirection},column.getCanSort=()=>{var _column$columnDef$ena,_table$options$enable3;return(null==(_column$columnDef$ena=column.columnDef.enableSorting)||_column$columnDef$ena)&&(null==(_table$options$enable3=table.options.enableSorting)||_table$options$enable3)&&!!column.accessorFn},column.getCanMultiSort=()=>{var _ref2,_column$columnDef$ena2;return null!=(_ref2=null!=(_column$columnDef$ena2=column.columnDef.enableMultiSort)?_column$columnDef$ena2:table.options.enableMultiSort)?_ref2:!!column.accessorFn},column.getIsSorted=()=>{var _table$getState$sorti;const columnSort=null==(_table$getState$sorti=table.getState().sorting)?void 0:_table$getState$sorti.find(d2=>d2.id===column.id);return!!columnSort&&(columnSort.desc?"desc":"asc")},column.getSortIndex=()=>{var _table$getState$sorti2,_table$getState$sorti3;return null!=(_table$getState$sorti2=null==(_table$getState$sorti3=table.getState().sorting)?void 0:_table$getState$sorti3.findIndex(d2=>d2.id===column.id))?_table$getState$sorti2:-1},column.clearSorting=()=>{table.setSorting(old=>null!=old&&old.length?old.filter(d2=>d2.id!==column.id):[])},column.getToggleSortingHandler=()=>{const canSort=column.getCanSort();return e3=>{canSort&&(null==e3.persist||e3.persist(),null==column.toggleSorting||column.toggleSorting(void 0,!!column.getCanMultiSort()&&(null==table.options.isMultiSortEvent?void 0:table.options.isMultiSortEvent(e3))))}}},createTable:table=>{table.setSorting=updater=>null==table.options.onSortingChange?void 0:table.options.onSortingChange(updater),table.resetSorting=defaultState=>{var _table$initialState$s,_table$initialState;table.setSorting(defaultState?[]:null!=(_table$initialState$s=null==(_table$initialState=table.initialState)?void 0:_table$initialState.sorting)?_table$initialState$s:[])},table.getPreSortedRowModel=()=>table.getGroupedRowModel(),table.getSortedRowModel=()=>(!table._getSortedRowModel&&table.options.getSortedRowModel&&(table._getSortedRowModel=table.options.getSortedRowModel(table)),table.options.manualSorting||!table._getSortedRowModel?table.getPreSortedRowModel():table._getSortedRowModel())}},builtInFeatures=[Headers,ColumnVisibility,ColumnOrdering,ColumnPinning,ColumnFaceting,ColumnFiltering,{createTable:table=>{table._getGlobalFacetedRowModel=table.options.getFacetedRowModel&&table.options.getFacetedRowModel(table,"__global__"),table.getGlobalFacetedRowModel=()=>table.options.manualFiltering||!table._getGlobalFacetedRowModel?table.getPreFilteredRowModel():table._getGlobalFacetedRowModel(),table._getGlobalFacetedUniqueValues=table.options.getFacetedUniqueValues&&table.options.getFacetedUniqueValues(table,"__global__"),table.getGlobalFacetedUniqueValues=()=>table._getGlobalFacetedUniqueValues?table._getGlobalFacetedUniqueValues():new Map,table._getGlobalFacetedMinMaxValues=table.options.getFacetedMinMaxValues&&table.options.getFacetedMinMaxValues(table,"__global__"),table.getGlobalFacetedMinMaxValues=()=>{if(table._getGlobalFacetedMinMaxValues)return table._getGlobalFacetedMinMaxValues()}}},{getInitialState:state=>({globalFilter:void 0,...state}),getDefaultOptions:table=>({onGlobalFilterChange:makeStateUpdater("globalFilter",table),globalFilterFn:"auto",getColumnCanGlobalFilter:column=>{var _table$getCoreRowMode;const value=null==(_table$getCoreRowMode=table.getCoreRowModel().flatRows[0])||null==(_table$getCoreRowMode=_table$getCoreRowMode._getAllCellsByColumnId()[column.id])?void 0:_table$getCoreRowMode.getValue();return"string"==typeof value||"number"==typeof value}}),createColumn:(column,table)=>{column.getCanGlobalFilter=()=>{var _column$columnDef$ena,_table$options$enable,_table$options$enable2,_table$options$getCol;return(null==(_column$columnDef$ena=column.columnDef.enableGlobalFilter)||_column$columnDef$ena)&&(null==(_table$options$enable=table.options.enableGlobalFilter)||_table$options$enable)&&(null==(_table$options$enable2=table.options.enableFilters)||_table$options$enable2)&&(null==(_table$options$getCol=null==table.options.getColumnCanGlobalFilter?void 0:table.options.getColumnCanGlobalFilter(column))||_table$options$getCol)&&!!column.accessorFn}},createTable:table=>{table.getGlobalAutoFilterFn=()=>filterFns.includesString,table.getGlobalFilterFn=()=>{var _table$options$filter,_table$options$filter2;const{globalFilterFn:globalFilterFn}=table.options;return isFunction$1(globalFilterFn)?globalFilterFn:"auto"===globalFilterFn?table.getGlobalAutoFilterFn():null!=(_table$options$filter=null==(_table$options$filter2=table.options.filterFns)?void 0:_table$options$filter2[globalFilterFn])?_table$options$filter:filterFns[globalFilterFn]},table.setGlobalFilter=updater=>{null==table.options.onGlobalFilterChange||table.options.onGlobalFilterChange(updater)},table.resetGlobalFilter=defaultState=>{table.setGlobalFilter(defaultState?void 0:table.initialState.globalFilter)}}},RowSorting,ColumnGrouping,RowExpanding,{getInitialState:state=>({...state,pagination:{pageIndex:0,pageSize:10,...null==state?void 0:state.pagination}}),getDefaultOptions:table=>({onPaginationChange:makeStateUpdater("pagination",table)}),createTable:table=>{let registered=!1,queued=!1;table._autoResetPageIndex=()=>{var _ref,_table$options$autoRe;if(registered){if(null!=(_ref=null!=(_table$options$autoRe=table.options.autoResetAll)?_table$options$autoRe:table.options.autoResetPageIndex)?_ref:!table.options.manualPagination){if(queued)return;queued=!0,table._queue(()=>{table.resetPageIndex(),queued=!1})}}else table._queue(()=>{registered=!0})},table.setPagination=updater=>null==table.options.onPaginationChange?void 0:table.options.onPaginationChange(old=>functionalUpdate(updater,old)),table.resetPagination=defaultState=>{var _table$initialState$p;table.setPagination(defaultState?{pageIndex:0,pageSize:10}:null!=(_table$initialState$p=table.initialState.pagination)?_table$initialState$p:{pageIndex:0,pageSize:10})},table.setPageIndex=updater=>{table.setPagination(old=>{let pageIndex=functionalUpdate(updater,old.pageIndex);const maxPageIndex=void 0===table.options.pageCount||-1===table.options.pageCount?Number.MAX_SAFE_INTEGER:table.options.pageCount-1;return pageIndex=Math.max(0,Math.min(pageIndex,maxPageIndex)),{...old,pageIndex:pageIndex}})},table.resetPageIndex=defaultState=>{var _table$initialState$p2,_table$initialState;table.setPageIndex(defaultState?0:null!=(_table$initialState$p2=null==(_table$initialState=table.initialState)||null==(_table$initialState=_table$initialState.pagination)?void 0:_table$initialState.pageIndex)?_table$initialState$p2:0)},table.resetPageSize=defaultState=>{var _table$initialState$p3,_table$initialState2;table.setPageSize(defaultState?10:null!=(_table$initialState$p3=null==(_table$initialState2=table.initialState)||null==(_table$initialState2=_table$initialState2.pagination)?void 0:_table$initialState2.pageSize)?_table$initialState$p3:10)},table.setPageSize=updater=>{table.setPagination(old=>{const pageSize=Math.max(1,functionalUpdate(updater,old.pageSize)),topRowIndex=old.pageSize*old.pageIndex,pageIndex=Math.floor(topRowIndex/pageSize);return{...old,pageIndex:pageIndex,pageSize:pageSize}})},table.setPageCount=updater=>table.setPagination(old=>{var _table$options$pageCo;let newPageCount=functionalUpdate(updater,null!=(_table$options$pageCo=table.options.pageCount)?_table$options$pageCo:-1);return"number"==typeof newPageCount&&(newPageCount=Math.max(-1,newPageCount)),{...old,pageCount:newPageCount}}),table.getPageOptions=memo(()=>[table.getPageCount()],pageCount=>{let pageOptions=[];return pageCount&&pageCount>0&&(pageOptions=[...new Array(pageCount)].fill(null).map((_2,i2)=>i2)),pageOptions},getMemoOptions(table.options,"debugTable")),table.getCanPreviousPage=()=>table.getState().pagination.pageIndex>0,table.getCanNextPage=()=>{const{pageIndex:pageIndex}=table.getState().pagination,pageCount=table.getPageCount();return-1===pageCount||0!==pageCount&&pageIndex<pageCount-1},table.previousPage=()=>table.setPageIndex(old=>old-1),table.nextPage=()=>table.setPageIndex(old=>old+1),table.firstPage=()=>table.setPageIndex(0),table.lastPage=()=>table.setPageIndex(table.getPageCount()-1),table.getPrePaginationRowModel=()=>table.getExpandedRowModel(),table.getPaginationRowModel=()=>(!table._getPaginationRowModel&&table.options.getPaginationRowModel&&(table._getPaginationRowModel=table.options.getPaginationRowModel(table)),table.options.manualPagination||!table._getPaginationRowModel?table.getPrePaginationRowModel():table._getPaginationRowModel()),table.getPageCount=()=>{var _table$options$pageCo2;return null!=(_table$options$pageCo2=table.options.pageCount)?_table$options$pageCo2:Math.ceil(table.getRowCount()/table.getState().pagination.pageSize)},table.getRowCount=()=>{var _table$options$rowCou;return null!=(_table$options$rowCou=table.options.rowCount)?_table$options$rowCou:table.getPrePaginationRowModel().rows.length}}},{getInitialState:state=>({rowPinning:{top:[],bottom:[]},...state}),getDefaultOptions:table=>({onRowPinningChange:makeStateUpdater("rowPinning",table)}),createRow:(row,table)=>{row.pin=(position,includeLeafRows,includeParentRows)=>{const leafRowIds=includeLeafRows?row.getLeafRows().map(_ref=>{let{id:id2}=_ref;return id2}):[],parentRowIds=includeParentRows?row.getParentRows().map(_ref2=>{let{id:id2}=_ref2;return id2}):[],rowIds=new Set([...parentRowIds,row.id,...leafRowIds]);table.setRowPinning(old=>{var _old$top3,_old$bottom3,_old$top,_old$bottom,_old$top2,_old$bottom2;return"bottom"===position?{top:(null!=(_old$top=null==old?void 0:old.top)?_old$top:[]).filter(d2=>!(null!=rowIds&&rowIds.has(d2))),bottom:[...(null!=(_old$bottom=null==old?void 0:old.bottom)?_old$bottom:[]).filter(d2=>!(null!=rowIds&&rowIds.has(d2))),...Array.from(rowIds)]}:"top"===position?{top:[...(null!=(_old$top2=null==old?void 0:old.top)?_old$top2:[]).filter(d2=>!(null!=rowIds&&rowIds.has(d2))),...Array.from(rowIds)],bottom:(null!=(_old$bottom2=null==old?void 0:old.bottom)?_old$bottom2:[]).filter(d2=>!(null!=rowIds&&rowIds.has(d2)))}:{top:(null!=(_old$top3=null==old?void 0:old.top)?_old$top3:[]).filter(d2=>!(null!=rowIds&&rowIds.has(d2))),bottom:(null!=(_old$bottom3=null==old?void 0:old.bottom)?_old$bottom3:[]).filter(d2=>!(null!=rowIds&&rowIds.has(d2)))}})},row.getCanPin=()=>{var _ref3;const{enableRowPinning:enableRowPinning,enablePinning:enablePinning}=table.options;return"function"==typeof enableRowPinning?enableRowPinning(row):null==(_ref3=null!=enableRowPinning?enableRowPinning:enablePinning)||_ref3},row.getIsPinned=()=>{const rowIds=[row.id],{top:top,bottom:bottom}=table.getState().rowPinning,isTop=rowIds.some(d2=>null==top?void 0:top.includes(d2)),isBottom=rowIds.some(d2=>null==bottom?void 0:bottom.includes(d2));return isTop?"top":!!isBottom&&"bottom"},row.getPinnedIndex=()=>{var _ref4,_visiblePinnedRowIds$;const position=row.getIsPinned();if(!position)return-1;const visiblePinnedRowIds=null==(_ref4="top"===position?table.getTopRows():table.getBottomRows())?void 0:_ref4.map(_ref5=>{let{id:id2}=_ref5;return id2});return null!=(_visiblePinnedRowIds$=null==visiblePinnedRowIds?void 0:visiblePinnedRowIds.indexOf(row.id))?_visiblePinnedRowIds$:-1}},createTable:table=>{table.setRowPinning=updater=>null==table.options.onRowPinningChange?void 0:table.options.onRowPinningChange(updater),table.resetRowPinning=defaultState=>{var _table$initialState$r,_table$initialState;return table.setRowPinning(defaultState?{top:[],bottom:[]}:null!=(_table$initialState$r=null==(_table$initialState=table.initialState)?void 0:_table$initialState.rowPinning)?_table$initialState$r:{top:[],bottom:[]})},table.getIsSomeRowsPinned=position=>{var _pinningState$positio;const pinningState=table.getState().rowPinning;var _pinningState$top,_pinningState$bottom;return position?Boolean(null==(_pinningState$positio=pinningState[position])?void 0:_pinningState$positio.length):Boolean((null==(_pinningState$top=pinningState.top)?void 0:_pinningState$top.length)||(null==(_pinningState$bottom=pinningState.bottom)?void 0:_pinningState$bottom.length))},table._getPinnedRows=(visibleRows,pinnedRowIds,position)=>{var _table$options$keepPi;return(null==(_table$options$keepPi=table.options.keepPinnedRows)||_table$options$keepPi?(null!=pinnedRowIds?pinnedRowIds:[]).map(rowId=>{const row=table.getRow(rowId,!0);return row.getIsAllParentsExpanded()?row:null}):(null!=pinnedRowIds?pinnedRowIds:[]).map(rowId=>visibleRows.find(row=>row.id===rowId))).filter(Boolean).map(d2=>({...d2,position:position}))},table.getTopRows=memo(()=>[table.getRowModel().rows,table.getState().rowPinning.top],(allRows,topPinnedRowIds)=>table._getPinnedRows(allRows,topPinnedRowIds,"top"),getMemoOptions(table.options,"debugRows")),table.getBottomRows=memo(()=>[table.getRowModel().rows,table.getState().rowPinning.bottom],(allRows,bottomPinnedRowIds)=>table._getPinnedRows(allRows,bottomPinnedRowIds,"bottom"),getMemoOptions(table.options,"debugRows")),table.getCenterRows=memo(()=>[table.getRowModel().rows,table.getState().rowPinning.top,table.getState().rowPinning.bottom],(allRows,top,bottom)=>{const topAndBottom=new Set([...null!=top?top:[],...null!=bottom?bottom:[]]);return allRows.filter(d2=>!topAndBottom.has(d2.id))},getMemoOptions(table.options,"debugRows"))}},RowSelection,ColumnSizing];function createTable(options){var _options$_features,_options$initialState;const _features=[...builtInFeatures,...null!=(_options$_features=options._features)?_options$_features:[]];let table={_features:_features};const defaultOptions2=table._features.reduce((obj,feature)=>Object.assign(obj,null==feature.getDefaultOptions?void 0:feature.getDefaultOptions(table)),{});let initialState={...null!=(_options$initialState=options.initialState)?_options$initialState:{}};table._features.forEach(feature=>{var _feature$getInitialSt;initialState=null!=(_feature$getInitialSt=null==feature.getInitialState?void 0:feature.getInitialState(initialState))?_feature$getInitialSt:initialState});const queued=[];let queuedTimeout=!1;const coreInstance={_features:_features,options:{...defaultOptions2,...options},initialState:initialState,_queue:cb=>{queued.push(cb),queuedTimeout||(queuedTimeout=!0,Promise.resolve().then(()=>{for(;queued.length;)queued.shift()();queuedTimeout=!1}).catch(error=>setTimeout(()=>{throw error})))},reset:()=>{table.setState(table.initialState)},setOptions:updater=>{const newOptions=functionalUpdate(updater,table.options);var options2;table.options=(options2=newOptions,table.options.mergeOptions?table.options.mergeOptions(defaultOptions2,options2):{...defaultOptions2,...options2})},getState:()=>table.options.state,setState:updater=>{null==table.options.onStateChange||table.options.onStateChange(updater)},_getRowId:(row,index,parent)=>{var _table$options$getRow;return null!=(_table$options$getRow=null==table.options.getRowId?void 0:table.options.getRowId(row,index,parent))?_table$options$getRow:`${parent?[parent.id,index].join("."):index}`},getCoreRowModel:()=>(table._getCoreRowModel||(table._getCoreRowModel=table.options.getCoreRowModel(table)),table._getCoreRowModel()),getRowModel:()=>table.getPaginationRowModel(),getRow:(id2,searchAll)=>{let row=(searchAll?table.getPrePaginationRowModel():table.getRowModel()).rowsById[id2];if(!row&&(row=table.getCoreRowModel().rowsById[id2],!row))throw new Error;return row},_getDefaultColumnDef:memo(()=>[table.options.defaultColumn],defaultColumn=>{var _defaultColumn;return defaultColumn=null!=(_defaultColumn=defaultColumn)?_defaultColumn:{},{header:props=>{const resolvedColumnDef=props.header.column.columnDef;return resolvedColumnDef.accessorKey?resolvedColumnDef.accessorKey:resolvedColumnDef.accessorFn?resolvedColumnDef.id:null},cell:props=>{var _props$renderValue$to,_props$renderValue;return null!=(_props$renderValue$to=null==(_props$renderValue=props.renderValue())||null==_props$renderValue.toString?void 0:_props$renderValue.toString())?_props$renderValue$to:null},...table._features.reduce((obj,feature)=>Object.assign(obj,null==feature.getDefaultColumnDef?void 0:feature.getDefaultColumnDef()),{}),...defaultColumn}},getMemoOptions(options,"debugColumns")),_getColumnDefs:()=>table.options.columns,getAllColumns:memo(()=>[table._getColumnDefs()],columnDefs=>{const recurseColumns=function(columnDefs2,parent,depth){return void 0===depth&&(depth=0),columnDefs2.map(columnDef=>{const column=function(table,columnDef,depth,parent){var _ref,_resolvedColumnDef$id;const resolvedColumnDef={...table._getDefaultColumnDef(),...columnDef},accessorKey=resolvedColumnDef.accessorKey;let accessorFn,id2=null!=(_ref=null!=(_resolvedColumnDef$id=resolvedColumnDef.id)?_resolvedColumnDef$id:accessorKey?"function"==typeof String.prototype.replaceAll?accessorKey.replaceAll(".","_"):accessorKey.replace(/\./g,"_"):void 0)?_ref:"string"==typeof resolvedColumnDef.header?resolvedColumnDef.header:void 0;if(resolvedColumnDef.accessorFn?accessorFn=resolvedColumnDef.accessorFn:accessorKey&&(accessorFn=accessorKey.includes(".")?originalRow=>{let result=originalRow;for(const key of accessorKey.split(".")){var _result;result=null==(_result=result)?void 0:_result[key]}return result}:originalRow=>originalRow[resolvedColumnDef.accessorKey]),!id2)throw new Error;let column={id:`${String(id2)}`,accessorFn:accessorFn,parent:parent,depth:depth,columnDef:resolvedColumnDef,columns:[],getFlatColumns:memo(()=>[!0],()=>{var _column$columns;return[column,...null==(_column$columns=column.columns)?void 0:_column$columns.flatMap(d2=>d2.getFlatColumns())]},getMemoOptions(table.options,"debugColumns")),getLeafColumns:memo(()=>[table._getOrderColumnsFn()],orderColumns2=>{var _column$columns2;return null!=(_column$columns2=column.columns)&&_column$columns2.length?orderColumns2(column.columns.flatMap(column2=>column2.getLeafColumns())):[column]},getMemoOptions(table.options,"debugColumns"))};for(const feature of table._features)null==feature.createColumn||feature.createColumn(column,table);return column}(table,columnDef,depth,parent),groupingColumnDef=columnDef;return column.columns=groupingColumnDef.columns?recurseColumns(groupingColumnDef.columns,column,depth+1):[],column})};return recurseColumns(columnDefs)},getMemoOptions(options,"debugColumns")),getAllFlatColumns:memo(()=>[table.getAllColumns()],allColumns=>allColumns.flatMap(column=>column.getFlatColumns()),getMemoOptions(options,"debugColumns")),_getAllFlatColumnsById:memo(()=>[table.getAllFlatColumns()],flatColumns=>flatColumns.reduce((acc,column)=>(acc[column.id]=column,acc),{}),getMemoOptions(options,"debugColumns")),getAllLeafColumns:memo(()=>[table.getAllColumns(),table._getOrderColumnsFn()],(allColumns,orderColumns2)=>orderColumns2(allColumns.flatMap(column=>column.getLeafColumns())),getMemoOptions(options,"debugColumns")),getColumn:columnId=>table._getAllFlatColumnsById()[columnId]};Object.assign(table,coreInstance);for(let index=0;index<table._features.length;index++){const feature=table._features[index];null==feature||null==feature.createTable||feature.createTable(table)}return table}function filterRows(rows,filterRowImpl,table){return table.options.filterFromLeafRows?function(rowsToFilter,filterRow,table){var _table$options$maxLea;const newFilteredFlatRows=[],newFilteredRowsById={},maxDepth=null!=(_table$options$maxLea=table.options.maxLeafRowFilterDepth)?_table$options$maxLea:100,recurseFilterRows=function(rowsToFilter2,depth){void 0===depth&&(depth=0);const rows=[];for(let i2=0;i2<rowsToFilter2.length;i2++){var _row$subRows;let row=rowsToFilter2[i2];const newRow=createRow(table,row.id,row.original,row.index,row.depth,0,row.parentId);if(newRow.columnFilters=row.columnFilters,null!=(_row$subRows=row.subRows)&&_row$subRows.length&&depth<maxDepth){if(newRow.subRows=recurseFilterRows(row.subRows,depth+1),row=newRow,filterRow(row)&&!newRow.subRows.length){rows.push(row),newFilteredRowsById[row.id]=row,newFilteredFlatRows.push(row);continue}if(filterRow(row)||newRow.subRows.length){rows.push(row),newFilteredRowsById[row.id]=row,newFilteredFlatRows.push(row);continue}}else row=newRow,filterRow(row)&&(rows.push(row),newFilteredRowsById[row.id]=row,newFilteredFlatRows.push(row))}return rows};return{rows:recurseFilterRows(rowsToFilter),flatRows:newFilteredFlatRows,rowsById:newFilteredRowsById}}(rows,filterRowImpl,table):function(rowsToFilter,filterRow,table){var _table$options$maxLea2;const newFilteredFlatRows=[],newFilteredRowsById={},maxDepth=null!=(_table$options$maxLea2=table.options.maxLeafRowFilterDepth)?_table$options$maxLea2:100,recurseFilterRows=function(rowsToFilter2,depth){void 0===depth&&(depth=0);const rows=[];for(let i2=0;i2<rowsToFilter2.length;i2++){let row=rowsToFilter2[i2];if(filterRow(row)){var _row$subRows2;if(null!=(_row$subRows2=row.subRows)&&_row$subRows2.length&&depth<maxDepth){const newRow=createRow(table,row.id,row.original,row.index,row.depth,0,row.parentId);newRow.subRows=recurseFilterRows(row.subRows,depth+1),row=newRow}rows.push(row),newFilteredFlatRows.push(row),newFilteredRowsById[row.id]=row}}return rows};return{rows:recurseFilterRows(rowsToFilter),flatRows:newFilteredFlatRows,rowsById:newFilteredRowsById}}(rows,filterRowImpl,table)}function flexRender(Comp,props){return Comp?function(component){return"function"==typeof component&&(()=>{const proto=Object.getPrototypeOf(component);return proto.prototype&&proto.prototype.isReactComponent})()}(component=Comp)||"function"==typeof component||function(component){return"object"==typeof component&&"symbol"==typeof component.$$typeof&&["react.memo","react.forward_ref"].includes(component.$$typeof.description)}(component)?reactExports.createElement(Comp,props):Comp:null;var component}function usePrevious(value){const ref=reactExports.useRef({value:value,previous:value});return reactExports.useMemo(()=>(ref.current.value!==value&&(ref.current.previous=ref.current.value,ref.current.value=value),ref.current.previous),[value])}var[createCheckboxContext,createCheckboxScope]=createContextScope("Checkbox"),[CheckboxProviderImpl,useCheckboxContext]=createCheckboxContext("Checkbox");function CheckboxProvider(props){const{__scopeCheckbox:__scopeCheckbox,checked:checkedProp,children:children,defaultChecked:defaultChecked,disabled:disabled,form:form,name:name,onCheckedChange:onCheckedChange,required:required,value:value="on",internal_do_not_use_render:internal_do_not_use_render}=props,[checked,setChecked]=useControllableState({prop:checkedProp,defaultProp:defaultChecked??!1,onChange:onCheckedChange,caller:"Checkbox"}),[control,setControl]=reactExports.useState(null),[bubbleInput,setBubbleInput]=reactExports.useState(null),hasConsumerStoppedPropagationRef=reactExports.useRef(!1),isFormControl=!control||(!!form||!!control.closest("form")),context={checked:checked,disabled:disabled,setChecked:setChecked,control:control,setControl:setControl,name:name,form:form,value:value,hasConsumerStoppedPropagationRef:hasConsumerStoppedPropagationRef,required:required,defaultChecked:!isIndeterminate(defaultChecked)&&defaultChecked,isFormControl:isFormControl,bubbleInput:bubbleInput,setBubbleInput:setBubbleInput};return jsxRuntimeExports.jsx(CheckboxProviderImpl,{scope:__scopeCheckbox,...context,children:isFunction(internal_do_not_use_render)?internal_do_not_use_render(context):children})}var CheckboxTrigger=reactExports.forwardRef(({__scopeCheckbox:__scopeCheckbox,onKeyDown:onKeyDown,onClick:onClick,...checkboxProps},forwardedRef)=>{const{control:control,value:value,disabled:disabled,checked:checked,required:required,setControl:setControl,setChecked:setChecked,hasConsumerStoppedPropagationRef:hasConsumerStoppedPropagationRef,isFormControl:isFormControl,bubbleInput:bubbleInput}=useCheckboxContext("CheckboxTrigger",__scopeCheckbox),composedRefs=useComposedRefs(forwardedRef,setControl),initialCheckedStateRef=reactExports.useRef(checked);return reactExports.useEffect(()=>{const form=null==control?void 0:control.form;if(form){const reset=()=>setChecked(initialCheckedStateRef.current);return form.addEventListener("reset",reset),()=>form.removeEventListener("reset",reset)}},[control,setChecked]),jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"checkbox","aria-checked":isIndeterminate(checked)?"mixed":checked,"aria-required":required,"data-state":getState$2(checked),"data-disabled":disabled?"":void 0,disabled:disabled,value:value,...checkboxProps,ref:composedRefs,onKeyDown:composeEventHandlers(onKeyDown,event=>{"Enter"===event.key&&event.preventDefault()}),onClick:composeEventHandlers(onClick,event=>{setChecked(prevChecked=>!!isIndeterminate(prevChecked)||!prevChecked),bubbleInput&&isFormControl&&(hasConsumerStoppedPropagationRef.current=event.isPropagationStopped(),hasConsumerStoppedPropagationRef.current||event.stopPropagation())})})});CheckboxTrigger.displayName="CheckboxTrigger";var Checkbox$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeCheckbox:__scopeCheckbox,name:name,checked:checked,defaultChecked:defaultChecked,required:required,disabled:disabled,value:value,onCheckedChange:onCheckedChange,form:form,...checkboxProps}=props;return jsxRuntimeExports.jsx(CheckboxProvider,{__scopeCheckbox:__scopeCheckbox,checked:checked,defaultChecked:defaultChecked,disabled:disabled,required:required,onCheckedChange:onCheckedChange,name:name,form:form,value:value,internal_do_not_use_render:({isFormControl:isFormControl})=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CheckboxTrigger,{...checkboxProps,ref:forwardedRef,__scopeCheckbox:__scopeCheckbox}),isFormControl&&jsxRuntimeExports.jsx(CheckboxBubbleInput,{__scopeCheckbox:__scopeCheckbox})]})})});Checkbox$1.displayName="Checkbox";var CheckboxIndicator=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeCheckbox:__scopeCheckbox,forceMount:forceMount,...indicatorProps}=props,context=useCheckboxContext("CheckboxIndicator",__scopeCheckbox);return jsxRuntimeExports.jsx(Presence,{present:forceMount||isIndeterminate(context.checked)||!0===context.checked,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$2(context.checked),"data-disabled":context.disabled?"":void 0,...indicatorProps,ref:forwardedRef,style:{pointerEvents:"none",...props.style}})})});CheckboxIndicator.displayName="CheckboxIndicator";var CheckboxBubbleInput=reactExports.forwardRef(({__scopeCheckbox:__scopeCheckbox,...props},forwardedRef)=>{const{control:control,hasConsumerStoppedPropagationRef:hasConsumerStoppedPropagationRef,checked:checked,defaultChecked:defaultChecked,required:required,disabled:disabled,name:name,value:value,form:form,bubbleInput:bubbleInput,setBubbleInput:setBubbleInput}=useCheckboxContext("CheckboxBubbleInput",__scopeCheckbox),composedRefs=useComposedRefs(forwardedRef,setBubbleInput),prevChecked=usePrevious(checked),controlSize=useSize(control);reactExports.useEffect(()=>{const input=bubbleInput;if(!input)return;const inputProto=window.HTMLInputElement.prototype,setChecked=Object.getOwnPropertyDescriptor(inputProto,"checked").set,bubbles=!hasConsumerStoppedPropagationRef.current;if(prevChecked!==checked&&setChecked){const event=new Event("click",{bubbles:bubbles});input.indeterminate=isIndeterminate(checked),setChecked.call(input,!isIndeterminate(checked)&&checked),input.dispatchEvent(event)}},[bubbleInput,prevChecked,checked,hasConsumerStoppedPropagationRef]);const defaultCheckedRef=reactExports.useRef(!isIndeterminate(checked)&&checked);return jsxRuntimeExports.jsx(Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:defaultChecked??defaultCheckedRef.current,required:required,disabled:disabled,name:name,value:value,form:form,...props,tabIndex:-1,ref:composedRefs,style:{...props.style,...controlSize,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function isFunction(value){return"function"==typeof value}function isIndeterminate(checked){return"indeterminate"===checked}function getState$2(checked){return isIndeterminate(checked)?"indeterminate":checked?"checked":"unchecked"}CheckboxBubbleInput.displayName="CheckboxBubbleInput";const Checkbox=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Checkbox$1,{ref:ref,className:cn("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",className),...props,children:jsxRuntimeExports.jsx(CheckboxIndicator,{className:cn("flex items-center justify-center text-current"),children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}));Checkbox.displayName=Checkbox$1.displayName;const Table=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("div",{className:"relative w-full overflow-auto",children:jsxRuntimeExports.jsx("table",{ref:ref,className:cn("w-full caption-bottom text-sm",className),...props})}));Table.displayName="Table";const TableHeader=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("thead",{ref:ref,className:cn("[&_tr]:border-b",className),...props}));TableHeader.displayName="TableHeader";const TableBody=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("tbody",{ref:ref,className:cn("[&_tr:last-child]:border-0",className),...props}));TableBody.displayName="TableBody";reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("tfoot",{ref:ref,className:cn("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",className),...props})).displayName="TableFooter";const TableRow=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("tr",{ref:ref,className:cn("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",className),...props}));TableRow.displayName="TableRow";const TableHead=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("th",{ref:ref,className:cn("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",className),...props}));TableHead.displayName="TableHead";const TableCell=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("td",{ref:ref,className:cn("p-4 align-middle [&:has([role=checkbox])]:pr-0",className),...props}));TableCell.displayName="TableCell";reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("caption",{ref:ref,className:cn("mt-4 text-sm text-muted-foreground",className),...props})).displayName="TableCaption";const Pagination=({className:className,...props})=>jsxRuntimeExports.jsx("nav",{role:"navigation","aria-label":"pagination",className:cn("mx-auto flex w-full justify-center",className),...props});Pagination.displayName="Pagination";const PaginationContent=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("ul",{ref:ref,className:cn("flex flex-row items-center gap-1",className),...props}));PaginationContent.displayName="PaginationContent";const PaginationItem=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("li",{ref:ref,className:cn("",className),...props}));PaginationItem.displayName="PaginationItem";const TransactionReceipt=({transaction:transaction,receiptRef:receiptRef})=>{const isEntry="in"===transaction.side,personData=isEntry?transaction.from:transaction.to,personLabel=isEntry?"Remetente":"Destinatário",bankData=isEntry?`Banco: ${personData.bankNumber||"N/A"}`:`Banco: ${personData.bankNumber||"N/A"}, Agência: ${transaction.to.agencyNumber||"N/A"}, Conta: ${transaction.to.accountNumber||"N/A"}`,tdLabelStyle={padding:"5px 8px 5px 0",textAlign:"left",color:"#555",verticalAlign:"top",whiteSpace:"nowrap"},tdValueStyle={padding:"5px 0 5px 8px",textAlign:"left",fontWeight:"500",verticalAlign:"top",wordBreak:"break-word"},tdValueRightStyle={...tdValueStyle,textAlign:"right"};return jsxRuntimeExports.jsxs("div",{ref:receiptRef,style:{backgroundColor:"#fff",color:"#333",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"14px",padding:"25px",border:"1px solid #ddd",maxWidth:"700px",margin:"auto"},children:[jsxRuntimeExports.jsxs("div",{style:{borderBottom:"1px solid #eee",paddingBottom:"15px",marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"22px",fontWeight:"bold",color:"#ff6b35"},children:"Comprovante de Transação"}),jsxRuntimeExports.jsxs("div",{style:{textAlign:"right",fontSize:"12px"},children:[jsxRuntimeExports.jsx("div",{style:{color:"#777"},children:"Gerado em:"}),jsxRuntimeExports.jsx("div",{children:formatTimestamp(Date.now()/1e3,"dd/MM/yyyy HH:mm:ss")})]})]}),jsxRuntimeExports.jsx("div",{style:{backgroundColor:"#e6fffa",border:"1px solid #b2f5ea",borderRadius:"4px",padding:"10px 15px",textAlign:"center",marginBottom:"20px",color:"#2c7a7b",fontWeight:"bold"},children:"✔ Transação Concluída"}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px",borderBottom:"1px solid #eee",paddingBottom:"5px"},children:"Detalhes da Transação"}),jsxRuntimeExports.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:tdLabelStyle,children:"Data/Hora:"}),jsxRuntimeExports.jsx("td",{style:tdValueStyle,children:formatTimestamp(transaction.createdTimestamp,"dd/MM/yyyy HH:mm:ss")}),jsxRuntimeExports.jsx("td",{style:tdLabelStyle,children:"Valor:"}),jsxRuntimeExports.jsxs("td",{style:{...tdValueRightStyle,color:isEntry?"green":"red",fontWeight:"bold"},children:[isEntry?"+":"-"," ",formatCurrency(parseFloat(transaction.amount))]})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:tdLabelStyle,children:"Tipo:"}),jsxRuntimeExports.jsx("td",{style:{...tdValueStyle,textTransform:"capitalize"},children:transaction.type.toLowerCase()}),jsxRuntimeExports.jsx("td",{style:tdLabelStyle,children:"MediaTaxa:"}),jsxRuntimeExports.jsx("td",{style:tdValueRightStyle,children:formatCurrency(parseFloat(transaction.fee))})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:tdLabelStyle,children:"Descrição:"}),jsxRuntimeExports.jsx("td",{colSpan:3,style:tdValueStyle,children:transaction.description||transaction.identifier||"-"})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:tdLabelStyle,children:"ID Transação:"}),jsxRuntimeExports.jsx("td",{colSpan:3,style:{...tdValueStyle,fontFamily:"monospace",fontSize:"12px"},children:transaction.id})]})]})})]}),jsxRuntimeExports.jsxs("div",{style:{marginBottom:"20px"},children:[jsxRuntimeExports.jsx("div",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"10px",borderBottom:"1px solid #eee",paddingBottom:"5px"},children:personLabel}),jsxRuntimeExports.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:jsxRuntimeExports.jsxs("tbody",{children:[jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:{...tdLabelStyle,width:"20%"},children:"Nome:"}),jsxRuntimeExports.jsx("td",{colSpan:3,style:tdValueStyle,children:personData.name||"Não informado"})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:tdLabelStyle,children:"Documento:"}),jsxRuntimeExports.jsx("td",{colSpan:3,style:tdValueStyle,children:personData.userDocument||"Não informado"})]}),jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{style:tdLabelStyle,children:"Dados Bancários:"}),jsxRuntimeExports.jsx("td",{colSpan:3,style:tdValueStyle,children:bankData})]})]})})]}),jsxRuntimeExports.jsx("div",{style:{marginTop:"20px",paddingTop:"10px",borderTop:"1px solid #eee",textAlign:"center",fontSize:"10px",color:"#999"},children:"Comprovante gerado automaticamente."})]})},Dialog=Root$9,DialogTrigger=Trigger$4,DialogPortal=Portal$3,DialogClose=Close$1,DialogOverlay=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Overlay,{ref:ref,className:cn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props}));DialogOverlay.displayName=Overlay.displayName;const DialogContent=reactExports.forwardRef(({className:className,children:children,...props},ref)=>jsxRuntimeExports.jsxs(DialogPortal,{children:[jsxRuntimeExports.jsx(DialogOverlay,{}),jsxRuntimeExports.jsxs(Content$2,{ref:ref,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",className),...props,children:[children,jsxRuntimeExports.jsxs(Close$1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));DialogContent.displayName=Content$2.displayName;const DialogHeader=({className:className,...props})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-1.5 text-center sm:text-left",className),...props});DialogHeader.displayName="DialogHeader";const DialogFooter=({className:className,...props})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});DialogFooter.displayName="DialogFooter";const DialogTitle=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Title$1,{ref:ref,className:cn("text-lg font-semibold leading-none tracking-tight",className),...props}));DialogTitle.displayName=Title$1.displayName;const DialogDescription=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Description$1,{ref:ref,className:cn("text-sm text-muted-foreground",className),...props}));DialogDescription.displayName=Description$1.displayName;const seen={},__vitePreload=function(baseModule,deps,importerUrl){let promise=Promise.resolve();if(deps&&deps.length>0){document.getElementsByTagName("link");const cspNonceMeta=document.querySelector("meta[property=csp-nonce]"),cspNonce=(null==cspNonceMeta?void 0:cspNonceMeta.nonce)||(null==cspNonceMeta?void 0:cspNonceMeta.getAttribute("nonce"));promise=Promise.allSettled(deps.map(dep=>{if((dep=function(dep){return"/"+dep}(dep))in seen)return;seen[dep]=!0;const isCss=dep.endsWith(".css"),cssSelector=isCss?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${dep}"]${cssSelector}`))return;const link=document.createElement("link");return link.rel=isCss?"stylesheet":"modulepreload",isCss||(link.as="script"),link.crossOrigin="",link.href=dep,cspNonce&&link.setAttribute("nonce",cspNonce),document.head.appendChild(link),isCss?new Promise((res,rej)=>{link.addEventListener("load",res),link.addEventListener("error",()=>rej(new Error(`Unable to preload CSS for ${dep}`)))}):void 0}))}function handlePreloadError(err2){const e3=new Event("vite:preloadError",{cancelable:!0});if(e3.payload=err2,window.dispatchEvent(e3),!e3.defaultPrevented)throw err2}return promise.then(res=>{for(const item of res||[])"rejected"===item.status&&handlePreloadError(item.reason);return baseModule().catch(handlePreloadError)})};function _typeof$4(o2){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(eb,start){for(var b2=new u16(31),i2=0;i2<31;++i2)b2[i2]=start+=1<<eb[i2-1];var r2=new i32(b2[30]);for(i2=1;i2<30;++i2)for(var j2=b2[i2];j2<b2[i2+1];++j2)r2[j2]=j2-b2[i2]<<5|i2;return{b:b2,r:r2}},_a=freb(fleb,2),fl=_a.b,revfl=_a.r;fl[28]=258,revfl[258]=28;for(var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768),i$1=0;i$1<32768;++i$1){var x$1=(43690&i$1)>>1|(21845&i$1)<<1;x$1=(61680&(x$1=(52428&x$1)>>2|(13107&x$1)<<2))>>4|(3855&x$1)<<4,rev[i$1]=((65280&x$1)>>8|(255&x$1)<<8)>>1}var hMap=function(cd,mb,r2){for(var s2=cd.length,i2=0,l2=new u16(mb);i2<s2;++i2)cd[i2]&&++l2[cd[i2]-1];var co,le2=new u16(mb);for(i2=1;i2<mb;++i2)le2[i2]=le2[i2-1]+l2[i2-1]<<1;if(r2){co=new u16(1<<mb);var rvb=15-mb;for(i2=0;i2<s2;++i2)if(cd[i2])for(var sv=i2<<4|cd[i2],r_1=mb-cd[i2],v2=le2[cd[i2]-1]++<<r_1,m2=v2|(1<<r_1)-1;v2<=m2;++v2)co[rev[v2]>>rvb]=sv}else for(co=new u16(s2),i2=0;i2<s2;++i2)cd[i2]&&(co[i2]=rev[le2[cd[i2]-1]++]>>15-cd[i2]);return co},flt=new u8(288);for(i$1=0;i$1<144;++i$1)flt[i$1]=8;for(i$1=144;i$1<256;++i$1)flt[i$1]=9;for(i$1=256;i$1<280;++i$1)flt[i$1]=7;for(i$1=280;i$1<288;++i$1)flt[i$1]=8;var fdt=new u8(32);for(i$1=0;i$1<32;++i$1)fdt[i$1]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max=function(a2){for(var m2=a2[0],i2=1;i2<a2.length;++i2)a2[i2]>m2&&(m2=a2[i2]);return m2},bits=function(d2,p2,m2){var o2=p2/8|0;return(d2[o2]|d2[o2+1]<<8)>>(7&p2)&m2},bits16=function(d2,p2){var o2=p2/8|0;return(d2[o2]|d2[o2+1]<<8|d2[o2+2]<<16)>>(7&p2)},shft=function(p2){return(p2+7)/8|0},slc=function(v2,s2,e3){return(null==e3||e3>v2.length)&&(e3=v2.length),new u8(v2.subarray(s2,e3))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(ind,msg,nt2){var e3=new Error(msg||ec[ind]);if(e3.code=ind,Error.captureStackTrace&&Error.captureStackTrace(e3,err),!nt2)throw e3;return e3},wbits=function(d2,p2,v2){v2<<=7&p2;var o2=p2/8|0;d2[o2]|=v2,d2[o2+1]|=v2>>8},wbits16=function(d2,p2,v2){v2<<=7&p2;var o2=p2/8|0;d2[o2]|=v2,d2[o2+1]|=v2>>8,d2[o2+2]|=v2>>16},hTree=function(d2,mb){for(var t3=[],i2=0;i2<d2.length;++i2)d2[i2]&&t3.push({s:i2,f:d2[i2]});var s2=t3.length,t22=t3.slice();if(!s2)return{t:et$1,l:0};if(1==s2){var v2=new u8(t3[0].s+1);return v2[t3[0].s]=1,{t:v2,l:1}}t3.sort(function(a2,b2){return a2.f-b2.f}),t3.push({s:-1,f:25001});var l2=t3[0],r2=t3[1],i0=0,i1=1,i22=2;for(t3[0]={s:-1,f:l2.f+r2.f,l:l2,r:r2};i1!=s2-1;)l2=t3[t3[i0].f<t3[i22].f?i0++:i22++],r2=t3[i0!=i1&&t3[i0].f<t3[i22].f?i0++:i22++],t3[i1++]={s:-1,f:l2.f+r2.f,l:l2,r:r2};var maxSym=t22[0].s;for(i2=1;i2<s2;++i2)t22[i2].s>maxSym&&(maxSym=t22[i2].s);var tr=new u16(maxSym+1),mbt=ln(t3[i1-1],tr,0);if(mbt>mb){i2=0;var dt2=0,lft=mbt-mb,cst=1<<lft;for(t22.sort(function(a2,b2){return tr[b2.s]-tr[a2.s]||a2.f-b2.f});i2<s2;++i2){var i2_1=t22[i2].s;if(!(tr[i2_1]>mb))break;dt2+=cst-(1<<mbt-tr[i2_1]),tr[i2_1]=mb}for(dt2>>=lft;dt2>0;){var i2_2=t22[i2].s;tr[i2_2]<mb?dt2-=1<<mb-tr[i2_2]++-1:++i2}for(;i2>=0&&dt2;--i2){var i2_3=t22[i2].s;tr[i2_3]==mb&&(--tr[i2_3],++dt2)}mbt=mb}return{t:new u8(tr),l:mbt}},ln=function(n2,l2,d2){return-1==n2.s?Math.max(ln(n2.l,l2,d2+1),ln(n2.r,l2,d2+1)):l2[n2.s]=d2},lc=function(c2){for(var s2=c2.length;s2&&!c2[--s2];);for(var cl=new u16(++s2),cli=0,cln=c2[0],cls=1,w2=function(v2){cl[cli++]=v2},i2=1;i2<=s2;++i2)if(c2[i2]==cln&&i2!=s2)++cls;else{if(!cln&&cls>2){for(;cls>138;cls-=138)w2(32754);cls>2&&(w2(cls>10?cls-11<<5|28690:cls-3<<5|12305),cls=0)}else if(cls>3){for(w2(cln),--cls;cls>6;cls-=6)w2(8304);cls>2&&(w2(cls-3<<5|8208),cls=0)}for(;cls--;)w2(cln);cls=1,cln=c2[i2]}return{c:cl.subarray(0,cli),n:s2}},clen=function(cf,cl){for(var l2=0,i2=0;i2<cl.length;++i2)l2+=cf[i2]*cl[i2];return l2},wfblk=function(out,pos,dat){var s2=dat.length,o2=shft(pos+2);out[o2]=255&s2,out[o2+1]=s2>>8,out[o2+2]=255^out[o2],out[o2+3]=255^out[o2+1];for(var i2=0;i2<s2;++i2)out[o2+i2+4]=dat[i2];return 8*(o2+4+s2)},wblk=function(dat,out,final,syms,lf,df,eb,li,bs,bl,p2){wbits(out,p2++,final),++lf[256];for(var _a3=hTree(lf,15),dlt=_a3.t,mlb=_a3.l,_b3=hTree(df,15),ddt=_b3.t,mdb=_b3.l,_c2=lc(dlt),lclt=_c2.c,nlc=_c2.n,_d2=lc(ddt),lcdt=_d2.c,ndc=_d2.n,lcfreq=new u16(19),i2=0;i2<lclt.length;++i2)++lcfreq[31&lclt[i2]];for(i2=0;i2<lcdt.length;++i2)++lcfreq[31&lcdt[i2]];for(var _e3=hTree(lcfreq,7),lct=_e3.t,mlcb=_e3.l,nlcc=19;nlcc>4&&!lct[clim[nlcc-1]];--nlcc);var lm,ll,dm,dl,flen=bl+5<<3,ftlen=clen(lf,flt)+clen(df,fdt)+eb,dtlen=clen(lf,dlt)+clen(df,ddt)+eb+14+3*nlcc+clen(lcfreq,lct)+2*lcfreq[16]+3*lcfreq[17]+7*lcfreq[18];if(bs>=0&&flen<=ftlen&&flen<=dtlen)return wfblk(out,p2,dat.subarray(bs,bs+bl));if(wbits(out,p2,1+(dtlen<ftlen)),p2+=2,dtlen<ftlen){lm=hMap(dlt,mlb,0),ll=dlt,dm=hMap(ddt,mdb,0),dl=ddt;var llm=hMap(lct,mlcb,0);wbits(out,p2,nlc-257),wbits(out,p2+5,ndc-1),wbits(out,p2+10,nlcc-4),p2+=14;for(i2=0;i2<nlcc;++i2)wbits(out,p2+3*i2,lct[clim[i2]]);p2+=3*nlcc;for(var lcts=[lclt,lcdt],it2=0;it2<2;++it2){var clct=lcts[it2];for(i2=0;i2<clct.length;++i2){var len=31&clct[i2];wbits(out,p2,llm[len]),p2+=lct[len],len>15&&(wbits(out,p2,clct[i2]>>5&127),p2+=clct[i2]>>12)}}}else lm=flm,ll=flt,dm=fdm,dl=fdt;for(i2=0;i2<li;++i2){var sym=syms[i2];if(sym>255){wbits16(out,p2,lm[(len=sym>>18&31)+257]),p2+=ll[len+257],len>7&&(wbits(out,p2,sym>>23&31),p2+=fleb[len]);var dst=31&sym;wbits16(out,p2,dm[dst]),p2+=dl[dst],dst>3&&(wbits16(out,p2,sym>>5&8191),p2+=fdeb[dst])}else wbits16(out,p2,lm[sym]),p2+=ll[sym]}return wbits16(out,p2,lm[256]),p2+ll[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),adler=function(){var a2=1,b2=0;return{p:function(d2){for(var n2=a2,m2=b2,l2=0|d2.length,i2=0;i2!=l2;){for(var e3=Math.min(i2+2655,l2);i2<e3;++i2)m2+=n2+=d2[i2];n2=(65535&n2)+15*(n2>>16),m2=(65535&m2)+15*(m2>>16)}a2=n2,b2=m2},d:function(){return(255&(a2%=65521))<<24|(65280&a2)<<8|(255&(b2%=65521))<<8|b2>>8}}},dopt=function(dat,opt,pre,post,st2){if(!st2&&(st2={l:1},opt.dictionary)){var dict=opt.dictionary.subarray(-32768),newDat=new u8(dict.length+dat.length);newDat.set(dict),newDat.set(dat,dict.length),dat=newDat,st2.w=dict.length}return function(dat,lvl,plvl,pre,post,st2){var s2=st2.z||dat.length,o2=new u8(pre+s2+5*(1+Math.ceil(s2/7e3))+post),w2=o2.subarray(pre,o2.length-post),lst=st2.l,pos=7&(st2.r||0);if(lvl){pos&&(w2[0]=st2.r>>3);for(var opt=deo[lvl-1],n2=opt>>13,c2=8191&opt,msk_1=(1<<plvl)-1,prev=st2.p||new u16(32768),head=st2.h||new u16(msk_1+1),bs1_1=Math.ceil(plvl/3),bs2_1=2*bs1_1,hsh=function(i3){return(dat[i3]^dat[i3+1]<<bs1_1^dat[i3+2]<<bs2_1)&msk_1},syms=new i32(25e3),lf=new u16(288),df=new u16(32),lc_1=0,eb=0,i2=st2.i||0,li=0,wi=st2.w||0,bs=0;i2+2<s2;++i2){var hv=hsh(i2),imod=32767&i2,pimod=head[hv];if(prev[imod]=pimod,head[hv]=imod,wi<=i2){var rem=s2-i2;if((lc_1>7e3||li>24576)&&(rem>423||!lst)){pos=wblk(dat,w2,0,syms,lf,df,eb,li,bs,i2-bs,pos),li=lc_1=eb=0,bs=i2;for(var j2=0;j2<286;++j2)lf[j2]=0;for(j2=0;j2<30;++j2)df[j2]=0}var l2=2,d2=0,ch_1=c2,dif=imod-pimod&32767;if(rem>2&&hv==hsh(i2-dif))for(var maxn=Math.min(n2,rem)-1,maxd=Math.min(32767,i2),ml=Math.min(258,rem);dif<=maxd&&--ch_1&&imod!=pimod;){if(dat[i2+l2]==dat[i2+l2-dif]){for(var nl=0;nl<ml&&dat[i2+nl]==dat[i2+nl-dif];++nl);if(nl>l2){if(l2=nl,d2=dif,nl>maxn)break;var mmd=Math.min(dif,nl-2),md=0;for(j2=0;j2<mmd;++j2){var ti=i2-dif+j2&32767,cd=ti-prev[ti]&32767;cd>md&&(md=cd,pimod=ti)}}}dif+=(imod=pimod)-(pimod=prev[imod])&32767}if(d2){syms[li++]=268435456|revfl[l2]<<18|revfd[d2];var lin=31&revfl[l2],din=31&revfd[d2];eb+=fleb[lin]+fdeb[din],++lf[257+lin],++df[din],wi=i2+l2,++lc_1}else syms[li++]=dat[i2],++lf[dat[i2]]}}for(i2=Math.max(i2,wi);i2<s2;++i2)syms[li++]=dat[i2],++lf[dat[i2]];pos=wblk(dat,w2,lst,syms,lf,df,eb,li,bs,i2-bs,pos),lst||(st2.r=7&pos|w2[pos/8|0]<<3,pos-=7,st2.h=head,st2.p=prev,st2.i=i2,st2.w=wi)}else{for(i2=st2.w||0;i2<s2+lst;i2+=65535){var e3=i2+65535;e3>=s2&&(w2[pos/8|0]=lst,e3=s2),pos=wfblk(w2,pos+1,dat.subarray(i2,e3))}st2.i=s2}return slc(o2,0,pre+shft(pos)+post)}(dat,null==opt.level?6:opt.level,null==opt.mem?st2.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(dat.length)))):20:12+opt.mem,pre,post,st2)},wbytes=function(d2,b2,v2){for(;v2;++b2)d2[b2]=v2,v2>>>=8};function zlibSync(data,opts){opts||(opts={});var a2=adler();a2.p(data);var d2=dopt(data,opts,opts.dictionary?6:2,4);return function(c2,o2){var lv=o2.level,fl2=0==lv?0:lv<6?1:9==lv?3:2;if(c2[0]=120,c2[1]=fl2<<6|(o2.dictionary&&32),c2[1]|=31-(c2[0]<<8|c2[1])%31,o2.dictionary){var h2=adler();h2.p(o2.dictionary),wbytes(c2,2,h2.d())}}(d2,opts),wbytes(d2,d2.length-4,a2.d()),d2}function unzlibSync(data,opts){return function(dat,st2,buf,dict){var sl=dat.length;if(!sl||st2.f&&!st2.l)return buf||new u8(0);var noBuf=!buf,resize=noBuf||2!=st2.i,noSt=st2.i;noBuf&&(buf=new u8(3*sl));var cbuf=function(l3){var bl=buf.length;if(l3>bl){var nbuf=new u8(Math.max(2*bl,l3));nbuf.set(buf),buf=nbuf}},final=st2.f||0,pos=st2.p||0,bt2=st2.b||0,lm=st2.l,dm=st2.d,lbt=st2.m,dbt=st2.n,tbts=8*sl;do{if(!lm){final=bits(dat,pos,1);var type=bits(dat,pos+1,3);if(pos+=3,!type){var l2=dat[(s2=shft(pos)+4)-4]|dat[s2-3]<<8,t3=s2+l2;if(t3>sl){noSt&&err(0);break}resize&&cbuf(bt2+l2),buf.set(dat.subarray(s2,t3),bt2),st2.b=bt2+=l2,st2.p=pos=8*t3,st2.f=final;continue}if(1==type)lm=flrm,dm=fdrm,lbt=9,dbt=5;else if(2==type){var hLit=bits(dat,pos,31)+257,hcLen=bits(dat,pos+10,15)+4,tl=hLit+bits(dat,pos+5,31)+1;pos+=14;for(var ldt=new u8(tl),clt=new u8(19),i2=0;i2<hcLen;++i2)clt[clim[i2]]=bits(dat,pos+3*i2,7);pos+=3*hcLen;var clb=max(clt),clbmsk=(1<<clb)-1,clm=hMap(clt,clb,1);for(i2=0;i2<tl;){var s2,r2=clm[bits(dat,pos,clbmsk)];if(pos+=15&r2,(s2=r2>>4)<16)ldt[i2++]=s2;else{var c2=0,n2=0;for(16==s2?(n2=3+bits(dat,pos,3),pos+=2,c2=ldt[i2-1]):17==s2?(n2=3+bits(dat,pos,7),pos+=3):18==s2&&(n2=11+bits(dat,pos,127),pos+=7);n2--;)ldt[i2++]=c2}}var lt2=ldt.subarray(0,hLit),dt2=ldt.subarray(hLit);lbt=max(lt2),dbt=max(dt2),lm=hMap(lt2,lbt,1),dm=hMap(dt2,dbt,1)}else err(1);if(pos>tbts){noSt&&err(0);break}}resize&&cbuf(bt2+131072);for(var lms=(1<<lbt)-1,dms=(1<<dbt)-1,lpos=pos;;lpos=pos){var sym=(c2=lm[bits16(dat,pos)&lms])>>4;if((pos+=15&c2)>tbts){noSt&&err(0);break}if(c2||err(2),sym<256)buf[bt2++]=sym;else{if(256==sym){lpos=pos,lm=null;break}var add2=sym-254;if(sym>264){var b2=fleb[i2=sym-257];add2=bits(dat,pos,(1<<b2)-1)+fl[i2],pos+=b2}var d2=dm[bits16(dat,pos)&dms],dsym=d2>>4;if(d2||err(3),pos+=15&d2,dt2=fd[dsym],dsym>3&&(b2=fdeb[dsym],dt2+=bits16(dat,pos)&(1<<b2)-1,pos+=b2),pos>tbts){noSt&&err(0);break}resize&&cbuf(bt2+131072);var end=bt2+add2;if(bt2<dt2){var shift=0-dt2,dend=Math.min(dt2,end);for(shift+bt2<0&&err(3);bt2<dend;++bt2)buf[bt2]=dict[shift+bt2]}for(;bt2<end;++bt2)buf[bt2]=buf[bt2-dt2]}}st2.l=lm,st2.p=lpos,st2.b=bt2,st2.f=final,lm&&(final=1,st2.m=lbt,st2.d=dm,st2.n=dbt)}while(!final);return bt2!=buf.length&&noBuf?slc(buf,0,bt2):buf.subarray(0,bt2)}(data.subarray(((8!=(15&(d2=data)[0])||d2[0]>>4>7||(d2[0]<<8|d2[1])%31)&&err(6,"invalid zlib data"),1==(d2[1]>>5&1)&&err(6,"invalid zlib data: "+(32&d2[1]?"need":"unexpected")+" dictionary"),2+(d2[1]>>3&4)),-4),{i:2},opts,opts);var d2}var td="undefined"!=typeof TextDecoder&&new TextDecoder;try{td.decode(et$1,{stream:!0})}catch(e3){}var n=function(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this}();function i(){n.console&&"function"==typeof n.console.log&&n.console.log.apply(n.console,arguments)}var a={log:i,warn:function(t3){n.console&&("function"==typeof n.console.warn?n.console.warn.apply(n.console,arguments):i.call(null,arguments))},error:function(t3){n.console&&("function"==typeof n.console.error?n.console.error.apply(n.console,arguments):i(t3))}};function o(t3,e3,r2){var n2=new XMLHttpRequest;n2.open("GET",t3),n2.responseType="blob",n2.onload=function(){l(n2.response,e3,r2)},n2.onerror=function(){a.error("could not download file")},n2.send()}function s(t3){var e3=new XMLHttpRequest;e3.open("HEAD",t3,!1);try{e3.send()}catch(t4){}return e3.status>=200&&e3.status<=299}function c(t3){try{t3.dispatchEvent(new MouseEvent("click"))}catch(r2){var e3=document.createEvent("MouseEvents");e3.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t3.dispatchEvent(e3)}}var u$1,h,l=n.saveAs||("object"!==("undefined"==typeof window?"undefined":_typeof$4(window))||window!==n?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(t3,e3,r2){var i2=n.URL||n.webkitURL,a2=document.createElement("a");e3=e3||t3.name||"download",a2.download=e3,a2.rel="noopener","string"==typeof t3?(a2.href=t3,a2.origin!==location.origin?s(a2.href)?o(t3,e3,r2):c(a2,a2.target="_blank"):c(a2)):(a2.href=i2.createObjectURL(t3),setTimeout(function(){i2.revokeObjectURL(a2.href)},4e4),setTimeout(function(){c(a2)},0))}:"msSaveOrOpenBlob"in navigator?function(e3,r2,n2){if(r2=r2||e3.name||"download","string"==typeof e3)if(s(e3))o(e3,r2,n2);else{var i2=document.createElement("a");i2.href=e3,i2.target="_blank",setTimeout(function(){c(i2)})}else navigator.msSaveOrOpenBlob((e4=e3,void 0===(r3=n2)?r3={autoBom:!1}:"object"!==_typeof$4(r3)&&(a.warn("Deprecated: Expected third argument to be a object"),r3={autoBom:!r3}),r3.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e4.type)?new Blob([String.fromCharCode(65279),e4],{type:e4.type}):e4),r2);var e4,r3}:function(e3,r2,i2,a2){if((a2=a2||open("","_blank"))&&(a2.document.title=a2.document.body.innerText="downloading..."),"string"==typeof e3)return o(e3,r2,i2);var s2="application/octet-stream"===e3.type,c2=/constructor/i.test(n.HTMLElement)||n.safari,u2=/CriOS\/[\d]+/.test(navigator.userAgent);if((u2||s2&&c2)&&"object"===("undefined"==typeof FileReader?"undefined":_typeof$4(FileReader))){var h2=new FileReader;h2.onloadend=function(){var t3=h2.result;t3=u2?t3:t3.replace(/^data:[^;]*;/,"data:attachment/file;"),a2?a2.location.href=t3:location=t3,a2=null},h2.readAsDataURL(e3)}else{var l2=n.URL||n.webkitURL,f2=l2.createObjectURL(e3);a2?a2.location=f2:location.href=f2,a2=null,setTimeout(function(){l2.revokeObjectURL(f2)},4e4)}});function f(t3){var e3;t3=t3||"",this.ok=!1,"#"==t3.charAt(0)&&(t3=t3.substr(1,6)),t3={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t3=(t3=t3.replace(/ /g,"")).toLowerCase()]||t3;for(var r2=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t4){return[parseInt(t4[1]),parseInt(t4[2]),parseInt(t4[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t4){return[parseInt(t4[1],16),parseInt(t4[2],16),parseInt(t4[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t4){return[parseInt(t4[1]+t4[1],16),parseInt(t4[2]+t4[2],16),parseInt(t4[3]+t4[3],16)]}}],n2=0;n2<r2.length;n2++){var i2=r2[n2].re,a2=r2[n2].process,o2=i2.exec(t3);o2&&(e3=a2(o2),this.r=e3[0],this.g=e3[1],this.b=e3[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t4=this.r.toString(16),e4=this.g.toString(16),r3=this.b.toString(16);return 1==t4.length&&(t4="0"+t4),1==e4.length&&(e4="0"+e4),1==r3.length&&(r3="0"+r3),"#"+t4+e4+r3}}function d(t3,e3){var r2=t3[0],n2=t3[1],i2=t3[2],a2=t3[3];r2=g(r2,n2,i2,a2,e3[0],7,-680876936),a2=g(a2,r2,n2,i2,e3[1],12,-389564586),i2=g(i2,a2,r2,n2,e3[2],17,606105819),n2=g(n2,i2,a2,r2,e3[3],22,-1044525330),r2=g(r2,n2,i2,a2,e3[4],7,-176418897),a2=g(a2,r2,n2,i2,e3[5],12,1200080426),i2=g(i2,a2,r2,n2,e3[6],17,-1473231341),n2=g(n2,i2,a2,r2,e3[7],22,-45705983),r2=g(r2,n2,i2,a2,e3[8],7,1770035416),a2=g(a2,r2,n2,i2,e3[9],12,-1958414417),i2=g(i2,a2,r2,n2,e3[10],17,-42063),n2=g(n2,i2,a2,r2,e3[11],22,-1990404162),r2=g(r2,n2,i2,a2,e3[12],7,1804603682),a2=g(a2,r2,n2,i2,e3[13],12,-40341101),i2=g(i2,a2,r2,n2,e3[14],17,-1502002290),r2=m$1(r2,n2=g(n2,i2,a2,r2,e3[15],22,1236535329),i2,a2,e3[1],5,-165796510),a2=m$1(a2,r2,n2,i2,e3[6],9,-1069501632),i2=m$1(i2,a2,r2,n2,e3[11],14,643717713),n2=m$1(n2,i2,a2,r2,e3[0],20,-373897302),r2=m$1(r2,n2,i2,a2,e3[5],5,-701558691),a2=m$1(a2,r2,n2,i2,e3[10],9,38016083),i2=m$1(i2,a2,r2,n2,e3[15],14,-660478335),n2=m$1(n2,i2,a2,r2,e3[4],20,-405537848),r2=m$1(r2,n2,i2,a2,e3[9],5,568446438),a2=m$1(a2,r2,n2,i2,e3[14],9,-1019803690),i2=m$1(i2,a2,r2,n2,e3[3],14,-187363961),n2=m$1(n2,i2,a2,r2,e3[8],20,1163531501),r2=m$1(r2,n2,i2,a2,e3[13],5,-1444681467),a2=m$1(a2,r2,n2,i2,e3[2],9,-51403784),i2=m$1(i2,a2,r2,n2,e3[7],14,1735328473),r2=v(r2,n2=m$1(n2,i2,a2,r2,e3[12],20,-1926607734),i2,a2,e3[5],4,-378558),a2=v(a2,r2,n2,i2,e3[8],11,-2022574463),i2=v(i2,a2,r2,n2,e3[11],16,1839030562),n2=v(n2,i2,a2,r2,e3[14],23,-35309556),r2=v(r2,n2,i2,a2,e3[1],4,-1530992060),a2=v(a2,r2,n2,i2,e3[4],11,1272893353),i2=v(i2,a2,r2,n2,e3[7],16,-155497632),n2=v(n2,i2,a2,r2,e3[10],23,-1094730640),r2=v(r2,n2,i2,a2,e3[13],4,681279174),a2=v(a2,r2,n2,i2,e3[0],11,-358537222),i2=v(i2,a2,r2,n2,e3[3],16,-722521979),n2=v(n2,i2,a2,r2,e3[6],23,76029189),r2=v(r2,n2,i2,a2,e3[9],4,-640364487),a2=v(a2,r2,n2,i2,e3[12],11,-421815835),i2=v(i2,a2,r2,n2,e3[15],16,530742520),r2=b(r2,n2=v(n2,i2,a2,r2,e3[2],23,-995338651),i2,a2,e3[0],6,-198630844),a2=b(a2,r2,n2,i2,e3[7],10,1126891415),i2=b(i2,a2,r2,n2,e3[14],15,-1416354905),n2=b(n2,i2,a2,r2,e3[5],21,-57434055),r2=b(r2,n2,i2,a2,e3[12],6,1700485571),a2=b(a2,r2,n2,i2,e3[3],10,-1894986606),i2=b(i2,a2,r2,n2,e3[10],15,-1051523),n2=b(n2,i2,a2,r2,e3[1],21,-2054922799),r2=b(r2,n2,i2,a2,e3[8],6,1873313359),a2=b(a2,r2,n2,i2,e3[15],10,-30611744),i2=b(i2,a2,r2,n2,e3[6],15,-1560198380),n2=b(n2,i2,a2,r2,e3[13],21,1309151649),r2=b(r2,n2,i2,a2,e3[4],6,-145523070),a2=b(a2,r2,n2,i2,e3[11],10,-1120210379),i2=b(i2,a2,r2,n2,e3[2],15,718787259),n2=b(n2,i2,a2,r2,e3[9],21,-343485551),t3[0]=_(r2,t3[0]),t3[1]=_(n2,t3[1]),t3[2]=_(i2,t3[2]),t3[3]=_(a2,t3[3])}function p$1(t3,e3,r2,n2,i2,a2){return e3=_(_(e3,t3),_(n2,a2)),_(e3<<i2|e3>>>32-i2,r2)}function g(t3,e3,r2,n2,i2,a2,o2){return p$1(e3&r2|~e3&n2,t3,e3,i2,a2,o2)}function m$1(t3,e3,r2,n2,i2,a2,o2){return p$1(e3&n2|r2&~n2,t3,e3,i2,a2,o2)}function v(t3,e3,r2,n2,i2,a2,o2){return p$1(e3^r2^n2,t3,e3,i2,a2,o2)}function b(t3,e3,r2,n2,i2,a2,o2){return p$1(r2^(e3|~n2),t3,e3,i2,a2,o2)}function y(t3){var e3,r2=t3.length,n2=[1732584193,-271733879,-1732584194,271733878];for(e3=64;e3<=t3.length;e3+=64)d(n2,w(t3.substring(e3-64,e3)));t3=t3.substring(e3-64);var i2=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e3=0;e3<t3.length;e3++)i2[e3>>2]|=t3.charCodeAt(e3)<<(e3%4<<3);if(i2[e3>>2]|=128<<(e3%4<<3),e3>55)for(d(n2,i2),e3=0;e3<16;e3++)i2[e3]=0;return i2[14]=8*r2,d(n2,i2),n2}function w(t3){var e3,r2=[];for(e3=0;e3<64;e3+=4)r2[e3>>2]=t3.charCodeAt(e3)+(t3.charCodeAt(e3+1)<<8)+(t3.charCodeAt(e3+2)<<16)+(t3.charCodeAt(e3+3)<<24);return r2}u$1=n.atob.bind(n),h=n.btoa.bind(n);var N$1="0123456789abcdef".split("");function L$1(t3){for(var e3="",r2=0;r2<4;r2++)e3+=N$1[t3>>8*r2+4&15]+N$1[t3>>8*r2&15];return e3}function A(t3){return String.fromCharCode(255&t3,(65280&t3)>>8,(16711680&t3)>>16,(4278190080&t3)>>24)}function x(t3){return y(t3).map(A).join("")}var S="5d41402abc4b2a76b9719d911017c592"!=function(t3){for(var e3=0;e3<t3.length;e3++)t3[e3]=L$1(t3[e3]);return t3.join("")}(y("hello"));function _(t3,e3){if(S){var r2=(65535&t3)+(65535&e3);return(t3>>16)+(e3>>16)+(r2>>16)<<16|65535&r2}return t3+e3&4294967295}function P$1(t3,e3){var r2,n2,i2,a2;if(t3!==r2){for(var o2=(i2=t3,a2=1+(256/t3.length|0),new Array(a2+1).join(i2)),s2=[],c2=0;c2<256;c2++)s2[c2]=c2;var u2=0;for(c2=0;c2<256;c2++){var h2=s2[c2];u2=(u2+h2+o2.charCodeAt(c2))%256,s2[c2]=s2[u2],s2[u2]=h2}r2=t3,n2=s2}else s2=n2;var l2=e3.length,f2=0,d2=0,p2="";for(c2=0;c2<l2;c2++)d2=(d2+(h2=s2[f2=(f2+1)%256]))%256,s2[f2]=s2[d2],s2[d2]=h2,o2=s2[(s2[f2]+s2[d2])%256],p2+=String.fromCharCode(e3.charCodeAt(c2)^o2);return p2}var k$2={print:4,modify:8,copy:16,"annot-forms":32};function I(t3,e3,r2,n2){this.v=1,this.r=2;var i2=192;t3.forEach(function(t4){if(void 0!==k$2.perm)throw new Error("Invalid permission: "+t4);i2+=k$2[t4]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a2=(e3+this.padding).substr(0,32),o2=(r2+this.padding).substr(0,32);this.O=this.processOwnerPassword(a2,o2),this.P=-(1+(255^i2)),this.encryptionKey=x(a2+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n2)).substr(0,5),this.U=P$1(this.encryptionKey,this.padding)}function F(t3){if(/[^\u0000-\u00ff]/.test(t3))throw new Error("Invalid PDF Name Object: "+t3+", Only accept ASCII characters.");for(var e3="",r2=t3.length,n2=0;n2<r2;n2++){var i2=t3.charCodeAt(n2);e3+=i2<33||35===i2||37===i2||40===i2||41===i2||47===i2||60===i2||62===i2||91===i2||93===i2||123===i2||125===i2||i2>126?"#"+("0"+i2.toString(16)).slice(-2):t3[n2]}return e3}function C(e3){if("object"!==_typeof$4(e3))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r2={};this.subscribe=function(t3,e4,n2){if(n2=n2||!1,"string"!=typeof t3||"function"!=typeof e4||"boolean"!=typeof n2)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r2.hasOwnProperty(t3)||(r2[t3]={});var i2=Math.random().toString(35);return r2[t3][i2]=[e4,!!n2],i2},this.unsubscribe=function(t3){for(var e4 in r2)if(r2[e4][t3])return delete r2[e4][t3],0===Object.keys(r2[e4]).length&&delete r2[e4],!0;return!1},this.publish=function(t3){if(r2.hasOwnProperty(t3)){var i2=Array.prototype.slice.call(arguments,1),o2=[];for(var s2 in r2[t3]){var c2=r2[t3][s2];try{c2[0].apply(e3,i2)}catch(t4){n.console&&a.error("jsPDF PubSub Error",t4.message,t4)}c2[1]&&o2.push(s2)}o2.length&&o2.forEach(this.unsubscribe)}},this.getTopics=function(){return r2}}function j(t3){if(!(this instanceof j))return new j(t3);var e3="opacity,stroke-opacity".split(",");for(var r2 in t3)t3.hasOwnProperty(r2)&&e3.indexOf(r2)>=0&&(this[r2]=t3[r2]);this.id="",this.objectNumber=-1}function O(t3,e3){this.gState=t3,this.matrix=e3,this.id="",this.objectNumber=-1}function B$2(t3,e3,r2,n2,i2){if(!(this instanceof B$2))return new B$2(t3,e3,r2,n2,i2);this.type="axial"===t3?2:3,this.coords=e3,this.colors=r2,O.call(this,n2,i2)}function M(t3,e3,r2,n2,i2){if(!(this instanceof M))return new M(t3,e3,r2,n2,i2);this.boundingBox=t3,this.xStep=e3,this.yStep=r2,this.stream="",this.cloneIndex=0,O.call(this,n2,i2)}function E(e3){var r2,i2="string"==typeof arguments[0]?arguments[0]:"p",o2=arguments[1],s2=arguments[2],c2=arguments[3],u2=[],d2=1,p2=16,g2="S",m2=null;"object"===_typeof$4(e3=e3||{})&&(i2=e3.orientation,o2=e3.unit||o2,s2=e3.format||s2,c2=e3.compress||e3.compressPdf||c2,null!==(m2=e3.encryption||null)&&(m2.userPassword=m2.userPassword||"",m2.ownerPassword=m2.ownerPassword||"",m2.userPermissions=m2.userPermissions||[]),d2="number"==typeof e3.userUnit?Math.abs(e3.userUnit):1,void 0!==e3.precision&&(r2=e3.precision),void 0!==e3.floatPrecision&&(p2=e3.floatPrecision),g2=e3.defaultPathOperation||"S"),u2=e3.filters||(!0===c2?["FlateEncode"]:u2),o2=o2||"mm",i2=(""+(i2||"P")).toLowerCase();var v2=e3.putOnlyUsedFonts||!1,b2={},y2={internal:{},__private__:{}};y2.__private__.PubSub=C;var w2="1.3",N2=y2.__private__.getPdfVersion=function(){return w2};y2.__private__.setPdfVersion=function(t3){w2=t3};var L2={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y2.__private__.getPageFormats=function(){return L2};var A2=y2.__private__.getPageFormat=function(t3){return L2[t3]};s2=s2||"a4";var x2_COMPAT="compat",x2_ADVANCED="advanced",S2=x2_COMPAT;function _2(){this.saveGraphicsState(),lt2(new Vt2(_t2,0,0,-_t2,0,Rr()*_t2).toString()+" cm"),this.setFontSize(this.getFontSize()/_t2),g2="n",S2=x2_ADVANCED}function P2(){this.restoreGraphicsState(),g2="S",S2=x2_COMPAT}var k2=y2.__private__.combineFontStyleAndFontWeight=function(t3,e4){if("bold"==t3&&"normal"==e4||"bold"==t3&&400==e4||"normal"==t3&&"italic"==e4||"bold"==t3&&"italic"==e4)throw new Error("Invalid Combination of fontweight and fontstyle");return e4&&(t3=400==e4||"normal"===e4?"italic"===t3?"italic":"normal":700!=e4&&"bold"!==e4||"normal"!==t3?(700==e4?"bold":e4)+""+t3:"bold"),t3};y2.advancedAPI=function(t3){var e4=S2===x2_COMPAT;return e4&&_2.call(this),"function"!=typeof t3||(t3(this),e4&&P2.call(this)),this},y2.compatAPI=function(t3){var e4=S2===x2_ADVANCED;return e4&&P2.call(this),"function"!=typeof t3||(t3(this),e4&&_2.call(this)),this},y2.isAdvancedAPI=function(){return S2===x2_ADVANCED};var O2,q2=function(t3){if(S2!==x2_ADVANCED)throw new Error(t3+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D2=y2.roundToPrecision=y2.__private__.roundToPrecision=function(t3,e4){var n2=r2||e4;if(isNaN(t3)||isNaN(n2))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return t3.toFixed(n2).replace(/0+$/,"")};O2=y2.hpf=y2.__private__.hpf="number"==typeof p2?function(t3){if(isNaN(t3))throw new Error("Invalid argument passed to jsPDF.hpf");return D2(t3,p2)}:"smart"===p2?function(t3){if(isNaN(t3))throw new Error("Invalid argument passed to jsPDF.hpf");return D2(t3,t3>-1&&t3<1?16:5)}:function(t3){if(isNaN(t3))throw new Error("Invalid argument passed to jsPDF.hpf");return D2(t3,16)};var R2=y2.f2=y2.__private__.f2=function(t3){if(isNaN(t3))throw new Error("Invalid argument passed to jsPDF.f2");return D2(t3,2)},T2=y2.__private__.f3=function(t3){if(isNaN(t3))throw new Error("Invalid argument passed to jsPDF.f3");return D2(t3,3)},U2=y2.scale=y2.__private__.scale=function(t3){if(isNaN(t3))throw new Error("Invalid argument passed to jsPDF.scale");return S2===x2_COMPAT?t3*_t2:S2===x2_ADVANCED?t3:void 0},H2=function(t3){return U2(function(t3){return S2===x2_COMPAT?Rr()-t3:S2===x2_ADVANCED?t3:void 0}(t3))};y2.__private__.setPrecision=y2.setPrecision=function(t3){"number"==typeof parseInt(t3,10)&&(r2=parseInt(t3,10))};var W2,V2="00000000000000000000000000000000",G2=y2.__private__.getFileId=function(){return V2},Y2=y2.__private__.setFileId=function(t3){return V2=void 0!==t3&&/^[a-fA-F0-9]{32}$/.test(t3)?t3.toUpperCase():V2.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==m2&&(Ye=new I(m2.userPermissions,m2.userPassword,m2.ownerPassword,V2)),V2};y2.setFileId=function(t3){return Y2(t3),this},y2.getFileId=function(){return G2()};var J2=y2.__private__.convertDateToPDFDate=function(t3){var e4=t3.getTimezoneOffset(),r3=e4<0?"+":"-",n2=Math.floor(Math.abs(e4/60)),i3=Math.abs(e4%60),a2=[r3,Q2(n2),"'",Q2(i3),"'"].join("");return["D:",t3.getFullYear(),Q2(t3.getMonth()+1),Q2(t3.getDate()),Q2(t3.getHours()),Q2(t3.getMinutes()),Q2(t3.getSeconds()),a2].join("")},X2=y2.__private__.convertPDFDateToDate=function(t3){var e4=parseInt(t3.substr(2,4),10),r3=parseInt(t3.substr(6,2),10)-1,n2=parseInt(t3.substr(8,2),10),i3=parseInt(t3.substr(10,2),10),a2=parseInt(t3.substr(12,2),10),o3=parseInt(t3.substr(14,2),10);return new Date(e4,r3,n2,i3,a2,o3,0)},K2=y2.__private__.setCreationDate=function(t3){var e4;if(void 0===t3&&(t3=new Date),t3 instanceof Date)e4=J2(t3);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(t3))throw new Error("Invalid argument passed to jsPDF.setCreationDate");e4=t3}return W2=e4},Z2=y2.__private__.getCreationDate=function(t3){var e4=W2;return"jsDate"===t3&&(e4=X2(W2)),e4};y2.setCreationDate=function(t3){return K2(t3),this},y2.getCreationDate=function(t3){return Z2(t3)};var $2,Q2=y2.__private__.padd2=function(t3){return("0"+parseInt(t3)).slice(-2)},tt2=y2.__private__.padd2Hex=function(t3){return("00"+(t3=t3.toString())).substr(t3.length)},et2=0,rt2=[],nt2=[],it2=0,at2=[],ot2=[],st2=!1,ct2=nt2;y2.__private__.setCustomOutputDestination=function(t3){st2=!0,ct2=t3};var ht2=function(t3){st2||(ct2=t3)};y2.__private__.resetCustomOutputDestination=function(){st2=!1,ct2=nt2};var lt2=y2.__private__.out=function(t3){return t3=t3.toString(),it2+=t3.length+1,ct2.push(t3),ct2},ft2=y2.__private__.write=function(t3){return lt2(1===arguments.length?t3.toString():Array.prototype.join.call(arguments," "))},dt2=y2.__private__.getArrayBuffer=function(t3){for(var e4=t3.length,r3=new ArrayBuffer(e4),n2=new Uint8Array(r3);e4--;)n2[e4]=t3.charCodeAt(e4);return r3},pt2=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y2.__private__.getStandardFonts=function(){return pt2};var gt2=e3.fontSize||16;y2.__private__.setFontSize=y2.setFontSize=function(t3){return gt2=S2===x2_ADVANCED?t3/_t2:t3,this};var mt2,vt2=y2.__private__.getFontSize=y2.getFontSize=function(){return S2===x2_COMPAT?gt2:gt2*_t2},bt2=e3.R2L||!1;y2.__private__.setR2L=y2.setR2L=function(t3){return bt2=t3,this},y2.__private__.getR2L=y2.getR2L=function(){return bt2};var yt3,wt2=y2.__private__.setZoomMode=function(t3){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(t3))mt2=t3;else if(isNaN(t3)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(t3))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+t3+'" is not recognized.');mt2=t3}else mt2=parseInt(t3,10)};y2.__private__.getZoomMode=function(){return mt2};var Nt2,Lt2=y2.__private__.setPageMode=function(t3){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(t3))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+t3+'" is not recognized.');yt3=t3};y2.__private__.getPageMode=function(){return yt3};var At2=y2.__private__.setLayoutMode=function(t3){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(t3))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+t3+'" is not recognized.');Nt2=t3};y2.__private__.getLayoutMode=function(){return Nt2},y2.__private__.setDisplayMode=y2.setDisplayMode=function(t3,e4,r3){return wt2(t3),At2(e4),Lt2(r3),this};var xt2={title:"",subject:"",author:"",keywords:"",creator:""};y2.__private__.getDocumentProperty=function(t3){if(-1===Object.keys(xt2).indexOf(t3))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt2[t3]},y2.__private__.getDocumentProperties=function(){return xt2},y2.__private__.setDocumentProperties=y2.setProperties=y2.setDocumentProperties=function(t3){for(var e4 in xt2)xt2.hasOwnProperty(e4)&&t3[e4]&&(xt2[e4]=t3[e4]);return this},y2.__private__.setDocumentProperty=function(t3,e4){if(-1===Object.keys(xt2).indexOf(t3))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt2[t3]=e4};var St,_t2,Pt2,kt2,It2,Ft2={},Ct2={},jt2=[],Ot2={},Bt2={},Mt2={},Et2={},qt2=null,Dt2=0,Rt2=[],Tt2=new C(y2),Ut2=e3.hotfixes||[],zt2={},Ht2={},Wt2=[],Vt2=function t3(e4,r3,n2,i3,a2,o3){if(!(this instanceof t3))return new t3(e4,r3,n2,i3,a2,o3);isNaN(e4)&&(e4=1),isNaN(r3)&&(r3=0),isNaN(n2)&&(n2=0),isNaN(i3)&&(i3=1),isNaN(a2)&&(a2=0),isNaN(o3)&&(o3=0),this._matrix=[e4,r3,n2,i3,a2,o3]};Object.defineProperty(Vt2.prototype,"sx",{get:function(){return this._matrix[0]},set:function(t3){this._matrix[0]=t3}}),Object.defineProperty(Vt2.prototype,"shy",{get:function(){return this._matrix[1]},set:function(t3){this._matrix[1]=t3}}),Object.defineProperty(Vt2.prototype,"shx",{get:function(){return this._matrix[2]},set:function(t3){this._matrix[2]=t3}}),Object.defineProperty(Vt2.prototype,"sy",{get:function(){return this._matrix[3]},set:function(t3){this._matrix[3]=t3}}),Object.defineProperty(Vt2.prototype,"tx",{get:function(){return this._matrix[4]},set:function(t3){this._matrix[4]=t3}}),Object.defineProperty(Vt2.prototype,"ty",{get:function(){return this._matrix[5]},set:function(t3){this._matrix[5]=t3}}),Object.defineProperty(Vt2.prototype,"a",{get:function(){return this._matrix[0]},set:function(t3){this._matrix[0]=t3}}),Object.defineProperty(Vt2.prototype,"b",{get:function(){return this._matrix[1]},set:function(t3){this._matrix[1]=t3}}),Object.defineProperty(Vt2.prototype,"c",{get:function(){return this._matrix[2]},set:function(t3){this._matrix[2]=t3}}),Object.defineProperty(Vt2.prototype,"d",{get:function(){return this._matrix[3]},set:function(t3){this._matrix[3]=t3}}),Object.defineProperty(Vt2.prototype,"e",{get:function(){return this._matrix[4]},set:function(t3){this._matrix[4]=t3}}),Object.defineProperty(Vt2.prototype,"f",{get:function(){return this._matrix[5]},set:function(t3){this._matrix[5]=t3}}),Object.defineProperty(Vt2.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Vt2.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Vt2.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Vt2.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Vt2.prototype.join=function(t3){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O2).join(t3)},Vt2.prototype.multiply=function(t3){var e4=t3.sx*this.sx+t3.shy*this.shx,r3=t3.sx*this.shy+t3.shy*this.sy,n2=t3.shx*this.sx+t3.sy*this.shx,i3=t3.shx*this.shy+t3.sy*this.sy,a2=t3.tx*this.sx+t3.ty*this.shx+this.tx,o3=t3.tx*this.shy+t3.ty*this.sy+this.ty;return new Vt2(e4,r3,n2,i3,a2,o3)},Vt2.prototype.decompose=function(){var t3=this.sx,e4=this.shy,r3=this.shx,n2=this.sy,i3=this.tx,a2=this.ty,o3=Math.sqrt(t3*t3+e4*e4),s3=(t3/=o3)*r3+(e4/=o3)*n2;r3-=t3*s3,n2-=e4*s3;var c3=Math.sqrt(r3*r3+n2*n2);return s3/=c3,t3*(n2/=c3)<e4*(r3/=c3)&&(t3=-t3,e4=-e4,s3=-s3,o3=-o3),{scale:new Vt2(o3,0,0,c3,0,0),translate:new Vt2(1,0,0,1,i3,a2),rotate:new Vt2(t3,e4,-e4,t3,0,0),skew:new Vt2(1,0,s3,1,0,0)}},Vt2.prototype.toString=function(t3){return this.join(" ")},Vt2.prototype.inversed=function(){var t3=this.sx,e4=this.shy,r3=this.shx,n2=this.sy,i3=this.tx,a2=this.ty,o3=1/(t3*n2-e4*r3),s3=n2*o3,c3=-e4*o3,u3=-r3*o3,h2=t3*o3;return new Vt2(s3,c3,u3,h2,-s3*i3-u3*a2,-c3*i3-h2*a2)},Vt2.prototype.applyToPoint=function(t3){var e4=t3.x*this.sx+t3.y*this.shx+this.tx,r3=t3.x*this.shy+t3.y*this.sy+this.ty;return new Cr(e4,r3)},Vt2.prototype.applyToRectangle=function(t3){var e4=this.applyToPoint(t3),r3=this.applyToPoint(new Cr(t3.x+t3.w,t3.y+t3.h));return new jr(e4.x,e4.y,r3.x-e4.x,r3.y-e4.y)},Vt2.prototype.clone=function(){var t3=this.sx,e4=this.shy,r3=this.shx,n2=this.sy,i3=this.tx,a2=this.ty;return new Vt2(t3,e4,r3,n2,i3,a2)},y2.Matrix=Vt2;var Gt2=y2.matrixMult=function(t3,e4){return e4.multiply(t3)},Yt2=new Vt2(1,0,0,1,0,0);y2.unitMatrix=y2.identityMatrix=Yt2;var Jt2=function(t3,e4){if(!Bt2[t3]){var r3=(e4 instanceof B$2?"Sh":"P")+(Object.keys(Ot2).length+1).toString(10);e4.id=r3,Bt2[t3]=r3,Ot2[r3]=e4,Tt2.publish("addPattern",e4)}};y2.ShadingPattern=B$2,y2.TilingPattern=M,y2.addShadingPattern=function(t3,e4){return q2("addShadingPattern()"),Jt2(t3,e4),this},y2.beginTilingPattern=function(t3){q2("beginTilingPattern()"),Br(t3.boundingBox[0],t3.boundingBox[1],t3.boundingBox[2]-t3.boundingBox[0],t3.boundingBox[3]-t3.boundingBox[1],t3.matrix)},y2.endTilingPattern=function(t3,e4){q2("endTilingPattern()"),e4.stream=ot2[$2].join("\n"),Jt2(t3,e4),Tt2.publish("endTilingPattern",e4),Wt2.pop().restore()};var t3,Xt2=y2.__private__.newObject=function(){var t3=Kt2();return Zt2(t3,!0),t3},Kt2=y2.__private__.newObjectDeferred=function(){return et2++,rt2[et2]=function(){return it2},et2},Zt2=function(t3,e4){return e4="boolean"==typeof e4&&e4,rt2[t3]=it2,e4&&lt2(t3+" 0 obj"),t3},$t2=y2.__private__.newAdditionalObject=function(){var t3={objId:Kt2(),content:""};return at2.push(t3),t3},Qt2=Kt2(),te2=Kt2(),ee2=y2.__private__.decodeColorString=function(t3){var e4=t3.split(" ");if(2!==e4.length||"g"!==e4[1]&&"G"!==e4[1])5!==e4.length||"k"!==e4[4]&&"K"!==e4[4]||(e4=[(1-e4[0])*(1-e4[3]),(1-e4[1])*(1-e4[3]),(1-e4[2])*(1-e4[3]),"r"]);else{var r3=parseFloat(e4[0]);e4=[r3,r3,r3,"r"]}for(var n2="#",i3=0;i3<3;i3++)n2+=("0"+Math.floor(255*parseFloat(e4[i3])).toString(16)).slice(-2);return n2},re2=y2.__private__.encodeColorString=function(e4){var r3;"string"==typeof e4&&(e4={ch1:e4});var n2=e4.ch1,i3=e4.ch2,a2=e4.ch3,o3=e4.ch4,s3="draw"===e4.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n2&&"#"!==n2.charAt(0)){var c3=new f(n2);if(c3.ok)n2=c3.toHex();else if(!/^\d*\.?\d*$/.test(n2))throw new Error('Invalid color "'+n2+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n2&&/^#[0-9A-Fa-f]{3}$/.test(n2)&&(n2="#"+n2[1]+n2[1]+n2[2]+n2[2]+n2[3]+n2[3]),"string"==typeof n2&&/^#[0-9A-Fa-f]{6}$/.test(n2)){var u3=parseInt(n2.substr(1),16);n2=u3>>16&255,i3=u3>>8&255,a2=255&u3}if(void 0===i3||void 0===o3&&n2===i3&&i3===a2)if("string"==typeof n2)r3=n2+" "+s3[0];else if(2===e4.precision)r3=R2(n2/255)+" "+s3[0];else r3=T2(n2/255)+" "+s3[0];else if(void 0===o3||"object"===_typeof$4(o3)){if(o3&&!isNaN(o3.a)&&0===o3.a)return["1.","1.","1.",s3[1]].join(" ");if("string"==typeof n2)r3=[n2,i3,a2,s3[1]].join(" ");else if(2===e4.precision)r3=[R2(n2/255),R2(i3/255),R2(a2/255),s3[1]].join(" ");else r3=[T2(n2/255),T2(i3/255),T2(a2/255),s3[1]].join(" ")}else if("string"==typeof n2)r3=[n2,i3,a2,o3,s3[2]].join(" ");else if(2===e4.precision)r3=[R2(n2),R2(i3),R2(a2),R2(o3),s3[2]].join(" ");else r3=[T2(n2),T2(i3),T2(a2),T2(o3),s3[2]].join(" ");return r3},ne2=y2.__private__.getFilters=function(){return u2},ie2=y2.__private__.putStream=function(t3){var e4=(t3=t3||{}).data||"",r3=t3.filters||ne2(),n2=t3.alreadyAppliedFilters||[],i3=t3.addLength1||!1,a2=e4.length,o3=t3.objectId,s3=function(t4){return t4};if(null!==m2&&void 0===o3)throw new Error("ObjectId must be passed to putStream for file encryption");null!==m2&&(s3=Ye.encryptor(o3,0));var c3={};!0===r3&&(r3=["FlateEncode"]);var u3=t3.additionalKeyValues||[],h2=(c3=void 0!==E.API.processDataByFilters?E.API.processDataByFilters(e4,r3):{data:e4,reverseChain:[]}).reverseChain+(Array.isArray(n2)?n2.join(" "):n2.toString());if(0!==c3.data.length&&(u3.push({key:"Length",value:c3.data.length}),!0===i3&&u3.push({key:"Length1",value:a2})),0!=h2.length)if(h2.split("/").length-1==1)u3.push({key:"Filter",value:h2});else{u3.push({key:"Filter",value:"["+h2+"]"});for(var l2=0;l2<u3.length;l2+=1)if("DecodeParms"===u3[l2].key){for(var f2=[],d3=0;d3<c3.reverseChain.split("/").length-1;d3+=1)f2.push("null");f2.push(u3[l2].value),u3[l2].value="["+f2.join(" ")+"]"}}lt2("<<");for(var p3=0;p3<u3.length;p3++)lt2("/"+u3[p3].key+" "+u3[p3].value);lt2(">>"),0!==c3.data.length&&(lt2("stream"),lt2(s3(c3.data)),lt2("endstream"))},ae2=y2.__private__.putPage=function(t3){var e4=t3.number,r3=t3.data,n2=t3.objId,i3=t3.contentsObjId;Zt2(n2,!0),lt2("<</Type /Page"),lt2("/Parent "+t3.rootDictionaryObjId+" 0 R"),lt2("/Resources "+t3.resourceDictionaryObjId+" 0 R"),lt2("/MediaBox ["+parseFloat(O2(t3.mediaBox.bottomLeftX))+" "+parseFloat(O2(t3.mediaBox.bottomLeftY))+" "+O2(t3.mediaBox.topRightX)+" "+O2(t3.mediaBox.topRightY)+"]"),null!==t3.cropBox&&lt2("/CropBox ["+O2(t3.cropBox.bottomLeftX)+" "+O2(t3.cropBox.bottomLeftY)+" "+O2(t3.cropBox.topRightX)+" "+O2(t3.cropBox.topRightY)+"]"),null!==t3.bleedBox&&lt2("/BleedBox ["+O2(t3.bleedBox.bottomLeftX)+" "+O2(t3.bleedBox.bottomLeftY)+" "+O2(t3.bleedBox.topRightX)+" "+O2(t3.bleedBox.topRightY)+"]"),null!==t3.trimBox&&lt2("/TrimBox ["+O2(t3.trimBox.bottomLeftX)+" "+O2(t3.trimBox.bottomLeftY)+" "+O2(t3.trimBox.topRightX)+" "+O2(t3.trimBox.topRightY)+"]"),null!==t3.artBox&&lt2("/ArtBox ["+O2(t3.artBox.bottomLeftX)+" "+O2(t3.artBox.bottomLeftY)+" "+O2(t3.artBox.topRightX)+" "+O2(t3.artBox.topRightY)+"]"),"number"==typeof t3.userUnit&&1!==t3.userUnit&&lt2("/UserUnit "+t3.userUnit),Tt2.publish("putPage",{objId:n2,pageContext:Rt2[e4],pageNumber:e4,page:r3}),lt2("/Contents "+i3+" 0 R"),lt2(">>"),lt2("endobj");var a2=r3.join("\n");return S2===x2_ADVANCED&&(a2+="\nQ"),Zt2(i3,!0),ie2({data:a2,filters:ne2(),objectId:i3}),lt2("endobj"),n2},oe2=y2.__private__.putPages=function(){var t3,e4,r3=[];for(t3=1;t3<=Dt2;t3++)Rt2[t3].objId=Kt2(),Rt2[t3].contentsObjId=Kt2();for(t3=1;t3<=Dt2;t3++)r3.push(ae2({number:t3,data:ot2[t3],objId:Rt2[t3].objId,contentsObjId:Rt2[t3].contentsObjId,mediaBox:Rt2[t3].mediaBox,cropBox:Rt2[t3].cropBox,bleedBox:Rt2[t3].bleedBox,trimBox:Rt2[t3].trimBox,artBox:Rt2[t3].artBox,userUnit:Rt2[t3].userUnit,rootDictionaryObjId:Qt2,resourceDictionaryObjId:te2}));Zt2(Qt2,!0),lt2("<</Type /Pages");var n2="/Kids [";for(e4=0;e4<Dt2;e4++)n2+=r3[e4]+" 0 R ";lt2(n2+"]"),lt2("/Count "+Dt2),lt2(">>"),lt2("endobj"),Tt2.publish("postPutPages")},se2=function(t3){Tt2.publish("putFont",{font:t3,out:lt2,newObject:Xt2,putStream:ie2}),!0!==t3.isAlreadyPutted&&(t3.objectNumber=Xt2(),lt2("<<"),lt2("/Type /Font"),lt2("/BaseFont /"+F(t3.postScriptName)),lt2("/Subtype /Type1"),"string"==typeof t3.encoding&&lt2("/Encoding /"+t3.encoding),lt2("/FirstChar 32"),lt2("/LastChar 255"),lt2(">>"),lt2("endobj"))},ue2=function(t3){t3.objectNumber=Xt2();var e4=[];e4.push({key:"Type",value:"/XObject"}),e4.push({key:"Subtype",value:"/Form"}),e4.push({key:"BBox",value:"["+[O2(t3.x),O2(t3.y),O2(t3.x+t3.width),O2(t3.y+t3.height)].join(" ")+"]"}),e4.push({key:"Matrix",value:"["+t3.matrix.toString()+"]"});var r3=t3.pages[1].join("\n");ie2({data:r3,additionalKeyValues:e4,objectId:t3.objectNumber}),lt2("endobj")},fe2=function(t3,e4){e4||(e4=21);var r3=Xt2(),n2=function(t3,e4){var r3,n2=[],i3=1/(e4-1);for(r3=0;r3<1;r3+=i3)n2.push(r3);if(n2.push(1),0!=t3[0].offset){var a2={offset:0,color:t3[0].color};t3.unshift(a2)}if(1!=t3[t3.length-1].offset){var o3={offset:1,color:t3[t3.length-1].color};t3.push(o3)}for(var s3="",c3=0,u3=0;u3<n2.length;u3++){for(r3=n2[u3];r3>t3[c3+1].offset;)c3++;var h2=t3[c3].offset,l2=(r3-h2)/(t3[c3+1].offset-h2),f2=t3[c3].color,d3=t3[c3+1].color;s3+=tt2(Math.round((1-l2)*f2[0]+l2*d3[0]).toString(16))+tt2(Math.round((1-l2)*f2[1]+l2*d3[1]).toString(16))+tt2(Math.round((1-l2)*f2[2]+l2*d3[2]).toString(16))}return s3.trim()}(t3.colors,e4),i3=[];i3.push({key:"FunctionType",value:"0"}),i3.push({key:"Domain",value:"[0.0 1.0]"}),i3.push({key:"Size",value:"["+e4+"]"}),i3.push({key:"BitsPerSample",value:"8"}),i3.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),i3.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ie2({data:n2,additionalKeyValues:i3,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r3}),lt2("endobj"),t3.objectNumber=Xt2(),lt2("<< /ShadingType "+t3.type),lt2("/ColorSpace /DeviceRGB");var a2="/Coords ["+O2(parseFloat(t3.coords[0]))+" "+O2(parseFloat(t3.coords[1]))+" ";2===t3.type?a2+=O2(parseFloat(t3.coords[2]))+" "+O2(parseFloat(t3.coords[3])):a2+=O2(parseFloat(t3.coords[2]))+" "+O2(parseFloat(t3.coords[3]))+" "+O2(parseFloat(t3.coords[4]))+" "+O2(parseFloat(t3.coords[5])),lt2(a2+="]"),t3.matrix&&lt2("/Matrix ["+t3.matrix.toString()+"]"),lt2("/Function "+r3+" 0 R"),lt2("/Extend [true true]"),lt2(">>"),lt2("endobj")},de2=function(t3,e4){var r3=Kt2(),n2=Xt2();e4.push({resourcesOid:r3,objectOid:n2}),t3.objectNumber=n2;var i3=[];i3.push({key:"Type",value:"/Pattern"}),i3.push({key:"PatternType",value:"1"}),i3.push({key:"PaintType",value:"1"}),i3.push({key:"TilingType",value:"1"}),i3.push({key:"BBox",value:"["+t3.boundingBox.map(O2).join(" ")+"]"}),i3.push({key:"XStep",value:O2(t3.xStep)}),i3.push({key:"YStep",value:O2(t3.yStep)}),i3.push({key:"Resources",value:r3+" 0 R"}),t3.matrix&&i3.push({key:"Matrix",value:"["+t3.matrix.toString()+"]"}),ie2({data:t3.stream,additionalKeyValues:i3,objectId:t3.objectNumber}),lt2("endobj")},ge2=function(t3){for(var e4 in t3.objectNumber=Xt2(),lt2("<<"),t3)switch(e4){case"opacity":lt2("/ca "+R2(t3[e4]));break;case"stroke-opacity":lt2("/CA "+R2(t3[e4]))}lt2(">>"),lt2("endobj")},Ae=function(t3){Zt2(t3.resourcesOid,!0),lt2("<<"),lt2("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var t3 in lt2("/Font <<"),Ft2)Ft2.hasOwnProperty(t3)&&(!1===v2||!0===v2&&b2.hasOwnProperty(t3))&&lt2("/"+t3+" "+Ft2[t3].objectNumber+" 0 R");lt2(">>")}(),function(){if(Object.keys(Ot2).length>0){for(var t3 in lt2("/Shading <<"),Ot2)Ot2.hasOwnProperty(t3)&&Ot2[t3]instanceof B$2&&Ot2[t3].objectNumber>=0&&lt2("/"+t3+" "+Ot2[t3].objectNumber+" 0 R");Tt2.publish("putShadingPatternDict"),lt2(">>")}}(),function(t3){if(Object.keys(Ot2).length>0){for(var e4 in lt2("/Pattern <<"),Ot2)Ot2.hasOwnProperty(e4)&&Ot2[e4]instanceof y2.TilingPattern&&Ot2[e4].objectNumber>=0&&Ot2[e4].objectNumber<t3&&lt2("/"+e4+" "+Ot2[e4].objectNumber+" 0 R");Tt2.publish("putTilingPatternDict"),lt2(">>")}}(t3.objectOid),function(){if(Object.keys(Mt2).length>0){var t3;for(t3 in lt2("/ExtGState <<"),Mt2)Mt2.hasOwnProperty(t3)&&Mt2[t3].objectNumber>=0&&lt2("/"+t3+" "+Mt2[t3].objectNumber+" 0 R");Tt2.publish("putGStateDict"),lt2(">>")}}(),function(){for(var t3 in lt2("/XObject <<"),zt2)zt2.hasOwnProperty(t3)&&zt2[t3].objectNumber>=0&&lt2("/"+t3+" "+zt2[t3].objectNumber+" 0 R");Tt2.publish("putXobjectDict"),lt2(">>")}(),lt2(">>"),lt2("endobj")},xe2=function(){var t3=[];(function(){for(var t3 in Ft2)Ft2.hasOwnProperty(t3)&&(!1===v2||!0===v2&&b2.hasOwnProperty(t3))&&se2(Ft2[t3])})(),function(){var t3;for(t3 in Mt2)Mt2.hasOwnProperty(t3)&&ge2(Mt2[t3])}(),function(){for(var t3 in zt2)zt2.hasOwnProperty(t3)&&ue2(zt2[t3])}(),function(t3){var e4;for(e4 in Ot2)Ot2.hasOwnProperty(e4)&&(Ot2[e4]instanceof B$2?fe2(Ot2[e4]):Ot2[e4]instanceof M&&de2(Ot2[e4],t3))}(t3),Tt2.publish("putResources"),t3.forEach(Ae),Ae({resourcesOid:te2,objectOid:Number.MAX_SAFE_INTEGER}),Tt2.publish("postPutResources")},_e3=function(t3){Ct2[t3.fontName]=Ct2[t3.fontName]||{},Ct2[t3.fontName][t3.fontStyle]=t3.id},Pe2=function(t3,e4,r3,n2,i3){var a2={id:"F"+(Object.keys(Ft2).length+1).toString(10),postScriptName:t3,fontName:e4,fontStyle:r3,encoding:n2,isStandardFont:i3||!1,metadata:{}};return Tt2.publish("addFont",{font:a2,instance:this}),Ft2[a2.id]=a2,_e3(a2),a2.id},Ce2=y2.__private__.pdfEscape=y2.pdfEscape=function(t3,e4){return function(t3,e4){var r3,n2,i3,a2,o3,s3,c3,u3,h2;if(i3=(e4=e4||{}).sourceEncoding||"Unicode",o3=e4.outputEncoding,(e4.autoencode||o3)&&Ft2[St].metadata&&Ft2[St].metadata[i3]&&Ft2[St].metadata[i3].encoding&&(a2=Ft2[St].metadata[i3].encoding,!o3&&Ft2[St].encoding&&(o3=Ft2[St].encoding),!o3&&a2.codePages&&(o3=a2.codePages[0]),"string"==typeof o3&&(o3=a2[o3]),o3)){for(c3=!1,s3=[],r3=0,n2=t3.length;r3<n2;r3++)(u3=o3[t3.charCodeAt(r3)])?s3.push(String.fromCharCode(u3)):s3.push(t3[r3]),s3[r3].charCodeAt(0)>>8&&(c3=!0);t3=s3.join("")}for(r3=t3.length;void 0===c3&&0!==r3;)t3.charCodeAt(r3-1)>>8&&(c3=!0),r3--;if(!c3)return t3;for(s3=e4.noBOM?[]:[254,255],r3=0,n2=t3.length;r3<n2;r3++){if((h2=(u3=t3.charCodeAt(r3))>>8)>>8)throw new Error("Character at position "+r3+" of string '"+t3+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s3.push(h2),s3.push(u3-(h2<<8))}return String.fromCharCode.apply(void 0,s3)}(t3,e4).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},je=y2.__private__.beginPage=function(t3){ot2[++Dt2]=[],Rt2[Dt2]={objId:0,contentsObjId:0,userUnit:Number(d2),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(t3[0]),topRightY:Number(t3[1])}},Me2(Dt2),ht2(ot2[$2])},Oe=function(t3,e4){var r3,n2,o3;switch(i2=e4||i2,"string"==typeof t3&&(r3=A2(t3.toLowerCase()),Array.isArray(r3)&&(n2=r3[0],o3=r3[1])),Array.isArray(t3)&&(n2=t3[0]*_t2,o3=t3[1]*_t2),isNaN(n2)&&(n2=s2[0],o3=s2[1]),(n2>14400||o3>14400)&&(a.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),n2=Math.min(14400,n2),o3=Math.min(14400,o3)),s2=[n2,o3],i2.substr(0,1)){case"l":o3>n2&&(s2=[o3,n2]);break;case"p":n2>o3&&(s2=[o3,n2])}je(s2),pr(fr),lt2(Lr),0!==kr2&&lt2(kr2+" J"),0!==Ir&&lt2(Ir+" j"),Tt2.publish("addPage",{pageNumber:Dt2})},Be=function(t3){t3>0&&t3<=Dt2&&(ot2.splice(t3,1),Rt2.splice(t3,1),Dt2--,$2>Dt2&&($2=Dt2),this.setPage($2))},Me2=function(t3){t3>0&&t3<=Dt2&&($2=t3)},Ee2=y2.__private__.getNumberOfPages=y2.getNumberOfPages=function(){return ot2.length-1},qe=function(t3,e4,r3){var n2,i3=void 0;return r3=r3||{},t3=void 0!==t3?t3:Ft2[St].fontName,e4=void 0!==e4?e4:Ft2[St].fontStyle,n2=t3.toLowerCase(),void 0!==Ct2[n2]&&void 0!==Ct2[n2][e4]?i3=Ct2[n2][e4]:void 0!==Ct2[t3]&&void 0!==Ct2[t3][e4]?i3=Ct2[t3][e4]:!1===r3.disableWarning&&a.warn("Unable to look up font label for font '"+t3+"', '"+e4+"'. Refer to getFontList() for available fonts."),i3||r3.noFallback||null==(i3=Ct2.times[e4])&&(i3=Ct2.times.normal),i3},De2=y2.__private__.putInfo=function(){var t3=Xt2(),e4=function(t4){return t4};for(var r3 in null!==m2&&(e4=Ye.encryptor(t3,0)),lt2("<<"),lt2("/Producer ("+Ce2(e4("jsPDF "+E.version))+")"),xt2)xt2.hasOwnProperty(r3)&&xt2[r3]&&lt2("/"+r3.substr(0,1).toUpperCase()+r3.substr(1)+" ("+Ce2(e4(xt2[r3]))+")");lt2("/CreationDate ("+Ce2(e4(W2))+")"),lt2(">>"),lt2("endobj")},Re2=y2.__private__.putCatalog=function(t3){var e4=(t3=t3||{}).rootDictionaryObjId||Qt2;switch(Xt2(),lt2("<<"),lt2("/Type /Catalog"),lt2("/Pages "+e4+" 0 R"),mt2||(mt2="fullwidth"),mt2){case"fullwidth":lt2("/OpenAction [3 0 R /FitH null]");break;case"fullheight":lt2("/OpenAction [3 0 R /FitV null]");break;case"fullpage":lt2("/OpenAction [3 0 R /Fit]");break;case"original":lt2("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r3=""+mt2;"%"===r3.substr(r3.length-1)&&(mt2=parseInt(mt2)/100),"number"==typeof mt2&&lt2("/OpenAction [3 0 R /XYZ null null "+R2(mt2)+"]")}switch(Nt2||(Nt2="continuous"),Nt2){case"continuous":lt2("/PageLayout /OneColumn");break;case"single":lt2("/PageLayout /SinglePage");break;case"two":case"twoleft":lt2("/PageLayout /TwoColumnLeft");break;case"tworight":lt2("/PageLayout /TwoColumnRight")}yt3&&lt2("/PageMode /"+yt3),Tt2.publish("putCatalog"),lt2(">>"),lt2("endobj")},Te2=y2.__private__.putTrailer=function(){lt2("trailer"),lt2("<<"),lt2("/Size "+(et2+1)),lt2("/Root "+et2+" 0 R"),lt2("/Info "+(et2-1)+" 0 R"),null!==m2&&lt2("/Encrypt "+Ye.oid+" 0 R"),lt2("/ID [ <"+V2+"> <"+V2+"> ]"),lt2(">>")},Ue=y2.__private__.putHeader=function(){lt2("%PDF-"+w2),lt2("%ºß¬à")},ze=y2.__private__.putXRef=function(){var t3="0000000000";lt2("xref"),lt2("0 "+(et2+1)),lt2("0000000000 65535 f ");for(var e4=1;e4<=et2;e4++)"function"==typeof rt2[e4]?lt2((t3+rt2[e4]()).slice(-10)+" 00000 n "):void 0!==rt2[e4]?lt2((t3+rt2[e4]).slice(-10)+" 00000 n "):lt2("0000000000 00000 n ")},He=y2.__private__.buildDocument=function(){et2=0,it2=0,nt2=[],rt2=[],at2=[],Qt2=Kt2(),te2=Kt2(),ht2(nt2),Tt2.publish("buildDocument"),Ue(),oe2(),function(){Tt2.publish("putAdditionalObjects");for(var t3=0;t3<at2.length;t3++){var e4=at2[t3];Zt2(e4.objId,!0),lt2(e4.content),lt2("endobj")}Tt2.publish("postPutAdditionalObjects")}(),xe2(),null!==m2&&(Ye.oid=Xt2(),lt2("<<"),lt2("/Filter /Standard"),lt2("/V "+Ye.v),lt2("/R "+Ye.r),lt2("/U <"+Ye.toHexString(Ye.U)+">"),lt2("/O <"+Ye.toHexString(Ye.O)+">"),lt2("/P "+Ye.P),lt2(">>"),lt2("endobj")),De2(),Re2();var t3=it2;return ze(),Te2(),lt2("startxref"),lt2(""+t3),lt2("%%EOF"),ht2(ot2[$2]),nt2.join("\n")},We=y2.__private__.getBlob=function(t3){return new Blob([dt2(t3)],{type:"application/pdf"})},Ve=y2.output=y2.__private__.output=((t3=function(t3,e4){switch("string"==typeof(e4=e4||{})?e4={filename:e4}:e4.filename=e4.filename||"generated.pdf",t3){case void 0:return He();case"save":y2.save(e4.filename);break;case"arraybuffer":return dt2(He());case"blob":return We(He());case"bloburi":case"bloburl":if(void 0!==n.URL&&"function"==typeof n.URL.createObjectURL)return n.URL&&n.URL.createObjectURL(We(He()))||void 0;a.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r3="",i3=He();try{r3=h(i3)}catch(t4){r3=h(unescape(encodeURIComponent(i3)))}return"data:application/pdf;filename="+e4.filename+";base64,"+r3;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(n)){var o3="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s3=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';e4.pdfObjectUrl&&(o3=e4.pdfObjectUrl,s3="");var c3='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+o3+'"'+s3+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(e4)+");<\/script></body></html>",u3=n.open();return null!==u3&&u3.document.write(c3),u3}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(n)){var l2='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(e4.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+e4.filename+'" width="500px" height="400px" /></body></html>',f2=n.open();if(null!==f2){f2.document.write(l2);var d3=this;f2.document.documentElement.querySelector("#pdfViewer").onload=function(){f2.document.title=e4.filename,f2.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d3.output("bloburl"))}}return f2}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(n))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var p3='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",e4)+'"></iframe></body></html>',g3=n.open();if(null!==g3&&(g3.document.write(p3),g3.document.title=e4.filename),g3||"undefined"==typeof safari)return g3;break;case"datauri":case"dataurl":return n.document.location.href=this.output("datauristring",e4);default:return null}}).foo=function(){try{return t3.apply(this,arguments)}catch(t4){var e4=t4.stack||"";~e4.indexOf(" at ")&&(e4=e4.split(" at ")[1]);var r3="Error in function "+e4.split("\n")[0].split("<")[0]+": "+t4.message;if(!n.console)throw new Error(r3);n.console.error(r3,t4),n.alert&&alert(r3)}},t3.foo.bar=t3,t3.foo),Ge=function(t3){return!0===Array.isArray(Ut2)&&Ut2.indexOf(t3)>-1};switch(o2){case"pt":_t2=1;break;case"mm":_t2=72/25.4;break;case"cm":_t2=72/2.54;break;case"in":_t2=72;break;case"px":_t2=1==Ge("px_scaling")?.75:96/72;break;case"pc":case"em":_t2=12;break;case"ex":_t2=6;break;default:if("number"!=typeof o2)throw new Error("Invalid unit: "+o2);_t2=o2}var Ye=null;K2(),Y2();var Xe=y2.__private__.getPageInfo=y2.getPageInfo=function(t3){if(isNaN(t3)||t3%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Rt2[t3].objId,pageNumber:t3,pageContext:Rt2[t3]}},Ke=y2.__private__.getPageInfoByObjId=function(t3){if(isNaN(t3)||t3%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var e4 in Rt2)if(Rt2[e4].objId===t3)break;return Xe(e4)},Ze=y2.__private__.getCurrentPageInfo=y2.getCurrentPageInfo=function(){return{objId:Rt2[$2].objId,pageNumber:$2,pageContext:Rt2[$2]}};y2.addPage=function(){return Oe.apply(this,arguments),this},y2.setPage=function(){return Me2.apply(this,arguments),ht2.call(this,ot2[$2]),this},y2.insertPage=function(t3){return this.addPage(),this.movePage($2,t3),this},y2.movePage=function(t3,e4){var r3,n2;if(t3>e4){r3=ot2[t3],n2=Rt2[t3];for(var i3=t3;i3>e4;i3--)ot2[i3]=ot2[i3-1],Rt2[i3]=Rt2[i3-1];ot2[e4]=r3,Rt2[e4]=n2,this.setPage(e4)}else if(t3<e4){r3=ot2[t3],n2=Rt2[t3];for(var a2=t3;a2<e4;a2++)ot2[a2]=ot2[a2+1],Rt2[a2]=Rt2[a2+1];ot2[e4]=r3,Rt2[e4]=n2,this.setPage(e4)}return this},y2.deletePage=function(){return Be.apply(this,arguments),this},y2.__private__.text=y2.text=function(e4,r3,n2,i3,a2){var o3,s3,c3,u3,h2,l2,f2,d3,p3,g3=(i3=i3||{}).scope||this;if("number"==typeof e4&&"number"==typeof r3&&("string"==typeof n2||Array.isArray(n2))){var m3=n2;n2=r3,r3=e4,e4=m3}if(arguments[3]instanceof Vt2==0?(c3=arguments[4],u3=arguments[5],"object"===_typeof$4(f2=arguments[3])&&null!==f2||("string"==typeof c3&&(u3=c3,c3=null),"string"==typeof f2&&(u3=f2,f2=null),"number"==typeof f2&&(c3=f2,f2=null),i3={flags:f2,angle:c3,align:u3})):(q2("The transform parameter of text() with a Matrix value"),p3=a2),isNaN(r3)||isNaN(n2)||null==e4)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e4.length)return g3;var y3,v3="",w3="number"==typeof i3.lineHeightFactor?i3.lineHeightFactor:lr,N3=g3.internal.scaleFactor;function L3(t3){return t3=t3.split("\t").join(Array(i3.TabLen||9).join(" ")),Ce2(t3,f2)}function A3(t3){for(var e6,r4=t3.concat(),n3=[],i4=r4.length;i4--;)"string"==typeof(e6=r4.shift())?n3.push(e6):Array.isArray(t3)&&(1===e6.length||void 0===e6[1]&&void 0===e6[2])?n3.push(e6[0]):n3.push([e6[0],e6[1],e6[2]]);return n3}function _3(t3,e6){var r4;if("string"==typeof t3)r4=e6(t3)[0];else if(Array.isArray(t3)){for(var n3,i4,a3=t3.concat(),o4=[],s4=a3.length;s4--;)"string"==typeof(n3=a3.shift())?o4.push(e6(n3)[0]):Array.isArray(n3)&&"string"==typeof n3[0]&&(i4=e6(n3[0],n3[1],n3[2]),o4.push([i4[0],i4[1],i4[2]]));r4=o4}return r4}var P3=!1,k3=!0;if("string"==typeof e4)P3=!0;else if(Array.isArray(e4)){var I2=e4.concat();s3=[];for(var F2,C2=I2.length;C2--;)("string"!=typeof(F2=I2.shift())||Array.isArray(F2)&&"string"!=typeof F2[0])&&(k3=!1);P3=k3}if(!1===P3)throw new Error('Type of text must be string or Array. "'+e4+'" is not recognized.');"string"==typeof e4&&(e4=e4.match(/[\r?\n]/)?e4.split(/\r\n|\r|\n/g):[e4]);var j2=gt2/g3.internal.scaleFactor,B2=j2*(w3-1);switch(i3.baseline){case"bottom":n2-=B2;break;case"top":n2+=j2-B2;break;case"hanging":n2+=j2-2*B2;break;case"middle":n2+=j2/2-B2}if((l2=i3.maxWidth||0)>0&&("string"==typeof e4?e4=g3.splitTextToSize(e4,l2):"[object Array]"===Object.prototype.toString.call(e4)&&(e4=e4.reduce(function(t3,e6){return t3.concat(g3.splitTextToSize(e6,l2))},[]))),o3={text:e4,x:r3,y:n2,options:i3,mutex:{pdfEscape:Ce2,activeFontKey:St,fonts:Ft2,activeFontSize:gt2}},Tt2.publish("preProcessText",o3),e4=o3.text,c3=(i3=o3.options).angle,p3 instanceof Vt2==0&&c3&&"number"==typeof c3){c3*=Math.PI/180,0===i3.rotationDirection&&(c3=-c3),S2===x2_ADVANCED&&(c3=-c3);var M2=Math.cos(c3),E2=Math.sin(c3);p3=new Vt2(M2,E2,-E2,M2,0,0)}else c3&&c3 instanceof Vt2&&(p3=c3);S2!==x2_ADVANCED||p3||(p3=Yt2),void 0!==(h2=i3.charSpace||_r)&&(v3+=O2(U2(h2))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(d3=i3.horizontalScale)&&(v3+=O2(100*d3)+" Tz\n"),i3.lang;var D3=-1,R3=void 0!==i3.renderingMode?i3.renderingMode:i3.stroke,T3=g3.internal.getCurrentPageInfo().pageContext;switch(R3){case 0:case!1:case"fill":D3=0;break;case 1:case!0:case"stroke":D3=1;break;case 2:case"fillThenStroke":D3=2;break;case 3:case"invisible":D3=3;break;case 4:case"fillAndAddForClipping":D3=4;break;case 5:case"strokeAndAddPathForClipping":D3=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":D3=6;break;case 7:case"addToPathForClipping":D3=7}var z3=void 0!==T3.usedRenderingMode?T3.usedRenderingMode:-1;-1!==D3?v3+=D3+" Tr\n":-1!==z3&&(v3+="0 Tr\n"),-1!==D3&&(T3.usedRenderingMode=D3),u3=i3.align||"left";var H3,W3=gt2*w3,V3=g3.internal.pageSize.getWidth(),G3=Ft2[St];h2=i3.charSpace||_r,l2=i3.maxWidth||0,f2=Object.assign({autoencode:!0,noBOM:!0},i3.flags);var Y3=[],J3=function(t3){return g3.getStringUnitWidth(t3,{font:G3,charSpace:h2,fontSize:gt2,doKerning:!1})*gt2/N3};if("[object Array]"===Object.prototype.toString.call(e4)){var X3;s3=A3(e4),"left"!==u3&&(H3=s3.map(J3));var K3,Z3=0;if("right"===u3){r3-=H3[0],e4=[],C2=s3.length;for(var $3=0;$3<C2;$3++)0===$3?(K3=br(r3),X3=yr(n2)):(K3=U2(Z3-H3[$3]),X3=-W3),e4.push([s3[$3],K3,X3]),Z3=H3[$3]}else if("center"===u3){r3-=H3[0]/2,e4=[],C2=s3.length;for(var Q3=0;Q3<C2;Q3++)0===Q3?(K3=br(r3),X3=yr(n2)):(K3=U2((Z3-H3[Q3])/2),X3=-W3),e4.push([s3[Q3],K3,X3]),Z3=H3[Q3]}else if("left"===u3){e4=[],C2=s3.length;for(var tt3=0;tt3<C2;tt3++)e4.push(s3[tt3])}else if("justify"===u3&&"Identity-H"===G3.encoding){e4=[],C2=s3.length,l2=0!==l2?l2:V3;for(var et3=0,rt3=0;rt3<C2;rt3++)if(X3=0===rt3?yr(n2):-W3,K3=0===rt3?br(r3):et3,rt3<C2-1){var nt3=U2((l2-H3[rt3])/(s3[rt3].split(" ").length-1)),it3=s3[rt3].split(" ");e4.push([it3[0]+" ",K3,X3]),et3=0;for(var at3=1;at3<it3.length;at3++){var ot3=(J3(it3[at3-1]+" "+it3[at3])-J3(it3[at3]))*N3+nt3;at3==it3.length-1?e4.push([it3[at3],ot3,0]):e4.push([it3[at3]+" ",ot3,0]),et3-=ot3}}else e4.push([s3[rt3],K3,X3]);e4.push(["",et3,0])}else{if("justify"!==u3)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e4=[],C2=s3.length,l2=0!==l2?l2:V3,rt3=0;rt3<C2;rt3++)X3=0===rt3?yr(n2):-W3,K3=0===rt3?br(r3):0,rt3<C2-1?Y3.push(O2(U2((l2-H3[rt3])/(s3[rt3].split(" ").length-1)))):Y3.push(0),e4.push([s3[rt3],K3,X3])}}!0===("boolean"==typeof i3.R2L?i3.R2L:bt2)&&(e4=_3(e4,function(t3,e6,r4){return[t3.split("").reverse().join(""),e6,r4]})),o3={text:e4,x:r3,y:n2,options:i3,mutex:{pdfEscape:Ce2,activeFontKey:St,fonts:Ft2,activeFontSize:gt2}},Tt2.publish("postProcessText",o3),e4=o3.text,y3=o3.mutex.isHex||!1;var ct3=Ft2[St].encoding;"WinAnsiEncoding"!==ct3&&"StandardEncoding"!==ct3||(e4=_3(e4,function(t3,e6,r4){return[L3(t3),e6,r4]})),s3=A3(e4),e4=[];for(var ut3,ht3,ft3,mt3=Array.isArray(s3[0])?1:0,vt3="",yt4=function(t3,e6,r4){var n3="";return r4 instanceof Vt2?(r4="number"==typeof i3.angle?Gt2(r4,new Vt2(1,0,0,1,t3,e6)):Gt2(new Vt2(1,0,0,1,t3,e6),r4),S2===x2_ADVANCED&&(r4=Gt2(new Vt2(1,0,0,-1,0,0),r4)),n3=r4.join(" ")+" Tm\n"):n3=O2(t3)+" "+O2(e6)+" Td\n",n3},wt3=0;wt3<s3.length;wt3++){switch(vt3="",mt3){case 1:ft3=(y3?"<":"(")+s3[wt3][0]+(y3?">":")"),ut3=parseFloat(s3[wt3][1]),ht3=parseFloat(s3[wt3][2]);break;case 0:ft3=(y3?"<":"(")+s3[wt3]+(y3?">":")"),ut3=br(r3),ht3=yr(n2)}void 0!==Y3&&void 0!==Y3[wt3]&&(vt3=Y3[wt3]+" Tw\n"),0===wt3?e4.push(vt3+yt4(ut3,ht3,p3)+ft3):0===mt3?e4.push(vt3+ft3):1===mt3&&e4.push(vt3+yt4(ut3,ht3,p3)+ft3)}e4=0===mt3?e4.join(" Tj\nT* "):e4.join(" Tj\n"),e4+=" Tj\n";var Nt3="BT\n/";return Nt3+=St+" "+gt2+" Tf\n",Nt3+=O2(gt2*w3)+" TL\n",Nt3+=xr+"\n",Nt3+=v3,Nt3+=e4,lt2(Nt3+="ET"),b2[St]=!0,g3};var $e2=y2.__private__.clip=y2.clip=function(t3){return lt2("evenodd"===t3?"W*":"W"),this};y2.clipEvenOdd=function(){return $e2("evenodd")},y2.__private__.discardPath=y2.discardPath=function(){return lt2("n"),this};var Qe=y2.__private__.isValidStyle=function(t3){var e4=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(t3)&&(e4=!0),e4};y2.__private__.setDefaultPathOperation=y2.setDefaultPathOperation=function(t3){return Qe(t3)&&(g2=t3),this};var tr=y2.__private__.getStyle=y2.getStyle=function(t3){var e4=g2;switch(t3){case"D":case"S":e4="S";break;case"F":e4="f";break;case"FD":case"DF":e4="B";break;case"f":case"f*":case"B":case"B*":e4=t3}return e4},er=y2.close=function(){return lt2("h"),this};y2.stroke=function(){return lt2("S"),this},y2.fill=function(t3){return rr("f",t3),this},y2.fillEvenOdd=function(t3){return rr("f*",t3),this},y2.fillStroke=function(t3){return rr("B",t3),this},y2.fillStrokeEvenOdd=function(t3){return rr("B*",t3),this};var rr=function(e4,r3){"object"===_typeof$4(r3)?ar(r3,e4):lt2(e4)},nr=function(t3){null===t3||S2===x2_ADVANCED&&void 0===t3||(t3=tr(t3),lt2(t3))};function ir(t3,e4,r3,n2,i3){var a2=new M(e4||this.boundingBox,r3||this.xStep,n2||this.yStep,this.gState,i3||this.matrix);a2.stream=this.stream;var o3=t3+"$$"+this.cloneIndex+++"$$";return Jt2(o3,a2),a2}var ar=function(t3,e4){var r3=Bt2[t3.key],n2=Ot2[r3];if(n2 instanceof B$2)lt2("q"),lt2(or(e4)),n2.gState&&y2.setGState(n2.gState),lt2(t3.matrix.toString()+" cm"),lt2("/"+r3+" sh"),lt2("Q");else if(n2 instanceof M){var i3=new Vt2(1,0,0,-1,0,Rr());t3.matrix&&(i3=i3.multiply(t3.matrix||Yt2),r3=ir.call(n2,t3.key,t3.boundingBox,t3.xStep,t3.yStep,i3).id),lt2("q"),lt2("/Pattern cs"),lt2("/"+r3+" scn"),n2.gState&&y2.setGState(n2.gState),lt2(e4),lt2("Q")}},or=function(t3){switch(t3){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},sr=y2.moveTo=function(t3,e4){return lt2(O2(U2(t3))+" "+O2(H2(e4))+" m"),this},cr=y2.lineTo=function(t3,e4){return lt2(O2(U2(t3))+" "+O2(H2(e4))+" l"),this},ur=y2.curveTo=function(t3,e4,r3,n2,i3,a2){return lt2([O2(U2(t3)),O2(H2(e4)),O2(U2(r3)),O2(H2(n2)),O2(U2(i3)),O2(H2(a2)),"c"].join(" ")),this};y2.__private__.line=y2.line=function(t3,e4,r3,n2,i3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n2)||!Qe(i3))throw new Error("Invalid arguments passed to jsPDF.line");return S2===x2_COMPAT?this.lines([[r3-t3,n2-e4]],t3,e4,[1,1],i3||"S"):this.lines([[r3-t3,n2-e4]],t3,e4,[1,1]).stroke()},y2.__private__.lines=y2.lines=function(t3,e4,r3,n2,i3,a2){var o3,s3,c3,u3,h2,l2,f2,d3,p3,g3,m3,v3;if("number"==typeof t3&&(v3=r3,r3=e4,e4=t3,t3=v3),n2=n2||[1,1],a2=a2||!1,isNaN(e4)||isNaN(r3)||!Array.isArray(t3)||!Array.isArray(n2)||!Qe(i3)||"boolean"!=typeof a2)throw new Error("Invalid arguments passed to jsPDF.lines");for(sr(e4,r3),o3=n2[0],s3=n2[1],u3=t3.length,g3=e4,m3=r3,c3=0;c3<u3;c3++)2===(h2=t3[c3]).length?(g3=h2[0]*o3+g3,m3=h2[1]*s3+m3,cr(g3,m3)):(l2=h2[0]*o3+g3,f2=h2[1]*s3+m3,d3=h2[2]*o3+g3,p3=h2[3]*s3+m3,g3=h2[4]*o3+g3,m3=h2[5]*s3+m3,ur(l2,f2,d3,p3,g3,m3));return a2&&er(),nr(i3),this},y2.path=function(t3){for(var e4=0;e4<t3.length;e4++){var r3=t3[e4],n2=r3.c;switch(r3.op){case"m":sr(n2[0],n2[1]);break;case"l":cr(n2[0],n2[1]);break;case"c":ur.apply(this,n2);break;case"h":er()}}return this},y2.__private__.rect=y2.rect=function(t3,e4,r3,n2,i3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n2)||!Qe(i3))throw new Error("Invalid arguments passed to jsPDF.rect");return S2===x2_COMPAT&&(n2=-n2),lt2([O2(U2(t3)),O2(H2(e4)),O2(U2(r3)),O2(U2(n2)),"re"].join(" ")),nr(i3),this},y2.__private__.triangle=y2.triangle=function(t3,e4,r3,n2,i3,a2,o3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n2)||isNaN(i3)||isNaN(a2)||!Qe(o3))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r3-t3,n2-e4],[i3-r3,a2-n2],[t3-i3,e4-a2]],t3,e4,[1,1],o3,!0),this},y2.__private__.roundedRect=y2.roundedRect=function(t3,e4,r3,n2,i3,a2,o3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n2)||isNaN(i3)||isNaN(a2)||!Qe(o3))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var s3=4/3*(Math.SQRT2-1);return i3=Math.min(i3,.5*r3),a2=Math.min(a2,.5*n2),this.lines([[r3-2*i3,0],[i3*s3,0,i3,a2-a2*s3,i3,a2],[0,n2-2*a2],[0,a2*s3,-i3*s3,a2,-i3,a2],[2*i3-r3,0],[-i3*s3,0,-i3,-a2*s3,-i3,-a2],[0,2*a2-n2],[0,-a2*s3,i3*s3,-a2,i3,-a2]],t3+i3,e4,[1,1],o3,!0),this},y2.__private__.ellipse=y2.ellipse=function(t3,e4,r3,n2,i3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n2)||!Qe(i3))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a2=4/3*(Math.SQRT2-1)*r3,o3=4/3*(Math.SQRT2-1)*n2;return sr(t3+r3,e4),ur(t3+r3,e4-o3,t3+a2,e4-n2,t3,e4-n2),ur(t3-a2,e4-n2,t3-r3,e4-o3,t3-r3,e4),ur(t3-r3,e4+o3,t3-a2,e4+n2,t3,e4+n2),ur(t3+a2,e4+n2,t3+r3,e4+o3,t3+r3,e4),nr(i3),this},y2.__private__.circle=y2.circle=function(t3,e4,r3,n2){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||!Qe(n2))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(t3,e4,r3,r3,n2)},y2.setFont=function(t3,e4,r3){return r3&&(e4=k2(e4,r3)),St=qe(t3,e4,{disableWarning:!1}),this};var hr=y2.__private__.getFont=y2.getFont=function(){return Ft2[qe.apply(y2,arguments)]};y2.__private__.getFontList=y2.getFontList=function(){var t3,e4,r3={};for(t3 in Ct2)if(Ct2.hasOwnProperty(t3))for(e4 in r3[t3]=[],Ct2[t3])Ct2[t3].hasOwnProperty(e4)&&r3[t3].push(e4);return r3},y2.addFont=function(t3,e4,r3,n2,i3){var a2=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a2.indexOf(arguments[3])?i3=arguments[3]:arguments[3]&&-1==a2.indexOf(arguments[3])&&(r3=k2(r3,n2)),Pe2.call(this,t3,e4,r3,i3=i3||"Identity-H")};var lr,fr=e3.lineWidth||.200025,dr=y2.__private__.getLineWidth=y2.getLineWidth=function(){return fr},pr=y2.__private__.setLineWidth=y2.setLineWidth=function(t3){return fr=t3,lt2(O2(U2(t3))+" w"),this};y2.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(t3,e4){if(t3=t3||[],e4=e4||0,isNaN(e4)||!Array.isArray(t3))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return t3=t3.map(function(t4){return O2(U2(t4))}).join(" "),e4=O2(U2(e4)),lt2("["+t3+"] "+e4+" d"),this};var gr=y2.__private__.getLineHeight=y2.getLineHeight=function(){return gt2*lr};y2.__private__.getLineHeight=y2.getLineHeight=function(){return gt2*lr};var mr=y2.__private__.setLineHeightFactor=y2.setLineHeightFactor=function(t3){return"number"==typeof(t3=t3||1.15)&&(lr=t3),this},vr=y2.__private__.getLineHeightFactor=y2.getLineHeightFactor=function(){return lr};mr(e3.lineHeight);var br=y2.__private__.getHorizontalCoordinate=function(t3){return U2(t3)},yr=y2.__private__.getVerticalCoordinate=function(t3){return S2===x2_ADVANCED?t3:Rt2[$2].mediaBox.topRightY-Rt2[$2].mediaBox.bottomLeftY-U2(t3)},wr=y2.__private__.getHorizontalCoordinateString=y2.getHorizontalCoordinateString=function(t3){return O2(br(t3))},Nr=y2.__private__.getVerticalCoordinateString=y2.getVerticalCoordinateString=function(t3){return O2(yr(t3))},Lr=e3.strokeColor||"0 G";y2.__private__.getStrokeColor=y2.getDrawColor=function(){return ee2(Lr)},y2.__private__.setStrokeColor=y2.setDrawColor=function(t3,e4,r3,n2){return Lr=re2({ch1:t3,ch2:e4,ch3:r3,ch4:n2,pdfColorType:"draw",precision:2}),lt2(Lr),this};var Ar=e3.fillColor||"0 g";y2.__private__.getFillColor=y2.getFillColor=function(){return ee2(Ar)},y2.__private__.setFillColor=y2.setFillColor=function(t3,e4,r3,n2){return Ar=re2({ch1:t3,ch2:e4,ch3:r3,ch4:n2,pdfColorType:"fill",precision:2}),lt2(Ar),this};var xr=e3.textColor||"0 g",Sr=y2.__private__.getTextColor=y2.getTextColor=function(){return ee2(xr)};y2.__private__.setTextColor=y2.setTextColor=function(t3,e4,r3,n2){return xr=re2({ch1:t3,ch2:e4,ch3:r3,ch4:n2,pdfColorType:"text",precision:3}),this};var _r=e3.charSpace,Pr=y2.__private__.getCharSpace=y2.getCharSpace=function(){return parseFloat(_r||0)};y2.__private__.setCharSpace=y2.setCharSpace=function(t3){if(isNaN(t3))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _r=t3,this};var kr2=0;y2.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y2.__private__.setLineCap=y2.setLineCap=function(t3){var e4=y2.CapJoinStyles[t3];if(void 0===e4)throw new Error("Line cap style of '"+t3+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kr2=e4,lt2(e4+" J"),this};var Ir=0;y2.__private__.setLineJoin=y2.setLineJoin=function(t3){var e4=y2.CapJoinStyles[t3];if(void 0===e4)throw new Error("Line join style of '"+t3+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ir=e4,lt2(e4+" j"),this},y2.__private__.setLineMiterLimit=y2.__private__.setMiterLimit=y2.setLineMiterLimit=y2.setMiterLimit=function(t3){if(t3=t3||0,isNaN(t3))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return lt2(O2(U2(t3))+" M"),this},y2.GState=j,y2.setGState=function(t3){(t3="string"==typeof t3?Mt2[Et2[t3]]:Fr(null,t3)).equals(qt2)||(lt2("/"+t3.id+" gs"),qt2=t3)};var Fr=function(t3,e4){if(!t3||!Et2[t3]){var r3=!1;for(var n2 in Mt2)if(Mt2.hasOwnProperty(n2)&&Mt2[n2].equals(e4)){r3=!0;break}if(r3)e4=Mt2[n2];else{var i3="GS"+(Object.keys(Mt2).length+1).toString(10);Mt2[i3]=e4,e4.id=i3}return t3&&(Et2[t3]=e4.id),Tt2.publish("addGState",e4),e4}};y2.addGState=function(t3,e4){return Fr(t3,e4),this},y2.saveGraphicsState=function(){return lt2("q"),jt2.push({key:St,size:gt2,color:xr}),this},y2.restoreGraphicsState=function(){lt2("Q");var t3=jt2.pop();return St=t3.key,gt2=t3.size,xr=t3.color,qt2=null,this},y2.setCurrentTransformationMatrix=function(t3){return lt2(t3.toString()+" cm"),this},y2.comment=function(t3){return lt2("#"+t3),this};var Cr=function(t3,e4){var r3=t3||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r3},set:function(t4){isNaN(t4)||(r3=parseFloat(t4))}});var n2=e4||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n2},set:function(t4){isNaN(t4)||(n2=parseFloat(t4))}});var i3="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return i3},set:function(t4){i3=t4.toString()}}),this},jr=function(t3,e4,r3,n2){Cr.call(this,t3,e4),this.type="rect";var i3=r3||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return i3},set:function(t4){isNaN(t4)||(i3=parseFloat(t4))}});var a2=n2||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a2},set:function(t4){isNaN(t4)||(a2=parseFloat(t4))}}),this},Or=function(){this.page=Dt2,this.currentPage=$2,this.pages=ot2.slice(0),this.pagesContext=Rt2.slice(0),this.x=Pt2,this.y=kt2,this.matrix=It2,this.width=qr($2),this.height=Rr($2),this.outputDestination=ct2,this.id="",this.objectNumber=-1};Or.prototype.restore=function(){Dt2=this.page,$2=this.currentPage,Rt2=this.pagesContext,ot2=this.pages,Pt2=this.x,kt2=this.y,It2=this.matrix,Dr($2,this.width),Tr($2,this.height),ct2=this.outputDestination};var Br=function(t3,e4,r3,n2,i3){Wt2.push(new Or),Dt2=$2=0,ot2=[],Pt2=t3,kt2=e4,It2=i3,je([r3,n2])};for(var Er in y2.beginFormObject=function(t3,e4,r3,n2,i3){return Br(t3,e4,r3,n2,i3),this},y2.endFormObject=function(t3){return function(t3){if(Ht2[t3])Wt2.pop().restore();else{var e4=new Or,r3="Xo"+(Object.keys(zt2).length+1).toString(10);e4.id=r3,Ht2[t3]=r3,zt2[r3]=e4,Tt2.publish("addFormObject",e4),Wt2.pop().restore()}}(t3),this},y2.doFormObject=function(t3,e4){var r3=zt2[Ht2[t3]];return lt2("q"),lt2(e4.toString()+" cm"),lt2("/"+r3.id+" Do"),lt2("Q"),this},y2.getFormObject=function(t3){var e4=zt2[Ht2[t3]];return{x:e4.x,y:e4.y,width:e4.width,height:e4.height,matrix:e4.matrix}},y2.save=function(t3,e4){return t3=t3||"generated.pdf",(e4=e4||{}).returnPromise=e4.returnPromise||!1,!1===e4.returnPromise?(l(We(He()),t3),"function"==typeof l.unload&&n.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(e6,r3){try{var i3=l(We(He()),t3);"function"==typeof l.unload&&n.setTimeout&&setTimeout(l.unload,911),e6(i3)}catch(t4){r3(t4.message)}})},E.API)E.API.hasOwnProperty(Er)&&("events"===Er&&E.API.events.length?function(t3,e4){var r3,n2,i3;for(i3=e4.length-1;-1!==i3;i3--)r3=e4[i3][0],n2=e4[i3][1],t3.subscribe.apply(t3,[r3].concat("function"==typeof n2?[n2]:n2))}(Tt2,E.API.events):y2[Er]=E.API[Er]);var qr=y2.getPageWidth=function(t3){return(Rt2[t3=t3||$2].mediaBox.topRightX-Rt2[t3].mediaBox.bottomLeftX)/_t2},Dr=y2.setPageWidth=function(t3,e4){Rt2[t3].mediaBox.topRightX=e4*_t2+Rt2[t3].mediaBox.bottomLeftX},Rr=y2.getPageHeight=function(t3){return(Rt2[t3=t3||$2].mediaBox.topRightY-Rt2[t3].mediaBox.bottomLeftY)/_t2},Tr=y2.setPageHeight=function(t3,e4){Rt2[t3].mediaBox.topRightY=e4*_t2+Rt2[t3].mediaBox.bottomLeftY};return y2.internal={pdfEscape:Ce2,getStyle:tr,getFont:hr,getFontSize:vt2,getCharSpace:Pr,getTextColor:Sr,getLineHeight:gr,getLineHeightFactor:vr,getLineWidth:dr,write:ft2,getHorizontalCoordinate:br,getVerticalCoordinate:yr,getCoordinateString:wr,getVerticalCoordinateString:Nr,collections:{},newObject:Xt2,newAdditionalObject:$t2,newObjectDeferred:Kt2,newObjectDeferredBegin:Zt2,getFilters:ne2,putStream:ie2,events:Tt2,scaleFactor:_t2,pageSize:{getWidth:function(){return qr($2)},setWidth:function(t3){Dr($2,t3)},getHeight:function(){return Rr($2)},setHeight:function(t3){Tr($2,t3)}},encryptionOptions:m2,encryption:Ye,getEncryptor:function(t3){return null!==m2?Ye.encryptor(t3,0):function(t4){return t4}},output:Ve,getNumberOfPages:Ee2,pages:ot2,out:lt2,f2:R2,f3:T2,getPageInfo:Xe,getPageInfoByObjId:Ke,getCurrentPageInfo:Ze,getPDFVersion:N2,Point:Cr,Rectangle:jr,Matrix:Vt2,hasHotfix:Ge},Object.defineProperty(y2.internal.pageSize,"width",{get:function(){return qr($2)},set:function(t3){Dr($2,t3)},enumerable:!0,configurable:!0}),Object.defineProperty(y2.internal.pageSize,"height",{get:function(){return Rr($2)},set:function(t3){Tr($2,t3)},enumerable:!0,configurable:!0}),function(t3){for(var e4=0,r3=pt2.length;e4<r3;e4++){var n2=Pe2.call(this,t3[e4][0],t3[e4][1],t3[e4][2],pt2[e4][3],!0);!1===v2&&(b2[n2]=!0);var i3=t3[e4][0].split("-");_e3({id:n2,fontName:i3[0],fontStyle:i3[1]||""})}Tt2.publish("addFonts",{fonts:Ft2,dictionary:Ct2})}.call(y2,pt2),St="F1",Oe(s2,i2),Tt2.publish("initialized"),y2}I.prototype.lsbFirstWord=function(t3){return String.fromCharCode(255&t3,t3>>8&255,t3>>16&255,t3>>24&255)},I.prototype.toHexString=function(t3){return t3.split("").map(function(t4){return("0"+(255&t4.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(t3){for(var e3=[],r2=0;r2<t3.length;r2+=2)e3.push(String.fromCharCode(parseInt(t3.substr(r2,2),16)));return e3.join("")},I.prototype.processOwnerPassword=function(t3,e3){return P$1(x(e3).substr(0,5),t3)},I.prototype.encryptor=function(t3,e3){var r2=x(this.encryptionKey+String.fromCharCode(255&t3,t3>>8&255,t3>>16&255,255&e3,e3>>8&255)).substr(0,10);return function(t4){return P$1(r2,t4)}},j.prototype.equals=function(e3){var r2,n2="id,objectNumber,equals";if(!e3||_typeof$4(e3)!==_typeof$4(this))return!1;var i2=0;for(r2 in this)if(!(n2.indexOf(r2)>=0)){if(this.hasOwnProperty(r2)&&!e3.hasOwnProperty(r2))return!1;if(this[r2]!==e3[r2])return!1;i2++}for(r2 in e3)e3.hasOwnProperty(r2)&&n2.indexOf(r2)<0&&i2--;return 0===i2},E.API={events:[]},E.version="3.0.1";var q=E.API,D$1=1,R=function(t3){return t3.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T$1=function(t3){return t3.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$1=function(t3){return t3.toFixed(2)},z=function(t3){return t3.toFixed(5)};q.__acroform__={};var H$1=function(t3,e3){t3.prototype=Object.create(e3.prototype),t3.prototype.constructor=t3},W$1=function(t3){return t3*D$1},V=function(t3){var e3=new ut,r2=At.internal.getHeight(t3)||0,n2=At.internal.getWidth(t3)||0;return e3.BBox=[0,0,Number(U$1(n2)),Number(U$1(r2))],e3},G$1=q.__acroform__.setBit=function(t3,e3){if(t3=t3||0,e3=e3||0,isNaN(t3)||isNaN(e3))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t3|1<<e3},Y$2=q.__acroform__.clearBit=function(t3,e3){if(t3=t3||0,e3=e3||0,isNaN(t3)||isNaN(e3))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t3&~(1<<e3)},J$1=q.__acroform__.getBit=function(t3,e3){if(isNaN(t3)||isNaN(e3))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t3&1<<e3?1:0},X$1=q.__acroform__.getBitForPdf=function(t3,e3){if(isNaN(t3)||isNaN(e3))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J$1(t3,e3-1)},K$2=q.__acroform__.setBitForPdf=function(t3,e3){if(isNaN(t3)||isNaN(e3))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G$1(t3,e3-1)},Z$1=q.__acroform__.clearBitForPdf=function(t3,e3){if(isNaN(t3)||isNaN(e3))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y$2(t3,e3-1)},$$1=q.__acroform__.calculateCoordinates=function(t3,e3){var r2=e3.internal.getHorizontalCoordinate,n2=e3.internal.getVerticalCoordinate,i2=t3[0],a2=t3[1],o2=t3[2],s2=t3[3],c2={};return c2.lowerLeft_X=r2(i2)||0,c2.lowerLeft_Y=n2(a2+s2)||0,c2.upperRight_X=r2(i2+o2)||0,c2.upperRight_Y=n2(a2)||0,[Number(U$1(c2.lowerLeft_X)),Number(U$1(c2.lowerLeft_Y)),Number(U$1(c2.upperRight_X)),Number(U$1(c2.upperRight_Y))]},Q=function(t3){if(t3.appearanceStreamContent)return t3.appearanceStreamContent;if(t3.V||t3.DV){var e3=[],r2=t3._V||t3.DV,n2=tt(t3,r2),i2=t3.scope.internal.getFont(t3.fontName,t3.fontStyle).id;e3.push("/Tx BMC"),e3.push("q"),e3.push("BT"),e3.push(t3.scope.__private__.encodeColorString(t3.color)),e3.push("/"+i2+" "+U$1(n2.fontSize)+" Tf"),e3.push("1 0 0 1 0 0 Tm"),e3.push(n2.text),e3.push("ET"),e3.push("Q"),e3.push("EMC");var a2=V(t3);return a2.scope=t3.scope,a2.stream=e3.join("\n"),a2}},tt=function(t3,e3){var r2=0===t3.fontSize?t3.maxFontSize:t3.fontSize,n2={text:"",fontSize:""},i2=(e3=")"==(e3="("==e3.substr(0,1)?e3.substr(1):e3).substr(e3.length-1)?e3.substr(0,e3.length-1):e3).split(" ");i2=t3.multiline?i2.map(function(t4){return t4.split("\n")}):i2.map(function(t4){return[t4]});var a2=r2,o2=At.internal.getHeight(t3)||0;o2=o2<0?-o2:o2;var s2=At.internal.getWidth(t3)||0;s2=s2<0?-s2:s2;var c2=function(e4,r3,n3){if(e4+1<i2.length){var a3=r3+" "+i2[e4+1][0];return et(a3,t3,n3).width<=s2-4}return!1};a2++;t:for(;a2>0;){e3="",a2--;var u2,h2,l2=et("3",t3,a2).height,f2=t3.multiline?o2-a2:(o2-l2)/2,d2=f2+=2,p2=0,g2=0,m2=0;if(a2<=0){e3="(...) Tj\n",e3+="% Width of Text: "+et(e3,t3,a2=12).width+", FieldWidth:"+s2+"\n";break}for(var v2="",b2=0,y2=0;y2<i2.length;y2++)if(i2.hasOwnProperty(y2)){var w2=!1;if(1!==i2[y2].length&&m2!==i2[y2].length-1){if((l2+2)*(b2+2)+2>o2)continue t;v2+=i2[y2][m2],w2=!0,g2=y2,y2--}else{v2=" "==(v2+=i2[y2][m2]+" ").substr(v2.length-1)?v2.substr(0,v2.length-1):v2;var N2=parseInt(y2),L2=c2(N2,v2,a2),A2=y2>=i2.length-1;if(L2&&!A2){v2+=" ",m2=0;continue}if(L2||A2){if(A2)g2=N2;else if(t3.multiline&&(l2+2)*(b2+2)+2>o2)continue t}else{if(!t3.multiline)continue t;if((l2+2)*(b2+2)+2>o2)continue t;g2=N2}}for(var x2="",S2=p2;S2<=g2;S2++){var _2=i2[S2];if(t3.multiline){if(S2===g2){x2+=_2[m2]+" ",m2=(m2+1)%_2.length;continue}if(S2===p2){x2+=_2[_2.length-1]+" ";continue}}x2+=_2[0]+" "}switch(x2=" "==x2.substr(x2.length-1)?x2.substr(0,x2.length-1):x2,h2=et(x2,t3,a2).width,t3.textAlign){case"right":u2=s2-h2-2;break;case"center":u2=(s2-h2)/2;break;default:u2=2}e3+=U$1(u2)+" "+U$1(d2)+" Td\n",e3+="("+R(x2)+") Tj\n",e3+=-U$1(u2)+" 0 Td\n",d2=-(a2+2),h2=0,p2=w2?g2:g2+1,b2++,v2=""}break}return n2.text=e3,n2.fontSize=a2,n2},et=function(t3,e3,r2){var n2=e3.scope.internal.getFont(e3.fontName,e3.fontStyle),i2=e3.scope.getStringUnitWidth(t3,{font:n2,fontSize:parseFloat(r2),charSpace:0})*parseFloat(r2);return{height:e3.scope.getStringUnitWidth("3",{font:n2,fontSize:parseFloat(r2),charSpace:0})*parseFloat(r2)*1.5,width:i2}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt=function(t3,e3){var r2={type:"reference",object:t3};void 0===e3.internal.getPageInfo(t3.page).pageContext.annotations.find(function(t4){return t4.type===r2.type&&t4.object===r2.object})&&e3.internal.getPageInfo(t3.page).pageContext.annotations.push(r2)},at=function(e3,r2){if(r2.scope=e3,void 0!==e3.internal&&(void 0===e3.internal.acroformPlugin||!1===e3.internal.acroformPlugin.isInitialized)){if(lt.FieldNum=0,e3.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),e3.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D$1=e3.internal.scaleFactor,e3.internal.acroformPlugin.acroFormDictionaryRoot=new ht,e3.internal.acroformPlugin.acroFormDictionaryRoot.scope=e3,e3.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e3.internal.events.subscribe("postPutResources",function(){var t3;(t3=e3).internal.events.unsubscribe(t3.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t3.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t3.internal.acroformPlugin.printedOut=!0}),e3.internal.events.subscribe("buildDocument",function(){!function(t3){t3.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var e4=t3.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r3 in e4)if(e4.hasOwnProperty(r3)){var n2=e4[r3];n2.objId=void 0,n2.hasAnnotation&&nt(n2,t3)}}(e3)}),e3.internal.events.subscribe("putCatalog",function(){!function(t3){if(void 0===t3.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");t3.internal.write("/AcroForm "+t3.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e3)}),e3.internal.events.subscribe("postPutPages",function(r3){!function(e4,r4){var n2=!e4;for(var i2 in e4||(r4.internal.newObjectDeferredBegin(r4.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r4.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e4=e4||r4.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e4.hasOwnProperty(i2)){var a2=e4[i2],o2=[],s2=a2.Rect;if(a2.Rect&&(a2.Rect=$$1(a2.Rect,r4)),r4.internal.newObjectDeferredBegin(a2.objId,!0),a2.DA=At.createDefaultAppearanceStream(a2),"object"===_typeof$4(a2)&&"function"==typeof a2.getKeyValueListForStream&&(o2=a2.getKeyValueListForStream()),a2.Rect=s2,a2.hasAppearanceStream&&!a2.appearanceStreamContent){var c2=Q(a2);o2.push({key:"AP",value:"<</N "+c2+">>"}),r4.internal.acroformPlugin.xForms.push(c2)}if(a2.appearanceStreamContent){var u2="";for(var h2 in a2.appearanceStreamContent)if(a2.appearanceStreamContent.hasOwnProperty(h2)){var l2=a2.appearanceStreamContent[h2];if(u2+="/"+h2+" ",u2+="<<",Object.keys(l2).length>=1||Array.isArray(l2)){for(var i2 in l2)if(l2.hasOwnProperty(i2)){var f2=l2[i2];"function"==typeof f2&&(f2=f2.call(r4,a2)),u2+="/"+i2+" "+f2+" ",r4.internal.acroformPlugin.xForms.indexOf(f2)>=0||r4.internal.acroformPlugin.xForms.push(f2)}}else"function"==typeof(f2=l2)&&(f2=f2.call(r4,a2)),u2+="/"+i2+" "+f2,r4.internal.acroformPlugin.xForms.indexOf(f2)>=0||r4.internal.acroformPlugin.xForms.push(f2);u2+=">>"}o2.push({key:"AP",value:"<<\n"+u2+">>"})}r4.internal.putStream({additionalKeyValues:o2,objectId:a2.objId}),r4.internal.out("endobj")}n2&&function(e3,r2){for(var n2 in e3)if(e3.hasOwnProperty(n2)){var i2=n2,a2=e3[n2];r2.internal.newObjectDeferredBegin(a2.objId,!0),"object"===_typeof$4(a2)&&"function"==typeof a2.putStream&&a2.putStream(),delete e3[i2]}}(r4.internal.acroformPlugin.xForms,r4)}(r3,e3)}),e3.internal.acroformPlugin.isInitialized=!0}},ot=q.__acroform__.arrayToPdfArray=function(e3,r2,n2){var i2=function(t3){return t3};if(Array.isArray(e3)){for(var a2="[",o2=0;o2<e3.length;o2++)switch(0!==o2&&(a2+=" "),_typeof$4(e3[o2])){case"boolean":case"number":case"object":a2+=e3[o2].toString();break;case"string":"/"!==e3[o2].substr(0,1)?(void 0!==r2&&n2&&(i2=n2.internal.getEncryptor(r2)),a2+="("+R(i2(e3[o2].toString()))+")"):a2+=e3[o2].toString()}return a2+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(t3,e3,r2){var n2=function(t4){return t4};return void 0!==e3&&r2&&(n2=r2.internal.getEncryptor(e3)),(t3=t3||"").toString(),"("+R(n2(t3))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t3){this._objId=t3}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var t3=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t3,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var t3=[],e3=Object.getOwnPropertyNames(this).filter(function(t4){return"content"!=t4&&"appearanceStreamContent"!=t4&&"scope"!=t4&&"objId"!=t4&&"_"!=t4.substring(0,1)});for(var r2 in e3)if(!1===Object.getOwnPropertyDescriptor(this,e3[r2]).configurable){var n2=e3[r2],i2=this[n2];i2&&(Array.isArray(i2)?t3.push({key:n2,value:ot(i2,this.objId,this.scope)}):i2 instanceof ct?(i2.scope=this.scope,t3.push({key:n2,value:i2.objId+" 0 R"})):"function"!=typeof i2&&t3.push({key:n2,value:i2}))}return t3};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t3,e3=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e3},set:function(t4){e3=t4}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e4){t3=e4.trim()},get:function(){return t3||null}})};H$1(ut,ct);var ht=function(){ct.call(this);var t3,e3=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e3.length>0?e3:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e3}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t3){var e4=function(t4){return t4};return this.scope&&(e4=this.scope.internal.getEncryptor(this.objId)),"("+R(e4(t3))+")"}},set:function(e4){t3=e4}})};H$1(ht,ct);var lt=function t2(){ct.call(this);var e3=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e3},set:function(t3){if(isNaN(t3))throw new Error('Invalid value "'+t3+'" for attribute F supplied.');e3=t3}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(e3,3))},set:function(t3){!0===Boolean(t3)?this.F=K$2(e3,3):this.F=Z$1(e3,3)}});var r2=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r2},set:function(t3){if(isNaN(t3))throw new Error('Invalid value "'+t3+'" for attribute Ff supplied.');r2=t3}});var n2=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n2.length)return n2},set:function(t3){n2=void 0!==t3?t3:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n2||isNaN(n2[0])?0:n2[0]},set:function(t3){n2[0]=t3}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n2||isNaN(n2[1])?0:n2[1]},set:function(t3){n2[1]=t3}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n2||isNaN(n2[2])?0:n2[2]},set:function(t3){n2[2]=t3}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n2||isNaN(n2[3])?0:n2[3]},set:function(t3){n2[3]=t3}});var i2="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i2},set:function(t3){switch(t3){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i2=t3;break;default:throw new Error('Invalid value "'+t3+'" for attribute FT supplied.')}}});var a2=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a2||a2.length<1){if(this instanceof yt2)return;a2="FieldObject"+t2.FieldNum++}var e4=function(t3){return t3};return this.scope&&(e4=this.scope.internal.getEncryptor(this.objId)),"("+R(e4(a2))+")"},set:function(t3){a2=t3.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a2},set:function(t3){a2=t3}});var o2="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o2},set:function(t3){o2=t3}});var s2="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return s2},set:function(t3){s2=t3}});var c2=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c2},set:function(t3){c2=t3}});var u2=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===u2?50/D$1:u2},set:function(t3){u2=t3}});var h2="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h2},set:function(t3){h2=t3}});var l2="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!l2||this instanceof yt2||this instanceof Nt))return st(l2,this.objId,this.scope)},set:function(t3){t3=t3.toString(),l2=t3}});var f2=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f2)return this instanceof mt==0?st(f2,this.objId,this.scope):f2},set:function(t3){t3=t3.toString(),f2=this instanceof mt==0?"("===t3.substr(0,1)?T$1(t3.substr(1,t3.length-2)):T$1(t3):t3}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?T$1(f2.substr(1,f2.length-1)):f2},set:function(t3){t3=t3.toString(),f2=this instanceof mt==1?"/"+t3:t3}});var d2=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d2)return d2},set:function(t3){this.V=t3}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d2)return this instanceof mt==0?st(d2,this.objId,this.scope):d2},set:function(t3){t3=t3.toString(),d2=this instanceof mt==0?"("===t3.substr(0,1)?T$1(t3.substr(1,t3.length-2)):T$1(t3):t3}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?T$1(d2.substr(1,d2.length-1)):d2},set:function(t3){t3=t3.toString(),d2=this instanceof mt==1?"/"+t3:t3}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p2,g2=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g2},set:function(t3){t3=Boolean(t3),g2=t3}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p2)return p2},set:function(t3){p2=t3}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,1))},set:function(t3){!0===Boolean(t3)?this.Ff=K$2(this.Ff,1):this.Ff=Z$1(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,2))},set:function(t3){!0===Boolean(t3)?this.Ff=K$2(this.Ff,2):this.Ff=Z$1(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,3))},set:function(t3){!0===Boolean(t3)?this.Ff=K$2(this.Ff,3):this.Ff=Z$1(this.Ff,3)}});var m2=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==m2)return m2},set:function(t3){if(-1===[0,1,2].indexOf(t3))throw new Error('Invalid value "'+t3+'" for attribute Q supplied.');m2=t3}}),Object.defineProperty(this,"textAlign",{get:function(){var t3;switch(m2){case 0:default:t3="left";break;case 1:t3="center";break;case 2:t3="right"}return t3},configurable:!0,enumerable:!0,set:function(t3){switch(t3){case"right":case 2:m2=2;break;case"center":case 1:m2=1;break;default:m2=0}}})};H$1(lt,ct);var ft=function(){lt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t3=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t3},set:function(e4){t3=e4}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t3},set:function(e4){t3=e4}});var e3=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e3,this.objId,this.scope)},set:function(t4){var r2,n2;n2=[],"string"==typeof(r2=t4)&&(n2=function(t5,e4,r3){r3||(r3=1);for(var n3,i2=[];n3=e4.exec(t5);)i2.push(n3[r3]);return i2}(r2,/\((.*?)\)/g)),e3=n2}}),this.getOptions=function(){return e3},this.setOptions=function(t4){e3=t4,this.sort&&e3.sort()},this.addOption=function(t4){t4=(t4=t4||"").toString(),e3.push(t4),this.sort&&e3.sort()},this.removeOption=function(t4,r2){for(r2=r2||!1,t4=(t4=t4||"").toString();-1!==e3.indexOf(t4)&&(e3.splice(e3.indexOf(t4),1),!1!==r2););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,18))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,18):this.Ff=Z$1(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,19))},set:function(t4){!0===this.combo&&(!0===Boolean(t4)?this.Ff=K$2(this.Ff,19):this.Ff=Z$1(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,20))},set:function(t4){!0===Boolean(t4)?(this.Ff=K$2(this.Ff,20),e3.sort()):this.Ff=Z$1(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,22))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,22):this.Ff=Z$1(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,23))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,27))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,27):this.Ff=Z$1(this.Ff,27)}}),this.hasAppearanceStream=!1};H$1(ft,lt);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H$1(dt,ft);var pt=function(){dt.call(this),this.combo=!0};H$1(pt,dt);var gt=function(){pt.call(this),this.edit=!0};H$1(gt,pt);var mt=function(){lt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,15))},set:function(t3){!0===Boolean(t3)?this.Ff=K$2(this.Ff,15):this.Ff=Z$1(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,16))},set:function(t3){!0===Boolean(t3)?this.Ff=K$2(this.Ff,16):this.Ff=Z$1(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,17))},set:function(t3){!0===Boolean(t3)?this.Ff=K$2(this.Ff,17):this.Ff=Z$1(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,26))},set:function(t3){!0===Boolean(t3)?this.Ff=K$2(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var e3,r2={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t3=function(t4){return t4};if(this.scope&&(t3=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(r2).length){var e4,n2=[];for(e4 in n2.push("<<"),r2)n2.push("/"+e4+" ("+R(t3(r2[e4]))+")");return n2.push(">>"),n2.join("\n")}},set:function(e4){"object"===_typeof$4(e4)&&(r2=e4)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r2.CA||""},set:function(t3){"string"==typeof t3&&(r2.CA=t3)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e3},set:function(t3){e3=t3}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e3.substr(1,e3.length-1)},set:function(t3){e3="/"+t3}})};H$1(mt,lt);var vt=function(){mt.call(this),this.pushButton=!0};H$1(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var t3=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t3},set:function(e3){t3=void 0!==e3?e3:[]}})};H$1(bt,mt);var yt2=function(){var e3,r2;lt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e3},set:function(t3){e3=t3}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r2},set:function(t3){r2=t3}});var n2,i2={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t3=function(t4){return t4};this.scope&&(t3=this.scope.internal.getEncryptor(this.objId));var e4,r3=[];for(e4 in r3.push("<<"),i2)r3.push("/"+e4+" ("+R(t3(i2[e4]))+")");return r3.push(">>"),r3.join("\n")},set:function(e4){"object"===_typeof$4(e4)&&(i2=e4)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i2.CA||""},set:function(t3){"string"==typeof t3&&(i2.CA=t3)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n2},set:function(t3){n2=t3}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n2.substr(1,n2.length-1)},set:function(t3){n2="/"+t3}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H$1(yt2,lt),bt.prototype.setAppearance=function(t3){if(!("createAppearanceStream"in t3)||!("getCA"in t3))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e3 in this.Kids)if(this.Kids.hasOwnProperty(e3)){var r2=this.Kids[e3];r2.appearanceStreamContent=t3.createAppearanceStream(r2.optionName),r2.caption=t3.getCA()}},bt.prototype.createOption=function(t3){var e3=new yt2;return e3.Parent=this,e3.optionName=t3,this.Kids.push(e3),xt.call(this.scope,e3),e3};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At.CheckBox.createAppearanceStream()};H$1(wt,mt);var Nt=function(){lt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,13))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,13):this.Ff=Z$1(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,21))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,21):this.Ff=Z$1(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,23))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,24))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,24):this.Ff=Z$1(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,25))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,25):this.Ff=Z$1(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,26))},set:function(t4){!0===Boolean(t4)?this.Ff=K$2(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var t3=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t3},set:function(e3){t3=e3}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t3},set:function(e3){Number.isInteger(e3)&&(t3=e3)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H$1(Nt,lt);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(X$1(this.Ff,14))},set:function(t3){!0===Boolean(t3)?this.Ff=K$2(this.Ff,14):this.Ff=Z$1(this.Ff,14)}}),this.password=!0};H$1(Lt,Nt);var At={CheckBox:{createAppearanceStream:function(){return{N:{On:At.CheckBox.YesNormal},D:{On:At.CheckBox.YesPushDown,Off:At.CheckBox.OffPushDown}}},YesPushDown:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=[],n2=t3.scope.internal.getFont(t3.fontName,t3.fontStyle).id,i2=t3.scope.__private__.encodeColorString(t3.color),a2=tt(t3,t3.caption);return r2.push("0.749023 g"),r2.push("0 0 "+U$1(At.internal.getWidth(t3))+" "+U$1(At.internal.getHeight(t3))+" re"),r2.push("f"),r2.push("BMC"),r2.push("q"),r2.push("0 0 1 rg"),r2.push("/"+n2+" "+U$1(a2.fontSize)+" Tf "+i2),r2.push("BT"),r2.push(a2.text),r2.push("ET"),r2.push("Q"),r2.push("EMC"),e3.stream=r2.join("\n"),e3},YesNormal:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=t3.scope.internal.getFont(t3.fontName,t3.fontStyle).id,n2=t3.scope.__private__.encodeColorString(t3.color),i2=[],a2=At.internal.getHeight(t3),o2=At.internal.getWidth(t3),s2=tt(t3,t3.caption);return i2.push("1 g"),i2.push("0 0 "+U$1(o2)+" "+U$1(a2)+" re"),i2.push("f"),i2.push("q"),i2.push("0 0 1 rg"),i2.push("0 0 "+U$1(o2-1)+" "+U$1(a2-1)+" re"),i2.push("W"),i2.push("n"),i2.push("0 g"),i2.push("BT"),i2.push("/"+r2+" "+U$1(s2.fontSize)+" Tf "+n2),i2.push(s2.text),i2.push("ET"),i2.push("Q"),e3.stream=i2.join("\n"),e3},OffPushDown:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=[];return r2.push("0.749023 g"),r2.push("0 0 "+U$1(At.internal.getWidth(t3))+" "+U$1(At.internal.getHeight(t3))+" re"),r2.push("f"),e3.stream=r2.join("\n"),e3}},RadioButton:{Circle:{createAppearanceStream:function(t3){var e3={D:{Off:At.RadioButton.Circle.OffPushDown},N:{}};return e3.N[t3]=At.RadioButton.Circle.YesNormal,e3.D[t3]=At.RadioButton.Circle.YesPushDown,e3},getCA:function(){return"l"},YesNormal:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=[],n2=At.internal.getWidth(t3)<=At.internal.getHeight(t3)?At.internal.getWidth(t3)/4:At.internal.getHeight(t3)/4;n2=Number((.9*n2).toFixed(5));var i2=At.internal.Bezier_C,a2=Number((n2*i2).toFixed(5));return r2.push("q"),r2.push("1 0 0 1 "+z(At.internal.getWidth(t3)/2)+" "+z(At.internal.getHeight(t3)/2)+" cm"),r2.push(n2+" 0 m"),r2.push(n2+" "+a2+" "+a2+" "+n2+" 0 "+n2+" c"),r2.push("-"+a2+" "+n2+" -"+n2+" "+a2+" -"+n2+" 0 c"),r2.push("-"+n2+" -"+a2+" -"+a2+" -"+n2+" 0 -"+n2+" c"),r2.push(a2+" -"+n2+" "+n2+" -"+a2+" "+n2+" 0 c"),r2.push("f"),r2.push("Q"),e3.stream=r2.join("\n"),e3},YesPushDown:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=[],n2=At.internal.getWidth(t3)<=At.internal.getHeight(t3)?At.internal.getWidth(t3)/4:At.internal.getHeight(t3)/4;n2=Number((.9*n2).toFixed(5));var i2=Number((2*n2).toFixed(5)),a2=Number((i2*At.internal.Bezier_C).toFixed(5)),o2=Number((n2*At.internal.Bezier_C).toFixed(5));return r2.push("0.749023 g"),r2.push("q"),r2.push("1 0 0 1 "+z(At.internal.getWidth(t3)/2)+" "+z(At.internal.getHeight(t3)/2)+" cm"),r2.push(i2+" 0 m"),r2.push(i2+" "+a2+" "+a2+" "+i2+" 0 "+i2+" c"),r2.push("-"+a2+" "+i2+" -"+i2+" "+a2+" -"+i2+" 0 c"),r2.push("-"+i2+" -"+a2+" -"+a2+" -"+i2+" 0 -"+i2+" c"),r2.push(a2+" -"+i2+" "+i2+" -"+a2+" "+i2+" 0 c"),r2.push("f"),r2.push("Q"),r2.push("0 g"),r2.push("q"),r2.push("1 0 0 1 "+z(At.internal.getWidth(t3)/2)+" "+z(At.internal.getHeight(t3)/2)+" cm"),r2.push(n2+" 0 m"),r2.push(n2+" "+o2+" "+o2+" "+n2+" 0 "+n2+" c"),r2.push("-"+o2+" "+n2+" -"+n2+" "+o2+" -"+n2+" 0 c"),r2.push("-"+n2+" -"+o2+" -"+o2+" -"+n2+" 0 -"+n2+" c"),r2.push(o2+" -"+n2+" "+n2+" -"+o2+" "+n2+" 0 c"),r2.push("f"),r2.push("Q"),e3.stream=r2.join("\n"),e3},OffPushDown:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=[],n2=At.internal.getWidth(t3)<=At.internal.getHeight(t3)?At.internal.getWidth(t3)/4:At.internal.getHeight(t3)/4;n2=Number((.9*n2).toFixed(5));var i2=Number((2*n2).toFixed(5)),a2=Number((i2*At.internal.Bezier_C).toFixed(5));return r2.push("0.749023 g"),r2.push("q"),r2.push("1 0 0 1 "+z(At.internal.getWidth(t3)/2)+" "+z(At.internal.getHeight(t3)/2)+" cm"),r2.push(i2+" 0 m"),r2.push(i2+" "+a2+" "+a2+" "+i2+" 0 "+i2+" c"),r2.push("-"+a2+" "+i2+" -"+i2+" "+a2+" -"+i2+" 0 c"),r2.push("-"+i2+" -"+a2+" -"+a2+" -"+i2+" 0 -"+i2+" c"),r2.push(a2+" -"+i2+" "+i2+" -"+a2+" "+i2+" 0 c"),r2.push("f"),r2.push("Q"),e3.stream=r2.join("\n"),e3}},Cross:{createAppearanceStream:function(t3){var e3={D:{Off:At.RadioButton.Cross.OffPushDown},N:{}};return e3.N[t3]=At.RadioButton.Cross.YesNormal,e3.D[t3]=At.RadioButton.Cross.YesPushDown,e3},getCA:function(){return"8"},YesNormal:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=[],n2=At.internal.calculateCross(t3);return r2.push("q"),r2.push("1 1 "+U$1(At.internal.getWidth(t3)-2)+" "+U$1(At.internal.getHeight(t3)-2)+" re"),r2.push("W"),r2.push("n"),r2.push(U$1(n2.x1.x)+" "+U$1(n2.x1.y)+" m"),r2.push(U$1(n2.x2.x)+" "+U$1(n2.x2.y)+" l"),r2.push(U$1(n2.x4.x)+" "+U$1(n2.x4.y)+" m"),r2.push(U$1(n2.x3.x)+" "+U$1(n2.x3.y)+" l"),r2.push("s"),r2.push("Q"),e3.stream=r2.join("\n"),e3},YesPushDown:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=At.internal.calculateCross(t3),n2=[];return n2.push("0.749023 g"),n2.push("0 0 "+U$1(At.internal.getWidth(t3))+" "+U$1(At.internal.getHeight(t3))+" re"),n2.push("f"),n2.push("q"),n2.push("1 1 "+U$1(At.internal.getWidth(t3)-2)+" "+U$1(At.internal.getHeight(t3)-2)+" re"),n2.push("W"),n2.push("n"),n2.push(U$1(r2.x1.x)+" "+U$1(r2.x1.y)+" m"),n2.push(U$1(r2.x2.x)+" "+U$1(r2.x2.y)+" l"),n2.push(U$1(r2.x4.x)+" "+U$1(r2.x4.y)+" m"),n2.push(U$1(r2.x3.x)+" "+U$1(r2.x3.y)+" l"),n2.push("s"),n2.push("Q"),e3.stream=n2.join("\n"),e3},OffPushDown:function(t3){var e3=V(t3);e3.scope=t3.scope;var r2=[];return r2.push("0.749023 g"),r2.push("0 0 "+U$1(At.internal.getWidth(t3))+" "+U$1(At.internal.getHeight(t3))+" re"),r2.push("f"),e3.stream=r2.join("\n"),e3}}},createDefaultAppearanceStream:function(t3){var e3=t3.scope.internal.getFont(t3.fontName,t3.fontStyle).id,r2=t3.scope.__private__.encodeColorString(t3.color);return"/"+e3+" "+t3.fontSize+" Tf "+r2}};At.internal={Bezier_C:.551915024494,calculateCross:function(t3){var e3=At.internal.getWidth(t3),r2=At.internal.getHeight(t3),n2=Math.min(e3,r2);return{x1:{x:(e3-n2)/2,y:(r2-n2)/2+n2},x2:{x:(e3-n2)/2+n2,y:(r2-n2)/2},x3:{x:(e3-n2)/2,y:(r2-n2)/2},x4:{x:(e3-n2)/2+n2,y:(r2-n2)/2+n2}}}},At.internal.getWidth=function(e3){var r2=0;return"object"===_typeof$4(e3)&&(r2=W$1(e3.Rect[2])),r2},At.internal.getHeight=function(e3){var r2=0;return"object"===_typeof$4(e3)&&(r2=W$1(e3.Rect[3])),r2};var t3,e3,xt=q.addField=function(t3){if(at(this,t3),!(t3 instanceof lt))throw new Error("Invalid argument passed to jsPDF.addField.");var e3;return(e3=t3).scope.internal.acroformPlugin.printedOut&&(e3.scope.internal.acroformPlugin.printedOut=!1,e3.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e3.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e3),t3.page=t3.scope.internal.getCurrentPageInfo().pageNumber,this};function _t(t3){return t3.reduce(function(t4,e3,r2){return t4[e3]=r2,t4},{})}q.AcroFormChoiceField=ft,q.AcroFormListBox=dt,q.AcroFormComboBox=pt,q.AcroFormEditBox=gt,q.AcroFormButton=mt,q.AcroFormPushButton=vt,q.AcroFormRadioButton=bt,q.AcroFormCheckBox=wt,q.AcroFormTextField=Nt,q.AcroFormPasswordField=Lt,q.AcroFormAppearance=At,q.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:At},E.AcroForm,function(e3){e3.__addimage__={};var r2="UNKNOWN",n2={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i2=e3.__addimage__.getImageFileTypeByImageData=function(t3,e4){var i3,a3,o3,s3,c3,u2=r2;if("RGBA"===(e4=e4||r2)||void 0!==t3.data&&t3.data instanceof Uint8ClampedArray&&"height"in t3&&"width"in t3)return"RGBA";if(x2(t3))for(c3 in n2)for(o3=n2[c3],i3=0;i3<o3.length;i3+=1){for(s3=!0,a3=0;a3<o3[i3].length;a3+=1)if(void 0!==o3[i3][a3]&&o3[i3][a3]!==t3[a3]){s3=!1;break}if(!0===s3){u2=c3;break}}else for(c3 in n2)for(o3=n2[c3],i3=0;i3<o3.length;i3+=1){for(s3=!0,a3=0;a3<o3[i3].length;a3+=1)if(void 0!==o3[i3][a3]&&o3[i3][a3]!==t3.charCodeAt(a3)){s3=!1;break}if(!0===s3){u2=c3;break}}return u2===r2&&e4!==r2&&(u2=e4),u2},a2=function t3(e4){for(var r3=this.internal.write,n3=this.internal.putStream,i3=(0,this.internal.getFilters)();-1!==i3.indexOf("FlateEncode");)i3.splice(i3.indexOf("FlateEncode"),1);e4.objectId=this.internal.newObject();var a3=[];if(a3.push({key:"Type",value:"/XObject"}),a3.push({key:"Subtype",value:"/Image"}),a3.push({key:"Width",value:e4.width}),a3.push({key:"Height",value:e4.height}),e4.colorSpace===b2.INDEXED?a3.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(e4.palette.length/3-1)+" "+("sMask"in e4&&void 0!==e4.sMask?e4.objectId+2:e4.objectId+1)+" 0 R]"}):(a3.push({key:"ColorSpace",value:"/"+e4.colorSpace}),e4.colorSpace===b2.DEVICE_CMYK&&a3.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a3.push({key:"BitsPerComponent",value:e4.bitsPerComponent}),"decodeParameters"in e4&&void 0!==e4.decodeParameters&&a3.push({key:"DecodeParms",value:"<<"+e4.decodeParameters+">>"}),"transparency"in e4&&Array.isArray(e4.transparency)){for(var o3="",s3=0,c3=e4.transparency.length;s3<c3;s3++)o3+=e4.transparency[s3]+" "+e4.transparency[s3]+" ";a3.push({key:"Mask",value:"["+o3+"]"})}void 0!==e4.sMask&&a3.push({key:"SMask",value:e4.objectId+1+" 0 R"});var u2=void 0!==e4.filter?["/"+e4.filter]:void 0;if(n3({data:e4.data,additionalKeyValues:a3,alreadyAppliedFilters:u2,objectId:e4.objectId}),r3("endobj"),"sMask"in e4&&void 0!==e4.sMask){var h3="/Predictor "+e4.predictor+" /Colors 1 /BitsPerComponent "+e4.bitsPerComponent+" /Columns "+e4.width,l3={width:e4.width,height:e4.height,colorSpace:"DeviceGray",bitsPerComponent:e4.bitsPerComponent,decodeParameters:h3,data:e4.sMask};"filter"in e4&&(l3.filter=e4.filter),t3.call(this,l3)}if(e4.colorSpace===b2.INDEXED){var f3=this.internal.newObject();n3({data:_2(new Uint8Array(e4.palette)),objectId:f3}),r3("endobj")}},o2=function(){var t3=this.internal.collections.addImage_images;for(var e4 in t3)a2.call(this,t3[e4])},s2=function(){var t3,e4=this.internal.collections.addImage_images,r3=this.internal.write;for(var n3 in e4)r3("/I"+(t3=e4[n3]).index,t3.objectId,"0","R")},c2=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o2),this.internal.events.subscribe("putXobjectDict",s2))},h2=function(){var t3=this.internal.collections.addImage_images;return c2.call(this),t3},l2=function(){return Object.keys(this.internal.collections.addImage_images).length},f2=function(t3){return"function"==typeof e3["process"+t3.toUpperCase()]},d2=function(e4){return"object"===_typeof$4(e4)&&1===e4.nodeType},p2=function(t3,r3){if("IMG"===t3.nodeName&&t3.hasAttribute("src")){var n3=""+t3.getAttribute("src");if(0===n3.indexOf("data:image/"))return u$1(unescape(n3).split("base64,").pop());var i3=e3.loadFile(n3,!0);if(void 0!==i3)return i3}if("CANVAS"===t3.nodeName){if(0===t3.width||0===t3.height)throw new Error("Given canvas must have data. Canvas width: "+t3.width+", height: "+t3.height);var a3;switch(r3){case"PNG":a3="image/png";break;case"WEBP":a3="image/webp";break;default:a3="image/jpeg"}return u$1(t3.toDataURL(a3,1).split("base64,").pop())}},g2=function(t3){var e4=this.internal.collections.addImage_images;if(e4)for(var r3 in e4)if(t3===e4[r3].alias)return e4[r3]},m2=function(t3,e4,r3){return t3||e4||(t3=-96,e4=-96),t3<0&&(t3=-1*r3.width*72/t3/this.internal.scaleFactor),e4<0&&(e4=-1*r3.height*72/e4/this.internal.scaleFactor),0===t3&&(t3=e4*r3.width/r3.height),0===e4&&(e4=t3*r3.height/r3.width),[t3,e4]},v2=function(t3,e4,r3,n3,i3,a3){var o3=m2.call(this,r3,n3,i3),s3=this.internal.getCoordinateString,c3=this.internal.getVerticalCoordinateString,u2=h2.call(this);if(r3=o3[0],n3=o3[1],u2[i3.index]=i3,a3){a3*=Math.PI/180;var l3=Math.cos(a3),f3=Math.sin(a3),d3=function(t4){return t4.toFixed(4)},p3=[d3(l3),d3(f3),d3(-1*f3),d3(l3),0,0,"cm"]}this.internal.write("q"),a3?(this.internal.write([1,"0","0",1,s3(t3),c3(e4+n3),"cm"].join(" ")),this.internal.write(p3.join(" ")),this.internal.write([s3(r3),"0","0",s3(n3),"0","0","cm"].join(" "))):this.internal.write([s3(r3),"0","0",s3(n3),s3(t3),c3(e4+n3),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+i3.index+" Do"),this.internal.write("Q")},b2=e3.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e3.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y2=e3.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w2=e3.__addimage__.sHashCode=function(t3){var e4,r3,n3=0;if("string"==typeof t3)for(r3=t3.length,e4=0;e4<r3;e4++)n3=(n3<<5)-n3+t3.charCodeAt(e4),n3|=0;else if(x2(t3))for(r3=t3.byteLength/2,e4=0;e4<r3;e4++)n3=(n3<<5)-n3+t3[e4],n3|=0;return n3},N2=e3.__addimage__.validateStringAsBase64=function(t3){(t3=t3||"").toString().trim();var e4=!0;return 0===t3.length&&(e4=!1),t3.length%4!=0&&(e4=!1),!1===/^[A-Za-z0-9+/]+$/.test(t3.substr(0,t3.length-2))&&(e4=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(t3.substr(-2))&&(e4=!1),e4},L2=e3.__addimage__.extractImageFromDataUrl=function(t3){if(null==t3)return null;if(!(t3=t3.trim()).startsWith("data:"))return null;var e4=t3.indexOf(",");return e4<0?null:t3.substring(0,e4).trim().endsWith("base64")?t3.substring(e4+1):null},A2=e3.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e3.__addimage__.isArrayBuffer=function(t3){return A2()&&t3 instanceof ArrayBuffer};var x2=e3.__addimage__.isArrayBufferView=function(t3){return A2()&&"undefined"!=typeof Uint32Array&&(t3 instanceof Int8Array||t3 instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t3 instanceof Uint8ClampedArray||t3 instanceof Int16Array||t3 instanceof Uint16Array||t3 instanceof Int32Array||t3 instanceof Uint32Array||t3 instanceof Float32Array||t3 instanceof Float64Array)},S2=e3.__addimage__.binaryStringToUint8Array=function(t3){for(var e4=t3.length,r3=new Uint8Array(e4),n3=0;n3<e4;n3++)r3[n3]=t3.charCodeAt(n3);return r3},_2=e3.__addimage__.arrayBufferToBinaryString=function(t3){for(var e4="",r3=x2(t3)?t3:new Uint8Array(t3),n3=0;n3<r3.length;n3+=8192)e4+=String.fromCharCode.apply(null,r3.subarray(n3,n3+8192));return e4};e3.addImage=function(){var e4,n3,i3,a3,o3,s3,u2,h3,l3;if("number"==typeof arguments[1]?(n3=r2,i3=arguments[1],a3=arguments[2],o3=arguments[3],s3=arguments[4],u2=arguments[5],h3=arguments[6],l3=arguments[7]):(n3=arguments[1],i3=arguments[2],a3=arguments[3],o3=arguments[4],s3=arguments[5],u2=arguments[6],h3=arguments[7],l3=arguments[8]),"object"===_typeof$4(e4=arguments[0])&&!d2(e4)&&"imageData"in e4){var f3=e4;e4=f3.imageData,n3=f3.format||n3||r2,i3=f3.x||i3||0,a3=f3.y||a3||0,o3=f3.w||f3.width||o3,s3=f3.h||f3.height||s3,u2=f3.alias||u2,h3=f3.compression||h3,l3=f3.rotation||f3.angle||l3}var p3=this.internal.getFilters();if(void 0===h3&&-1!==p3.indexOf("FlateEncode")&&(h3="SLOW"),isNaN(i3)||isNaN(a3))throw new Error("Invalid coordinates passed to jsPDF.addImage");c2.call(this);var g3=P2.call(this,e4,n3,u2,h3);return v2.call(this,i3,a3,o3,s3,g3,l3),this};var P2=function(t3,n3,a3,o3){var s3,c3,u2,t4;if("string"==typeof t3&&i2(t3)===r2){t3=unescape(t3);var h3=k2(t3,!1);(""!==h3||void 0!==(h3=e3.loadFile(t3,!0)))&&(t3=h3)}if(d2(t3)&&(t3=p2(t3,n3)),n3=i2(t3,n3),!f2(n3))throw new Error("addImage does not support files of type '"+n3+"', please ensure that a plugin for '"+n3+"' support is added.");if((null==(u2=a3)||0===u2.length)&&(a3="string"==typeof(t4=t3)||x2(t4)?w2(t4):x2(t4.data)?w2(t4.data):null),(s3=g2.call(this,a3))||(A2()&&(t3 instanceof Uint8Array||"RGBA"===n3||(c3=t3,t3=S2(t3))),s3=this["process"+n3.toUpperCase()](t3,l2.call(this),a3,function(t4){return t4&&"string"==typeof t4&&(t4=t4.toUpperCase()),t4 in e3.image_compression?t4:y2.NONE}(o3),c3)),!s3)throw new Error("An unknown error occurred whilst processing the image.");return s3},k2=e3.__addimage__.convertBase64ToBinaryString=function(t3,e4){e4="boolean"!=typeof e4||e4;var r3,n3="";if("string"==typeof t3){var i3;r3=null!==(i3=L2(t3))&&void 0!==i3?i3:t3;try{n3=u$1(r3)}catch(t4){if(e4)throw N2(r3)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+t4.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return n3};e3.getImageProperties=function(t3){var n3,a3,o3="";if(d2(t3)&&(t3=p2(t3)),"string"==typeof t3&&i2(t3)===r2&&(""===(o3=k2(t3,!1))&&(o3=e3.loadFile(t3)||""),t3=o3),a3=i2(t3),!f2(a3))throw new Error("addImage does not support files of type '"+a3+"', please ensure that a plugin for '"+a3+"' support is added.");if(!A2()||t3 instanceof Uint8Array||(t3=S2(t3)),!(n3=this["process"+a3.toUpperCase()](t3)))throw new Error("An unknown error occurred whilst processing the image");return n3.fileType=a3,n3}}(E.API),t3=E.API,e3=function(t4){if(void 0!==t4&&""!=t4)return!0},E.API.events.push(["addPage",function(t4){this.internal.getPageInfo(t4.pageNumber).pageContext.annotations=[]}]),t3.events.push(["putPage",function(t4){for(var r2,n2,i2,a2=this.internal.getCoordinateString,o2=this.internal.getVerticalCoordinateString,s2=this.internal.getPageInfoByObjId(t4.objId),c2=t4.pageContext.annotations,u2=!1,h2=0;h2<c2.length&&!u2;h2++)switch((r2=c2[h2]).type){case"link":(e3(r2.options.url)||e3(r2.options.pageNumber))&&(u2=!0);break;case"reference":case"text":case"freetext":u2=!0}if(0!=u2){this.internal.write("/Annots [");for(var l2=0;l2<c2.length;l2++){r2=c2[l2];var f2=this.internal.pdfEscape,d2=this.internal.getEncryptor(t4.objId);switch(r2.type){case"reference":this.internal.write(" "+r2.object.objId+" 0 R ");break;case"text":var p2=this.internal.newAdditionalObject(),g2=this.internal.newAdditionalObject(),m2=this.internal.getEncryptor(p2.objId),v2=r2.title||"Note";i2="<</Type /Annot /Subtype /Text "+(n2="/Rect ["+a2(r2.bounds.x)+" "+o2(r2.bounds.y+r2.bounds.h)+" "+a2(r2.bounds.x+r2.bounds.w)+" "+o2(r2.bounds.y)+"] ")+"/Contents ("+f2(m2(r2.contents))+")",i2+=" /Popup "+g2.objId+" 0 R",i2+=" /P "+s2.objId+" 0 R",i2+=" /T ("+f2(m2(v2))+") >>",p2.content=i2;var b2=p2.objId+" 0 R";i2="<</Type /Annot /Subtype /Popup "+(n2="/Rect ["+a2(r2.bounds.x+30)+" "+o2(r2.bounds.y+r2.bounds.h)+" "+a2(r2.bounds.x+r2.bounds.w+30)+" "+o2(r2.bounds.y)+"] ")+" /Parent "+b2,r2.open&&(i2+=" /Open true"),i2+=" >>",g2.content=i2,this.internal.write(p2.objId,"0 R",g2.objId,"0 R");break;case"freetext":n2="/Rect ["+a2(r2.bounds.x)+" "+o2(r2.bounds.y)+" "+a2(r2.bounds.x+r2.bounds.w)+" "+o2(r2.bounds.y+r2.bounds.h)+"] ";var y2=r2.color||"#000000";i2="<</Type /Annot /Subtype /FreeText "+n2+"/Contents ("+f2(d2(r2.contents))+")",i2+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y2+")",i2+=" /Border [0 0 0]",i2+=" >>",this.internal.write(i2);break;case"link":if(r2.options.name){var w2=this.annotations._nameMap[r2.options.name];r2.options.pageNumber=w2.page,r2.options.top=w2.y}else r2.options.top||(r2.options.top=0);if(n2="/Rect ["+r2.finalBounds.x+" "+r2.finalBounds.y+" "+r2.finalBounds.w+" "+r2.finalBounds.h+"] ",i2="",r2.options.url)i2="<</Type /Annot /Subtype /Link "+n2+"/Border [0 0 0] /A <</S /URI /URI ("+f2(d2(r2.options.url))+") >>";else if(r2.options.pageNumber)switch(i2="<</Type /Annot /Subtype /Link "+n2+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r2.options.pageNumber).objId+" 0 R",r2.options.magFactor=r2.options.magFactor||"XYZ",r2.options.magFactor){case"Fit":i2+=" /Fit]";break;case"FitH":i2+=" /FitH "+r2.options.top+"]";break;case"FitV":r2.options.left=r2.options.left||0,i2+=" /FitV "+r2.options.left+"]";break;default:var N2=o2(r2.options.top);r2.options.left=r2.options.left||0,void 0===r2.options.zoom&&(r2.options.zoom=0),i2+=" /XYZ "+r2.options.left+" "+N2+" "+r2.options.zoom+"]"}""!=i2&&(i2+=" >>",this.internal.write(i2))}}this.internal.write("]")}}]),t3.createAnnotation=function(t4){var e4=this.internal.getCurrentPageInfo();switch(t4.type){case"link":this.link(t4.bounds.x,t4.bounds.y,t4.bounds.w,t4.bounds.h,t4);break;case"text":case"freetext":e4.pageContext.annotations.push(t4)}},t3.link=function(t4,e4,r2,n2,i2){var a2=this.internal.getCurrentPageInfo(),o2=this.internal.getCoordinateString,s2=this.internal.getVerticalCoordinateString;a2.pageContext.annotations.push({finalBounds:{x:o2(t4),y:s2(e4),w:o2(t4+r2),h:s2(e4+n2)},options:i2,type:"link"})},t3.textWithLink=function(t4,e4,r2,n2){var i2,a2,o2=this.getTextWidth(t4),s2=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n2.maxWidth){a2=n2.maxWidth;var c2=this.splitTextToSize(t4,a2).length;i2=Math.ceil(s2*c2)}else a2=o2,i2=s2;return this.text(t4,e4,r2,n2),r2+=.2*s2,"center"===n2.align&&(e4-=o2/2),"right"===n2.align&&(e4-=o2),this.link(e4,r2-s2,a2,i2,n2),o2},t3.getTextWidth=function(t4){var e4=this.internal.getFontSize();return this.getStringUnitWidth(t4)*e4/this.internal.scaleFactor},function(t3){var e3={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r2={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n2={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i2=[1570,1571,1573,1575];t3.__arabicParser__={};var a2=t3.__arabicParser__.isInArabicSubstitutionA=function(t4){return void 0!==e3[t4.charCodeAt(0)]},o2=t3.__arabicParser__.isArabicLetter=function(t4){return"string"==typeof t4&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(t4)},s2=t3.__arabicParser__.isArabicEndLetter=function(t4){return o2(t4)&&a2(t4)&&e3[t4.charCodeAt(0)].length<=2},c2=t3.__arabicParser__.isArabicAlfLetter=function(t4){return o2(t4)&&i2.indexOf(t4.charCodeAt(0))>=0};t3.__arabicParser__.arabicLetterHasIsolatedForm=function(t4){return o2(t4)&&a2(t4)&&e3[t4.charCodeAt(0)].length>=1};var u2=t3.__arabicParser__.arabicLetterHasFinalForm=function(t4){return o2(t4)&&a2(t4)&&e3[t4.charCodeAt(0)].length>=2};t3.__arabicParser__.arabicLetterHasInitialForm=function(t4){return o2(t4)&&a2(t4)&&e3[t4.charCodeAt(0)].length>=3};var h2=t3.__arabicParser__.arabicLetterHasMedialForm=function(t4){return o2(t4)&&a2(t4)&&4==e3[t4.charCodeAt(0)].length},l2=t3.__arabicParser__.resolveLigatures=function(t4){var e4=0,n3=r2,i3="",a3=0;for(e4=0;e4<t4.length;e4+=1)void 0!==n3[t4.charCodeAt(e4)]?(a3++,"number"==typeof(n3=n3[t4.charCodeAt(e4)])&&(i3+=String.fromCharCode(n3),n3=r2,a3=0),e4===t4.length-1&&(n3=r2,i3+=t4.charAt(e4-(a3-1)),e4-=a3-1,a3=0)):(n3=r2,i3+=t4.charAt(e4-a3),e4-=a3,a3=0);return i3};t3.__arabicParser__.isArabicDiacritic=function(t4){return void 0!==t4&&void 0!==n2[t4.charCodeAt(0)]};var f2=t3.__arabicParser__.getCorrectForm=function(t4,e4,r3){return o2(t4)?!1===a2(t4)?-1:!u2(t4)||!o2(e4)&&!o2(r3)||!o2(r3)&&s2(e4)||s2(t4)&&!o2(e4)||s2(t4)&&c2(e4)||s2(t4)&&s2(e4)?0:h2(t4)&&o2(e4)&&!s2(e4)&&o2(r3)&&u2(r3)?3:s2(t4)||!o2(r3)?1:2:-1},d2=function(t4){var r3=0,n3=0,i3=0,a3="",s3="",c3="",u3=(t4=t4||"").split("\\s+"),h3=[];for(r3=0;r3<u3.length;r3+=1){for(h3.push(""),n3=0;n3<u3[r3].length;n3+=1)a3=u3[r3][n3],s3=u3[r3][n3-1],c3=u3[r3][n3+1],o2(a3)?(i3=f2(a3,s3,c3),h3[r3]+=-1!==i3?String.fromCharCode(e3[a3.charCodeAt(0)][i3]):a3):h3[r3]+=a3;h3[r3]=l2(h3[r3])}return h3.join(" ")},p2=t3.__arabicParser__.processArabic=t3.processArabic=function(){var t4,e4="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r3=[];if(Array.isArray(e4)){var n3=0;for(r3=[],n3=0;n3<e4.length;n3+=1)Array.isArray(e4[n3])?r3.push([d2(e4[n3][0]),e4[n3][1],e4[n3][2]]):r3.push([d2(e4[n3])]);t4=r3}else t4=d2(e4);return"string"==typeof arguments[0]?t4:(arguments[0].text=t4,arguments[0])};t3.events.push(["preProcessText",p2])}(E.API),E.API.autoPrint=function(t3){var e3;if("javascript"===((t3=t3||{}).variant=t3.variant||"non-conform",t3.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){e3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e3+" 0 R")});return this},function(t3){var e3=function(){var t4=void 0;Object.defineProperty(this,"pdf",{get:function(){return t4},set:function(e6){t4=e6}});var e4=150;Object.defineProperty(this,"width",{get:function(){return e4},set:function(t5){e4=isNaN(t5)||!1===Number.isInteger(t5)||t5<0?150:t5,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=e4+1)}});var r2=300;Object.defineProperty(this,"height",{get:function(){return r2},set:function(t5){r2=isNaN(t5)||!1===Number.isInteger(t5)||t5<0?300:t5,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r2+1)}});var n2=[];Object.defineProperty(this,"childNodes",{get:function(){return n2},set:function(t5){n2=t5}});var i2={};Object.defineProperty(this,"style",{get:function(){return i2},set:function(t5){i2=t5}}),Object.defineProperty(this,"parentNode",{})};e3.prototype.getContext=function(t4,e4){var r2;if("2d"!==(t4=t4||"2d"))return null;for(r2 in e4)this.pdf.context2d.hasOwnProperty(r2)&&(this.pdf.context2d[r2]=e4[r2]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e3.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t3.events.push(["initialized",function(){this.canvas=new e3,this.canvas.pdf=this}])}(E.API),function(e3){var r2={left:0,top:0,bottom:0,right:0},n2=!1,i2=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r2),this.internal.__cell__.margins.width=this.getPageWidth(),a2.call(this))},a2=function(){this.internal.__cell__.lastCell=new o2,this.internal.__cell__.pages=1},o2=function(){var t3=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return t3},set:function(e6){t3=e6}});var e4=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return e4},set:function(t4){e4=t4}});var r3=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r3},set:function(t4){r3=t4}});var n3=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n3},set:function(t4){n3=t4}});var i3=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return i3},set:function(t4){i3=t4}});var a3=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a3},set:function(t4){a3=t4}});var o3=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return o3},set:function(t4){o3=t4}}),this};o2.prototype.clone=function(){return new o2(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o2.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e3.setHeaderFunction=function(t3){return i2.call(this),this.internal.__cell__.headerFunction="function"==typeof t3?t3:void 0,this},e3.getTextDimensions=function(t3,e4){i2.call(this);var r3=(e4=e4||{}).fontSize||this.getFontSize(),n3=e4.font||this.getFont(),a3=e4.scaleFactor||this.internal.scaleFactor,o3=0,s3=0,c3=0,u2=this;if(!Array.isArray(t3)&&"string"!=typeof t3){if("number"!=typeof t3)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");t3=String(t3)}var h2=e4.maxWidth;h2>0?"string"==typeof t3?t3=this.splitTextToSize(t3,h2):"[object Array]"===Object.prototype.toString.call(t3)&&(t3=t3.reduce(function(t4,e6){return t4.concat(u2.splitTextToSize(e6,h2))},[])):t3=Array.isArray(t3)?t3:[t3];for(var l2=0;l2<t3.length;l2++)o3<(c3=this.getStringUnitWidth(t3[l2],{font:n3})*r3)&&(o3=c3);return 0!==o3&&(s3=t3.length),{w:o3/=a3,h:Math.max((s3*r3*this.getLineHeightFactor()-r3*(this.getLineHeightFactor()-1))/a3,0)}},e3.cellAddPage=function(){i2.call(this),this.addPage();var t3=this.internal.__cell__.margins||r2;return this.internal.__cell__.lastCell=new o2(t3.left,t3.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s2=e3.cell=function(){var t3;t3=arguments[0]instanceof o2?arguments[0]:new o2(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i2.call(this);var e4=this.internal.__cell__.lastCell,a3=this.internal.__cell__.padding,s3=this.internal.__cell__.margins||r2,c3=this.internal.__cell__.tableHeaderRow,u2=this.internal.__cell__.printHeaders;return void 0!==e4.lineNumber&&(e4.lineNumber===t3.lineNumber?(t3.x=(e4.x||0)+(e4.width||0),t3.y=e4.y||0):e4.y+e4.height+t3.height+s3.bottom>this.getPageHeight()?(this.cellAddPage(),t3.y=s3.top,u2&&c3&&(this.printHeaderRow(t3.lineNumber,!0),t3.y+=c3[0].height)):t3.y=e4.y+e4.height||t3.y),void 0!==t3.text[0]&&(this.rect(t3.x,t3.y,t3.width,t3.height,!0===n2?"FD":void 0),"right"===t3.align?this.text(t3.text,t3.x+t3.width-a3,t3.y+a3,{align:"right",baseline:"top"}):"center"===t3.align?this.text(t3.text,t3.x+t3.width/2,t3.y+a3,{align:"center",baseline:"top",maxWidth:t3.width-a3-a3}):this.text(t3.text,t3.x+a3,t3.y+a3,{align:"left",baseline:"top",maxWidth:t3.width-a3-a3})),this.internal.__cell__.lastCell=t3,this};e3.table=function(e4,n3,u2,h2,l2){if(i2.call(this),!u2)throw new Error("No data for PDF table.");var f2,d2,p2,g2,m2=[],v2=[],b2=[],y2={},w2={},N2=[],L2=[],A2=(l2=l2||{}).autoSize||!1,x2=!1!==l2.printHeaders,S2=l2.css&&void 0!==l2.css["font-size"]?16*l2.css["font-size"]:l2.fontSize||12,_2=l2.margins||Object.assign({width:this.getPageWidth()},r2),P2="number"==typeof l2.padding?l2.padding:3,k2=l2.headerBackgroundColor||"#c8c8c8",I2=l2.headerTextColor||"#000";if(a2.call(this),this.internal.__cell__.printHeaders=x2,this.internal.__cell__.margins=_2,this.internal.__cell__.table_font_size=S2,this.internal.__cell__.padding=P2,this.internal.__cell__.headerBackgroundColor=k2,this.internal.__cell__.headerTextColor=I2,this.setFontSize(S2),null==h2)v2=m2=Object.keys(u2[0]),b2=m2.map(function(){return"left"});else if(Array.isArray(h2)&&"object"===_typeof$4(h2[0]))for(m2=h2.map(function(t3){return t3.name}),v2=h2.map(function(t3){return t3.prompt||t3.name||""}),b2=h2.map(function(t3){return t3.align||"left"}),f2=0;f2<h2.length;f2+=1)w2[h2[f2].name]=h2[f2].width*(19.049976/25.4);else Array.isArray(h2)&&"string"==typeof h2[0]&&(v2=m2=h2,b2=m2.map(function(){return"left"}));if(A2||Array.isArray(h2)&&"string"==typeof h2[0])for(f2=0;f2<m2.length;f2+=1){for(y2[g2=m2[f2]]=u2.map(function(t3){return t3[g2]}),this.setFont(void 0,"bold"),N2.push(this.getTextDimensions(v2[f2],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),d2=y2[g2],this.setFont(void 0,"normal"),p2=0;p2<d2.length;p2+=1)N2.push(this.getTextDimensions(d2[p2],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w2[g2]=Math.max.apply(null,N2)+P2+P2,N2=[]}if(x2){var F2={};for(f2=0;f2<m2.length;f2+=1)F2[m2[f2]]={},F2[m2[f2]].text=v2[f2],F2[m2[f2]].align=b2[f2];var C2=c2.call(this,F2,w2);L2=m2.map(function(t3){return new o2(e4,n3,w2[t3],C2,F2[t3].text,void 0,F2[t3].align)}),this.setTableHeaderRow(L2),this.printHeaderRow(1,!1)}var j2=h2.reduce(function(t3,e6){return t3[e6.name]=e6.align,t3},{});for(f2=0;f2<u2.length;f2+=1){"rowStart"in l2&&l2.rowStart instanceof Function&&l2.rowStart({row:f2,data:u2[f2]},this);var O2=c2.call(this,u2[f2],w2);for(p2=0;p2<m2.length;p2+=1){var B2=u2[f2][m2[p2]];"cellStart"in l2&&l2.cellStart instanceof Function&&l2.cellStart({row:f2,col:p2,data:B2},this),s2.call(this,new o2(e4,n3,w2[m2[p2]],O2,B2,f2+2,j2[m2[p2]]))}}return this.internal.__cell__.table_x=e4,this.internal.__cell__.table_y=n3,this};var c2=function(t3,e4){var r3=this.internal.__cell__.padding,n3=this.internal.__cell__.table_font_size,i3=this.internal.scaleFactor;return Object.keys(t3).map(function(n4){var i4=t3[n4];return this.splitTextToSize(i4.hasOwnProperty("text")?i4.text:i4,e4[n4]-r3-r3)},this).map(function(t4){return this.getLineHeightFactor()*t4.length*n3/i3+r3+r3},this).reduce(function(t4,e6){return Math.max(t4,e6)},0)};e3.setTableHeaderRow=function(t3){i2.call(this),this.internal.__cell__.tableHeaderRow=t3},e3.printHeaderRow=function(t3,e4){if(i2.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r3;if(n2=!0,"function"==typeof this.internal.__cell__.headerFunction){var a3=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o2(a3[0],a3[1],a3[2],a3[3],void 0,-1)}this.setFont(void 0,"bold");for(var c3=[],u2=0;u2<this.internal.__cell__.tableHeaderRow.length;u2+=1){r3=this.internal.__cell__.tableHeaderRow[u2].clone(),e4&&(r3.y=this.internal.__cell__.margins.top||0,c3.push(r3)),r3.lineNumber=t3;var h2=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s2.call(this,r3),this.setTextColor(h2)}c3.length>0&&this.setTableHeaderRow(c3),this.setFont(void 0,"normal"),n2=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It=_t(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct=_t(Ft);function jt(t3){var t4,e3=t3.family.replace(/"|'/g,"").toLowerCase(),r2=(t4=t3.style,Pt[t4=t4||"normal"]?t4:"normal"),n2=function(t4){return t4?"number"==typeof t4?t4>=100&&t4<=900&&t4%100==0?t4:400:/^\d00$/.test(t4)?parseInt(t4):"bold"===t4?700:400:400}(t3.weight),i2=function(t4){return"number"==typeof It[t4=t4||"normal"]?t4:"normal"}(t3.stretch);return{family:e3,style:r2,weight:n2,stretch:i2,src:t3.src||[],ref:t3.ref||{name:e3,style:[i2,r2,n2].join(" ")}}}function Ot(t3,e3,r2,n2){var i2;for(i2=r2;i2>=0&&i2<e3.length;i2+=n2)if(t3[e3[i2]])return t3[e3[i2]];for(i2=r2;i2>=0&&i2<e3.length;i2-=n2)if(t3[e3[i2]])return t3[e3[i2]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et(t3){return[t3.stretch,t3.style,t3.weight,t3.family].join(" ")}function Dt(t3){return t3.trimLeft()}function Rt(t3,e3){for(var r2=0;r2<t3.length;){if(t3.charAt(r2)===e3)return[t3.substring(0,r2),t3.substring(r2+1)];r2+=1}return null}function Tt(t3){var e3=t3.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===e3?null:[e3[0],t3.substring(e3[0].length)]}var Ut,zt,Ht,Wt=["times"];!function(e3){var r2,n2,i2,o2,s2,c2,u2,h2,l2,d2=function(t3){return t3=t3||{},this.isStrokeTransparent=t3.isStrokeTransparent||!1,this.strokeOpacity=t3.strokeOpacity||1,this.strokeStyle=t3.strokeStyle||"#000000",this.fillStyle=t3.fillStyle||"#000000",this.isFillTransparent=t3.isFillTransparent||!1,this.fillOpacity=t3.fillOpacity||1,this.font=t3.font||"10px sans-serif",this.textBaseline=t3.textBaseline||"alphabetic",this.textAlign=t3.textAlign||"left",this.lineWidth=t3.lineWidth||1,this.lineJoin=t3.lineJoin||"miter",this.lineCap=t3.lineCap||"butt",this.path=t3.path||[],this.transform=void 0!==t3.transform?t3.transform.clone():new h2,this.globalCompositeOperation=t3.globalCompositeOperation||"normal",this.globalAlpha=t3.globalAlpha||1,this.clip_path=t3.clip_path||[],this.currentPoint=t3.currentPoint||new c2,this.miterLimit=t3.miterLimit||10,this.lastPoint=t3.lastPoint||new c2,this.lineDashOffset=t3.lineDashOffset||0,this.lineDash=t3.lineDash||[],this.margin=t3.margin||[0,0,0,0],this.prevPageLastElemOffset=t3.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof t3.ignoreClearRect||t3.ignoreClearRect,this};e3.events.push(["initialized",function(){this.context2d=new p2(this),r2=this.internal.f2,n2=this.internal.getCoordinateString,i2=this.internal.getVerticalCoordinateString,o2=this.internal.getHorizontalCoordinate,s2=this.internal.getVerticalCoordinate,c2=this.internal.Point,u2=this.internal.Rectangle,h2=this.internal.Matrix,l2=new d2}]);var p2=function(t3){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var e4=t3;Object.defineProperty(this,"pdf",{get:function(){return e4}});var r3=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r3},set:function(t4){r3=Boolean(t4)}});var n3=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n3},set:function(t4){n3=Boolean(t4)}});var i3=0;Object.defineProperty(this,"posX",{get:function(){return i3},set:function(t4){isNaN(t4)||(i3=t4)}});var a2=0;Object.defineProperty(this,"posY",{get:function(){return a2},set:function(t4){isNaN(t4)||(a2=t4)}}),Object.defineProperty(this,"margin",{get:function(){return l2.margin},set:function(t4){var e6;"number"==typeof t4?e6=[t4,t4,t4,t4]:((e6=new Array(4))[0]=t4[0],e6[1]=t4.length>=2?t4[1]:e6[0],e6[2]=t4.length>=3?t4[2]:e6[0],e6[3]=t4.length>=4?t4[3]:e6[1]),l2.margin=e6}});var o3=!1;Object.defineProperty(this,"autoPaging",{get:function(){return o3},set:function(t4){o3=t4}});var s3=0;Object.defineProperty(this,"lastBreak",{get:function(){return s3},set:function(t4){s3=t4}});var c3=[];Object.defineProperty(this,"pageBreaks",{get:function(){return c3},set:function(t4){c3=t4}}),Object.defineProperty(this,"ctx",{get:function(){return l2},set:function(t4){t4 instanceof d2&&(l2=t4)}}),Object.defineProperty(this,"path",{get:function(){return l2.path},set:function(t4){l2.path=t4}});var u3=[];Object.defineProperty(this,"ctxStack",{get:function(){return u3},set:function(t4){u3=t4}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(t4){var e6;e6=g2(t4),this.ctx.fillStyle=e6.style,this.ctx.isFillTransparent=0===e6.a,this.ctx.fillOpacity=e6.a,this.pdf.setFillColor(e6.r,e6.g,e6.b,{a:e6.a}),this.pdf.setTextColor(e6.r,e6.g,e6.b,{a:e6.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(t4){var e6=g2(t4);this.ctx.strokeStyle=e6.style,this.ctx.isStrokeTransparent=0===e6.a,this.ctx.strokeOpacity=e6.a,0===e6.a?this.pdf.setDrawColor(255,255,255):(e6.a,this.pdf.setDrawColor(e6.r,e6.g,e6.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(t4){-1!==["butt","round","square"].indexOf(t4)&&(this.ctx.lineCap=t4,this.pdf.setLineCap(t4))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(t4){isNaN(t4)||(this.ctx.lineWidth=t4,this.pdf.setLineWidth(t4))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(t4){-1!==["bevel","round","miter"].indexOf(t4)&&(this.ctx.lineJoin=t4,this.pdf.setLineJoin(t4))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(t4){isNaN(t4)||(this.ctx.miterLimit=t4,this.pdf.setMiterLimit(t4))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(t4){this.ctx.textBaseline=t4}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(t4){-1!==["right","end","center","left","start"].indexOf(t4)&&(this.ctx.textAlign=t4)}});var h3=null;var p3=null;Object.defineProperty(this,"fontFaces",{get:function(){return p3},set:function(t4){h3=null,p3=t4}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(t4){var e6;if(this.ctx.font=t4,null!==(e6=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(t4))){var r4=e6[1];e6[2];var n4=e6[3],i4=e6[4];e6[5];var a3=e6[6],o4=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(i4)[2];i4="px"===o4?Math.floor(parseFloat(i4)*this.pdf.internal.scaleFactor):"em"===o4?Math.floor(parseFloat(i4)*this.pdf.getFontSize()):Math.floor(parseFloat(i4)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(i4);var s4=function(t5){var e7,r5,n5=[],i5=t5.trim();if(""===i5)return Wt;if(i5 in Mt)return[Mt[i5]];for(;""!==i5;){switch(r5=null,e7=(i5=Dt(i5)).charAt(0)){case'"':case"'":r5=Rt(i5.substring(1),e7);break;default:r5=Tt(i5)}if(null===r5)return Wt;if(n5.push(r5[0]),""!==(i5=Dt(r5[1]))&&","!==i5.charAt(0))return Wt;i5=i5.replace(/^,/,"")}return n5}(a3);if(this.fontFaces){var c4=function(t3,e3,r2){for(var n2=(r2=r2||{}).defaultFontFamily||"times",i2=Object.assign({},Bt,r2.genericFontFamilies||{}),a2=null,o2=null,s2=0;s2<e3.length;++s2)if(i2[(a2=jt(e3[s2])).family]&&(a2.family=i2[a2.family]),t3.hasOwnProperty(a2.family)){o2=t3[a2.family];break}if(!(o2=o2||t3[n2]))throw new Error("Could not find a font-family for the rule '"+Et(a2)+"' and default family '"+n2+"'.");if(o2=function(t4,e4){if(e4[t4])return e4[t4];var r3=It[t4],n3=r3<=It.normal?-1:1,i3=Ot(e4,kt,r3,n3);if(!i3)throw new Error("Could not find a matching font-stretch value for "+t4);return i3}(a2.stretch,o2),o2=function(t4,e4){if(e4[t4])return e4[t4];for(var r3=Pt[t4],n3=0;n3<r3.length;++n3)if(e4[r3[n3]])return e4[r3[n3]];throw new Error("Could not find a matching font-style for "+t4)}(a2.style,o2),!(o2=function(t4,e4){if(e4[t4])return e4[t4];if(400===t4&&e4[500])return e4[500];if(500===t4&&e4[400])return e4[400];var r3=Ct[t4],n3=Ot(e4,Ft,r3,t4<400?-1:1);if(!n3)throw new Error("Could not find a matching font-weight for value "+t4);return n3}(a2.weight,o2)))throw new Error("Failed to resolve a font for the rule '"+Et(a2)+"'.");return o2}(function(t4,e6){if(null===h3){var r4=(t5=t4.getFontList(),e7=[],Object.keys(t5).forEach(function(r5){t5[r5].forEach(function(t6){var n4=null;switch(t6){case"bold":n4={family:r5,weight:"bold"};break;case"italic":n4={family:r5,style:"italic"};break;case"bolditalic":n4={family:r5,weight:"bold",style:"italic"};break;case"":case"normal":n4={family:r5}}null!==n4&&(n4.ref={name:r5,style:t6},e7.push(n4))})}),e7);h3=function(t5){for(var e7={},r5=0;r5<t5.length;++r5){var n4=jt(t5[r5]),i4=n4.family,a3=n4.stretch,o4=n4.style,s4=n4.weight;e7[i4]=e7[i4]||{},e7[i4][a3]=e7[i4][a3]||{},e7[i4][a3][o4]=e7[i4][a3][o4]||{},e7[i4][a3][o4][s4]=n4}return e7}(r4.concat(e6))}var t5,e7;return h3}(this.pdf,this.fontFaces),s4.map(function(t5){return{family:t5,stretch:"normal",weight:n4,style:r4}}));this.pdf.setFont(c4.ref.name,c4.ref.style)}else{var u4="";("bold"===n4||parseInt(n4,10)>=700||"bold"===r4)&&(u4="bold"),"italic"===r4&&(u4+="italic"),0===u4.length&&(u4="normal");for(var h4="",l3={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},d3=0;d3<s4.length;d3++){if(void 0!==this.pdf.internal.getFont(s4[d3],u4,{noFallback:!0,disableWarning:!0})){h4=s4[d3];break}if("bolditalic"===u4&&void 0!==this.pdf.internal.getFont(s4[d3],"bold",{noFallback:!0,disableWarning:!0}))h4=s4[d3],u4="bold";else if(void 0!==this.pdf.internal.getFont(s4[d3],"normal",{noFallback:!0,disableWarning:!0})){h4=s4[d3],u4="normal";break}}if(""===h4)for(var p4=0;p4<s4.length;p4++)if(l3[s4[p4]]){h4=l3[s4[p4]];break}h4=""===h4?"Times":h4,this.pdf.setFont(h4,u4)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(t4){this.ctx.globalCompositeOperation=t4}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(t4){this.ctx.globalAlpha=t4}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(t4){this.ctx.lineDashOffset=t4,T2.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(t4){this.ctx.lineDash=t4,T2.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(t4){this.ctx.ignoreClearRect=Boolean(t4)}})};p2.prototype.setLineDash=function(t3){this.lineDash=t3},p2.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p2.prototype.fill=function(){A2.call(this,"fill",!1)},p2.prototype.stroke=function(){A2.call(this,"stroke",!1)},p2.prototype.beginPath=function(){this.path=[{type:"begin"}]},p2.prototype.moveTo=function(t3,e4){if(isNaN(t3)||isNaN(e4))throw a.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r3=this.ctx.transform.applyToPoint(new c2(t3,e4));this.path.push({type:"mt",x:r3.x,y:r3.y}),this.ctx.lastPoint=new c2(t3,e4)},p2.prototype.closePath=function(){var e4=new c2(0,0),r3=0;for(r3=this.path.length-1;-1!==r3;r3--)if("begin"===this.path[r3].type&&"object"===_typeof$4(this.path[r3+1])&&"number"==typeof this.path[r3+1].x){e4=new c2(this.path[r3+1].x,this.path[r3+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c2(e4.x,e4.y)},p2.prototype.lineTo=function(t3,e4){if(isNaN(t3)||isNaN(e4))throw a.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r3=this.ctx.transform.applyToPoint(new c2(t3,e4));this.path.push({type:"lt",x:r3.x,y:r3.y}),this.ctx.lastPoint=new c2(r3.x,r3.y)},p2.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A2.call(this,null,!0)},p2.prototype.quadraticCurveTo=function(t3,e4,r3,n3){if(isNaN(r3)||isNaN(n3)||isNaN(t3)||isNaN(e4))throw a.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var i3=this.ctx.transform.applyToPoint(new c2(r3,n3)),o3=this.ctx.transform.applyToPoint(new c2(t3,e4));this.path.push({type:"qct",x1:o3.x,y1:o3.y,x:i3.x,y:i3.y}),this.ctx.lastPoint=new c2(i3.x,i3.y)},p2.prototype.bezierCurveTo=function(t3,e4,r3,n3,i3,o3){if(isNaN(i3)||isNaN(o3)||isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n3))throw a.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var s3=this.ctx.transform.applyToPoint(new c2(i3,o3)),u3=this.ctx.transform.applyToPoint(new c2(t3,e4)),h3=this.ctx.transform.applyToPoint(new c2(r3,n3));this.path.push({type:"bct",x1:u3.x,y1:u3.y,x2:h3.x,y2:h3.y,x:s3.x,y:s3.y}),this.ctx.lastPoint=new c2(s3.x,s3.y)},p2.prototype.arc=function(t3,e4,r3,n3,i3,o3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n3)||isNaN(i3))throw a.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(o3=Boolean(o3),!this.ctx.transform.isIdentity){var s3=this.ctx.transform.applyToPoint(new c2(t3,e4));t3=s3.x,e4=s3.y;var u3=this.ctx.transform.applyToPoint(new c2(0,r3)),h3=this.ctx.transform.applyToPoint(new c2(0,0));r3=Math.sqrt(Math.pow(u3.x-h3.x,2)+Math.pow(u3.y-h3.y,2))}Math.abs(i3-n3)>=2*Math.PI&&(n3=0,i3=2*Math.PI),this.path.push({type:"arc",x:t3,y:e4,radius:r3,startAngle:n3,endAngle:i3,counterclockwise:o3})},p2.prototype.arcTo=function(t3,e4,r3,n3,i3){throw new Error("arcTo not implemented.")},p2.prototype.rect=function(t3,e4,r3,n3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n3))throw a.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(t3,e4),this.lineTo(t3+r3,e4),this.lineTo(t3+r3,e4+n3),this.lineTo(t3,e4+n3),this.lineTo(t3,e4),this.lineTo(t3+r3,e4),this.lineTo(t3,e4)},p2.prototype.fillRect=function(t3,e4,r3,n3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n3))throw a.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m2.call(this)){var i3={};"butt"!==this.lineCap&&(i3.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(i3.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(t3,e4,r3,n3),this.fill(),i3.hasOwnProperty("lineCap")&&(this.lineCap=i3.lineCap),i3.hasOwnProperty("lineJoin")&&(this.lineJoin=i3.lineJoin)}},p2.prototype.strokeRect=function(t3,e4,r3,n3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n3))throw a.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v2.call(this)||(this.beginPath(),this.rect(t3,e4,r3,n3),this.stroke())},p2.prototype.clearRect=function(t3,e4,r3,n3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n3))throw a.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(t3,e4,r3,n3))},p2.prototype.save=function(t3){t3="boolean"!=typeof t3||t3;for(var e4=this.pdf.internal.getCurrentPageInfo().pageNumber,r3=0;r3<this.pdf.internal.getNumberOfPages();r3++)this.pdf.setPage(r3+1),this.pdf.internal.out("q");if(this.pdf.setPage(e4),t3){this.ctx.fontSize=this.pdf.internal.getFontSize();var n3=new d2(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n3}},p2.prototype.restore=function(t3){t3="boolean"!=typeof t3||t3;for(var e4=this.pdf.internal.getCurrentPageInfo().pageNumber,r3=0;r3<this.pdf.internal.getNumberOfPages();r3++)this.pdf.setPage(r3+1),this.pdf.internal.out("Q");this.pdf.setPage(e4),t3&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p2.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g2=function(t3){var e4,r3,n3,i3;if(!0===t3.isCanvasGradient&&(t3=t3.getColor()),!t3)return{r:0,g:0,b:0,a:0,style:t3};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(t3))e4=0,r3=0,n3=0,i3=0;else{var a2=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(t3);if(null!==a2)e4=parseInt(a2[1]),r3=parseInt(a2[2]),n3=parseInt(a2[3]),i3=1;else if(null!==(a2=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(t3)))e4=parseInt(a2[1]),r3=parseInt(a2[2]),n3=parseInt(a2[3]),i3=parseFloat(a2[4]);else{if(i3=1,"string"==typeof t3&&"#"!==t3.charAt(0)){var o3=new f(t3);t3=o3.ok?o3.toHex():"#000000"}4===t3.length?(e4=t3.substring(1,2),e4+=e4,r3=t3.substring(2,3),r3+=r3,n3=t3.substring(3,4),n3+=n3):(e4=t3.substring(1,3),r3=t3.substring(3,5),n3=t3.substring(5,7)),e4=parseInt(e4,16),r3=parseInt(r3,16),n3=parseInt(n3,16)}}return{r:e4,g:r3,b:n3,a:i3,style:t3}},m2=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},v2=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};p2.prototype.fillText=function(t3,e4,r3,n3){if(isNaN(e4)||isNaN(r3)||"string"!=typeof t3)throw a.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n3=isNaN(n3)?void 0:n3,!m2.call(this)){var i3=q2(this.ctx.transform.rotation),o3=this.ctx.transform.scaleX;C2.call(this,{text:t3,x:e4,y:r3,scale:o3,angle:i3,align:this.textAlign,maxWidth:n3})}},p2.prototype.strokeText=function(t3,e4,r3,n3){if(isNaN(e4)||isNaN(r3)||"string"!=typeof t3)throw a.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v2.call(this)){n3=isNaN(n3)?void 0:n3;var i3=q2(this.ctx.transform.rotation),o3=this.ctx.transform.scaleX;C2.call(this,{text:t3,x:e4,y:r3,scale:o3,renderingMode:"stroke",angle:i3,align:this.textAlign,maxWidth:n3})}},p2.prototype.measureText=function(t3){if("string"!=typeof t3)throw a.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var e4=this.pdf,r3=this.pdf.internal.scaleFactor,n3=e4.internal.getFontSize(),i3=e4.getStringUnitWidth(t3)*n3/e4.internal.scaleFactor;return new function(t4){var e6=(t4=t4||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return e6}}),this}({width:i3*=Math.round(96*r3/72*1e4)/1e4})},p2.prototype.scale=function(t3,e4){if(isNaN(t3)||isNaN(e4))throw a.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r3=new h2(t3,0,0,e4,0,0);this.ctx.transform=this.ctx.transform.multiply(r3)},p2.prototype.rotate=function(t3){if(isNaN(t3))throw a.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var e4=new h2(Math.cos(t3),Math.sin(t3),-Math.sin(t3),Math.cos(t3),0,0);this.ctx.transform=this.ctx.transform.multiply(e4)},p2.prototype.translate=function(t3,e4){if(isNaN(t3)||isNaN(e4))throw a.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r3=new h2(1,0,0,1,t3,e4);this.ctx.transform=this.ctx.transform.multiply(r3)},p2.prototype.transform=function(t3,e4,r3,n3,i3,o3){if(isNaN(t3)||isNaN(e4)||isNaN(r3)||isNaN(n3)||isNaN(i3)||isNaN(o3))throw a.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var s3=new h2(t3,e4,r3,n3,i3,o3);this.ctx.transform=this.ctx.transform.multiply(s3)},p2.prototype.setTransform=function(t3,e4,r3,n3,i3,a2){t3=isNaN(t3)?1:t3,e4=isNaN(e4)?0:e4,r3=isNaN(r3)?0:r3,n3=isNaN(n3)?1:n3,i3=isNaN(i3)?0:i3,a2=isNaN(a2)?0:a2,this.ctx.transform=new h2(t3,e4,r3,n3,i3,a2)};var b2=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p2.prototype.drawImage=function(t3,e4,r3,n3,i3,a2,o3,s3,c3){var l3=this.pdf.getImageProperties(t3),f2=1,d3=1,p3=1,g3=1;void 0!==n3&&void 0!==s3&&(p3=s3/n3,g3=c3/i3,f2=l3.width/n3*s3/n3,d3=l3.height/i3*c3/i3),void 0===a2&&(a2=e4,o3=r3,e4=0,r3=0),void 0!==n3&&void 0===s3&&(s3=n3,c3=i3),void 0===n3&&void 0===s3&&(s3=l3.width,c3=l3.height);for(var m3,v3=this.ctx.transform.decompose(),w3=q2(v3.rotate.shx),A3=new h2,S3=(A3=(A3=(A3=A3.multiply(v3.translate)).multiply(v3.skew)).multiply(v3.scale)).applyToRectangle(new u2(a2-e4*p3,o3-r3*g3,n3*f2,i3*d3)),_3=y2.call(this,S3),P3=[],k3=0;k3<_3.length;k3+=1)-1===P3.indexOf(_3[k3])&&P3.push(_3[k3]);if(L2(P3),this.autoPaging)for(var I3=P3[0],F3=P3[P3.length-1],C3=I3;C3<F3+1;C3++){this.pdf.setPage(C3);var j3=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],O3=1===C3?this.posY+this.margin[0]:this.margin[0],B3=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],M3=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],E3=1===C3?0:B3+(C3-2)*M3;if(0!==this.ctx.clip_path.length){var D3=this.path;m3=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N2(m3,this.posX+this.margin[3],-E3+O3+this.ctx.prevPageLastElemOffset),x2.call(this,"fill",!0),this.path=D3}var R3=JSON.parse(JSON.stringify(S3));R3=N2([R3],this.posX+this.margin[3],-E3+O3+this.ctx.prevPageLastElemOffset)[0];var T3=(C3>I3||C3<F3)&&b2.call(this);T3&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],j3,M3,null).clip().discardPath()),this.pdf.addImage(t3,"JPEG",R3.x,R3.y,R3.w,R3.h,null,null,w3),T3&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(t3,"JPEG",S3.x,S3.y,S3.w,S3.h,null,null,w3)};var y2=function(t3,e4,r3){var n3=[];e4=e4||this.pdf.internal.pageSize.width,r3=r3||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var i3=this.posY+this.ctx.prevPageLastElemOffset;switch(t3.type){default:case"mt":case"lt":n3.push(Math.floor((t3.y+i3)/r3)+1);break;case"arc":n3.push(Math.floor((t3.y+i3-t3.radius)/r3)+1),n3.push(Math.floor((t3.y+i3+t3.radius)/r3)+1);break;case"qct":var a2=D2(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t3.x1,t3.y1,t3.x,t3.y);n3.push(Math.floor((a2.y+i3)/r3)+1),n3.push(Math.floor((a2.y+a2.h+i3)/r3)+1);break;case"bct":var o3=R2(this.ctx.lastPoint.x,this.ctx.lastPoint.y,t3.x1,t3.y1,t3.x2,t3.y2,t3.x,t3.y);n3.push(Math.floor((o3.y+i3)/r3)+1),n3.push(Math.floor((o3.y+o3.h+i3)/r3)+1);break;case"rect":n3.push(Math.floor((t3.y+i3)/r3)+1),n3.push(Math.floor((t3.y+t3.h+i3)/r3)+1)}for(var s3=0;s3<n3.length;s3+=1)for(;this.pdf.internal.getNumberOfPages()<n3[s3];)w2.call(this);return n3},w2=function(){var t3=this.fillStyle,e4=this.strokeStyle,r3=this.font,n3=this.lineCap,i3=this.lineWidth,a2=this.lineJoin;this.pdf.addPage(),this.fillStyle=t3,this.strokeStyle=e4,this.font=r3,this.lineCap=n3,this.lineWidth=i3,this.lineJoin=a2},N2=function(t3,e4,r3){for(var n3=0;n3<t3.length;n3++)switch(t3[n3].type){case"bct":t3[n3].x2+=e4,t3[n3].y2+=r3;case"qct":t3[n3].x1+=e4,t3[n3].y1+=r3;default:t3[n3].x+=e4,t3[n3].y+=r3}return t3},L2=function(t3){return t3.sort(function(t4,e4){return t4-e4})},A2=function(t3,e4){for(var r3,n3,i3=this.fillStyle,a2=this.strokeStyle,o3=this.lineCap,s3=this.lineWidth,c3=Math.abs(s3*this.ctx.transform.scaleX),u3=this.lineJoin,h3=JSON.parse(JSON.stringify(this.path)),l3=JSON.parse(JSON.stringify(this.path)),f2=[],d3=0;d3<l3.length;d3++)if(void 0!==l3[d3].x)for(var p3=y2.call(this,l3[d3]),g3=0;g3<p3.length;g3+=1)-1===f2.indexOf(p3[g3])&&f2.push(p3[g3]);for(var m3=0;m3<f2.length;m3++)for(;this.pdf.internal.getNumberOfPages()<f2[m3];)w2.call(this);if(L2(f2),this.autoPaging)for(var v3=f2[0],A3=f2[f2.length-1],S3=v3;S3<A3+1;S3++){this.pdf.setPage(S3),this.fillStyle=i3,this.strokeStyle=a2,this.lineCap=o3,this.lineWidth=c3,this.lineJoin=u3;var _3=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],P3=1===S3?this.posY+this.margin[0]:this.margin[0],k3=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I3=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],F3=1===S3?0:k3+(S3-2)*I3;if(0!==this.ctx.clip_path.length){var C3=this.path;r3=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N2(r3,this.posX+this.margin[3],-F3+P3+this.ctx.prevPageLastElemOffset),x2.call(this,t3,!0),this.path=C3}if(n3=JSON.parse(JSON.stringify(h3)),this.path=N2(n3,this.posX+this.margin[3],-F3+P3+this.ctx.prevPageLastElemOffset),!1===e4||0===S3){var j3=(S3>v3||S3<A3)&&b2.call(this);j3&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_3,I3,null).clip().discardPath()),x2.call(this,t3,e4),j3&&this.pdf.restoreGraphicsState()}this.lineWidth=s3}else this.lineWidth=c3,x2.call(this,t3,e4),this.lineWidth=s3;this.path=h3},x2=function(t3,e4){if(("stroke"!==t3||e4||!v2.call(this))&&("stroke"===t3||e4||!m2.call(this))){for(var r3,n3,i3=[],a2=this.path,o3=0;o3<a2.length;o3++){var s3=a2[o3];switch(s3.type){case"begin":i3.push({begin:!0});break;case"close":i3.push({close:!0});break;case"mt":i3.push({start:s3,deltas:[],abs:[]});break;case"lt":var c3=i3.length;if(a2[o3-1]&&!isNaN(a2[o3-1].x)&&(r3=[s3.x-a2[o3-1].x,s3.y-a2[o3-1].y],c3>0))for(;c3>=0;c3--)if(!0!==i3[c3-1].close&&!0!==i3[c3-1].begin){i3[c3-1].deltas.push(r3),i3[c3-1].abs.push(s3);break}break;case"bct":r3=[s3.x1-a2[o3-1].x,s3.y1-a2[o3-1].y,s3.x2-a2[o3-1].x,s3.y2-a2[o3-1].y,s3.x-a2[o3-1].x,s3.y-a2[o3-1].y],i3[i3.length-1].deltas.push(r3);break;case"qct":var u3=a2[o3-1].x+2/3*(s3.x1-a2[o3-1].x),h3=a2[o3-1].y+2/3*(s3.y1-a2[o3-1].y),l3=s3.x+2/3*(s3.x1-s3.x),f2=s3.y+2/3*(s3.y1-s3.y),d3=s3.x,p3=s3.y;r3=[u3-a2[o3-1].x,h3-a2[o3-1].y,l3-a2[o3-1].x,f2-a2[o3-1].y,d3-a2[o3-1].x,p3-a2[o3-1].y],i3[i3.length-1].deltas.push(r3);break;case"arc":i3.push({deltas:[],abs:[],arc:!0}),Array.isArray(i3[i3.length-1].abs)&&i3[i3.length-1].abs.push(s3)}}n3=e4?null:"stroke"===t3?"stroke":"fill";for(var g3=!1,b3=0;b3<i3.length;b3++)if(i3[b3].arc)for(var y3=i3[b3].abs,w3=0;w3<y3.length;w3++){var N3=y3[w3];"arc"===N3.type?P2.call(this,N3.x,N3.y,N3.radius,N3.startAngle,N3.endAngle,N3.counterclockwise,void 0,e4,!g3):j2.call(this,N3.x,N3.y),g3=!0}else if(!0===i3[b3].close)this.pdf.internal.out("h"),g3=!1;else if(!0!==i3[b3].begin){var L3=i3[b3].start.x,A3=i3[b3].start.y;O2.call(this,i3[b3].deltas,L3,A3),g3=!0}n3&&k2.call(this,n3),e4&&I2.call(this)}},S2=function(t3){var e4=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r3=e4*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return t3-r3;case"top":return t3+e4-r3;case"hanging":return t3+e4-2*r3;case"middle":return t3+e4/2-r3;default:return t3}},_2=function(t3){return t3+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p2.prototype.createLinearGradient=function(){var t3=function(){};return t3.colorStops=[],t3.addColorStop=function(t4,e4){this.colorStops.push([t4,e4])},t3.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},t3.isCanvasGradient=!0,t3},p2.prototype.createPattern=function(){return this.createLinearGradient()},p2.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P2=function(t3,e4,r3,n3,i3,a2,o3,s3,c3){for(var u3=M2.call(this,r3,n3,i3,a2),h3=0;h3<u3.length;h3++){var l3=u3[h3];0===h3&&(c3?F2.call(this,l3.x1+t3,l3.y1+e4):j2.call(this,l3.x1+t3,l3.y1+e4)),B2.call(this,t3,e4,l3.x2,l3.y2,l3.x3,l3.y3,l3.x4,l3.y4)}s3?I2.call(this):k2.call(this,o3)},k2=function(t3){switch(t3){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I2=function(){this.pdf.clip(),this.pdf.discardPath()},F2=function(t3,e4){this.pdf.internal.out(n2(t3)+" "+i2(e4)+" m")},C2=function(t3){var e4;switch(t3.align){case"right":case"end":e4="right";break;case"center":e4="center";break;default:e4="left"}var r3=this.pdf.getTextDimensions(t3.text),n3=S2.call(this,t3.y),i3=_2.call(this,n3)-r3.h,a2=this.ctx.transform.applyToPoint(new c2(t3.x,n3)),o3=this.ctx.transform.decompose(),s3=new h2;s3=(s3=(s3=s3.multiply(o3.translate)).multiply(o3.skew)).multiply(o3.scale);for(var l3,f2,d3,p3=this.ctx.transform.applyToRectangle(new u2(t3.x,n3,r3.w,r3.h)),g3=s3.applyToRectangle(new u2(t3.x,i3,r3.w,r3.h)),m3=y2.call(this,g3),v3=[],w3=0;w3<m3.length;w3+=1)-1===v3.indexOf(m3[w3])&&v3.push(m3[w3]);if(L2(v3),this.autoPaging)for(var A3=v3[0],P3=v3[v3.length-1],k3=A3;k3<P3+1;k3++){this.pdf.setPage(k3);var I3=1===k3?this.posY+this.margin[0]:this.margin[0],F3=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],C3=this.pdf.internal.pageSize.height-this.margin[2],j3=C3-this.margin[0],O3=this.pdf.internal.pageSize.width-this.margin[1],B3=O3-this.margin[3],M3=1===k3?0:F3+(k3-2)*j3;if(0!==this.ctx.clip_path.length){var E3=this.path;l3=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N2(l3,this.posX+this.margin[3],-1*M3+I3),x2.call(this,"fill",!0),this.path=E3}var q3=N2([JSON.parse(JSON.stringify(g3))],this.posX+this.margin[3],-M3+I3+this.ctx.prevPageLastElemOffset)[0];t3.scale>=.01&&(f2=this.pdf.internal.getFontSize(),this.pdf.setFontSize(f2*t3.scale),d3=this.lineWidth,this.lineWidth=d3*t3.scale);var D3="text"!==this.autoPaging;if(D3||q3.y+q3.h<=C3){if(D3||q3.y>=I3&&q3.x<=O3){var R3=D3?t3.text:this.pdf.splitTextToSize(t3.text,t3.maxWidth||O3-q3.x)[0],T3=N2([JSON.parse(JSON.stringify(p3))],this.posX+this.margin[3],-M3+I3+this.ctx.prevPageLastElemOffset)[0],U2=D3&&(k3>A3||k3<P3)&&b2.call(this);U2&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],B3,j3,null).clip().discardPath()),this.pdf.text(R3,T3.x,T3.y,{angle:t3.angle,align:e4,renderingMode:t3.renderingMode}),U2&&this.pdf.restoreGraphicsState()}}else q3.y<C3&&(this.ctx.prevPageLastElemOffset+=C3-q3.y);t3.scale>=.01&&(this.pdf.setFontSize(f2),this.lineWidth=d3)}else t3.scale>=.01&&(f2=this.pdf.internal.getFontSize(),this.pdf.setFontSize(f2*t3.scale),d3=this.lineWidth,this.lineWidth=d3*t3.scale),this.pdf.text(t3.text,a2.x+this.posX,a2.y+this.posY,{angle:t3.angle,align:e4,renderingMode:t3.renderingMode,maxWidth:t3.maxWidth}),t3.scale>=.01&&(this.pdf.setFontSize(f2),this.lineWidth=d3)},j2=function(t3,e4,r3,a2){r3=r3||0,a2=a2||0,this.pdf.internal.out(n2(t3+r3)+" "+i2(e4+a2)+" l")},O2=function(t3,e4,r3){return this.pdf.lines(t3,e4,r3,null,null)},B2=function(t3,e4,n3,i3,a2,c3,u3,h3){this.pdf.internal.out([r2(o2(n3+t3)),r2(s2(i3+e4)),r2(o2(a2+t3)),r2(s2(c3+e4)),r2(o2(u3+t3)),r2(s2(h3+e4)),"c"].join(" "))},M2=function(t3,e4,r3,n3){for(var i3=2*Math.PI,a2=Math.PI/2;e4>r3;)e4-=i3;var o3=Math.abs(r3-e4);o3<i3&&n3&&(o3=i3-o3);for(var s3=[],c3=n3?-1:1,u3=e4;o3>1e-5;){var h3=u3+c3*Math.min(o3,a2);s3.push(E2.call(this,t3,u3,h3)),o3-=Math.abs(h3-u3),u3=h3}return s3},E2=function(t3,e4,r3){var n3=(r3-e4)/2,i3=t3*Math.cos(n3),a2=t3*Math.sin(n3),o3=i3,s3=-a2,c3=o3*o3+s3*s3,u3=c3+o3*i3+s3*a2,h3=4/3*(Math.sqrt(2*c3*u3)-u3)/(o3*a2-s3*i3),l3=o3-h3*s3,f2=s3+h3*o3,d3=l3,p3=-f2,g3=n3+e4,m3=Math.cos(g3),v3=Math.sin(g3);return{x1:t3*Math.cos(e4),y1:t3*Math.sin(e4),x2:l3*m3-f2*v3,y2:l3*v3+f2*m3,x3:d3*m3-p3*v3,y3:d3*v3+p3*m3,x4:t3*Math.cos(r3),y4:t3*Math.sin(r3)}},q2=function(t3){return 180*t3/Math.PI},D2=function(t3,e4,r3,n3,i3,a2){var o3=t3+.5*(r3-t3),s3=e4+.5*(n3-e4),c3=i3+.5*(r3-i3),h3=a2+.5*(n3-a2),l3=Math.min(t3,i3,o3,c3),f2=Math.max(t3,i3,o3,c3),d3=Math.min(e4,a2,s3,h3),p3=Math.max(e4,a2,s3,h3);return new u2(l3,d3,f2-l3,p3-d3)},R2=function(t3,e4,r3,n3,i3,a2,o3,s3){var c3,h3,l3,f2,d3,p3,g3,m3,v3,b3,y3,w3,N3,L3,A3=r3-t3,x3=n3-e4,S3=i3-r3,_3=a2-n3,P3=o3-i3,k3=s3-a2;for(h3=0;h3<41;h3++)v3=(g3=(l3=t3+(c3=h3/40)*A3)+c3*((d3=r3+c3*S3)-l3))+c3*(d3+c3*(i3+c3*P3-d3)-g3),b3=(m3=(f2=e4+c3*x3)+c3*((p3=n3+c3*_3)-f2))+c3*(p3+c3*(a2+c3*k3-p3)-m3),0==h3?(y3=v3,w3=b3,N3=v3,L3=b3):(y3=Math.min(y3,v3),w3=Math.min(w3,b3),N3=Math.max(N3,v3),L3=Math.max(L3,b3));return new u2(Math.round(y3),Math.round(w3),Math.round(N3-y3),Math.round(L3-w3))},T2=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var t3,e4,r3=(t3=this.ctx.lineDash,e4=this.ctx.lineDashOffset,JSON.stringify({lineDash:t3,lineDashOffset:e4}));this.prevLineDash!==r3&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r3)}}}(E.API),function(t3){var r2=function(t4){var e3,r3,n3,i3,a3,o2,s2,c2,u2,h2;for(r3=[],n3=0,i3=(t4+=e3="\0\0\0\0".slice(t4.length%4||4)).length;i3>n3;n3+=4)0!==(a3=(t4.charCodeAt(n3)<<24)+(t4.charCodeAt(n3+1)<<16)+(t4.charCodeAt(n3+2)<<8)+t4.charCodeAt(n3+3))?(o2=(a3=((a3=((a3=((a3=(a3-(h2=a3%85))/85)-(u2=a3%85))/85)-(c2=a3%85))/85)-(s2=a3%85))/85)%85,r3.push(o2+33,s2+33,c2+33,u2+33,h2+33)):r3.push(122);return function(t5,e4){for(var r4=e4;r4>0;r4--)t5.pop()}(r3,e3.length),String.fromCharCode.apply(String,r3)+"~>"},n2=function(t4){var e3,r3,n3,i3,a3,o2=String,s2="length",u2="charCodeAt",h2="slice",l2="replace";for(t4[h2](-2),t4=t4[h2](0,-2)[l2](/\s/g,"")[l2]("z","!!!!!"),n3=[],i3=0,a3=(t4+=e3="uuuuu"[h2](t4[s2]%5||5))[s2];a3>i3;i3+=5)r3=52200625*(t4[u2](i3)-33)+614125*(t4[u2](i3+1)-33)+7225*(t4[u2](i3+2)-33)+85*(t4[u2](i3+3)-33)+(t4[u2](i3+4)-33),n3.push(255&r3>>24,255&r3>>16,255&r3>>8,255&r3);return function(t5,e4){for(var r4=e4;r4>0;r4--)t5.pop()}(n3,e3[s2]),o2.fromCharCode.apply(o2,n3)},i2=function(t4){var e3=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(t4=t4.replace(/\s/g,"")).indexOf(">")&&(t4=t4.substr(0,t4.indexOf(">"))),t4.length%2&&(t4+="0"),!1===e3.test(t4))return"";for(var r3="",n3=0;n3<t4.length;n3+=2)r3+=String.fromCharCode("0x"+(t4[n3]+t4[n3+1]));return r3},a2=function(t4){for(var r3=new Uint8Array(t4.length),n3=t4.length;n3--;)r3[n3]=t4.charCodeAt(n3);return(r3=zlibSync(r3)).reduce(function(t5,e3){return t5+String.fromCharCode(e3)},"")};t3.processDataByFilters=function(t4,e3){var o2=0,s2=t4||"",c2=[];for("string"==typeof(e3=e3||[])&&(e3=[e3]),o2=0;o2<e3.length;o2+=1)switch(e3[o2]){case"ASCII85Decode":case"/ASCII85Decode":s2=n2(s2),c2.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":s2=r2(s2),c2.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":s2=i2(s2),c2.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":s2=s2.split("").map(function(t5){return("0"+t5.charCodeAt().toString(16)).slice(-2)}).join("")+">",c2.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":s2=a2(s2),c2.push("/FlateDecode");break;default:throw new Error('The filter: "'+e3[o2]+'" is not implemented')}return{data:s2,reverseChain:c2.reverse().join(" ")}}}(E.API),function(t3){t3.loadFile=function(t4,e3,r2){return function(t5,e4,r3){e4=!1!==e4,r3="function"==typeof r3?r3:function(){};var n2=void 0;try{n2=function(t6,e6,r4){var n3=new XMLHttpRequest,i2=0,a2=function(t7){var e7=t7.length,r5=[],n4=String.fromCharCode;for(i2=0;i2<e7;i2+=1)r5.push(n4(255&t7.charCodeAt(i2)));return r5.join("")};if(n3.open("GET",t6,!e6),n3.overrideMimeType("text/plain; charset=x-user-defined"),!1===e6&&(n3.onload=function(){200===n3.status?r4(a2(this.responseText)):r4(void 0)}),n3.send(null),e6&&200===n3.status)return a2(n3.responseText)}(t5,e4,r3)}catch(t6){}return n2}(t4,e3,r2)},t3.loadImageFile=t3.loadFile}(E.API),function(e3){function r2(){return(n.html2canvas?Promise.resolve(n.html2canvas):__vitePreload(()=>import("./html2canvas.esm-DPVAw4pr.js"),[])).catch(function(t3){return Promise.reject(new Error("Could not load html2canvas: "+t3))}).then(function(t3){return t3.default?t3.default:t3})}function i2(){return(n.DOMPurify?Promise.resolve(n.DOMPurify):__vitePreload(()=>import("./purify.es-KWuZpClz.js"),[])).catch(function(t3){return Promise.reject(new Error("Could not load dompurify: "+t3))}).then(function(t3){return t3.default?t3.default:t3})}var a2=function(e4){var r3=_typeof$4(e4);return"undefined"===r3?"undefined":"string"===r3||e4 instanceof String?"string":"number"===r3||e4 instanceof Number?"number":"function"===r3||e4 instanceof Function?"function":e4&&e4.constructor===Array?"array":e4&&1===e4.nodeType?"element":"object"===r3?"object":"unknown"},o2=function(t3,e4){var r3=document.createElement(t3);for(var n2 in e4.className&&(r3.className=e4.className),e4.innerHTML&&e4.dompurify&&(r3.innerHTML=e4.dompurify.sanitize(e4.innerHTML)),e4.style)r3.style[n2]=e4.style[n2];return r3},s2=function t3(e4){var r3=Object.assign(t3.convert(Promise.resolve()),JSON.parse(JSON.stringify(t3.template))),n2=t3.convert(Promise.resolve(),r3);return(n2=n2.setProgress(1,t3,1,[t3])).set(e4)};(s2.prototype=Object.create(Promise.prototype)).constructor=s2,s2.convert=function(t3,e4){return t3.__proto__=e4||s2.prototype,t3},s2.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s2.prototype.from=function(t3,e4){return this.then(function(){switch(e4=e4||function(t4){switch(a2(t4)){case"string":return"string";case"element":return"canvas"===t4.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(t3)){case"string":return this.then(i2).then(function(e6){return this.set({src:o2("div",{innerHTML:t3,dompurify:e6})})});case"element":return this.set({src:t3});case"canvas":return this.set({canvas:t3});case"img":return this.set({img:t3});default:return this.error("Unknown source type.")}})},s2.prototype.to=function(t3){switch(t3){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s2.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var t3={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},e4=function t4(e6,r3){for(var n2=3===e6.nodeType?document.createTextNode(e6.nodeValue):e6.cloneNode(!1),i3=e6.firstChild;i3;i3=i3.nextSibling)!0!==r3&&1===i3.nodeType&&"SCRIPT"===i3.nodeName||n2.appendChild(t4(i3,r3));return 1===e6.nodeType&&("CANVAS"===e6.nodeName?(n2.width=e6.width,n2.height=e6.height,n2.getContext("2d").drawImage(e6,0,0)):"TEXTAREA"!==e6.nodeName&&"SELECT"!==e6.nodeName||(n2.value=e6.value),n2.addEventListener("load",function(){n2.scrollTop=e6.scrollTop,n2.scrollLeft=e6.scrollLeft},!0)),n2}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===e4.tagName&&(t3.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=o2("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=o2("div",{className:"html2pdf__container",style:t3}),this.prop.container.appendChild(e4),this.prop.container.firstChild.appendChild(o2("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s2.prototype.toCanvas=function(){var t3=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t3).then(r2).then(function(t4){var e4=Object.assign({},this.opt.html2canvas);return delete e4.onrendered,t4(this.prop.container,e4)}).then(function(t4){(this.opt.html2canvas.onrendered||function(){})(t4),this.prop.canvas=t4,document.body.removeChild(this.prop.overlay)})},s2.prototype.toContext2d=function(){var t3=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(t3).then(r2).then(function(t4){var e4=this.opt.jsPDF,r3=this.opt.fontFaces,n2="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,i3=Object.assign({async:!0,allowTaint:!0,scale:n2,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete i3.onrendered,e4.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,e4.context2d.posX=this.opt.x,e4.context2d.posY=this.opt.y,e4.context2d.margin=this.opt.margin,e4.context2d.fontFaces=r3,r3)for(var a3=0;a3<r3.length;++a3){var o3=r3[a3],s3=o3.src.find(function(t5){return"truetype"===t5.format});s3&&e4.addFont(s3.url,o3.ref.name,o3.ref.style)}return i3.windowHeight=i3.windowHeight||0,i3.windowHeight=0==i3.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):i3.windowHeight,e4.context2d.save(!0),t4(this.prop.container,i3)}).then(function(t4){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(t4),this.prop.canvas=t4,document.body.removeChild(this.prop.overlay)})},s2.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var t3=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=t3})},s2.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s2.prototype.output=function(t3,e4,r3){return"img"===(r3=r3||"pdf").toLowerCase()||"image"===r3.toLowerCase()?this.outputImg(t3,e4):this.outputPdf(t3,e4)},s2.prototype.outputPdf=function(t3,e4){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(t3,e4)})},s2.prototype.outputImg=function(t3){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(t3){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+t3+'" is not supported.'}})},s2.prototype.save=function(t3){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(t3?{filename:t3}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s2.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s2.prototype.set=function(t3){if("object"!==a2(t3))return this;var e4=Object.keys(t3||{}).map(function(e6){if(e6 in s2.template.prop)return function(){this.prop[e6]=t3[e6]};switch(e6){case"margin":return this.setMargin.bind(this,t3.margin);case"jsPDF":return function(){return this.opt.jsPDF=t3.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,t3.pageSize);default:return function(){this.opt[e6]=t3[e6]}}},this);return this.then(function(){return this.thenList(e4)})},s2.prototype.get=function(t3,e4){return this.then(function(){var r3=t3 in s2.template.prop?this.prop[t3]:this.opt[t3];return e4?e4(r3):r3})},s2.prototype.setMargin=function(t3){return this.then(function(){switch(a2(t3)){case"number":t3=[t3,t3,t3,t3];case"array":if(2===t3.length&&(t3=[t3[0],t3[1],t3[0],t3[1]]),4===t3.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=t3}).then(this.setPageSize)},s2.prototype.setPageSize=function(t3){function e4(t4,e6){return Math.floor(t4*e6/72*96)}return this.then(function(){(t3=t3||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(t3.inner={width:t3.width-this.opt.margin[1]-this.opt.margin[3],height:t3.height-this.opt.margin[0]-this.opt.margin[2]},t3.inner.px={width:e4(t3.inner.width,t3.k),height:e4(t3.inner.height,t3.k)},t3.inner.ratio=t3.inner.height/t3.inner.width),this.prop.pageSize=t3})},s2.prototype.setProgress=function(t3,e4,r3,n2){return null!=t3&&(this.progress.val=t3),null!=e4&&(this.progress.state=e4),null!=r3&&(this.progress.n=r3),null!=n2&&(this.progress.stack=n2),this.progress.ratio=this.progress.val/this.progress.state,this},s2.prototype.updateProgress=function(t3,e4,r3,n2){return this.setProgress(t3?this.progress.val+t3:null,e4||null,r3?this.progress.n+r3:null,n2?this.progress.stack.concat(n2):null)},s2.prototype.then=function(t3,e4){var r3=this;return this.thenCore(t3,e4,function(t4,e6){return r3.updateProgress(null,null,1,[t4]),Promise.prototype.then.call(this,function(e7){return r3.updateProgress(null,t4),e7}).then(t4,e6).then(function(t5){return r3.updateProgress(1),t5})})},s2.prototype.thenCore=function(t3,e4,r3){r3=r3||Promise.prototype.then,t3&&(t3=t3.bind(this)),e4&&(e4=e4.bind(this));var n2=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s2.convert(Object.assign({},this),Promise.prototype),i3=r3.call(n2,t3,e4);return s2.convert(i3,this.__proto__)},s2.prototype.thenExternal=function(t3,e4){return Promise.prototype.then.call(this,t3,e4)},s2.prototype.thenList=function(t3){var e4=this;return t3.forEach(function(t4){e4=e4.thenCore(t4)}),e4},s2.prototype.catch=function(t3){t3&&(t3=t3.bind(this));var e4=Promise.prototype.catch.call(this,t3);return s2.convert(e4,this)},s2.prototype.catchExternal=function(t3){return Promise.prototype.catch.call(this,t3)},s2.prototype.error=function(t3){return this.then(function(){throw new Error(t3)})},s2.prototype.using=s2.prototype.set,s2.prototype.saveAs=s2.prototype.save,s2.prototype.export=s2.prototype.output,s2.prototype.run=s2.prototype.then,E.getPageSize=function(e4,r3,n2){if("object"===_typeof$4(e4)){var i3=e4;e4=i3.orientation,r3=i3.unit||r3,n2=i3.format||n2}r3=r3||"mm",n2=n2||"a4",e4=(""+(e4||"P")).toLowerCase();var a3,o3=(""+n2).toLowerCase(),s3={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(r3){case"pt":a3=1;break;case"mm":a3=72/25.4;break;case"cm":a3=72/2.54;break;case"in":a3=72;break;case"px":a3=.75;break;case"pc":case"em":a3=12;break;case"ex":a3=6;break;default:throw"Invalid unit: "+r3}var c2,u2=0,h2=0;if(s3.hasOwnProperty(o3))u2=s3[o3][1]/a3,h2=s3[o3][0]/a3;else try{u2=n2[1],h2=n2[0]}catch(t3){throw new Error("Invalid format: "+n2)}if("p"===e4||"portrait"===e4)e4="p",h2>u2&&(c2=h2,h2=u2,u2=c2);else{if("l"!==e4&&"landscape"!==e4)throw"Invalid orientation: "+e4;e4="l",u2>h2&&(c2=h2,h2=u2,u2=c2)}return{width:h2,height:u2,unit:r3,k:a3,orientation:e4}},e3.html=function(t3,e4){(e4=e4||{}).callback=e4.callback||function(){},e4.html2canvas=e4.html2canvas||{},e4.html2canvas.canvas=e4.html2canvas.canvas||this.canvas,e4.jsPDF=e4.jsPDF||this,e4.fontFaces=e4.fontFaces?e4.fontFaces.map(jt):null;var r3=new s2(e4);return e4.worker?r3:r3.from(t3).doCallback()}}(E.API),E.API.addJS=function(t3){return Ht=t3,this.internal.events.subscribe("postPutResources",function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Ut&&void 0!==zt&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")}),this},function(t3){var e3;t3.events.push(["postPutResources",function(){var t4=this,r2=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n2=t4.outline.render().split(/\r\n/),i2=0;i2<n2.length;i2++){var a2=n2[i2],o2=r2.exec(a2);if(null!=o2){var s2=o2[1];t4.internal.newObjectDeferredBegin(s2,!1)}t4.internal.write(a2)}if(this.outline.createNamedDestinations){var c2=this.internal.pages.length,u2=[];for(i2=0;i2<c2;i2++){var h2=t4.internal.newObject();u2.push(h2);var l2=t4.internal.getPageInfo(i2+1);t4.internal.write("<< /D["+l2.objId+" 0 R /XYZ null null null]>> endobj")}var f2=t4.internal.newObject();for(t4.internal.write("<< /Names [ "),i2=0;i2<u2.length;i2++)t4.internal.write("(page_"+(i2+1)+")"+u2[i2]+" 0 R");t4.internal.write(" ] >>","endobj"),e3=t4.internal.newObject(),t4.internal.write("<< /Dests "+f2+" 0 R"),t4.internal.write(">>","endobj")}}]),t3.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e3+" 0 R"))}]),t3.events.push(["initialized",function(){var t4=this;t4.outline={createNamedDestinations:!1,root:{children:[]}},t4.outline.add=function(t5,e4,r2){var n2={title:e4,options:r2,children:[]};return null==t5&&(t5=this.root),t5.children.push(n2),n2},t4.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t4,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t4.outline.genIds_r=function(e4){e4.id=t4.internal.newObjectDeferred();for(var r2=0;r2<e4.children.length;r2++)this.genIds_r(e4.children[r2])},t4.outline.renderRoot=function(t5){this.objStart(t5),this.line("/Type /Outlines"),t5.children.length>0&&(this.line("/First "+this.makeRef(t5.children[0])),this.line("/Last "+this.makeRef(t5.children[t5.children.length-1]))),this.line("/Count "+this.count_r({count:0},t5)),this.objEnd()},t4.outline.renderItems=function(e4){for(var r2=this.ctx.pdf.internal.getVerticalCoordinateString,n2=0;n2<e4.children.length;n2++){var i2=e4.children[n2];this.objStart(i2),this.line("/Title "+this.makeString(i2.title)),this.line("/Parent "+this.makeRef(e4)),n2>0&&this.line("/Prev "+this.makeRef(e4.children[n2-1])),n2<e4.children.length-1&&this.line("/Next "+this.makeRef(e4.children[n2+1])),i2.children.length>0&&(this.line("/First "+this.makeRef(i2.children[0])),this.line("/Last "+this.makeRef(i2.children[i2.children.length-1])));var a2=this.count=this.count_r({count:0},i2);if(a2>0&&this.line("/Count "+a2),i2.options&&i2.options.pageNumber){var o2=t4.internal.getPageInfo(i2.options.pageNumber);this.line("/Dest ["+o2.objId+" 0 R /XYZ 0 "+r2(0)+" 0]")}this.objEnd()}for(var s2=0;s2<e4.children.length;s2++)this.renderItems(e4.children[s2])},t4.outline.line=function(t5){this.ctx.val+=t5+"\r\n"},t4.outline.makeRef=function(t5){return t5.id+" 0 R"},t4.outline.makeString=function(e4){return"("+t4.internal.pdfEscape(e4)+")"},t4.outline.objStart=function(t5){this.ctx.val+="\r\n"+t5.id+" 0 obj\r\n<<\r\n"},t4.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},t4.outline.count_r=function(t5,e4){for(var r2=0;r2<e4.children.length;r2++)t5.count++,this.count_r(t5,e4.children[r2]);return t5.count}}])}(E.API),function(t3){var e3=[192,193,194,195,196,197,198,199];t3.processJPEG=function(t4,r2,n2,i2,a2,o2){var s2,c2=this.decode.DCT_DECODE,u2=null;if("string"==typeof t4||this.__addimage__.isArrayBuffer(t4)||this.__addimage__.isArrayBufferView(t4)){switch(t4=a2||t4,t4=this.__addimage__.isArrayBuffer(t4)?new Uint8Array(t4):t4,(s2=function(t5){for(var r3,n3=256*t5.charCodeAt(4)+t5.charCodeAt(5),i3=t5.length,a3={width:0,height:0,numcomponents:1},o3=4;o3<i3;o3+=2){if(o3+=n3,-1!==e3.indexOf(t5.charCodeAt(o3+1))){r3=256*t5.charCodeAt(o3+5)+t5.charCodeAt(o3+6),a3={width:256*t5.charCodeAt(o3+7)+t5.charCodeAt(o3+8),height:r3,numcomponents:t5.charCodeAt(o3+9)};break}n3=256*t5.charCodeAt(o3+2)+t5.charCodeAt(o3+3)}return a3}(t4=this.__addimage__.isArrayBufferView(t4)?this.__addimage__.arrayBufferToBinaryString(t4):t4)).numcomponents){case 1:o2=this.color_spaces.DEVICE_GRAY;break;case 4:o2=this.color_spaces.DEVICE_CMYK;break;case 3:o2=this.color_spaces.DEVICE_RGB}u2={data:t4,width:s2.width,height:s2.height,colorSpace:o2,bitsPerComponent:8,filter:c2,index:r2,alias:n2}}return u2}}(E.API);var Vt,Gt,Yt,Jt,Xt,Kt=function(){var t3,e3,i2;function a2(t4){var e4,r2,n2,i3,a3,o3,s2,c2,u2,h2,l2,f2,d2,p2;for(this.data=t4,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},o3=null;;){switch(e4=this.readUInt32(),u2=function(){var t5,e6;for(e6=[],t5=0;t5<4;++t5)e6.push(String.fromCharCode(this.data[this.pos++]));return e6}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e4);break;case"fcTL":o3&&this.animation.frames.push(o3),this.pos+=4,o3={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},a3=this.readUInt16(),i3=this.readUInt16()||100,o3.delay=1e3*a3/i3,o3.disposeOp=this.data[this.pos++],o3.blendOp=this.data[this.pos++],o3.data=[];break;case"IDAT":case"fdAT":for("fdAT"===u2&&(this.pos+=4,e4-=4),t4=(null!=o3?o3.data:void 0)||this.imgData,f2=0;0<=e4?f2<e4:f2>e4;0<=e4?++f2:--f2)t4.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(n2=this.palette.length/3,this.transparency.indexed=this.read(e4),this.transparency.indexed.length>n2)throw new Error("More transparent colors than palette size");if((h2=n2-this.transparency.indexed.length)>0)for(d2=0;0<=h2?d2<h2:d2>h2;0<=h2?++d2:--d2)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e4)[0];break;case 2:this.transparency.rgb=this.read(e4)}break;case"tEXt":s2=(l2=this.read(e4)).indexOf(0),c2=String.fromCharCode.apply(String,l2.slice(0,s2)),this.text[c2]=String.fromCharCode.apply(String,l2.slice(s2+1));break;case"IEND":return o3&&this.animation.frames.push(o3),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(p2=this.colorType)||6===p2,r2=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*r2,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e4}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}a2.prototype.read=function(t4){var e4,r2;for(r2=[],e4=0;0<=t4?e4<t4:e4>t4;0<=t4?++e4:--e4)r2.push(this.data[this.pos++]);return r2},a2.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},a2.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},a2.prototype.decodePixels=function(t4){var e4=this.pixelBitlength/8,n2=new Uint8Array(this.width*this.height*e4),i3=0,a3=this;if(null==t4&&(t4=this.imgData),0===t4.length)return new Uint8Array(0);function o3(r2,o4,s2,c2){var u2,h2,l2,f2,d2,p2,g2,m2,v2,b2,y2,w2,N2,L2,A2,x2,S2,_2,P2,k2,I2,F2=Math.ceil((a3.width-r2)/s2),C2=Math.ceil((a3.height-o4)/c2),j2=a3.width==F2&&a3.height==C2;for(L2=e4*F2,w2=j2?n2:new Uint8Array(L2*C2),p2=t4.length,N2=0,h2=0;N2<C2&&i3<p2;){switch(t4[i3++]){case 0:for(f2=S2=0;S2<L2;f2=S2+=1)w2[h2++]=t4[i3++];break;case 1:for(f2=_2=0;_2<L2;f2=_2+=1)u2=t4[i3++],d2=f2<e4?0:w2[h2-e4],w2[h2++]=(u2+d2)%256;break;case 2:for(f2=P2=0;P2<L2;f2=P2+=1)u2=t4[i3++],l2=(f2-f2%e4)/e4,A2=N2&&w2[(N2-1)*L2+l2*e4+f2%e4],w2[h2++]=(A2+u2)%256;break;case 3:for(f2=k2=0;k2<L2;f2=k2+=1)u2=t4[i3++],l2=(f2-f2%e4)/e4,d2=f2<e4?0:w2[h2-e4],A2=N2&&w2[(N2-1)*L2+l2*e4+f2%e4],w2[h2++]=(u2+Math.floor((d2+A2)/2))%256;break;case 4:for(f2=I2=0;I2<L2;f2=I2+=1)u2=t4[i3++],l2=(f2-f2%e4)/e4,d2=f2<e4?0:w2[h2-e4],0===N2?A2=x2=0:(A2=w2[(N2-1)*L2+l2*e4+f2%e4],x2=l2&&w2[(N2-1)*L2+(l2-1)*e4+f2%e4]),g2=d2+A2-x2,m2=Math.abs(g2-d2),b2=Math.abs(g2-A2),y2=Math.abs(g2-x2),v2=m2<=b2&&m2<=y2?d2:b2<=y2?A2:x2,w2[h2++]=(u2+v2)%256;break;default:throw new Error("Invalid filter algorithm: "+t4[i3-1])}if(!j2){var O2=((o4+N2*c2)*a3.width+r2)*e4,B2=N2*L2;for(f2=0;f2<F2;f2+=1){for(var M2=0;M2<e4;M2+=1)n2[O2++]=w2[B2++];O2+=(s2-1)*e4}}N2++}}return t4=unzlibSync(t4),1==a3.interlaceMethod?(o3(0,0,8,8),o3(4,0,8,8),o3(0,4,4,8),o3(2,0,4,4),o3(0,2,2,4),o3(1,0,2,2),o3(0,1,1,2)):o3(0,0,1,1),n2},a2.prototype.decodePalette=function(){var t4,e4,r2,n2,i3,a3,o3,s2,c2;for(r2=this.palette,a3=this.transparency.indexed||[],i3=new Uint8Array((a3.length||0)+r2.length),n2=0,t4=0,e4=o3=0,s2=r2.length;o3<s2;e4=o3+=3)i3[n2++]=r2[e4],i3[n2++]=r2[e4+1],i3[n2++]=r2[e4+2],i3[n2++]=null!=(c2=a3[t4++])?c2:255;return i3},a2.prototype.copyToImageData=function(t4,e4){var r2,n2,i3,a3,o3,s2,c2,u2,h2,l2,f2;if(n2=this.colors,h2=null,r2=this.hasAlphaChannel,this.palette.length&&(h2=null!=(f2=this._decodedPalette)?f2:this._decodedPalette=this.decodePalette(),n2=4,r2=!0),u2=(i3=t4.data||t4).length,o3=h2||e4,a3=s2=0,1===n2)for(;a3<u2;)c2=h2?4*e4[a3/4]:s2,l2=o3[c2++],i3[a3++]=l2,i3[a3++]=l2,i3[a3++]=l2,i3[a3++]=r2?o3[c2++]:255,s2=c2;else for(;a3<u2;)c2=h2?4*e4[a3/4]:s2,i3[a3++]=o3[c2++],i3[a3++]=o3[c2++],i3[a3++]=o3[c2++],i3[a3++]=r2?o3[c2++]:255,s2=c2},a2.prototype.decode=function(){var t4;return t4=new Uint8Array(this.width*this.height*4),this.copyToImageData(t4,this.decodePixels()),t4};var o2=function(){if("[object Window]"===Object.prototype.toString.call(n)){try{e3=n.document.createElement("canvas"),i2=e3.getContext("2d")}catch(t4){return!1}return!0}return!1};return o2(),t3=function(t4){var r2;if(!0===o2())return i2.width=t4.width,i2.height=t4.height,i2.clearRect(0,0,t4.width,t4.height),i2.putImageData(t4,0,0),(r2=new Image).src=e3.toDataURL(),r2;throw new Error("This method requires a Browser with Canvas-capability.")},a2.prototype.decodeFrames=function(e4){var r2,n2,i3,a3,o3,s2,c2,u2;if(this.animation){for(u2=[],n2=o3=0,s2=(c2=this.animation.frames).length;o3<s2;n2=++o3)r2=c2[n2],i3=e4.createImageData(r2.width,r2.height),a3=this.decodePixels(new Uint8Array(r2.data)),this.copyToImageData(i3,a3),r2.imageData=i3,u2.push(r2.image=t3(i3));return u2}},a2.prototype.renderFrame=function(t4,e4){var r2,n2,i3;return r2=(n2=this.animation.frames)[e4],i3=n2[e4-1],0===e4&&t4.clearRect(0,0,this.width,this.height),1===(null!=i3?i3.disposeOp:void 0)?t4.clearRect(i3.xOffset,i3.yOffset,i3.width,i3.height):2===(null!=i3?i3.disposeOp:void 0)&&t4.putImageData(i3.imageData,i3.xOffset,i3.yOffset),0===r2.blendOp&&t4.clearRect(r2.xOffset,r2.yOffset,r2.width,r2.height),t4.drawImage(r2.image,r2.xOffset,r2.yOffset)},a2.prototype.animate=function(t4){var e4,r2,n2,i3,a3,o3,s2=this;return r2=0,o3=this.animation,i3=o3.numFrames,n2=o3.frames,a3=o3.numPlays,(e4=function(){var o4,c2;if(o4=r2++%i3,c2=n2[o4],s2.renderFrame(t4,o4),i3>1&&r2/i3<a3)return s2.animation._timeout=setTimeout(e4,c2.delay)})()},a2.prototype.stopAnimation=function(){var t4;return clearTimeout(null!=(t4=this.animation)?t4._timeout:void 0)},a2.prototype.render=function(t4){var e4,r2;return t4._png&&t4._png.stopAnimation(),t4._png=this,t4.width=this.width,t4.height=this.height,e4=t4.getContext("2d"),this.animation?(this.decodeFrames(e4),this.animate(e4)):(r2=e4.createImageData(this.width,this.height),this.copyToImageData(r2,this.decodePixels()),e4.putImageData(r2,0,0))},a2}();function Zt(t3){var e3=0;if(71!==t3[e3++]||73!==t3[e3++]||70!==t3[e3++]||56!==t3[e3++]||56!=(t3[e3++]+1&253)||97!==t3[e3++])throw new Error("Invalid GIF 87a/89a header.");var r2=t3[e3++]|t3[e3++]<<8,n2=t3[e3++]|t3[e3++]<<8,i2=t3[e3++],a2=i2>>7,o2=1<<1+(7&i2);t3[e3++],t3[e3++];var s2=null,c2=null;a2&&(s2=e3,c2=o2,e3+=3*o2);var u2=!0,h2=[],l2=0,f2=null,d2=0,p2=null;for(this.width=r2,this.height=n2;u2&&e3<t3.length;)switch(t3[e3++]){case 33:switch(t3[e3++]){case 255:if(11!==t3[e3]||78==t3[e3+1]&&69==t3[e3+2]&&84==t3[e3+3]&&83==t3[e3+4]&&67==t3[e3+5]&&65==t3[e3+6]&&80==t3[e3+7]&&69==t3[e3+8]&&50==t3[e3+9]&&46==t3[e3+10]&&48==t3[e3+11]&&3==t3[e3+12]&&1==t3[e3+13]&&0==t3[e3+16])e3+=14,p2=t3[e3++]|t3[e3++]<<8,e3++;else for(e3+=12;;){if(!((P2=t3[e3++])>=0))throw Error("Invalid block size");if(0===P2)break;e3+=P2}break;case 249:if(4!==t3[e3++]||0!==t3[e3+4])throw new Error("Invalid graphics extension block.");var g2=t3[e3++];l2=t3[e3++]|t3[e3++]<<8,f2=t3[e3++],!(1&g2)&&(f2=null),d2=g2>>2&7,e3++;break;case 254:for(;;){if(!((P2=t3[e3++])>=0))throw Error("Invalid block size");if(0===P2)break;e3+=P2}break;default:throw new Error("Unknown graphic control label: 0x"+t3[e3-1].toString(16))}break;case 44:var m2=t3[e3++]|t3[e3++]<<8,v2=t3[e3++]|t3[e3++]<<8,b2=t3[e3++]|t3[e3++]<<8,y2=t3[e3++]|t3[e3++]<<8,w2=t3[e3++],N2=w2>>6&1,L2=1<<1+(7&w2),A2=s2,x2=c2,S2=!1;w2>>7&&(S2=!0,A2=e3,x2=L2,e3+=3*L2);var _2=e3;for(e3++;;){var P2;if(!((P2=t3[e3++])>=0))throw Error("Invalid block size");if(0===P2)break;e3+=P2}h2.push({x:m2,y:v2,width:b2,height:y2,has_local_palette:S2,palette_offset:A2,palette_size:x2,data_offset:_2,data_length:e3-_2,transparent_index:f2,interlaced:!!N2,delay:l2,disposal:d2});break;case 59:u2=!1;break;default:throw new Error("Unknown gif block: 0x"+t3[e3-1].toString(16))}this.numFrames=function(){return h2.length},this.loopCount=function(){return p2},this.frameInfo=function(t4){if(t4<0||t4>=h2.length)throw new Error("Frame index out of range.");return h2[t4]},this.decodeAndBlitFrameBGRA=function(e4,n3){var i3=this.frameInfo(e4),a3=i3.width*i3.height,o3=new Uint8Array(a3);$t(t3,i3.data_offset,o3,a3);var s3=i3.palette_offset,c3=i3.transparent_index;null===c3&&(c3=256);var u3=i3.width,h3=r2-u3,l3=u3,f3=4*(i3.y*r2+i3.x),d3=4*((i3.y+i3.height)*r2+i3.x),p3=f3,g3=4*h3;!0===i3.interlaced&&(g3+=4*r2*7);for(var m3=8,v3=0,b3=o3.length;v3<b3;++v3){var y3=o3[v3];if(0===l3&&(l3=u3,(p3+=g3)>=d3&&(g3=4*h3+4*r2*(m3-1),p3=f3+(u3+h3)*(m3<<1),m3>>=1)),y3===c3)p3+=4;else{var w3=t3[s3+3*y3],N3=t3[s3+3*y3+1],L3=t3[s3+3*y3+2];n3[p3++]=L3,n3[p3++]=N3,n3[p3++]=w3,n3[p3++]=255}--l3}},this.decodeAndBlitFrameRGBA=function(e4,n3){var i3=this.frameInfo(e4),a3=i3.width*i3.height,o3=new Uint8Array(a3);$t(t3,i3.data_offset,o3,a3);var s3=i3.palette_offset,c3=i3.transparent_index;null===c3&&(c3=256);var u3=i3.width,h3=r2-u3,l3=u3,f3=4*(i3.y*r2+i3.x),d3=4*((i3.y+i3.height)*r2+i3.x),p3=f3,g3=4*h3;!0===i3.interlaced&&(g3+=4*r2*7);for(var m3=8,v3=0,b3=o3.length;v3<b3;++v3){var y3=o3[v3];if(0===l3&&(l3=u3,(p3+=g3)>=d3&&(g3=4*h3+4*r2*(m3-1),p3=f3+(u3+h3)*(m3<<1),m3>>=1)),y3===c3)p3+=4;else{var w3=t3[s3+3*y3],N3=t3[s3+3*y3+1],L3=t3[s3+3*y3+2];n3[p3++]=w3,n3[p3++]=N3,n3[p3++]=L3,n3[p3++]=255}--l3}}}function $t(t3,e3,r2,n2){for(var i2=t3[e3++],o2=1<<i2,s2=o2+1,c2=s2+1,u2=i2+1,h2=(1<<u2)-1,l2=0,f2=0,d2=0,p2=t3[e3++],g2=new Int32Array(4096),m2=null;;){for(;l2<16&&0!==p2;)f2|=t3[e3++]<<l2,l2+=8,1===p2?p2=t3[e3++]:--p2;if(l2<u2)break;var v2=f2&h2;if(f2>>=u2,l2-=u2,v2!==o2){if(v2===s2)break;for(var b2=v2<c2?v2:m2,y2=0,w2=b2;w2>o2;)w2=g2[w2]>>8,++y2;var N2=w2;if(d2+y2+(b2!==v2?1:0)>n2)return void a.log("Warning, gif stream longer than expected.");r2[d2++]=N2;var L2=d2+=y2;for(b2!==v2&&(r2[d2++]=N2),w2=b2;y2--;)w2=g2[w2],r2[--L2]=255&w2,w2>>=8;null!==m2&&c2<4096&&(g2[c2++]=m2<<8|N2,c2>=h2+1&&u2<12&&(++u2,h2=h2<<1|1)),m2=v2}else c2=s2+1,h2=(1<<(u2=i2+1))-1,m2=null}return d2!==n2&&a.log("Warning, gif stream shorter than expected."),r2}function Qt(t3){var e3,r2,n2,i2,a2,o2=Math.floor,s2=new Array(64),c2=new Array(64),u2=new Array(64),h2=new Array(64),l2=new Array(65535),f2=new Array(65535),d2=new Array(64),p2=new Array(64),g2=[],m2=0,v2=7,b2=new Array(64),y2=new Array(64),w2=new Array(64),N2=new Array(256),L2=new Array(2048),A2=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x2=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S2=[0,1,2,3,4,5,6,7,8,9,10,11],_2=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P2=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k2=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I2=[0,1,2,3,4,5,6,7,8,9,10,11],F2=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],C2=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function j2(t4,e4){for(var r3=0,n3=0,i3=new Array,a3=1;a3<=16;a3++){for(var o3=1;o3<=t4[a3];o3++)i3[e4[n3]]=[],i3[e4[n3]][0]=r3,i3[e4[n3]][1]=a3,n3++,r3++;r3*=2}return i3}function O2(t4){for(var e4=t4[0],r3=t4[1]-1;r3>=0;)e4&1<<r3&&(m2|=1<<v2),r3--,--v2<0&&(255==m2?(B2(255),B2(0)):B2(m2),v2=7,m2=0)}function B2(t4){g2.push(t4)}function M2(t4){B2(t4>>8&255),B2(255&t4)}function E2(t4,e4,r3,n3,i3){for(var a3,o3=i3[0],s3=i3[240],c3=function(t5,e6){var r4,n4,i4,a4,o4,s4,c4,u4,h4,l3,f3=0;for(h4=0;h4<8;++h4){r4=t5[f3],n4=t5[f3+1],i4=t5[f3+2],a4=t5[f3+3],o4=t5[f3+4],s4=t5[f3+5],c4=t5[f3+6];var p3=r4+(u4=t5[f3+7]),g4=r4-u4,m4=n4+c4,v4=n4-c4,b4=i4+s4,y4=i4-s4,w4=a4+o4,N3=a4-o4,L3=p3+w4,A3=p3-w4,x3=m4+b4,S3=m4-b4;t5[f3]=L3+x3,t5[f3+4]=L3-x3;var _3=.707106781*(S3+A3);t5[f3+2]=A3+_3,t5[f3+6]=A3-_3;var P3=.382683433*((L3=N3+y4)-(S3=v4+g4)),k3=.5411961*L3+P3,I3=1.306562965*S3+P3,F3=.707106781*(x3=y4+v4),C3=g4+F3,j3=g4-F3;t5[f3+5]=j3+k3,t5[f3+3]=j3-k3,t5[f3+1]=C3+I3,t5[f3+7]=C3-I3,f3+=8}for(f3=0,h4=0;h4<8;++h4){r4=t5[f3],n4=t5[f3+8],i4=t5[f3+16],a4=t5[f3+24],o4=t5[f3+32],s4=t5[f3+40],c4=t5[f3+48];var O3=r4+(u4=t5[f3+56]),B3=r4-u4,M3=n4+c4,E3=n4-c4,q3=i4+s4,D2=i4-s4,R2=a4+o4,T2=a4-o4,U2=O3+R2,z2=O3-R2,H2=M3+q3,W2=M3-q3;t5[f3]=U2+H2,t5[f3+32]=U2-H2;var V2=.707106781*(W2+z2);t5[f3+16]=z2+V2,t5[f3+48]=z2-V2;var G2=.382683433*((U2=T2+D2)-(W2=E3+B3)),Y2=.5411961*U2+G2,J2=1.306562965*W2+G2,X2=.707106781*(H2=D2+E3),K2=B3+X2,Z2=B3-X2;t5[f3+40]=Z2+Y2,t5[f3+24]=Z2-Y2,t5[f3+8]=K2+J2,t5[f3+56]=K2-J2,f3++}for(h4=0;h4<64;++h4)l3=t5[h4]*e6[h4],d2[h4]=l3>0?l3+.5|0:l3-.5|0;return d2}(t4,e4),u3=0;u3<64;++u3)p2[A2[u3]]=c3[u3];var h3=p2[0]-r3;r3=p2[0],0==h3?O2(n3[0]):(O2(n3[f2[a3=32767+h3]]),O2(l2[a3]));for(var g3=63;g3>0&&0==p2[g3];)g3--;if(0==g3)return O2(o3),r3;for(var m3,v3=1;v3<=g3;){for(var b3=v3;0==p2[v3]&&v3<=g3;)++v3;var y3=v3-b3;if(y3>=16){m3=y3>>4;for(var w3=1;w3<=m3;++w3)O2(s3);y3&=15}a3=32767+p2[v3],O2(i3[(y3<<4)+f2[a3]]),O2(l2[a3]),v3++}return 63!=g3&&O2(o3),r3}function q2(t4){t4=Math.min(Math.max(t4,1),100),a2!=t4&&(function(t5){for(var e4=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r3=0;r3<64;r3++){var n3=o2((e4[r3]*t5+50)/100);n3=Math.min(Math.max(n3,1),255),s2[A2[r3]]=n3}for(var i3=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a3=0;a3<64;a3++){var l3=o2((i3[a3]*t5+50)/100);l3=Math.min(Math.max(l3,1),255),c2[A2[a3]]=l3}for(var f3=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],d3=0,p3=0;p3<8;p3++)for(var g3=0;g3<8;g3++)u2[d3]=1/(s2[A2[d3]]*f3[p3]*f3[g3]*8),h2[d3]=1/(c2[A2[d3]]*f3[p3]*f3[g3]*8),d3++}(t4<50?Math.floor(5e3/t4):Math.floor(200-2*t4)),a2=t4)}this.encode=function(t4,a3){var t5,e4;a3&&q2(a3),g2=new Array,m2=0,v2=7,M2(65496),M2(65504),M2(16),B2(74),B2(70),B2(73),B2(70),B2(0),B2(1),B2(1),B2(0),M2(1),M2(1),B2(0),B2(0),function(){M2(65499),M2(132),B2(0);for(var t5=0;t5<64;t5++)B2(s2[t5]);B2(1);for(var e4=0;e4<64;e4++)B2(c2[e4])}(),t5=t4.width,e4=t4.height,M2(65472),M2(17),B2(8),M2(e4),M2(t5),B2(3),B2(1),B2(17),B2(0),B2(2),B2(17),B2(1),B2(3),B2(17),B2(1),function(){M2(65476),M2(418),B2(0);for(var t5=0;t5<16;t5++)B2(x2[t5+1]);for(var e4=0;e4<=11;e4++)B2(S2[e4]);B2(16);for(var r3=0;r3<16;r3++)B2(_2[r3+1]);for(var n3=0;n3<=161;n3++)B2(P2[n3]);B2(1);for(var i3=0;i3<16;i3++)B2(k2[i3+1]);for(var a4=0;a4<=11;a4++)B2(I2[a4]);B2(17);for(var o4=0;o4<16;o4++)B2(F2[o4+1]);for(var s3=0;s3<=161;s3++)B2(C2[s3])}(),M2(65498),M2(12),B2(3),B2(1),B2(0),B2(2),B2(17),B2(3),B2(17),B2(0),B2(63),B2(0);var o3=0,l3=0,f3=0;m2=0,v2=7,this.encode.displayName="_encode_";for(var d3,p3,N3,A3,j3,D2,R2,T2,U2,z2=t4.data,H2=t4.width,W2=t4.height,V2=4*H2,G2=0;G2<W2;){for(d3=0;d3<V2;){for(j3=V2*G2+d3,R2=-1,T2=0,U2=0;U2<64;U2++)D2=j3+(T2=U2>>3)*V2+(R2=4*(7&U2)),G2+T2>=W2&&(D2-=V2*(G2+1+T2-W2)),d3+R2>=V2&&(D2-=d3+R2-V2+4),p3=z2[D2++],N3=z2[D2++],A3=z2[D2++],b2[U2]=(L2[p3]+L2[N3+256|0]+L2[A3+512|0]>>16)-128,y2[U2]=(L2[p3+768|0]+L2[N3+1024|0]+L2[A3+1280|0]>>16)-128,w2[U2]=(L2[p3+1280|0]+L2[N3+1536|0]+L2[A3+1792|0]>>16)-128;o3=E2(b2,u2,o3,e3,n2),l3=E2(y2,h2,l3,r2,i2),f3=E2(w2,h2,f3,r2,i2),d3+=32}G2+=8}if(v2>=0){var Y2=[];Y2[1]=v2+1,Y2[0]=(1<<v2+1)-1,O2(Y2)}return M2(65497),new Uint8Array(g2)},t3=t3||50,function(){for(var t4=String.fromCharCode,e4=0;e4<256;e4++)N2[e4]=t4(e4)}(),e3=j2(x2,S2),r2=j2(k2,I2),n2=j2(_2,P2),i2=j2(F2,C2),function(){for(var t4=1,e4=2,r3=1;r3<=15;r3++){for(var n3=t4;n3<e4;n3++)f2[32767+n3]=r3,l2[32767+n3]=[],l2[32767+n3][1]=r3,l2[32767+n3][0]=n3;for(var i3=-(e4-1);i3<=-t4;i3++)f2[32767+i3]=r3,l2[32767+i3]=[],l2[32767+i3][1]=r3,l2[32767+i3][0]=e4-1+i3;t4<<=1,e4<<=1}}(),function(){for(var t4=0;t4<256;t4++)L2[t4]=19595*t4,L2[t4+256|0]=38470*t4,L2[t4+512|0]=7471*t4+32768,L2[t4+768|0]=-11059*t4,L2[t4+1024|0]=-21709*t4,L2[t4+1280|0]=32768*t4+8421375,L2[t4+1536|0]=-27439*t4,L2[t4+1792|0]=-5329*t4}(),q2(t3)}function te(t3,e3){if(this.pos=0,this.buffer=t3,this.datav=new DataView(t3.buffer),this.is_with_alpha=!!e3,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee$1(t3){function e3(t4){if(!t4)throw Error("assert :P")}function r2(t4,e4,r3){for(var n3=0;4>n3;n3++)if(t4[e4+n3]!=r3.charCodeAt(n3))return!0;return!1}function n2(t4,e4,r3,n3,i3){for(var a3=0;a3<i3;a3++)t4[e4+a3]=r3[n3+a3]}function i2(t4,e4,r3,n3){for(var i3=0;i3<n3;i3++)t4[e4+i3]=r3}function a2(t4){return new Int32Array(t4)}function o2(t4,e4){for(var r3=[],n3=0;n3<t4;n3++)r3.push(new e4);return r3}function s2(t4,e4){var r3=[];return function t5(r4,n3,i3){for(var a3=i3[n3],o3=0;o3<a3&&(r4.push(i3.length>n3+1?[]:new e4),!(i3.length<n3+1));o3++)t5(r4[o3],n3+1,i3)}(r3,0,t4),r3}var c2=function(){var t4=this;function c3(t5,e4){for(var r3=1<<e4-1>>>0;t5&r3;)r3>>>=1;return r3?(t5&r3-1)+r3:t5}function u3(t5,r3,n3,i3,a3){e3(!(i3%n3));do{t5[r3+(i3-=n3)]=a3}while(0<i3)}function h3(t5,r3,n3,i3,o3){if(e3(2328>=o3),512>=o3)var s3=a2(512);else if(null==(s3=a2(o3)))return 0;return function(t6,r4,n4,i4,o4,s4){var h4,f4,d4=r4,p4=1<<n4,g4=a2(16),m4=a2(16);for(e3(0!=o4),e3(null!=i4),e3(null!=t6),e3(0<n4),f4=0;f4<o4;++f4){if(15<i4[f4])return 0;++g4[i4[f4]]}if(g4[0]==o4)return 0;for(m4[1]=0,h4=1;15>h4;++h4){if(g4[h4]>1<<h4)return 0;m4[h4+1]=m4[h4]+g4[h4]}for(f4=0;f4<o4;++f4)h4=i4[f4],0<i4[f4]&&(s4[m4[h4]++]=f4);if(1==m4[15])return(i4=new l3).g=0,i4.value=s4[0],u3(t6,d4,1,p4,i4),p4;var v4,b4=-1,y4=p4-1,w4=0,N4=1,L4=1,A4=1<<n4;for(f4=0,h4=1,o4=2;h4<=n4;++h4,o4<<=1){if(N4+=L4<<=1,0>(L4-=g4[h4]))return 0;for(;0<g4[h4];--g4[h4])(i4=new l3).g=h4,i4.value=s4[f4++],u3(t6,d4+w4,o4,A4,i4),w4=c3(w4,h4)}for(h4=n4+1,o4=2;15>=h4;++h4,o4<<=1){if(N4+=L4<<=1,0>(L4-=g4[h4]))return 0;for(;0<g4[h4];--g4[h4]){if(i4=new l3,(w4&y4)!=b4){for(d4+=A4,v4=1<<(b4=h4)-n4;15>b4&&!(0>=(v4-=g4[b4]));)++b4,v4<<=1;p4+=A4=1<<(v4=b4-n4),t6[r4+(b4=w4&y4)].g=v4+n4,t6[r4+b4].value=d4-r4-b4}i4.g=h4-n4,i4.value=s4[f4++],u3(t6,d4+(w4>>n4),o4,A4,i4),w4=c3(w4,h4)}}return N4!=2*m4[15]-1?0:p4}(t5,r3,n3,i3,o3,s3)}function l3(){this.value=this.g=0}function f3(){this.value=this.g=0}function d3(){this.G=o2(5,l3),this.H=a2(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o2(Dr,f3)}function p3(t5,r3,n3,i3){e3(null!=t5),e3(null!=r3),e3(2147483648>i3),t5.Ca=254,t5.I=0,t5.b=-8,t5.Ka=0,t5.oa=r3,t5.pa=n3,t5.Jd=r3,t5.Yc=n3+i3,t5.Zc=4<=i3?n3+i3-4+1:n3,_2(t5)}function g3(t5,e4){for(var r3=0;0<e4--;)r3|=k2(t5,128)<<e4;return r3}function m3(t5,e4){var r3=g3(t5,e4);return P2(t5)?-r3:r3}function v3(t5,r3,n3,i3){var a3,o3=0;for(e3(null!=t5),e3(null!=r3),e3(4294967288>i3),t5.Sb=i3,t5.Ra=0,t5.u=0,t5.h=0,4<i3&&(i3=4),a3=0;a3<i3;++a3)o3+=r3[n3+a3]<<8*a3;t5.Ra=o3,t5.bb=i3,t5.oa=r3,t5.pa=n3}function b3(t5){for(;8<=t5.u&&t5.bb<t5.Sb;)t5.Ra>>>=8,t5.Ra+=t5.oa[t5.pa+t5.bb]<<Ur-8>>>0,++t5.bb,t5.u-=8;A3(t5)&&(t5.h=1,t5.u=0)}function y3(t5,r3){if(e3(0<=r3),!t5.h&&r3<=Tr){var n3=L3(t5)&Rr[r3];return t5.u+=r3,b3(t5),n3}return t5.h=1,t5.u=0}function w3(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N3(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function L3(t5){return t5.Ra>>>(t5.u&Ur-1)>>>0}function A3(t5){return e3(t5.bb<=t5.Sb),t5.h||t5.bb==t5.Sb&&t5.u>Ur}function x2(t5,e4){t5.u=e4,t5.h=A3(t5)}function S2(t5){t5.u>=zr&&(e3(t5.u>=zr),b3(t5))}function _2(t5){e3(null!=t5&&null!=t5.oa),t5.pa<t5.Zc?(t5.I=(t5.oa[t5.pa++]|t5.I<<8)>>>0,t5.b+=8):(e3(null!=t5&&null!=t5.oa),t5.pa<t5.Yc?(t5.b+=8,t5.I=t5.oa[t5.pa++]|t5.I<<8):t5.Ka?t5.b=0:(t5.I<<=8,t5.b+=8,t5.Ka=1))}function P2(t5){return g3(t5,1)}function k2(t5,e4){var r3=t5.Ca;0>t5.b&&_2(t5);var n3=t5.b,i3=r3*e4>>>8,a3=(t5.I>>>n3>i3)+0;for(a3?(r3-=i3,t5.I-=i3+1<<n3>>>0):r3=i3+1,n3=r3,i3=0;256<=n3;)i3+=8,n3>>=8;return n3=7^i3+Hr[n3],t5.b-=n3,t5.Ca=(r3<<n3)-1,a3}function I2(t5,e4,r3){t5[e4+0]=r3>>24&255,t5[e4+1]=r3>>16&255,t5[e4+2]=r3>>8&255,t5[e4+3]=255&r3}function F2(t5,e4){return t5[e4+0]|t5[e4+1]<<8}function C2(t5,e4){return F2(t5,e4)|t5[e4+2]<<16}function j2(t5,e4){return F2(t5,e4)|F2(t5,e4+2)<<16}function O2(t5,r3){var n3=1<<r3;return e3(null!=t5),e3(0<r3),t5.X=a2(n3),null==t5.X?0:(t5.Mb=32-r3,t5.Xa=r3,1)}function B2(t5,r3){e3(null!=t5),e3(null!=r3),e3(t5.Xa==r3.Xa),n2(r3.X,0,t5.X,0,1<<r3.Xa)}function M2(){this.X=[],this.Xa=this.Mb=0}function E2(t5,r3,n3,i3){e3(null!=n3),e3(null!=i3);var a3=n3[0],o3=i3[0];return 0==a3&&(a3=(t5*o3+r3/2)/r3),0==o3&&(o3=(r3*a3+t5/2)/t5),0>=a3||0>=o3?0:(n3[0]=a3,i3[0]=o3,1)}function q2(t5,e4){return t5+(1<<e4)-1>>>e4}function D2(t5,e4){return((4278255360&t5)+(4278255360&e4)>>>0&4278255360)+((16711935&t5)+(16711935&e4)>>>0&16711935)>>>0}function R2(e4,r3){t4[r3]=function(r4,n3,i3,a3,o3,s3,c4){var u4;for(u4=0;u4<o3;++u4){var h4=t4[e4](s3[c4+u4-1],i3,a3+u4);s3[c4+u4]=D2(r4[n3+u4],h4)}}}function T2(){this.ud=this.hd=this.jd=0}function U2(t5,e4){return((4278124286&(t5^e4))>>>1)+(t5&e4)>>>0}function z2(t5){return 0<=t5&&256>t5?t5:0>t5?0:255<t5?255:void 0}function H2(t5,e4){return z2(t5+(t5-e4+.5>>1))}function W2(t5,e4,r3){return Math.abs(e4-r3)-Math.abs(t5-r3)}function V2(t5,e4,r3,n3,i3,a3,o3){for(n3=a3[o3-1],r3=0;r3<i3;++r3)a3[o3+r3]=n3=D2(t5[e4+r3],n3)}function G2(t5,e4,r3,n3,i3){var a3;for(a3=0;a3<r3;++a3){var o3=t5[e4+a3],s3=o3>>8&255,c4=16711935&(c4=(c4=16711935&o3)+((s3<<16)+s3));n3[i3+a3]=(4278255360&o3)+c4>>>0}}function Y2(t5,e4){e4.jd=255&t5,e4.hd=t5>>8&255,e4.ud=t5>>16&255}function J2(t5,e4,r3,n3,i3,a3){var o3;for(o3=0;o3<n3;++o3){var s3=e4[r3+o3],c4=s3>>>8,u4=s3,h4=255&(h4=(h4=s3>>>16)+((t5.jd<<24>>24)*(c4<<24>>24)>>>5));u4=255&(u4=(u4+=(t5.hd<<24>>24)*(c4<<24>>24)>>>5)+((t5.ud<<24>>24)*(h4<<24>>24)>>>5)),i3[a3+o3]=(4278255360&s3)+(h4<<16)+u4}}function X2(e4,r3,n3,i3,a3){t4[r3]=function(t5,e6,r4,n4,o3,s3,c4,u4,h4){for(n4=c4;n4<u4;++n4)for(c4=0;c4<h4;++c4)o3[s3++]=a3(r4[i3(t5[e6++])])},t4[e4]=function(e6,r4,o3,s3,c4,u4,h4){var l4=8>>e6.b,f4=e6.Ea,d4=e6.K[0],p4=e6.w;if(8>l4)for(e6=(1<<e6.b)-1,p4=(1<<l4)-1;r4<o3;++r4){var g4,m4=0;for(g4=0;g4<f4;++g4)g4&e6||(m4=i3(s3[c4++])),u4[h4++]=a3(d4[m4&p4]),m4>>=l4}else t4["VP8LMapColor"+n3](s3,c4,d4,p4,u4,h4,r4,o3,f4)}}function K2(t5,e4,r3,n3,i3){for(r3=e4+r3;e4<r3;){var a3=t5[e4++];n3[i3++]=a3>>16&255,n3[i3++]=a3>>8&255,n3[i3++]=255&a3}}function Z2(t5,e4,r3,n3,i3){for(r3=e4+r3;e4<r3;){var a3=t5[e4++];n3[i3++]=a3>>16&255,n3[i3++]=a3>>8&255,n3[i3++]=255&a3,n3[i3++]=a3>>24&255}}function $2(t5,e4,r3,n3,i3){for(r3=e4+r3;e4<r3;){var a3=(o3=t5[e4++])>>16&240|o3>>12&15,o3=240&o3|o3>>28&15;n3[i3++]=a3,n3[i3++]=o3}}function Q2(t5,e4,r3,n3,i3){for(r3=e4+r3;e4<r3;){var a3=(o3=t5[e4++])>>16&248|o3>>13&7,o3=o3>>5&224|o3>>3&31;n3[i3++]=a3,n3[i3++]=o3}}function tt2(t5,e4,r3,n3,i3){for(r3=e4+r3;e4<r3;){var a3=t5[e4++];n3[i3++]=255&a3,n3[i3++]=a3>>8&255,n3[i3++]=a3>>16&255}}function et2(t5,e4,r3,i3,a3,o3){if(0==o3)for(r3=e4+r3;e4<r3;)I2(i3,((o3=t5[e4++])[0]>>24|o3[1]>>8&65280|o3[2]<<8&16711680|o3[3]<<24)>>>0),a3+=32;else n2(i3,a3,t5,e4,r3)}function rt2(e4,r3){t4[r3][0]=t4[e4+"0"],t4[r3][1]=t4[e4+"1"],t4[r3][2]=t4[e4+"2"],t4[r3][3]=t4[e4+"3"],t4[r3][4]=t4[e4+"4"],t4[r3][5]=t4[e4+"5"],t4[r3][6]=t4[e4+"6"],t4[r3][7]=t4[e4+"7"],t4[r3][8]=t4[e4+"8"],t4[r3][9]=t4[e4+"9"],t4[r3][10]=t4[e4+"10"],t4[r3][11]=t4[e4+"11"],t4[r3][12]=t4[e4+"12"],t4[r3][13]=t4[e4+"13"],t4[r3][14]=t4[e4+"0"],t4[r3][15]=t4[e4+"0"]}function nt2(t5){return t5==Hn||t5==Wn||t5==Vn||t5==Gn}function it2(){this.eb=[],this.size=this.A=this.fb=0}function at2(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ot2(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new it2,this.f.kb=new at2,this.sd=null}function st2(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ct2(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut2(t5){return alert("todo:WebPSamplerProcessPlane"),t5.T}function ht2(t5,e4){var r3=t5.T,i3=e4.ba.f.RGBA,a3=i3.eb,o3=i3.fb+t5.ka*i3.A,s3=vi[e4.ba.S],c4=t5.y,u4=t5.O,h4=t5.f,l4=t5.N,f4=t5.ea,d4=t5.W,p4=e4.cc,g4=e4.dc,m4=e4.Mc,v4=e4.Nc,b4=t5.ka,y4=t5.ka+t5.T,w4=t5.U,N4=w4+1>>1;for(0==b4?s3(c4,u4,null,null,h4,l4,f4,d4,h4,l4,f4,d4,a3,o3,null,null,w4):(s3(e4.ec,e4.fc,c4,u4,p4,g4,m4,v4,h4,l4,f4,d4,a3,o3-i3.A,a3,o3,w4),++r3);b4+2<y4;b4+=2)p4=h4,g4=l4,m4=f4,v4=d4,l4+=t5.Rc,d4+=t5.Rc,o3+=2*i3.A,s3(c4,(u4+=2*t5.fa)-t5.fa,c4,u4,p4,g4,m4,v4,h4,l4,f4,d4,a3,o3-i3.A,a3,o3,w4);return u4+=t5.fa,t5.j+y4<t5.o?(n2(e4.ec,e4.fc,c4,u4,w4),n2(e4.cc,e4.dc,h4,l4,N4),n2(e4.Mc,e4.Nc,f4,d4,N4),r3--):1&y4||s3(c4,u4,null,null,h4,l4,f4,d4,h4,l4,f4,d4,a3,o3+i3.A,null,null,w4),r3}function lt2(t5,r3,n3){var i3=t5.F,a3=[t5.J];if(null!=i3){var o3=t5.U,s3=r3.ba.S,c4=s3==Tn||s3==Vn;r3=r3.ba.f.RGBA;var u4=[0],h4=t5.ka;u4[0]=t5.T,t5.Kb&&(0==h4?--u4[0]:(--h4,a3[0]-=t5.width),t5.j+t5.ka+t5.T==t5.o&&(u4[0]=t5.o-t5.j-h4));var l4=r3.eb;h4=r3.fb+h4*r3.A,t5=Sn(i3,a3[0],t5.width,o3,u4,l4,h4+(c4?0:3),r3.A),e3(n3==u4),t5&&nt2(s3)&&An(l4,h4,c4,o3,u4,r3.A)}return 0}function ft2(t5){var e4=t5.ma,r3=e4.ba.S,n3=11>r3,i3=r3==qn||r3==Rn||r3==Tn||r3==Un||12==r3||nt2(r3);if(e4.memory=null,e4.Ib=null,e4.Jb=null,e4.Nd=null,!Mr(e4.Oa,t5,i3?11:12))return 0;if(i3&&nt2(r3)&&br(),t5.da)alert("todo:use_scaling");else{if(n3){if(e4.Ib=ut2,t5.Kb){if(r3=t5.U+1>>1,e4.memory=a2(t5.U+2*r3),null==e4.memory)return 0;e4.ec=e4.memory,e4.fc=0,e4.cc=e4.ec,e4.dc=e4.fc+t5.U,e4.Mc=e4.cc,e4.Nc=e4.dc+r3,e4.Ib=ht2,br()}}else alert("todo:EmitYUV");i3&&(e4.Jb=lt2,n3&&mr())}if(n3&&!Ci){for(t5=0;256>t5;++t5)ji[t5]=89858*(t5-128)+_i2>>Si,Mi[t5]=-22014*(t5-128)+_i2,Bi[t5]=-45773*(t5-128),Oi[t5]=113618*(t5-128)+_i2>>Si;for(t5=Pi;t5<ki;++t5)e4=76283*(t5-16)+_i2>>Si,Ei[t5-Pi]=Vt2(e4,255),qi[t5-Pi]=Vt2(e4+8>>4,15);Ci=1}return 1}function dt2(t5){var r3=t5.ma,n3=t5.U,i3=t5.T;return e3(!(1&t5.ka)),0>=n3||0>=i3?0:(n3=r3.Ib(t5,r3),null!=r3.Jb&&r3.Jb(t5,r3,n3),r3.Dc+=n3,1)}function pt2(t5){t5.ma.memory=null}function gt2(t5,e4,r3,n3){return 47!=y3(t5,8)?0:(e4[0]=y3(t5,14)+1,r3[0]=y3(t5,14)+1,n3[0]=y3(t5,1),0!=y3(t5,3)?0:!t5.h)}function mt2(t5,e4){if(4>t5)return t5+1;var r3=t5-2>>1;return(2+(1&t5)<<r3)+y3(e4,r3)+1}function vt2(t5,e4){return 120<e4?e4-120:1<=(r3=((r3=$n[e4-1])>>4)*t5+(8-(15&r3)))?r3:1;var r3}function bt2(t5,e4,r3){var n3=L3(r3),i3=t5[e4+=255&n3].g-8;return 0<i3&&(x2(r3,r3.u+8),n3=L3(r3),e4+=t5[e4].value,e4+=n3&(1<<i3)-1),x2(r3,r3.u+t5[e4].g),t5[e4].value}function yt3(t5,r3,n3){return n3.g+=t5.g,n3.value+=t5.value<<r3>>>0,e3(8>=n3.g),t5.g}function wt2(t5,r3,n3){var i3=t5.xc;return e3((r3=0==i3?0:t5.vc[t5.md*(n3>>i3)+(r3>>i3)])<t5.Wb),t5.Ya[r3]}function Nt2(t5,r3,i3,a3){var o3=t5.ab,s3=t5.c*r3,c4=t5.C;r3=c4+r3;var u4=i3,h4=a3;for(a3=t5.Ta,i3=t5.Ua;0<o3--;){var l4=t5.gc[o3],f4=c4,d4=r3,p4=u4,g4=h4,m4=(h4=a3,u4=i3,l4.Ea);switch(e3(f4<d4),e3(d4<=l4.nc),l4.hc){case 2:Gr(p4,g4,(d4-f4)*m4,h4,u4);break;case 0:var v4=f4,b4=d4,y4=h4,w4=u4,N4=(_3=l4).Ea;0==v4&&(Wr(p4,g4,null,null,1,y4,w4),V2(p4,g4+1,0,0,N4-1,y4,w4+1),g4+=N4,w4+=N4,++v4);for(var L4=1<<_3.b,A4=L4-1,x3=q2(N4,_3.b),S3=_3.K,_3=_3.w+(v4>>_3.b)*x3;v4<b4;){var P3=S3,k3=_3,I3=1;for(Vr(p4,g4,y4,w4-N4,1,y4,w4);I3<N4;){var F3=(I3&~A4)+L4;F3>N4&&(F3=N4),(0,Zr[P3[k3++]>>8&15])(p4,g4+ +I3,y4,w4+I3-N4,F3-I3,y4,w4+I3),I3=F3}g4+=N4,w4+=N4,++v4&A4||(_3+=x3)}d4!=l4.nc&&n2(h4,u4-m4,h4,u4+(d4-f4-1)*m4,m4);break;case 1:for(m4=p4,b4=g4,N4=(p4=l4.Ea)-(w4=p4&~(y4=(g4=1<<l4.b)-1)),v4=q2(p4,l4.b),L4=l4.K,l4=l4.w+(f4>>l4.b)*v4;f4<d4;){for(A4=L4,x3=l4,S3=new T2,_3=b4+w4,P3=b4+p4;b4<_3;)Y2(A4[x3++],S3),$r(S3,m4,b4,g4,h4,u4),b4+=g4,u4+=g4;b4<P3&&(Y2(A4[x3++],S3),$r(S3,m4,b4,N4,h4,u4),b4+=N4,u4+=N4),++f4&y4||(l4+=v4)}break;case 3:if(p4==h4&&g4==u4&&0<l4.b){for(b4=h4,p4=m4=u4+(d4-f4)*m4-(w4=(d4-f4)*q2(l4.Ea,l4.b)),g4=h4,y4=u4,v4=[],w4=(N4=w4)-1;0<=w4;--w4)v4[w4]=g4[y4+w4];for(w4=N4-1;0<=w4;--w4)b4[p4+w4]=v4[w4];Yr(l4,f4,d4,h4,m4,h4,u4)}else Yr(l4,f4,d4,p4,g4,h4,u4)}u4=a3,h4=i3}h4!=i3&&n2(a3,i3,u4,h4,s3)}function Lt2(t5,r3){var n3=t5.V,i3=t5.Ba+t5.c*t5.C,a3=r3-t5.C;if(e3(r3<=t5.l.o),e3(16>=a3),0<a3){var o3=t5.l,s3=t5.Ta,c4=t5.Ua,u4=o3.width;if(Nt2(t5,a3,n3,i3),a3=c4=[c4],e3((n3=t5.C)<(i3=r3)),e3(o3.v<o3.va),i3>o3.o&&(i3=o3.o),n3<o3.j){var h4=o3.j-n3;n3=o3.j,a3[0]+=h4*u4}if(n3>=i3?n3=0:(a3[0]+=4*o3.v,o3.ka=n3-o3.j,o3.U=o3.va-o3.v,o3.T=i3-n3,n3=1),n3){if(c4=c4[0],11>(n3=t5.ca).S){var l4=n3.f.RGBA,f4=(i3=n3.S,a3=o3.U,o3=o3.T,h4=l4.eb,l4.A),d4=o3;for(l4=l4.fb+t5.Ma*l4.A;0<d4--;){var p4=s3,g4=c4,m4=a3,v4=h4,b4=l4;switch(i3){case En:Qr(p4,g4,m4,v4,b4);break;case qn:tn(p4,g4,m4,v4,b4);break;case Hn:tn(p4,g4,m4,v4,b4),An(v4,b4,0,m4,1,0);break;case Dn:nn(p4,g4,m4,v4,b4);break;case Rn:et2(p4,g4,m4,v4,b4,1);break;case Wn:et2(p4,g4,m4,v4,b4,1),An(v4,b4,0,m4,1,0);break;case Tn:et2(p4,g4,m4,v4,b4,0);break;case Vn:et2(p4,g4,m4,v4,b4,0),An(v4,b4,1,m4,1,0);break;case Un:en(p4,g4,m4,v4,b4);break;case Gn:en(p4,g4,m4,v4,b4),xn(v4,b4,m4,1,0);break;case zn:rn(p4,g4,m4,v4,b4);break;default:e3(0)}c4+=u4,l4+=f4}t5.Ma+=o3}else alert("todo:EmitRescaledRowsYUVA");e3(t5.Ma<=n3.height)}}t5.C=r3,e3(t5.C<=t5.i)}function At2(t5){var e4;if(0<t5.ua)return 0;for(e4=0;e4<t5.Wb;++e4){var r3=t5.Ya[e4].G,n3=t5.Ya[e4].H;if(0<r3[1][n3[1]+0].g||0<r3[2][n3[2]+0].g||0<r3[3][n3[3]+0].g)return 0}return 1}function xt2(t5,r3,n3,i3,a3,o3){if(0!=t5.Z){var s3=t5.qd,c4=t5.rd;for(e3(null!=mi[t5.Z]);r3<n3;++r3)mi[t5.Z](s3,c4,i3,a3,i3,a3,o3),s3=i3,c4=a3,a3+=o3;t5.qd=s3,t5.rd=c4}}function St(t5,r3){var n3=t5.l.ma,i3=0==n3.Z||1==n3.Z?t5.l.j:t5.C;if(i3=t5.C<i3?i3:t5.C,e3(r3<=t5.l.o),r3>i3){var a3=t5.l.width,o3=n3.ca,s3=n3.tb+a3*i3,c4=t5.V,u4=t5.Ba+t5.c*i3,h4=t5.gc;e3(1==t5.ab),e3(3==h4[0].hc),Xr(h4[0],i3,r3,c4,u4,o3,s3),xt2(n3,i3,r3,o3,s3,a3)}t5.C=t5.Ma=r3}function _t2(t5,r3,n3,i3,a3,o3,s3){var c4=t5.$/i3,u4=t5.$%i3,h4=t5.m,l4=t5.s,f4=n3+t5.$,d4=f4;a3=n3+i3*a3;var p4=n3+i3*o3,g4=280+l4.ua,m4=t5.Pb?c4:16777216,v4=0<l4.ua?l4.Wa:null,b4=l4.wc,y4=f4<p4?wt2(l4,u4,c4):null;e3(t5.C<o3),e3(p4<=a3);var w4=!1;t:for(;;){for(;w4||f4<p4;){var N4=0;if(c4>=m4){var _3=f4-n3;e3((m4=t5).Pb),m4.wd=m4.m,m4.xd=_3,0<m4.s.ua&&B2(m4.s.Wa,m4.s.vb),m4=c4+ti}if(u4&b4||(y4=wt2(l4,u4,c4)),e3(null!=y4),y4.Qb&&(r3[f4]=y4.qb,w4=!0),!w4)if(S2(h4),y4.jc){N4=h4,_3=r3;var P3=f4,k3=y4.pd[L3(N4)&Dr-1];e3(y4.jc),256>k3.g?(x2(N4,N4.u+k3.g),_3[P3]=k3.value,N4=0):(x2(N4,N4.u+k3.g-256),e3(256<=k3.value),N4=k3.value),0==N4&&(w4=!0)}else N4=bt2(y4.G[0],y4.H[0],h4);if(h4.h)break;if(w4||256>N4){if(!w4)if(y4.nd)r3[f4]=(y4.qb|N4<<8)>>>0;else{if(S2(h4),w4=bt2(y4.G[1],y4.H[1],h4),S2(h4),_3=bt2(y4.G[2],y4.H[2],h4),P3=bt2(y4.G[3],y4.H[3],h4),h4.h)break;r3[f4]=(P3<<24|w4<<16|N4<<8|_3)>>>0}if(w4=!1,++f4,++u4>=i3&&(u4=0,++c4,null!=s3&&c4<=o3&&!(c4%16)&&s3(t5,c4),null!=v4))for(;d4<f4;)N4=r3[d4++],v4.X[(506832829*N4&4294967295)>>>v4.Mb]=N4}else if(280>N4){if(N4=mt2(N4-256,h4),_3=bt2(y4.G[4],y4.H[4],h4),S2(h4),_3=vt2(i3,_3=mt2(_3,h4)),h4.h)break;if(f4-n3<_3||a3-f4<N4)break t;for(P3=0;P3<N4;++P3)r3[f4+P3]=r3[f4+P3-_3];for(f4+=N4,u4+=N4;u4>=i3;)u4-=i3,++c4,null!=s3&&c4<=o3&&!(c4%16)&&s3(t5,c4);if(e3(f4<=a3),u4&b4&&(y4=wt2(l4,u4,c4)),null!=v4)for(;d4<f4;)N4=r3[d4++],v4.X[(506832829*N4&4294967295)>>>v4.Mb]=N4}else{if(!(N4<g4))break t;for(w4=N4-280,e3(null!=v4);d4<f4;)N4=r3[d4++],v4.X[(506832829*N4&4294967295)>>>v4.Mb]=N4;N4=f4,e3(!(w4>>>(_3=v4).Xa)),r3[N4]=_3.X[w4],w4=!0}w4||e3(h4.h==A3(h4))}if(t5.Pb&&h4.h&&f4<a3)e3(t5.m.h),t5.a=5,t5.m=t5.wd,t5.$=t5.xd,0<t5.s.ua&&B2(t5.s.vb,t5.s.Wa);else{if(h4.h)break t;null!=s3&&s3(t5,c4>o3?o3:c4),t5.a=0,t5.$=f4-n3}return 1}return t5.a=3,0}function Pt2(t5){e3(null!=t5),t5.vc=null,t5.yc=null,t5.Ya=null;var r3=t5.Wa;null!=r3&&(r3.X=null),t5.vb=null,e3(null!=t5)}function kt2(){var e4=new or;return null==e4?null:(e4.a=0,e4.xb=gi,rt2("Predictor","VP8LPredictors"),rt2("Predictor","VP8LPredictors_C"),rt2("PredictorAdd","VP8LPredictorsAdd"),rt2("PredictorAdd","VP8LPredictorsAdd_C"),Gr=G2,$r=J2,Qr=K2,tn=Z2,en=$2,rn=Q2,nn=tt2,t4.VP8LMapColor32b=Jr,t4.VP8LMapColor8b=Kr,e4)}function It2(t5,r3,n3,s3,c4){var u4=1,f4=[t5],p4=[r3],g4=s3.m,m4=s3.s,v4=null,b4=0;t:for(;;){if(n3)for(;u4&&y3(g4,1);){var w4=f4,N4=p4,A4=s3,_3=1,P3=A4.m,k3=A4.gc[A4.ab],I3=y3(P3,2);if(A4.Oc&1<<I3)u4=0;else{switch(A4.Oc|=1<<I3,k3.hc=I3,k3.Ea=w4[0],k3.nc=N4[0],k3.K=[null],++A4.ab,e3(4>=A4.ab),I3){case 0:case 1:k3.b=y3(P3,3)+2,_3=It2(q2(k3.Ea,k3.b),q2(k3.nc,k3.b),0,A4,k3.K),k3.K=k3.K[0];break;case 3:var F3,C3=y3(P3,8)+1,j3=16<C3?0:4<C3?1:2<C3?2:3;if(w4[0]=q2(k3.Ea,j3),k3.b=j3,F3=_3=It2(C3,1,0,A4,k3.K)){var B3,M3=C3,E3=k3,R3=1<<(8>>E3.b),T3=a2(R3);if(null==T3)F3=0;else{var U3=E3.K[0],z3=E3.w;for(T3[0]=E3.K[0][0],B3=1;B3<1*M3;++B3)T3[B3]=D2(U3[z3+B3],T3[B3-1]);for(;B3<4*R3;++B3)T3[B3]=0;E3.K[0]=null,E3.K[0]=T3,F3=1}}_3=F3;break;case 2:break;default:e3(0)}u4=_3}}if(f4=f4[0],p4=p4[0],u4&&y3(g4,1)&&!(u4=1<=(b4=y3(g4,4))&&11>=b4)){s3.a=3;break t}var H3;if(H3=u4)e:{var W3,V3,G3,Y3=s3,J3=f4,X3=p4,K3=b4,Z3=n3,$3=Y3.m,Q3=Y3.s,tt3=[null],et3=1,rt3=0,nt3=Qn[K3];r:for(;;){if(Z3&&y3($3,1)){var it3=y3($3,3)+2,at3=q2(J3,it3),ot3=q2(X3,it3),st3=at3*ot3;if(!It2(at3,ot3,0,Y3,tt3))break r;for(tt3=tt3[0],Q3.xc=it3,W3=0;W3<st3;++W3){var ct3=tt3[W3]>>8&65535;tt3[W3]=ct3,ct3>=et3&&(et3=ct3+1)}}if($3.h)break r;for(V3=0;5>V3;++V3){var ut3=Xn[V3];!V3&&0<K3&&(ut3+=1<<K3),rt3<ut3&&(rt3=ut3)}var ht3=o2(et3*nt3,l3),lt3=et3,ft3=o2(lt3,d3);if(null==ft3)var dt3=null;else e3(65536>=lt3),dt3=ft3;var pt3=a2(rt3);if(null==dt3||null==pt3||null==ht3){Y3.a=1;break r}var gt3=ht3;for(W3=G3=0;W3<et3;++W3){var mt3=dt3[W3],vt3=mt3.G,bt3=mt3.H,wt3=0,Nt3=1,Lt3=0;for(V3=0;5>V3;++V3){ut3=Xn[V3],vt3[V3]=gt3,bt3[V3]=G3,!V3&&0<K3&&(ut3+=1<<K3);n:{var At3,xt3=ut3,St2=Y3,kt3=pt3,Ft3=gt3,Ct3=G3,jt3=0,Ot3=St2.m,Bt3=y3(Ot3,1);if(i2(kt3,0,0,xt3),Bt3){var Mt3=y3(Ot3,1)+1,Et3=y3(Ot3,1),qt3=y3(Ot3,0==Et3?1:8);kt3[qt3]=1,2==Mt3&&(kt3[qt3=y3(Ot3,8)]=1);var Dt3=1}else{var Rt3=a2(19),Tt3=y3(Ot3,4)+4;if(19<Tt3){St2.a=3;var Ut3=0;break n}for(At3=0;At3<Tt3;++At3)Rt3[Zn[At3]]=y3(Ot3,3);var zt3=void 0,Ht3=void 0,Wt3=St2,Vt3=Rt3,Gt3=xt3,Yt3=kt3,Jt3=0,Xt3=Wt3.m,Kt3=8,Zt3=o2(128,l3);i:for(;h3(Zt3,0,7,Vt3,19);){if(y3(Xt3,1)){var $t3=2+2*y3(Xt3,3);if((zt3=2+y3(Xt3,$t3))>Gt3)break i}else zt3=Gt3;for(Ht3=0;Ht3<Gt3&&zt3--;){S2(Xt3);var Qt3=Zt3[0+(127&L3(Xt3))];x2(Xt3,Xt3.u+Qt3.g);var te3=Qt3.value;if(16>te3)Yt3[Ht3++]=te3,0!=te3&&(Kt3=te3);else{var ee3=16==te3,re3=te3-16,ne3=Jn[re3],ie3=y3(Xt3,Yn[re3])+ne3;if(Ht3+ie3>Gt3)break i;for(var ae3=ee3?Kt3:0;0<ie3--;)Yt3[Ht3++]=ae3}}Jt3=1;break i}Jt3||(Wt3.a=3),Dt3=Jt3}(Dt3=Dt3&&!Ot3.h)&&(jt3=h3(Ft3,Ct3,8,kt3,xt3)),Dt3&&0!=jt3?Ut3=jt3:(St2.a=3,Ut3=0)}if(0==Ut3)break r;if(Nt3&&1==Kn[V3]&&(Nt3=0==gt3[G3].g),wt3+=gt3[G3].g,G3+=Ut3,3>=V3){var oe3,se3=pt3[0];for(oe3=1;oe3<ut3;++oe3)pt3[oe3]>se3&&(se3=pt3[oe3]);Lt3+=se3}}if(mt3.nd=Nt3,mt3.Qb=0,Nt3&&(mt3.qb=(vt3[3][bt3[3]+0].value<<24|vt3[1][bt3[1]+0].value<<16|vt3[2][bt3[2]+0].value)>>>0,0==wt3&&256>vt3[0][bt3[0]+0].value&&(mt3.Qb=1,mt3.qb+=vt3[0][bt3[0]+0].value<<8)),mt3.jc=!mt3.Qb&&6>Lt3,mt3.jc){var ce3,ue3=mt3;for(ce3=0;ce3<Dr;++ce3){var he3=ce3,le3=ue3.pd[he3],fe3=ue3.G[0][ue3.H[0]+he3];256<=fe3.value?(le3.g=fe3.g+256,le3.value=fe3.value):(le3.g=0,le3.value=0,he3>>=yt3(fe3,8,le3),he3>>=yt3(ue3.G[1][ue3.H[1]+he3],16,le3),he3>>=yt3(ue3.G[2][ue3.H[2]+he3],0,le3),yt3(ue3.G[3][ue3.H[3]+he3],24,le3))}}}Q3.vc=tt3,Q3.Wb=et3,Q3.Ya=dt3,Q3.yc=ht3,H3=1;break e}H3=0}if(!(u4=H3)){s3.a=3;break t}if(0<b4){if(m4.ua=1<<b4,!O2(m4.Wa,b4)){s3.a=1,u4=0;break t}}else m4.ua=0;var de3=s3,pe3=f4,ge3=p4,me3=de3.s,ve3=me3.xc;if(de3.c=pe3,de3.i=ge3,me3.md=q2(pe3,ve3),me3.wc=0==ve3?-1:(1<<ve3)-1,n3){s3.xb=pi2;break t}if(null==(v4=a2(f4*p4))){s3.a=1,u4=0;break t}u4=(u4=_t2(s3,v4,0,f4,p4,p4,null))&&!g4.h;break t}return u4?(null!=c4?c4[0]=v4:(e3(null==v4),e3(n3)),s3.$=0,n3||Pt2(m4)):Pt2(m4),u4}function Ft2(t5,r3){var n3=t5.c*t5.i,i3=n3+r3+16*r3;return e3(t5.c<=r3),t5.V=a2(i3),null==t5.V?(t5.Ta=null,t5.Ua=0,t5.a=1,0):(t5.Ta=t5.V,t5.Ua=t5.Ba+n3+r3,1)}function Ct2(t5,r3){var n3=t5.C,i3=r3-n3,a3=t5.V,o3=t5.Ba+t5.c*n3;for(e3(r3<=t5.l.o);0<i3;){var s3=16<i3?16:i3,c4=t5.l.ma,u4=t5.l.width,h4=u4*s3,l4=c4.ca,f4=c4.tb+u4*n3,d4=t5.Ta,p4=t5.Ua;Nt2(t5,s3,a3,o3),_n(d4,p4,l4,f4,h4),xt2(c4,n3,n3+s3,l4,f4,u4),i3-=s3,a3+=s3*t5.c,n3+=s3}e3(n3==r3),t5.C=t5.Ma=r3}function jt2(){this.ub=this.yd=this.td=this.Rb=0}function Ot2(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bt2(){this.Fb=this.Bb=this.Cb=0,this.Zb=a2(4),this.Lb=a2(4)}function Mt2(){var t5;this.Yb=(function t6(e4,r3,n3){for(var i3=n3[r3],a3=0;a3<i3&&(e4.push(n3.length>r3+1?[]:0),!(n3.length<r3+1));a3++)t6(e4[a3],r3+1,n3)}(t5=[],0,[3,11]),t5)}function Et2(){this.jb=a2(3),this.Wc=s2([4,8],Mt2),this.Xc=s2([4,17],Mt2)}function qt2(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a2(4),this.od=new a2(4)}function Dt2(){this.ld=this.La=this.dd=this.tc=0}function Rt2(){this.Na=this.la=0}function Tt2(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ut2(){this.ad=a2(384),this.Za=0,this.Ob=a2(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zt2(){this.uc=this.M=this.Nb=0,this.wa=Array(new Dt2),this.Y=0,this.ya=Array(new Ut2),this.aa=0,this.l=new Gt2}function Ht2(){this.y=a2(16),this.f=a2(8),this.ea=a2(8)}function Wt2(){this.cb=this.a=0,this.sc="",this.m=new w3,this.Od=new jt2,this.Kc=new Ot2,this.ed=new qt2,this.Qa=new Bt2,this.Ic=this.$c=this.Aa=0,this.D=new zt2,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o2(8,w3),this.ia=0,this.pb=o2(4,Tt2),this.Pa=new Et2,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ht2),this.Hd=0,this.rb=Array(new Rt2),this.sb=0,this.wa=Array(new Dt2),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ut2),this.L=this.aa=0,this.gd=s2([4,2],Dt2),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vt2(t5,e4){return 0>t5?0:t5>e4?e4:t5}function Gt2(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Yt2(){var t5=new Wt2;return null!=t5&&(t5.a=0,t5.sc="OK",t5.cb=0,t5.Xb=0,ni||(ni=Zt2)),t5}function Jt2(t5,e4,r3){return 0==t5.a&&(t5.a=e4,t5.sc=r3,t5.cb=0),0}function Xt2(t5,e4,r3){return 3<=r3&&157==t5[e4+0]&&1==t5[e4+1]&&42==t5[e4+2]}function Kt2(t5,r3){if(null==t5)return 0;if(t5.a=0,t5.sc="OK",null==r3)return Jt2(t5,2,"null VP8Io passed to VP8GetHeaders()");var n3=r3.data,a3=r3.w,o3=r3.ha;if(4>o3)return Jt2(t5,7,"Truncated header.");var s3=n3[a3+0]|n3[a3+1]<<8|n3[a3+2]<<16,c4=t5.Od;if(c4.Rb=!(1&s3),c4.td=s3>>1&7,c4.yd=s3>>4&1,c4.ub=s3>>5,3<c4.td)return Jt2(t5,3,"Incorrect keyframe parameters.");if(!c4.yd)return Jt2(t5,4,"Frame not displayable.");a3+=3,o3-=3;var u4=t5.Kc;if(c4.Rb){if(7>o3)return Jt2(t5,7,"cannot parse picture header");if(!Xt2(n3,a3,o3))return Jt2(t5,3,"Bad code word");u4.c=16383&(n3[a3+4]<<8|n3[a3+3]),u4.Td=n3[a3+4]>>6,u4.i=16383&(n3[a3+6]<<8|n3[a3+5]),u4.Ud=n3[a3+6]>>6,a3+=7,o3-=7,t5.za=u4.c+15>>4,t5.Ub=u4.i+15>>4,r3.width=u4.c,r3.height=u4.i,r3.Da=0,r3.j=0,r3.v=0,r3.va=r3.width,r3.o=r3.height,r3.da=0,r3.ib=r3.width,r3.hb=r3.height,r3.U=r3.width,r3.T=r3.height,i2((s3=t5.Pa).jb,0,255,s3.jb.length),e3(null!=(s3=t5.Qa)),s3.Cb=0,s3.Bb=0,s3.Fb=1,i2(s3.Zb,0,0,s3.Zb.length),i2(s3.Lb,0,0,s3.Lb)}if(c4.ub>o3)return Jt2(t5,7,"bad partition length");p3(s3=t5.m,n3,a3,c4.ub),a3+=c4.ub,o3-=c4.ub,c4.Rb&&(u4.Ld=P2(s3),u4.Kd=P2(s3)),u4=t5.Qa;var h4,l4=t5.Pa;if(e3(null!=s3),e3(null!=u4),u4.Cb=P2(s3),u4.Cb){if(u4.Bb=P2(s3),P2(s3)){for(u4.Fb=P2(s3),h4=0;4>h4;++h4)u4.Zb[h4]=P2(s3)?m3(s3,7):0;for(h4=0;4>h4;++h4)u4.Lb[h4]=P2(s3)?m3(s3,6):0}if(u4.Bb)for(h4=0;3>h4;++h4)l4.jb[h4]=P2(s3)?g3(s3,8):255}else u4.Bb=0;if(s3.Ka)return Jt2(t5,3,"cannot parse segment header");if((u4=t5.ed).zd=P2(s3),u4.Tb=g3(s3,6),u4.wb=g3(s3,3),u4.Pc=P2(s3),u4.Pc&&P2(s3)){for(l4=0;4>l4;++l4)P2(s3)&&(u4.vd[l4]=m3(s3,6));for(l4=0;4>l4;++l4)P2(s3)&&(u4.od[l4]=m3(s3,6))}if(t5.L=0==u4.Tb?0:u4.zd?1:2,s3.Ka)return Jt2(t5,3,"cannot parse filter header");var f4=o3;if(o3=h4=a3,a3=h4+f4,u4=f4,t5.Xb=(1<<g3(t5.m,2))-1,f4<3*(l4=t5.Xb))n3=7;else{for(h4+=3*l4,u4-=3*l4,f4=0;f4<l4;++f4){var d4=n3[o3+0]|n3[o3+1]<<8|n3[o3+2]<<16;d4>u4&&(d4=u4),p3(t5.Jc[+f4],n3,h4,d4),h4+=d4,u4-=d4,o3+=3}p3(t5.Jc[+l4],n3,h4,u4),n3=h4<a3?0:5}if(0!=n3)return Jt2(t5,n3,"cannot parse partitions");for(n3=g3(h4=t5.m,7),o3=P2(h4)?m3(h4,4):0,a3=P2(h4)?m3(h4,4):0,u4=P2(h4)?m3(h4,4):0,l4=P2(h4)?m3(h4,4):0,h4=P2(h4)?m3(h4,4):0,f4=t5.Qa,d4=0;4>d4;++d4){if(f4.Cb){var v4=f4.Zb[d4];f4.Fb||(v4+=n3)}else{if(0<d4){t5.pb[d4]=t5.pb[0];continue}v4=n3}var b4=t5.pb[d4];b4.Sc[0]=ei[Vt2(v4+o3,127)],b4.Sc[1]=ri[Vt2(v4+0,127)],b4.Eb[0]=2*ei[Vt2(v4+a3,127)],b4.Eb[1]=101581*ri[Vt2(v4+u4,127)]>>16,8>b4.Eb[1]&&(b4.Eb[1]=8),b4.Qc[0]=ei[Vt2(v4+l4,117)],b4.Qc[1]=ri[Vt2(v4+h4,127)],b4.lc=v4+h4}if(!c4.Rb)return Jt2(t5,4,"Not a key frame.");for(P2(s3),c4=t5.Pa,n3=0;4>n3;++n3){for(o3=0;8>o3;++o3)for(a3=0;3>a3;++a3)for(u4=0;11>u4;++u4)l4=k2(s3,ui[n3][o3][a3][u4])?g3(s3,8):si[n3][o3][a3][u4],c4.Wc[n3][o3].Yb[a3][u4]=l4;for(o3=0;17>o3;++o3)c4.Xc[n3][o3]=c4.Wc[n3][hi[o3]]}return t5.kc=P2(s3),t5.kc&&(t5.Bd=g3(s3,8)),t5.cb=1}function Zt2(t5,e4,r3,n3,i3,a3,o3){var s3=e4[i3].Yb[r3];for(r3=0;16>i3;++i3){if(!k2(t5,s3[r3+0]))return i3;for(;!k2(t5,s3[r3+1]);)if(s3=e4[++i3].Yb[0],r3=0,16==i3)return 16;var c4=e4[i3+1].Yb;if(k2(t5,s3[r3+2])){var u4=t5,h4=0;if(k2(u4,(f4=s3)[(l4=r3)+3]))if(k2(u4,f4[l4+6])){for(s3=0,l4=2*(h4=k2(u4,f4[l4+8]))+(f4=k2(u4,f4[l4+9+h4])),h4=0,f4=ii[l4];f4[s3];++s3)h4+=h4+k2(u4,f4[s3]);h4+=3+(8<<l4)}else k2(u4,f4[l4+7])?(h4=7+2*k2(u4,165),h4+=k2(u4,145)):h4=5+k2(u4,159);else h4=k2(u4,f4[l4+4])?3+k2(u4,f4[l4+5]):2;s3=c4[2]}else h4=1,s3=c4[1];c4=o3+ai[i3],0>(u4=t5).b&&_2(u4);var l4,f4=u4.b,d4=(l4=u4.Ca>>1)-(u4.I>>f4)>>31;--u4.b,u4.Ca+=d4,u4.Ca|=1,u4.I-=(l4+1&d4)<<f4,a3[c4]=((h4^d4)-d4)*n3[(0<i3)+0]}return 16}function $t2(t5){var e4=t5.rb[t5.sb-1];e4.la=0,e4.Na=0,i2(t5.zc,0,0,t5.zc.length),t5.ja=0}function te2(t5,e4,r3,n3,i3){i3=t5[e4+r3+32*n3]+(i3>>3),t5[e4+r3+32*n3]=-256&i3?0>i3?0:255:i3}function ee2(t5,e4,r3,n3,i3,a3){te2(t5,e4,0,r3,n3+i3),te2(t5,e4,1,r3,n3+a3),te2(t5,e4,2,r3,n3-a3),te2(t5,e4,3,r3,n3-i3)}function re2(t5){return(20091*t5>>16)+t5}function ne2(t5,e4,r3,n3){var i3,o3=0,s3=a2(16);for(i3=0;4>i3;++i3){var c4=t5[e4+0]+t5[e4+8],u4=t5[e4+0]-t5[e4+8],h4=(35468*t5[e4+4]>>16)-re2(t5[e4+12]),l4=re2(t5[e4+4])+(35468*t5[e4+12]>>16);s3[o3+0]=c4+l4,s3[o3+1]=u4+h4,s3[o3+2]=u4-h4,s3[o3+3]=c4-l4,o3+=4,e4++}for(i3=o3=0;4>i3;++i3)c4=(t5=s3[o3+0]+4)+s3[o3+8],u4=t5-s3[o3+8],h4=(35468*s3[o3+4]>>16)-re2(s3[o3+12]),te2(r3,n3,0,0,c4+(l4=re2(s3[o3+4])+(35468*s3[o3+12]>>16))),te2(r3,n3,1,0,u4+h4),te2(r3,n3,2,0,u4-h4),te2(r3,n3,3,0,c4-l4),o3++,n3+=32}function ie2(t5,e4,r3,n3){var i3=t5[e4+0]+4,a3=35468*t5[e4+4]>>16,o3=re2(t5[e4+4]),s3=35468*t5[e4+1]>>16;ee2(r3,n3,0,i3+o3,t5=re2(t5[e4+1]),s3),ee2(r3,n3,1,i3+a3,t5,s3),ee2(r3,n3,2,i3-a3,t5,s3),ee2(r3,n3,3,i3-o3,t5,s3)}function ae2(t5,e4,r3,n3,i3){ne2(t5,e4,r3,n3),i3&&ne2(t5,e4+16,r3,n3+4)}function oe2(t5,e4,r3,n3){on(t5,e4+0,r3,n3,1),on(t5,e4+32,r3,n3+128,1)}function se2(t5,e4,r3,n3){var i3;for(t5=t5[e4+0]+4,i3=0;4>i3;++i3)for(e4=0;4>e4;++e4)te2(r3,n3,e4,i3,t5)}function ce2(t5,e4,r3,n3){t5[e4+0]&&un(t5,e4+0,r3,n3),t5[e4+16]&&un(t5,e4+16,r3,n3+4),t5[e4+32]&&un(t5,e4+32,r3,n3+128),t5[e4+48]&&un(t5,e4+48,r3,n3+128+4)}function ue2(t5,e4,r3,n3){var i3,o3=a2(16);for(i3=0;4>i3;++i3){var s3=t5[e4+0+i3]+t5[e4+12+i3],c4=t5[e4+4+i3]+t5[e4+8+i3],u4=t5[e4+4+i3]-t5[e4+8+i3],h4=t5[e4+0+i3]-t5[e4+12+i3];o3[0+i3]=s3+c4,o3[8+i3]=s3-c4,o3[4+i3]=h4+u4,o3[12+i3]=h4-u4}for(i3=0;4>i3;++i3)s3=(t5=o3[0+4*i3]+3)+o3[3+4*i3],c4=o3[1+4*i3]+o3[2+4*i3],u4=o3[1+4*i3]-o3[2+4*i3],h4=t5-o3[3+4*i3],r3[n3+0]=s3+c4>>3,r3[n3+16]=h4+u4>>3,r3[n3+32]=s3-c4>>3,r3[n3+48]=h4-u4>>3,n3+=64}function he2(t5,e4,r3){var n3,i3=e4-32,a3=Bn,o3=255-t5[i3-1];for(n3=0;n3<r3;++n3){var s3,c4=a3,u4=o3+t5[e4-1];for(s3=0;s3<r3;++s3)t5[e4+s3]=c4[u4+t5[i3+s3]];e4+=32}}function le2(t5,e4){he2(t5,e4,4)}function fe2(t5,e4){he2(t5,e4,8)}function de2(t5,e4){he2(t5,e4,16)}function pe2(t5,e4){var r3;for(r3=0;16>r3;++r3)n2(t5,e4+32*r3,t5,e4-32,16)}function ge2(t5,e4){var r3;for(r3=16;0<r3;--r3)i2(t5,e4,t5[e4-1],16),e4+=32}function me2(t5,e4,r3){var n3;for(n3=0;16>n3;++n3)i2(e4,r3+32*n3,t5,16)}function ve2(t5,e4){var r3,n3=16;for(r3=0;16>r3;++r3)n3+=t5[e4-1+32*r3]+t5[e4+r3-32];me2(n3>>5,t5,e4)}function be2(t5,e4){var r3,n3=8;for(r3=0;16>r3;++r3)n3+=t5[e4-1+32*r3];me2(n3>>4,t5,e4)}function ye2(t5,e4){var r3,n3=8;for(r3=0;16>r3;++r3)n3+=t5[e4+r3-32];me2(n3>>4,t5,e4)}function we2(t5,e4){me2(128,t5,e4)}function Ne2(t5,e4,r3){return t5+2*e4+r3+2>>2}function Le2(t5,e4){var r3,i3=e4-32;for(i3=new Uint8Array([Ne2(t5[i3-1],t5[i3+0],t5[i3+1]),Ne2(t5[i3+0],t5[i3+1],t5[i3+2]),Ne2(t5[i3+1],t5[i3+2],t5[i3+3]),Ne2(t5[i3+2],t5[i3+3],t5[i3+4])]),r3=0;4>r3;++r3)n2(t5,e4+32*r3,i3,0,i3.length)}function Ae(t5,e4){var r3=t5[e4-1],n3=t5[e4-1+32],i3=t5[e4-1+64],a3=t5[e4-1+96];I2(t5,e4+0,16843009*Ne2(t5[e4-1-32],r3,n3)),I2(t5,e4+32,16843009*Ne2(r3,n3,i3)),I2(t5,e4+64,16843009*Ne2(n3,i3,a3)),I2(t5,e4+96,16843009*Ne2(i3,a3,a3))}function xe2(t5,e4){var r3,n3=4;for(r3=0;4>r3;++r3)n3+=t5[e4+r3-32]+t5[e4-1+32*r3];for(n3>>=3,r3=0;4>r3;++r3)i2(t5,e4+32*r3,n3,4)}function Se2(t5,e4){var r3=t5[e4-1+0],n3=t5[e4-1+32],i3=t5[e4-1+64],a3=t5[e4-1-32],o3=t5[e4+0-32],s3=t5[e4+1-32],c4=t5[e4+2-32],u4=t5[e4+3-32];t5[e4+0+96]=Ne2(n3,i3,t5[e4-1+96]),t5[e4+1+96]=t5[e4+0+64]=Ne2(r3,n3,i3),t5[e4+2+96]=t5[e4+1+64]=t5[e4+0+32]=Ne2(a3,r3,n3),t5[e4+3+96]=t5[e4+2+64]=t5[e4+1+32]=t5[e4+0+0]=Ne2(o3,a3,r3),t5[e4+3+64]=t5[e4+2+32]=t5[e4+1+0]=Ne2(s3,o3,a3),t5[e4+3+32]=t5[e4+2+0]=Ne2(c4,s3,o3),t5[e4+3+0]=Ne2(u4,c4,s3)}function _e3(t5,e4){var r3=t5[e4+1-32],n3=t5[e4+2-32],i3=t5[e4+3-32],a3=t5[e4+4-32],o3=t5[e4+5-32],s3=t5[e4+6-32],c4=t5[e4+7-32];t5[e4+0+0]=Ne2(t5[e4+0-32],r3,n3),t5[e4+1+0]=t5[e4+0+32]=Ne2(r3,n3,i3),t5[e4+2+0]=t5[e4+1+32]=t5[e4+0+64]=Ne2(n3,i3,a3),t5[e4+3+0]=t5[e4+2+32]=t5[e4+1+64]=t5[e4+0+96]=Ne2(i3,a3,o3),t5[e4+3+32]=t5[e4+2+64]=t5[e4+1+96]=Ne2(a3,o3,s3),t5[e4+3+64]=t5[e4+2+96]=Ne2(o3,s3,c4),t5[e4+3+96]=Ne2(s3,c4,c4)}function Pe2(t5,e4){var r3=t5[e4-1+0],n3=t5[e4-1+32],i3=t5[e4-1+64],a3=t5[e4-1-32],o3=t5[e4+0-32],s3=t5[e4+1-32],c4=t5[e4+2-32],u4=t5[e4+3-32];t5[e4+0+0]=t5[e4+1+64]=a3+o3+1>>1,t5[e4+1+0]=t5[e4+2+64]=o3+s3+1>>1,t5[e4+2+0]=t5[e4+3+64]=s3+c4+1>>1,t5[e4+3+0]=c4+u4+1>>1,t5[e4+0+96]=Ne2(i3,n3,r3),t5[e4+0+64]=Ne2(n3,r3,a3),t5[e4+0+32]=t5[e4+1+96]=Ne2(r3,a3,o3),t5[e4+1+32]=t5[e4+2+96]=Ne2(a3,o3,s3),t5[e4+2+32]=t5[e4+3+96]=Ne2(o3,s3,c4),t5[e4+3+32]=Ne2(s3,c4,u4)}function ke2(t5,e4){var r3=t5[e4+0-32],n3=t5[e4+1-32],i3=t5[e4+2-32],a3=t5[e4+3-32],o3=t5[e4+4-32],s3=t5[e4+5-32],c4=t5[e4+6-32],u4=t5[e4+7-32];t5[e4+0+0]=r3+n3+1>>1,t5[e4+1+0]=t5[e4+0+64]=n3+i3+1>>1,t5[e4+2+0]=t5[e4+1+64]=i3+a3+1>>1,t5[e4+3+0]=t5[e4+2+64]=a3+o3+1>>1,t5[e4+0+32]=Ne2(r3,n3,i3),t5[e4+1+32]=t5[e4+0+96]=Ne2(n3,i3,a3),t5[e4+2+32]=t5[e4+1+96]=Ne2(i3,a3,o3),t5[e4+3+32]=t5[e4+2+96]=Ne2(a3,o3,s3),t5[e4+3+64]=Ne2(o3,s3,c4),t5[e4+3+96]=Ne2(s3,c4,u4)}function Ie2(t5,e4){var r3=t5[e4-1+0],n3=t5[e4-1+32],i3=t5[e4-1+64],a3=t5[e4-1+96];t5[e4+0+0]=r3+n3+1>>1,t5[e4+2+0]=t5[e4+0+32]=n3+i3+1>>1,t5[e4+2+32]=t5[e4+0+64]=i3+a3+1>>1,t5[e4+1+0]=Ne2(r3,n3,i3),t5[e4+3+0]=t5[e4+1+32]=Ne2(n3,i3,a3),t5[e4+3+32]=t5[e4+1+64]=Ne2(i3,a3,a3),t5[e4+3+64]=t5[e4+2+64]=t5[e4+0+96]=t5[e4+1+96]=t5[e4+2+96]=t5[e4+3+96]=a3}function Fe(t5,e4){var r3=t5[e4-1+0],n3=t5[e4-1+32],i3=t5[e4-1+64],a3=t5[e4-1+96],o3=t5[e4-1-32],s3=t5[e4+0-32],c4=t5[e4+1-32],u4=t5[e4+2-32];t5[e4+0+0]=t5[e4+2+32]=r3+o3+1>>1,t5[e4+0+32]=t5[e4+2+64]=n3+r3+1>>1,t5[e4+0+64]=t5[e4+2+96]=i3+n3+1>>1,t5[e4+0+96]=a3+i3+1>>1,t5[e4+3+0]=Ne2(s3,c4,u4),t5[e4+2+0]=Ne2(o3,s3,c4),t5[e4+1+0]=t5[e4+3+32]=Ne2(r3,o3,s3),t5[e4+1+32]=t5[e4+3+64]=Ne2(n3,r3,o3),t5[e4+1+64]=t5[e4+3+96]=Ne2(i3,n3,r3),t5[e4+1+96]=Ne2(a3,i3,n3)}function Ce2(t5,e4){var r3;for(r3=0;8>r3;++r3)n2(t5,e4+32*r3,t5,e4-32,8)}function je(t5,e4){var r3;for(r3=0;8>r3;++r3)i2(t5,e4,t5[e4-1],8),e4+=32}function Oe(t5,e4,r3){var n3;for(n3=0;8>n3;++n3)i2(e4,r3+32*n3,t5,8)}function Be(t5,e4){var r3,n3=8;for(r3=0;8>r3;++r3)n3+=t5[e4+r3-32]+t5[e4-1+32*r3];Oe(n3>>4,t5,e4)}function Me2(t5,e4){var r3,n3=4;for(r3=0;8>r3;++r3)n3+=t5[e4+r3-32];Oe(n3>>3,t5,e4)}function Ee2(t5,e4){var r3,n3=4;for(r3=0;8>r3;++r3)n3+=t5[e4-1+32*r3];Oe(n3>>3,t5,e4)}function qe(t5,e4){Oe(128,t5,e4)}function De2(t5,e4,r3){var n3=t5[e4-r3],i3=t5[e4+0],a3=3*(i3-n3)+jn[1020+t5[e4-2*r3]-t5[e4+r3]],o3=On[112+(a3+4>>3)];t5[e4-r3]=Bn[255+n3+On[112+(a3+3>>3)]],t5[e4+0]=Bn[255+i3-o3]}function Re2(t5,e4,r3,n3){var i3=t5[e4+0],a3=t5[e4+r3];return Mn[255+t5[e4-2*r3]-t5[e4-r3]]>n3||Mn[255+a3-i3]>n3}function Te2(t5,e4,r3,n3){return 4*Mn[255+t5[e4-r3]-t5[e4+0]]+Mn[255+t5[e4-2*r3]-t5[e4+r3]]<=n3}function Ue(t5,e4,r3,n3,i3){var a3=t5[e4-3*r3],o3=t5[e4-2*r3],s3=t5[e4-r3],c4=t5[e4+0],u4=t5[e4+r3],h4=t5[e4+2*r3],l4=t5[e4+3*r3];return 4*Mn[255+s3-c4]+Mn[255+o3-u4]>n3?0:Mn[255+t5[e4-4*r3]-a3]<=i3&&Mn[255+a3-o3]<=i3&&Mn[255+o3-s3]<=i3&&Mn[255+l4-h4]<=i3&&Mn[255+h4-u4]<=i3&&Mn[255+u4-c4]<=i3}function ze(t5,e4,r3,n3){var i3=2*n3+1;for(n3=0;16>n3;++n3)Te2(t5,e4+n3,r3,i3)&&De2(t5,e4+n3,r3)}function He(t5,e4,r3,n3){var i3=2*n3+1;for(n3=0;16>n3;++n3)Te2(t5,e4+n3*r3,1,i3)&&De2(t5,e4+n3*r3,1)}function We(t5,e4,r3,n3){var i3;for(i3=3;0<i3;--i3)ze(t5,e4+=4*r3,r3,n3)}function Ve(t5,e4,r3,n3){var i3;for(i3=3;0<i3;--i3)He(t5,e4+=4,r3,n3)}function Ge(t5,e4,r3,n3,i3,a3,o3,s3){for(a3=2*a3+1;0<i3--;){if(Ue(t5,e4,r3,a3,o3))if(Re2(t5,e4,r3,s3))De2(t5,e4,r3);else{var c4=t5,u4=e4,h4=r3,l4=c4[u4-2*h4],f4=c4[u4-h4],d4=c4[u4+0],p4=c4[u4+h4],g4=c4[u4+2*h4],m4=27*(b4=jn[1020+3*(d4-f4)+jn[1020+l4-p4]])+63>>7,v4=18*b4+63>>7,b4=9*b4+63>>7;c4[u4-3*h4]=Bn[255+c4[u4-3*h4]+b4],c4[u4-2*h4]=Bn[255+l4+v4],c4[u4-h4]=Bn[255+f4+m4],c4[u4+0]=Bn[255+d4-m4],c4[u4+h4]=Bn[255+p4-v4],c4[u4+2*h4]=Bn[255+g4-b4]}e4+=n3}}function Ye(t5,e4,r3,n3,i3,a3,o3,s3){for(a3=2*a3+1;0<i3--;){if(Ue(t5,e4,r3,a3,o3))if(Re2(t5,e4,r3,s3))De2(t5,e4,r3);else{var c4=t5,u4=e4,h4=r3,l4=c4[u4-h4],f4=c4[u4+0],d4=c4[u4+h4],p4=On[112+(4+(g4=3*(f4-l4))>>3)],g4=On[112+(g4+3>>3)],m4=p4+1>>1;c4[u4-2*h4]=Bn[255+c4[u4-2*h4]+m4],c4[u4-h4]=Bn[255+l4+g4],c4[u4+0]=Bn[255+f4-p4],c4[u4+h4]=Bn[255+d4-m4]}e4+=n3}}function Je(t5,e4,r3,n3,i3,a3){Ge(t5,e4,r3,1,16,n3,i3,a3)}function Xe(t5,e4,r3,n3,i3,a3){Ge(t5,e4,1,r3,16,n3,i3,a3)}function Ke(t5,e4,r3,n3,i3,a3){var o3;for(o3=3;0<o3;--o3)Ye(t5,e4+=4*r3,r3,1,16,n3,i3,a3)}function Ze(t5,e4,r3,n3,i3,a3){var o3;for(o3=3;0<o3;--o3)Ye(t5,e4+=4,1,r3,16,n3,i3,a3)}function $e2(t5,e4,r3,n3,i3,a3,o3,s3){Ge(t5,e4,i3,1,8,a3,o3,s3),Ge(r3,n3,i3,1,8,a3,o3,s3)}function Qe(t5,e4,r3,n3,i3,a3,o3,s3){Ge(t5,e4,1,i3,8,a3,o3,s3),Ge(r3,n3,1,i3,8,a3,o3,s3)}function tr(t5,e4,r3,n3,i3,a3,o3,s3){Ye(t5,e4+4*i3,i3,1,8,a3,o3,s3),Ye(r3,n3+4*i3,i3,1,8,a3,o3,s3)}function er(t5,e4,r3,n3,i3,a3,o3,s3){Ye(t5,e4+4,1,i3,8,a3,o3,s3),Ye(r3,n3+4,1,i3,8,a3,o3,s3)}function rr(){this.ba=new ot2,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ct2,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ir(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ar(){this.ua=0,this.Wa=new M2,this.vb=new M2,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new d3,this.yc=new l3}function or(){this.xb=this.a=0,this.l=new Gt2,this.ca=new ot2,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N3,this.Pb=0,this.wd=new N3,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ar,this.ab=0,this.gc=o2(4,ir),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Gt2,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cr(t5,e4,r3,n3,i3,a3,o3){for(t5=null==t5?0:t5[e4+0],e4=0;e4<o3;++e4)i3[a3+e4]=t5+r3[n3+e4]&255,t5=i3[a3+e4]}function ur(t5,e4,r3,n3,i3,a3,o3){var s3;if(null==t5)cr(null,null,r3,n3,i3,a3,o3);else for(s3=0;s3<o3;++s3)i3[a3+s3]=t5[e4+s3]+r3[n3+s3]&255}function hr(t5,e4,r3,n3,i3,a3,o3){if(null==t5)cr(null,null,r3,n3,i3,a3,o3);else{var s3,c4=t5[e4+0],u4=c4,h4=c4;for(s3=0;s3<o3;++s3)u4=h4+(c4=t5[e4+s3])-u4,h4=r3[n3+s3]+(-256&u4?0>u4?0:255:u4)&255,u4=c4,i3[a3+s3]=h4}}function lr(t5,r3,i3,o3){var s3=r3.width,c4=r3.o;if(e3(null!=t5&&null!=r3),0>i3||0>=o3||i3+o3>c4)return null;if(!t5.Cc){if(null==t5.ga){var u4;if(t5.ga=new sr,(u4=null==t5.ga)||(u4=r3.width*r3.o,e3(0==t5.Gb.length),t5.Gb=a2(u4),t5.Uc=0,null==t5.Gb?u4=0:(t5.mb=t5.Gb,t5.nb=t5.Uc,t5.rc=null,u4=1),u4=!u4),!u4){u4=t5.ga;var h4=t5.Fa,l4=t5.P,f4=t5.qc,d4=t5.mb,p4=t5.nb,g4=l4+1,m4=f4-1,b4=u4.l;if(e3(null!=h4&&null!=d4&&null!=r3),mi[0]=null,mi[1]=cr,mi[2]=ur,mi[3]=hr,u4.ca=d4,u4.tb=p4,u4.c=r3.width,u4.i=r3.height,e3(0<u4.c&&0<u4.i),1>=f4)r3=0;else if(u4.$a=3&h4[l4+0],u4.Z=h4[l4+0]>>2&3,u4.Lc=h4[l4+0]>>4&3,l4=h4[l4+0]>>6&3,0>u4.$a||1<u4.$a||4<=u4.Z||1<u4.Lc||l4)r3=0;else if(b4.put=dt2,b4.ac=ft2,b4.bc=pt2,b4.ma=u4,b4.width=r3.width,b4.height=r3.height,b4.Da=r3.Da,b4.v=r3.v,b4.va=r3.va,b4.j=r3.j,b4.o=r3.o,u4.$a)t:{e3(1==u4.$a),r3=kt2();e:for(;;){if(null==r3){r3=0;break t}if(e3(null!=u4),u4.mc=r3,r3.c=u4.c,r3.i=u4.i,r3.l=u4.l,r3.l.ma=u4,r3.l.width=u4.c,r3.l.height=u4.i,r3.a=0,v3(r3.m,h4,g4,m4),!It2(u4.c,u4.i,1,r3,null))break e;if(1==r3.ab&&3==r3.gc[0].hc&&At2(r3.s)?(u4.ic=1,h4=r3.c*r3.i,r3.Ta=null,r3.Ua=0,r3.V=a2(h4),r3.Ba=0,null==r3.V?(r3.a=1,r3=0):r3=1):(u4.ic=0,r3=Ft2(r3,u4.c)),!r3)break e;r3=1;break t}u4.mc=null,r3=0}else r3=m4>=u4.c*u4.i;u4=!r3}if(u4)return null;1!=t5.ga.Lc?t5.Ga=0:o3=c4-i3}e3(null!=t5.ga),e3(i3+o3<=c4);t:{if(r3=(h4=t5.ga).c,c4=h4.l.o,0==h4.$a){if(g4=t5.rc,m4=t5.Vc,b4=t5.Fa,l4=t5.P+1+i3*r3,f4=t5.mb,d4=t5.nb+i3*r3,e3(l4<=t5.P+t5.qc),0!=h4.Z)for(e3(null!=mi[h4.Z]),u4=0;u4<o3;++u4)mi[h4.Z](g4,m4,b4,l4,f4,d4,r3),g4=f4,m4=d4,d4+=r3,l4+=r3;else for(u4=0;u4<o3;++u4)n2(f4,d4,b4,l4,r3),g4=f4,m4=d4,d4+=r3,l4+=r3;t5.rc=g4,t5.Vc=m4}else{if(e3(null!=h4.mc),r3=i3+o3,e3(null!=(u4=h4.mc)),e3(r3<=u4.i),u4.C>=r3)r3=1;else if(h4.ic||mr(),h4.ic){h4=u4.V,g4=u4.Ba,m4=u4.c;var y4=u4.i,w4=(b4=1,l4=u4.$/m4,f4=u4.$%m4,d4=u4.m,p4=u4.s,u4.$),N4=m4*y4,L4=m4*r3,x3=p4.wc,_3=w4<L4?wt2(p4,f4,l4):null;e3(w4<=N4),e3(r3<=y4),e3(At2(p4));e:for(;;){for(;!d4.h&&w4<L4;){if(f4&x3||(_3=wt2(p4,f4,l4)),e3(null!=_3),S2(d4),256>(y4=bt2(_3.G[0],_3.H[0],d4)))h4[g4+w4]=y4,++w4,++f4>=m4&&(f4=0,++l4<=r3&&!(l4%16)&&St(u4,l4));else{if(!(280>y4)){b4=0;break e}y4=mt2(y4-256,d4);var P3,k3=bt2(_3.G[4],_3.H[4],d4);if(S2(d4),!(w4>=(k3=vt2(m4,k3=mt2(k3,d4)))&&N4-w4>=y4)){b4=0;break e}for(P3=0;P3<y4;++P3)h4[g4+w4+P3]=h4[g4+w4+P3-k3];for(w4+=y4,f4+=y4;f4>=m4;)f4-=m4,++l4<=r3&&!(l4%16)&&St(u4,l4);w4<L4&&f4&x3&&(_3=wt2(p4,f4,l4))}e3(d4.h==A3(d4))}St(u4,l4>r3?r3:l4);break e}!b4||d4.h&&w4<N4?(b4=0,u4.a=d4.h?5:3):u4.$=w4,r3=b4}else r3=_t2(u4,u4.V,u4.Ba,u4.c,u4.i,r3,Ct2);if(!r3){o3=0;break t}}i3+o3>=c4&&(t5.Cc=1),o3=1}if(!o3)return null;if(t5.Cc&&(null!=(o3=t5.ga)&&(o3.mc=null),t5.ga=null,0<t5.Ga))return alert("todo:WebPDequantizeLevels"),null}return t5.nb+i3*s3}function fr(t5,e4,r3,n3,i3,a3){for(;0<i3--;){var o3,s3=t5,c4=e4+(r3?1:0),u4=t5,h4=e4+(r3?0:3);for(o3=0;o3<n3;++o3){var l4=u4[h4+4*o3];255!=l4&&(l4*=32897,s3[c4+4*o3+0]=s3[c4+4*o3+0]*l4>>23,s3[c4+4*o3+1]=s3[c4+4*o3+1]*l4>>23,s3[c4+4*o3+2]=s3[c4+4*o3+2]*l4>>23)}e4+=a3}}function dr(t5,e4,r3,n3,i3){for(;0<n3--;){var a3;for(a3=0;a3<r3;++a3){var o3=t5[e4+2*a3+0],s3=15&(u4=t5[e4+2*a3+1]),c4=4369*s3,u4=(240&u4|u4>>4)*c4>>16;t5[e4+2*a3+0]=(240&o3|o3>>4)*c4>>16&240|(15&o3|o3<<4)*c4>>16>>4&15,t5[e4+2*a3+1]=240&u4|s3}e4+=i3}}function pr(t5,e4,r3,n3,i3,a3,o3,s3){var c4,u4,h4=255;for(u4=0;u4<i3;++u4){for(c4=0;c4<n3;++c4){var l4=t5[e4+c4];a3[o3+4*c4]=l4,h4&=l4}e4+=r3,o3+=s3}return 255!=h4}function gr(t5,e4,r3,n3,i3){var a3;for(a3=0;a3<i3;++a3)r3[n3+a3]=t5[e4+a3]>>8}function mr(){An=fr,xn=dr,Sn=pr,_n=gr}function vr(r3,n3,i3){t4[r3]=function(t5,r4,a3,o3,s3,c4,u4,h4,l4,f4,d4,p4,g4,m4,v4,b4,y4){var w4,N4=y4-1>>1,L4=s3[c4+0]|u4[h4+0]<<16,A4=l4[f4+0]|d4[p4+0]<<16;e3(null!=t5);var x3=3*L4+A4+131074>>2;for(n3(t5[r4+0],255&x3,x3>>16,g4,m4),null!=a3&&(x3=3*A4+L4+131074>>2,n3(a3[o3+0],255&x3,x3>>16,v4,b4)),w4=1;w4<=N4;++w4){var S3=s3[c4+w4]|u4[h4+w4]<<16,_3=l4[f4+w4]|d4[p4+w4]<<16,P3=L4+S3+A4+_3+524296,k3=P3+2*(S3+A4)>>3;x3=k3+L4>>1,L4=(P3=P3+2*(L4+_3)>>3)+S3>>1,n3(t5[r4+2*w4-1],255&x3,x3>>16,g4,m4+(2*w4-1)*i3),n3(t5[r4+2*w4-0],255&L4,L4>>16,g4,m4+(2*w4-0)*i3),null!=a3&&(x3=P3+A4>>1,L4=k3+_3>>1,n3(a3[o3+2*w4-1],255&x3,x3>>16,v4,b4+(2*w4-1)*i3),n3(a3[o3+2*w4+0],255&L4,L4>>16,v4,b4+(2*w4+0)*i3)),L4=S3,A4=_3}1&y4||(x3=3*L4+A4+131074>>2,n3(t5[r4+y4-1],255&x3,x3>>16,g4,m4+(y4-1)*i3),null!=a3&&(x3=3*A4+L4+131074>>2,n3(a3[o3+y4-1],255&x3,x3>>16,v4,b4+(y4-1)*i3)))}}function br(){vi[En]=bi,vi[qn]=wi,vi[Dn]=yi,vi[Rn]=Ni,vi[Tn]=Li,vi[Un]=Ai,vi[zn]=xi,vi[Hn]=wi,vi[Wn]=Ni,vi[Vn]=Li,vi[Gn]=Ai}function yr(t5){return-16384&t5?0>t5?0:255:t5>>Ii}function wr(t5,e4){return yr((19077*t5>>8)+(26149*e4>>8)-14234)}function Nr(t5,e4,r3){return yr((19077*t5>>8)-(6419*e4>>8)-(13320*r3>>8)+8708)}function Lr(t5,e4){return yr((19077*t5>>8)+(33050*e4>>8)-17685)}function Ar(t5,e4,r3,n3,i3){n3[i3+0]=wr(t5,r3),n3[i3+1]=Nr(t5,e4,r3),n3[i3+2]=Lr(t5,e4)}function xr(t5,e4,r3,n3,i3){n3[i3+0]=Lr(t5,e4),n3[i3+1]=Nr(t5,e4,r3),n3[i3+2]=wr(t5,r3)}function Sr(t5,e4,r3,n3,i3){var a3=Nr(t5,e4,r3);e4=a3<<3&224|Lr(t5,e4)>>3,n3[i3+0]=248&wr(t5,r3)|a3>>5,n3[i3+1]=e4}function _r(t5,e4,r3,n3,i3){var a3=240&Lr(t5,e4)|15;n3[i3+0]=240&wr(t5,r3)|Nr(t5,e4,r3)>>4,n3[i3+1]=a3}function Pr(t5,e4,r3,n3,i3){n3[i3+0]=255,Ar(t5,e4,r3,n3,i3+1)}function kr2(t5,e4,r3,n3,i3){xr(t5,e4,r3,n3,i3),n3[i3+3]=255}function Ir(t5,e4,r3,n3,i3){Ar(t5,e4,r3,n3,i3),n3[i3+3]=255}function Vt2(t5,e4){return 0>t5?0:t5>e4?e4:t5}function Fr(e4,r3,n3){t4[e4]=function(t5,e6,i3,a3,o3,s3,c4,u4,h4){for(var l4=u4+(-2&h4)*n3;u4!=l4;)r3(t5[e6+0],i3[a3+0],o3[s3+0],c4,u4),r3(t5[e6+1],i3[a3+0],o3[s3+0],c4,u4+n3),e6+=2,++a3,++s3,u4+=2*n3;1&h4&&r3(t5[e6+0],i3[a3+0],o3[s3+0],c4,u4)}}function Cr(t5,e4,r3){return 0==r3?0==t5?0==e4?6:5:0==e4?4:0:r3}function jr(t5,e4,r3,n3,i3){switch(t5>>>30){case 3:on(e4,r3,n3,i3,0);break;case 2:sn(e4,r3,n3,i3);break;case 1:un(e4,r3,n3,i3)}}function Or(t5,e4){var r3,a3,o3=e4.M,s3=e4.Nb,c4=t5.oc,u4=t5.pc+40,h4=t5.oc,l4=t5.pc+584,f4=t5.oc,d4=t5.pc+600;for(r3=0;16>r3;++r3)c4[u4+32*r3-1]=129;for(r3=0;8>r3;++r3)h4[l4+32*r3-1]=129,f4[d4+32*r3-1]=129;for(0<o3?c4[u4-1-32]=h4[l4-1-32]=f4[d4-1-32]=129:(i2(c4,u4-32-1,127,21),i2(h4,l4-32-1,127,9),i2(f4,d4-32-1,127,9)),a3=0;a3<t5.za;++a3){var p4=e4.ya[e4.aa+a3];if(0<a3){for(r3=-1;16>r3;++r3)n2(c4,u4+32*r3-4,c4,u4+32*r3+12,4);for(r3=-1;8>r3;++r3)n2(h4,l4+32*r3-4,h4,l4+32*r3+4,4),n2(f4,d4+32*r3-4,f4,d4+32*r3+4,4)}var g4=t5.Gd,m4=t5.Hd+a3,v4=p4.ad,b4=p4.Hc;if(0<o3&&(n2(c4,u4-32,g4[m4].y,0,16),n2(h4,l4-32,g4[m4].f,0,8),n2(f4,d4-32,g4[m4].ea,0,8)),p4.Za){var y4=c4,w4=u4-32+16;for(0<o3&&(a3>=t5.za-1?i2(y4,w4,g4[m4].y[15],4):n2(y4,w4,g4[m4+1].y,0,4)),r3=0;4>r3;r3++)y4[w4+128+r3]=y4[w4+256+r3]=y4[w4+384+r3]=y4[w4+0+r3];for(r3=0;16>r3;++r3,b4<<=2)y4=c4,w4=u4+Di[r3],fi[p4.Ob[r3]](y4,w4),jr(b4,v4,16*+r3,y4,w4)}else if(y4=Cr(a3,o3,p4.Ob[0]),li[y4](c4,u4),0!=b4)for(r3=0;16>r3;++r3,b4<<=2)jr(b4,v4,16*+r3,c4,u4+Di[r3]);for(r3=p4.Gc,y4=Cr(a3,o3,p4.Dd),di[y4](h4,l4),di[y4](f4,d4),b4=v4,y4=h4,w4=l4,255&(p4=r3|0)&&(170&p4?cn2(b4,256,y4,w4):hn(b4,256,y4,w4)),p4=f4,b4=d4,255&(r3>>=8)&&(170&r3?cn2(v4,320,p4,b4):hn(v4,320,p4,b4)),o3<t5.Ub-1&&(n2(g4[m4].y,0,c4,u4+480,16),n2(g4[m4].f,0,h4,l4+224,8),n2(g4[m4].ea,0,f4,d4+224,8)),r3=8*s3*t5.B,g4=t5.sa,m4=t5.ta+16*a3+16*s3*t5.R,v4=t5.qa,p4=t5.ra+8*a3+r3,b4=t5.Ha,y4=t5.Ia+8*a3+r3,r3=0;16>r3;++r3)n2(g4,m4+r3*t5.R,c4,u4+32*r3,16);for(r3=0;8>r3;++r3)n2(v4,p4+r3*t5.B,h4,l4+32*r3,8),n2(b4,y4+r3*t5.B,f4,d4+32*r3,8)}}function Br(t5,n3,i3,a3,o3,s3,c4,u4,h4){var l4=[0],f4=[0],d4=0,p4=null!=h4?h4.kd:0,g4=null!=h4?h4:new nr;if(null==t5||12>i3)return 7;g4.data=t5,g4.w=n3,g4.ha=i3,n3=[n3],i3=[i3],g4.gb=[g4.gb];t:{var m4=n3,b4=i3,y4=g4.gb;if(e3(null!=t5),e3(null!=b4),e3(null!=y4),y4[0]=0,12<=b4[0]&&!r2(t5,m4[0],"RIFF")){if(r2(t5,m4[0]+8,"WEBP")){y4=3;break t}var w4=j2(t5,m4[0]+4);if(12>w4||4294967286<w4){y4=3;break t}if(p4&&w4>b4[0]-8){y4=7;break t}y4[0]=w4,m4[0]+=12,b4[0]-=12}y4=0}if(0!=y4)return y4;for(w4=0<g4.gb[0],i3=i3[0];;){t:{var L4=t5;b4=n3,y4=i3;var A4=l4,x3=f4,S3=m4=[0];if((k3=d4=[d4])[0]=0,8>y4[0])y4=7;else{if(!r2(L4,b4[0],"VP8X")){if(10!=j2(L4,b4[0]+4)){y4=3;break t}if(18>y4[0]){y4=7;break t}var _3=j2(L4,b4[0]+8),P3=1+C2(L4,b4[0]+12);if(2147483648<=P3*(L4=1+C2(L4,b4[0]+15))){y4=3;break t}null!=S3&&(S3[0]=_3),null!=A4&&(A4[0]=P3),null!=x3&&(x3[0]=L4),b4[0]+=18,y4[0]-=18,k3[0]=1}y4=0}}if(d4=d4[0],m4=m4[0],0!=y4)return y4;if(b4=!!(2&m4),!w4&&d4)return 3;if(null!=s3&&(s3[0]=!!(16&m4)),null!=c4&&(c4[0]=b4),null!=u4&&(u4[0]=0),c4=l4[0],m4=f4[0],d4&&b4&&null==h4){y4=0;break}if(4>i3){y4=7;break}if(w4&&d4||!w4&&!d4&&!r2(t5,n3[0],"ALPH")){i3=[i3],g4.na=[g4.na],g4.P=[g4.P],g4.Sa=[g4.Sa];t:{_3=t5,y4=n3,w4=i3;var k3=g4.gb;A4=g4.na,x3=g4.P,S3=g4.Sa,P3=22,e3(null!=_3),e3(null!=w4),L4=y4[0];var I3=w4[0];for(e3(null!=A4),e3(null!=S3),A4[0]=null,x3[0]=null,S3[0]=0;;){if(y4[0]=L4,w4[0]=I3,8>I3){y4=7;break t}var F3=j2(_3,L4+4);if(4294967286<F3){y4=3;break t}var O3=8+F3+1&-2;if(P3+=O3,0<k3&&P3>k3){y4=3;break t}if(!r2(_3,L4,"VP8 ")||!r2(_3,L4,"VP8L")){y4=0;break t}if(I3[0]<O3){y4=7;break t}r2(_3,L4,"ALPH")||(A4[0]=_3,x3[0]=L4+8,S3[0]=F3),L4+=O3,I3-=O3}}if(i3=i3[0],g4.na=g4.na[0],g4.P=g4.P[0],g4.Sa=g4.Sa[0],0!=y4)break}i3=[i3],g4.Ja=[g4.Ja],g4.xa=[g4.xa];t:if(k3=t5,y4=n3,w4=i3,A4=g4.gb[0],x3=g4.Ja,S3=g4.xa,_3=y4[0],L4=!r2(k3,_3,"VP8 "),P3=!r2(k3,_3,"VP8L"),e3(null!=k3),e3(null!=w4),e3(null!=x3),e3(null!=S3),8>w4[0])y4=7;else{if(L4||P3){if(k3=j2(k3,_3+4),12<=A4&&k3>A4-12){y4=3;break t}if(p4&&k3>w4[0]-8){y4=7;break t}x3[0]=k3,y4[0]+=8,w4[0]-=8,S3[0]=P3}else S3[0]=5<=w4[0]&&47==k3[_3+0]&&!(k3[_3+4]>>5),x3[0]=w4[0];y4=0}if(i3=i3[0],g4.Ja=g4.Ja[0],g4.xa=g4.xa[0],n3=n3[0],0!=y4)break;if(4294967286<g4.Ja)return 3;if(null==u4||b4||(u4[0]=g4.xa?2:1),c4=[c4],m4=[m4],g4.xa){if(5>i3){y4=7;break}u4=c4,p4=m4,b4=s3,null==t5||5>i3?t5=0:5<=i3&&47==t5[n3+0]&&!(t5[n3+4]>>5)?(w4=[0],k3=[0],A4=[0],v3(x3=new N3,t5,n3,i3),gt2(x3,w4,k3,A4)?(null!=u4&&(u4[0]=w4[0]),null!=p4&&(p4[0]=k3[0]),null!=b4&&(b4[0]=A4[0]),t5=1):t5=0):t5=0}else{if(10>i3){y4=7;break}u4=m4,null==t5||10>i3||!Xt2(t5,n3+3,i3-3)?t5=0:(p4=t5[n3+0]|t5[n3+1]<<8|t5[n3+2]<<16,b4=16383&(t5[n3+7]<<8|t5[n3+6]),t5=16383&(t5[n3+9]<<8|t5[n3+8]),1&p4||3<(p4>>1&7)||!(p4>>4&1)||p4>>5>=g4.Ja||!b4||!t5?t5=0:(c4&&(c4[0]=b4),u4&&(u4[0]=t5),t5=1))}if(!t5)return 3;if(c4=c4[0],m4=m4[0],d4&&(l4[0]!=c4||f4[0]!=m4))return 3;null!=h4&&(h4[0]=g4,h4.offset=n3-h4.w,e3(4294967286>n3-h4.w),e3(h4.offset==h4.ha-i3));break}return 0==y4||7==y4&&d4&&null==h4?(null!=s3&&(s3[0]|=null!=g4.na&&0<g4.na.length),null!=a3&&(a3[0]=c4),null!=o3&&(o3[0]=m4),0):y4}function Mr(t5,e4,r3){var n3=e4.width,i3=e4.height,a3=0,o3=0,s3=n3,c4=i3;if(e4.Da=null!=t5&&0<t5.Da,e4.Da&&(s3=t5.cd,c4=t5.bd,a3=t5.v,o3=t5.j,11>r3||(a3&=-2,o3&=-2),0>a3||0>o3||0>=s3||0>=c4||a3+s3>n3||o3+c4>i3))return 0;if(e4.v=a3,e4.j=o3,e4.va=a3+s3,e4.o=o3+c4,e4.U=s3,e4.T=c4,e4.da=null!=t5&&0<t5.da,e4.da){if(!E2(s3,c4,r3=[t5.ib],a3=[t5.hb]))return 0;e4.ib=r3[0],e4.hb=a3[0]}return e4.ob=null!=t5&&t5.ob,e4.Kb=null==t5||!t5.Sd,e4.da&&(e4.ob=e4.ib<3*n3/4&&e4.hb<3*i3/4,e4.Kb=0),1}function Er(t5){if(null==t5)return 2;if(11>t5.S){var e4=t5.f.RGBA;e4.fb+=(t5.height-1)*e4.A,e4.A=-e4.A}else e4=t5.f.kb,t5=t5.height,e4.O+=(t5-1)*e4.fa,e4.fa=-e4.fa,e4.N+=(t5-1>>1)*e4.Ab,e4.Ab=-e4.Ab,e4.W+=(t5-1>>1)*e4.Db,e4.Db=-e4.Db,null!=e4.F&&(e4.J+=(t5-1)*e4.lb,e4.lb=-e4.lb);return 0}function qr(t5,e4,r3,n3){if(null==n3||0>=t5||0>=e4)return 2;if(null!=r3){if(r3.Da){var i3=r3.cd,o3=r3.bd,s3=-2&r3.v,c4=-2&r3.j;if(0>s3||0>c4||0>=i3||0>=o3||s3+i3>t5||c4+o3>e4)return 2;t5=i3,e4=o3}if(r3.da){if(!E2(t5,e4,i3=[r3.ib],o3=[r3.hb]))return 2;t5=i3[0],e4=o3[0]}}n3.width=t5,n3.height=e4;t:{var u4=n3.width,h4=n3.height;if(t5=n3.S,0>=u4||0>=h4||!(t5>=En&&13>t5))t5=2;else{if(0>=n3.Rd&&null==n3.sd){s3=o3=i3=e4=0;var l4=(c4=u4*zi[t5])*h4;if(11>t5||(o3=(h4+1)/2*(e4=(u4+1)/2),12==t5&&(s3=(i3=u4)*h4)),null==(h4=a2(l4+2*o3+s3))){t5=1;break t}n3.sd=h4,11>t5?((u4=n3.f.RGBA).eb=h4,u4.fb=0,u4.A=c4,u4.size=l4):((u4=n3.f.kb).y=h4,u4.O=0,u4.fa=c4,u4.Fd=l4,u4.f=h4,u4.N=0+l4,u4.Ab=e4,u4.Cd=o3,u4.ea=h4,u4.W=0+l4+o3,u4.Db=e4,u4.Ed=o3,12==t5&&(u4.F=h4,u4.J=0+l4+2*o3),u4.Tc=s3,u4.lb=i3)}if(e4=1,i3=n3.S,o3=n3.width,s3=n3.height,i3>=En&&13>i3)if(11>i3)t5=n3.f.RGBA,e4&=(c4=Math.abs(t5.A))*(s3-1)+o3<=t5.size,e4&=c4>=o3*zi[i3],e4&=null!=t5.eb;else{t5=n3.f.kb,c4=(o3+1)/2,l4=(s3+1)/2,u4=Math.abs(t5.fa),h4=Math.abs(t5.Ab);var f4=Math.abs(t5.Db),d4=Math.abs(t5.lb),p4=d4*(s3-1)+o3;e4&=u4*(s3-1)+o3<=t5.Fd,e4&=h4*(l4-1)+c4<=t5.Cd,e4=(e4&=f4*(l4-1)+c4<=t5.Ed)&u4>=o3&h4>=c4&f4>=c4,e4&=null!=t5.y,e4&=null!=t5.f,e4&=null!=t5.ea,12==i3&&(e4&=d4>=o3,e4&=p4<=t5.Tc,e4&=null!=t5.F)}else e4=0;t5=e4?0:2}}return 0!=t5||null!=r3&&r3.fd&&(t5=Er(n3)),t5}var Dr=64,Rr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Tr=24,Ur=32,zr=8,Hr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];R2("Predictor0","PredictorAdd0"),t4.Predictor0=function(){return 4278190080},t4.Predictor1=function(t5){return t5},t4.Predictor2=function(t5,e4,r3){return e4[r3+0]},t4.Predictor3=function(t5,e4,r3){return e4[r3+1]},t4.Predictor4=function(t5,e4,r3){return e4[r3-1]},t4.Predictor5=function(t5,e4,r3){return U2(U2(t5,e4[r3+1]),e4[r3+0])},t4.Predictor6=function(t5,e4,r3){return U2(t5,e4[r3-1])},t4.Predictor7=function(t5,e4,r3){return U2(t5,e4[r3+0])},t4.Predictor8=function(t5,e4,r3){return U2(e4[r3-1],e4[r3+0])},t4.Predictor9=function(t5,e4,r3){return U2(e4[r3+0],e4[r3+1])},t4.Predictor10=function(t5,e4,r3){return U2(U2(t5,e4[r3-1]),U2(e4[r3+0],e4[r3+1]))},t4.Predictor11=function(t5,e4,r3){var n3=e4[r3+0];return 0>=W2(n3>>24&255,t5>>24&255,(e4=e4[r3-1])>>24&255)+W2(n3>>16&255,t5>>16&255,e4>>16&255)+W2(n3>>8&255,t5>>8&255,e4>>8&255)+W2(255&n3,255&t5,255&e4)?n3:t5},t4.Predictor12=function(t5,e4,r3){var n3=e4[r3+0];return(z2((t5>>24&255)+(n3>>24&255)-((e4=e4[r3-1])>>24&255))<<24|z2((t5>>16&255)+(n3>>16&255)-(e4>>16&255))<<16|z2((t5>>8&255)+(n3>>8&255)-(e4>>8&255))<<8|z2((255&t5)+(255&n3)-(255&e4)))>>>0},t4.Predictor13=function(t5,e4,r3){var n3=e4[r3-1];return(H2((t5=U2(t5,e4[r3+0]))>>24&255,n3>>24&255)<<24|H2(t5>>16&255,n3>>16&255)<<16|H2(t5>>8&255,n3>>8&255)<<8|H2(255&t5,255&n3))>>>0};var Wr=t4.PredictorAdd0;t4.PredictorAdd1=V2,R2("Predictor2","PredictorAdd2"),R2("Predictor3","PredictorAdd3"),R2("Predictor4","PredictorAdd4"),R2("Predictor5","PredictorAdd5"),R2("Predictor6","PredictorAdd6"),R2("Predictor7","PredictorAdd7"),R2("Predictor8","PredictorAdd8"),R2("Predictor9","PredictorAdd9"),R2("Predictor10","PredictorAdd10"),R2("Predictor11","PredictorAdd11"),R2("Predictor12","PredictorAdd12"),R2("Predictor13","PredictorAdd13");var Vr=t4.PredictorAdd2;X2("ColorIndexInverseTransform","MapARGB","32b",function(t5){return t5>>8&255},function(t5){return t5}),X2("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(t5){return t5},function(t5){return t5>>8&255});var Gr,Yr=t4.ColorIndexInverseTransform,Jr=t4.MapARGB,Xr=t4.VP8LColorIndexInverseTransformAlpha,Kr=t4.MapAlpha,Zr=t4.VP8LPredictorsAdd=[];Zr.length=16,(t4.VP8LPredictors=[]).length=16,(t4.VP8LPredictorsAdd_C=[]).length=16,(t4.VP8LPredictors_C=[]).length=16;var $r,Qr,tn,en,rn,nn,an,on,sn,cn2,un,hn,ln2,fn,dn,pn,gn,mn,vn,bn,yn,wn,Nn,Ln,An,xn,Sn,_n,Pn=a2(511),kn=a2(2041),In=a2(225),Fn=a2(767),Cn=0,jn=kn,On=In,Bn=Fn,Mn=Pn,En=0,qn=1,Dn=2,Rn=3,Tn=4,Un=5,zn=6,Hn=7,Wn=8,Vn=9,Gn=10,Yn=[2,3,7],Jn=[3,3,11],Xn=[280,256,256,256,40],Kn=[0,1,1,1,0],Zn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$n=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ti=8,ei=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ri=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ni=null,ii=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ai=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],si=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ci=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ui=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hi=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],li=[],fi=[],di=[],pi2=1,gi=2,mi=[],vi=[];vr("UpsampleRgbLinePair",Ar,3),vr("UpsampleBgrLinePair",xr,3),vr("UpsampleRgbaLinePair",Ir,4),vr("UpsampleBgraLinePair",kr2,4),vr("UpsampleArgbLinePair",Pr,4),vr("UpsampleRgba4444LinePair",_r,2),vr("UpsampleRgb565LinePair",Sr,2);var bi=t4.UpsampleRgbLinePair,yi=t4.UpsampleBgrLinePair,wi=t4.UpsampleRgbaLinePair,Ni=t4.UpsampleBgraLinePair,Li=t4.UpsampleArgbLinePair,Ai=t4.UpsampleRgba4444LinePair,xi=t4.UpsampleRgb565LinePair,Si=16,_i2=1<<Si-1,Pi=-227,ki=482,Ii=6,Ci=0,ji=a2(256),Oi=a2(256),Bi=a2(256),Mi=a2(256),Ei=a2(ki-Pi),qi=a2(ki-Pi);Fr("YuvToRgbRow",Ar,3),Fr("YuvToBgrRow",xr,3),Fr("YuvToRgbaRow",Ir,4),Fr("YuvToBgraRow",kr2,4),Fr("YuvToArgbRow",Pr,4),Fr("YuvToRgba4444Row",_r,2),Fr("YuvToRgb565Row",Sr,2);var Di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ri=[0,2,8],Ti=[8,7,6,4,4,2,2,2,1,1,1,1],Ui=1;this.WebPDecodeRGBA=function(t5,r3,n3,i3,a3){var o3=qn,s3=new rr,c4=new ot2;s3.ba=c4,c4.S=o3,c4.width=[c4.width],c4.height=[c4.height];var u4=c4.width,h4=c4.height,l4=new st2;if(null==l4||null==t5)var f4=2;else e3(null!=l4),f4=Br(t5,r3,n3,l4.width,l4.height,l4.Pd,l4.Qd,l4.format,null);if(0!=f4?u4=0:(null!=u4&&(u4[0]=l4.width[0]),null!=h4&&(h4[0]=l4.height[0]),u4=1),u4){c4.width=c4.width[0],c4.height=c4.height[0],null!=i3&&(i3[0]=c4.width),null!=a3&&(a3[0]=c4.height);t:{if(i3=new Gt2,(a3=new nr).data=t5,a3.w=r3,a3.ha=n3,a3.kd=1,r3=[0],e3(null!=a3),(0==(t5=Br(a3.data,a3.w,a3.ha,null,null,null,r3,null,a3))||7==t5)&&r3[0]&&(t5=4),0==(r3=t5)){if(e3(null!=s3),i3.data=a3.data,i3.w=a3.w+a3.offset,i3.ha=a3.ha-a3.offset,i3.put=dt2,i3.ac=ft2,i3.bc=pt2,i3.ma=s3,a3.xa){if(null==(t5=kt2())){s3=1;break t}if(function(t6,r4){var n4=[0],i4=[0],a4=[0];e:for(;;){if(null==t6)return 0;if(null==r4)return t6.a=2,0;if(t6.l=r4,t6.a=0,v3(t6.m,r4.data,r4.w,r4.ha),!gt2(t6.m,n4,i4,a4)){t6.a=3;break e}if(t6.xb=gi,r4.width=n4[0],r4.height=i4[0],!It2(n4[0],i4[0],1,t6,null))break e;return 1}return e3(0!=t6.a),0}(t5,i3)){if(i3=0==(r3=qr(i3.width,i3.height,s3.Oa,s3.ba))){e:{i3=t5;r:for(;;){if(null==i3){i3=0;break e}if(e3(null!=i3.s.yc),e3(null!=i3.s.Ya),e3(0<i3.s.Wb),e3(null!=(n3=i3.l)),e3(null!=(a3=n3.ma)),0!=i3.xb){if(i3.ca=a3.ba,i3.tb=a3.tb,e3(null!=i3.ca),!Mr(a3.Oa,n3,Rn)){i3.a=2;break r}if(!Ft2(i3,n3.width))break r;if(n3.da)break r;if((n3.da||nt2(i3.ca.S))&&mr(),11>i3.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=i3.ca.f.kb.F&&mr()),i3.Pb&&0<i3.s.ua&&null==i3.s.vb.X&&!O2(i3.s.vb,i3.s.Wa.Xa)){i3.a=1;break r}i3.xb=0}if(!_t2(i3,i3.V,i3.Ba,i3.c,i3.i,n3.o,Lt2))break r;a3.Dc=i3.Ma,i3=1;break e}e3(0!=i3.a),i3=0}i3=!i3}i3&&(r3=t5.a)}else r3=t5.a}else{if(null==(t5=new Yt2)){s3=1;break t}if(t5.Fa=a3.na,t5.P=a3.P,t5.qc=a3.Sa,Kt2(t5,i3)){if(0==(r3=qr(i3.width,i3.height,s3.Oa,s3.ba))){if(t5.Aa=0,n3=s3.Oa,e3(null!=(a3=t5)),null!=n3){if(0<(u4=0>(u4=n3.Md)?0:100<u4?255:255*u4/100)){for(h4=l4=0;4>h4;++h4)12>(f4=a3.pb[h4]).lc&&(f4.ia=u4*Ti[0>f4.lc?0:f4.lc]>>3),l4|=f4.ia;l4&&(alert("todo:VP8InitRandom"),a3.ia=1)}a3.Ga=n3.Id,100<a3.Ga?a3.Ga=100:0>a3.Ga&&(a3.Ga=0)}(function(t5,r3){if(null==t5)return 0;if(null==r3)return Jt2(t5,2,"NULL VP8Io parameter in VP8Decode().");if(!t5.cb&&!Kt2(t5,r3))return 0;if(e3(t5.cb),null==r3.ac||r3.ac(r3)){r3.ob&&(t5.L=0);var s3=Ri[t5.L];if(2==t5.L?(t5.yb=0,t5.zb=0):(t5.yb=r3.v-s3>>4,t5.zb=r3.j-s3>>4,0>t5.yb&&(t5.yb=0),0>t5.zb&&(t5.zb=0)),t5.Va=r3.o+15+s3>>4,t5.Hb=r3.va+15+s3>>4,t5.Hb>t5.za&&(t5.Hb=t5.za),t5.Va>t5.Ub&&(t5.Va=t5.Ub),0<t5.L){var c4=t5.ed;for(s3=0;4>s3;++s3){var u4;if(t5.Qa.Cb){var h4=t5.Qa.Lb[s3];t5.Qa.Fb||(h4+=c4.Tb)}else h4=c4.Tb;for(u4=0;1>=u4;++u4){var l4=t5.gd[s3][u4],f4=h4;if(c4.Pc&&(f4+=c4.vd[0],u4&&(f4+=c4.od[0])),0<(f4=0>f4?0:63<f4?63:f4)){var d4=f4;0<c4.wb&&(d4=4<c4.wb?d4>>2:d4>>1)>9-c4.wb&&(d4=9-c4.wb),1>d4&&(d4=1),l4.dd=d4,l4.tc=2*f4+d4,l4.ld=40<=f4?2:15<=f4?1:0}else l4.tc=0;l4.La=u4}}}s3=0}else Jt2(t5,6,"Frame setup failed"),s3=t5.a;if(s3=0==s3){if(s3){t5.$c=0,0<t5.Aa||(t5.Ic=Ui);t:{s3=t5.Ic,c4=4*(d4=t5.za);var p4=32*d4,g4=d4+1,m4=0<t5.L?d4*(0<t5.Aa?2:1):0,v4=(2==t5.Aa?2:1)*d4;if((l4=c4+832+(u4=3*(16*s3+Ri[t5.L])/2*p4)+(h4=null!=t5.Fa&&0<t5.Fa.length?t5.Kc.c*t5.Kc.i:0))!=l4)s3=0;else{if(l4>t5.Vb){if(t5.Vb=0,t5.Ec=a2(l4),t5.Fc=0,null==t5.Ec){s3=Jt2(t5,1,"no memory during frame initialization.");break t}t5.Vb=l4}l4=t5.Ec,f4=t5.Fc,t5.Ac=l4,t5.Bc=f4,f4+=c4,t5.Gd=o2(p4,Ht2),t5.Hd=0,t5.rb=o2(g4+1,Rt2),t5.sb=1,t5.wa=m4?o2(m4,Dt2):null,t5.Y=0,t5.D.Nb=0,t5.D.wa=t5.wa,t5.D.Y=t5.Y,0<t5.Aa&&(t5.D.Y+=d4),e3(!0),t5.oc=l4,t5.pc=f4,f4+=832,t5.ya=o2(v4,Ut2),t5.aa=0,t5.D.ya=t5.ya,t5.D.aa=t5.aa,2==t5.Aa&&(t5.D.aa+=d4),t5.R=16*d4,t5.B=8*d4,d4=(p4=Ri[t5.L])*t5.R,p4=p4/2*t5.B,t5.sa=l4,t5.ta=f4+d4,t5.qa=t5.sa,t5.ra=t5.ta+16*s3*t5.R+p4,t5.Ha=t5.qa,t5.Ia=t5.ra+8*s3*t5.B+p4,t5.$c=0,f4+=u4,t5.mb=h4?l4:null,t5.nb=h4?f4:null,e3(f4+h4<=t5.Fc+t5.Vb),$t2(t5),i2(t5.Ac,t5.Bc,0,c4),s3=1}}if(s3){if(r3.ka=0,r3.y=t5.sa,r3.O=t5.ta,r3.f=t5.qa,r3.N=t5.ra,r3.ea=t5.Ha,r3.Vd=t5.Ia,r3.fa=t5.R,r3.Rc=t5.B,r3.F=null,r3.J=0,!Cn){for(s3=-255;255>=s3;++s3)Pn[255+s3]=0>s3?-s3:s3;for(s3=-1020;1020>=s3;++s3)kn[1020+s3]=-128>s3?-128:127<s3?127:s3;for(s3=-112;112>=s3;++s3)In[112+s3]=-16>s3?-16:15<s3?15:s3;for(s3=-255;510>=s3;++s3)Fn[255+s3]=0>s3?0:255<s3?255:s3;Cn=1}an=ue2,on=ae2,cn2=oe2,un=se2,hn=ce2,sn=ie2,ln2=Je,fn=Xe,dn=$e2,pn=Qe,gn=Ke,mn=Ze,vn=tr,bn=er,yn=ze,wn=He,Nn=We,Ln=Ve,fi[0]=xe2,fi[1]=le2,fi[2]=Le2,fi[3]=Ae,fi[4]=Se2,fi[5]=Pe2,fi[6]=_e3,fi[7]=ke2,fi[8]=Fe,fi[9]=Ie2,li[0]=ve2,li[1]=de2,li[2]=pe2,li[3]=ge2,li[4]=be2,li[5]=ye2,li[6]=we2,di[0]=Be,di[1]=fe2,di[2]=Ce2,di[3]=je,di[4]=Ee2,di[5]=Me2,di[6]=qe,s3=1}else s3=0}s3&&(s3=function(t6,r4){for(t6.M=0;t6.M<t6.Va;++t6.M){var o3,s4=t6.Jc[t6.M&t6.Xb],c5=t6.m,u5=t6;for(o3=0;o3<u5.za;++o3){var h5=c5,l5=u5,f5=l5.Ac,d5=l5.Bc+4*o3,p5=l5.zc,g5=l5.ya[l5.aa+o3];if(l5.Qa.Bb?g5.$b=k2(h5,l5.Pa.jb[0])?2+k2(h5,l5.Pa.jb[2]):k2(h5,l5.Pa.jb[1]):g5.$b=0,l5.kc&&(g5.Ad=k2(h5,l5.Bd)),g5.Za=!k2(h5,145)+0,g5.Za){var m5=g5.Ob,v5=0;for(l5=0;4>l5;++l5){var b4,y4=p5[0+l5];for(b4=0;4>b4;++b4){y4=ci[f5[d5+b4]][y4];for(var w4=oi[k2(h5,y4[0])];0<w4;)w4=oi[2*w4+k2(h5,y4[w4])];y4=-w4,f5[d5+b4]=y4}n2(m5,v5,f5,d5,4),v5+=4,p5[0+l5]=y4}}else y4=k2(h5,156)?k2(h5,128)?1:3:k2(h5,163)?2:0,g5.Ob[0]=y4,i2(f5,d5,y4,4),i2(p5,0,y4,4);g5.Dd=k2(h5,142)?k2(h5,114)?k2(h5,183)?1:3:2:0}if(u5.m.Ka)return Jt2(t6,7,"Premature end-of-partition0 encountered.");for(;t6.ja<t6.za;++t6.ja){if(u5=s4,h5=(c5=t6).rb[c5.sb-1],f5=c5.rb[c5.sb+c5.ja],o3=c5.ya[c5.aa+c5.ja],d5=c5.kc?o3.Ad:0)h5.la=f5.la=0,o3.Za||(h5.Na=f5.Na=0),o3.Hc=0,o3.Gc=0,o3.ia=0;else{var N4,L4;if(h5=f5,f5=u5,d5=c5.Pa.Xc,p5=c5.ya[c5.aa+c5.ja],g5=c5.pb[p5.$b],l5=p5.ad,m5=0,v5=c5.rb[c5.sb-1],y4=b4=0,i2(l5,m5,0,384),p5.Za)var A4=0,x3=d5[3];else{w4=a2(16);var S3=h5.Na+v5.Na;if(S3=ni(f5,d5[1],S3,g5.Eb,0,w4,0),h5.Na=v5.Na=(0<S3)+0,1<S3)an(w4,0,l5,m5);else{var _3=w4[0]+3>>3;for(w4=0;256>w4;w4+=16)l5[m5+w4]=_3}A4=1,x3=d5[0]}var P3=15&h5.la,I3=15&v5.la;for(w4=0;4>w4;++w4){var F3=1&I3;for(_3=L4=0;4>_3;++_3)P3=P3>>1|(F3=(S3=ni(f5,x3,S3=F3+(1&P3),g5.Sc,A4,l5,m5))>A4)<<7,L4=L4<<2|(3<S3?3:1<S3?2:0!=l5[m5+0]),m5+=16;P3>>=4,I3=I3>>1|F3<<7,b4=(b4<<8|L4)>>>0}for(x3=P3,A4=I3>>4,N4=0;4>N4;N4+=2){for(L4=0,P3=h5.la>>4+N4,I3=v5.la>>4+N4,w4=0;2>w4;++w4){for(F3=1&I3,_3=0;2>_3;++_3)S3=F3+(1&P3),P3=P3>>1|(F3=0<(S3=ni(f5,d5[2],S3,g5.Qc,0,l5,m5)))<<3,L4=L4<<2|(3<S3?3:1<S3?2:0!=l5[m5+0]),m5+=16;P3>>=2,I3=I3>>1|F3<<5}y4|=L4<<4*N4,x3|=P3<<4<<N4,A4|=(240&I3)<<N4}h5.la=x3,v5.la=A4,p5.Hc=b4,p5.Gc=y4,p5.ia=43690&y4?0:g5.ia,d5=!(b4|y4)}if(0<c5.L&&(c5.wa[c5.Y+c5.ja]=c5.gd[o3.$b][o3.Za],c5.wa[c5.Y+c5.ja].La|=!d5),u5.Ka)return Jt2(t6,7,"Premature end-of-file encountered.")}if($t2(t6),c5=r4,u5=1,o3=(s4=t6).D,h5=0<s4.L&&s4.M>=s4.zb&&s4.M<=s4.Va,0==s4.Aa)t:{if(o3.M=s4.M,o3.uc=h5,Or(s4,o3),u5=1,o3=(L4=s4.D).Nb,h5=(y4=Ri[s4.L])*s4.R,f5=y4/2*s4.B,w4=16*o3*s4.R,_3=8*o3*s4.B,d5=s4.sa,p5=s4.ta-h5+w4,g5=s4.qa,l5=s4.ra-f5+_3,m5=s4.Ha,v5=s4.Ia-f5+_3,I3=0==(P3=L4.M),b4=P3>=s4.Va-1,2==s4.Aa&&Or(s4,L4),L4.uc)for(F3=(S3=s4).D.M,e3(S3.D.uc),L4=S3.yb;L4<S3.Hb;++L4){A4=L4,x3=F3;var C3=(j3=(U3=S3).D).Nb;N4=U3.R;var j3=j3.wa[j3.Y+A4],O3=U3.sa,B3=U3.ta+16*C3*N4+16*A4,M3=j3.dd,E3=j3.tc;if(0!=E3)if(e3(3<=E3),1==U3.L)0<A4&&wn(O3,B3,N4,E3+4),j3.La&&Ln(O3,B3,N4,E3),0<x3&&yn(O3,B3,N4,E3+4),j3.La&&Nn(O3,B3,N4,E3);else{var q3=U3.B,D3=U3.qa,R3=U3.ra+8*C3*q3+8*A4,T3=U3.Ha,U3=U3.Ia+8*C3*q3+8*A4;C3=j3.ld,0<A4&&(fn(O3,B3,N4,E3+4,M3,C3),pn(D3,R3,T3,U3,q3,E3+4,M3,C3)),j3.La&&(mn(O3,B3,N4,E3,M3,C3),bn(D3,R3,T3,U3,q3,E3,M3,C3)),0<x3&&(ln2(O3,B3,N4,E3+4,M3,C3),dn(D3,R3,T3,U3,q3,E3+4,M3,C3)),j3.La&&(gn(O3,B3,N4,E3,M3,C3),vn(D3,R3,T3,U3,q3,E3,M3,C3))}}if(s4.ia&&alert("todo:DitherRow"),null!=c5.put){if(L4=16*P3,P3=16*(P3+1),I3?(c5.y=s4.sa,c5.O=s4.ta+w4,c5.f=s4.qa,c5.N=s4.ra+_3,c5.ea=s4.Ha,c5.W=s4.Ia+_3):(L4-=y4,c5.y=d5,c5.O=p5,c5.f=g5,c5.N=l5,c5.ea=m5,c5.W=v5),b4||(P3-=y4),P3>c5.o&&(P3=c5.o),c5.F=null,c5.J=null,null!=s4.Fa&&0<s4.Fa.length&&L4<P3&&(c5.J=lr(s4,c5,L4,P3-L4),c5.F=s4.mb,null==c5.F&&0==c5.F.length)){u5=Jt2(s4,3,"Could not decode alpha data.");break t}L4<c5.j&&(y4=c5.j-L4,L4=c5.j,e3(!(1&y4)),c5.O+=s4.R*y4,c5.N+=s4.B*(y4>>1),c5.W+=s4.B*(y4>>1),null!=c5.F&&(c5.J+=c5.width*y4)),L4<P3&&(c5.O+=c5.v,c5.N+=c5.v>>1,c5.W+=c5.v>>1,null!=c5.F&&(c5.J+=c5.v),c5.ka=L4-c5.j,c5.U=c5.va-c5.v,c5.T=P3-L4,u5=c5.put(c5))}o3+1!=s4.Ic||b4||(n2(s4.sa,s4.ta-h5,d5,p5+16*s4.R,h5),n2(s4.qa,s4.ra-f5,g5,l5+8*s4.B,f5),n2(s4.Ha,s4.Ia-f5,m5,v5+8*s4.B,f5))}if(!u5)return Jt2(t6,6,"Output aborted.")}return 1}(t5,r3)),null!=r3.bc&&r3.bc(r3),s3&=1}return s3?(t5.cb=0,s3):0})(t5,i3)||(r3=t5.a)}}else r3=t5.a}0==r3&&null!=s3.Oa&&s3.Oa.fd&&(r3=Er(s3.ba))}s3=r3}o3=0!=s3?null:11>o3?c4.f.RGBA.eb:c4.f.kb.y}else o3=null;return o3};var zi=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u2(t4,e4){for(var r3="",n3=0;n3<4;n3++)r3+=String.fromCharCode(t4[e4++]);return r3}function h2(t4,e4){return(t4[e4+0]|t4[e4+1]<<8|t4[e4+2]<<16)>>>0}function l2(t4,e4){return(t4[e4+0]|t4[e4+1]<<8|t4[e4+2]<<16|t4[e4+3]<<24)>>>0}new c2;var f2=[0],d2=[0],p2=[],g2=new c2,m2=t3,v2=function(t4,e4){var r3={},n3=0,i3=!1,a3=0,o3=0;if(r3.frames=[],!function(t5,e6){for(var i4=0;i4<4;i4++)if(t5[e6+i4]!="RIFF".charCodeAt(i4))return!0;return!1}(t4,e4)){for(l2(t4,e4+=4),e4+=8;e4<t4.length;){var s3=u2(t4,e4),c3=l2(t4,e4+=4);e4+=4;var f3=c3+(1&c3);switch(s3){case"VP8 ":case"VP8L":void 0===r3.frames[n3]&&(r3.frames[n3]={}),(g3=r3.frames[n3]).src_off=i3?o3:e4-8,g3.src_size=a3+c3+8,n3++,i3&&(i3=!1,a3=0,o3=0);break;case"VP8X":(g3=r3.header={}).feature_flags=t4[e4];var d3=e4+4;g3.canvas_width=1+h2(t4,d3),d3+=3,g3.canvas_height=1+h2(t4,d3),d3+=3;break;case"ALPH":i3=!0,a3=f3+8,o3=e4-8;break;case"ANIM":(g3=r3.header).bgcolor=l2(t4,e4),d3=e4+4,g3.loop_count=(m3=t4)[(v3=d3)+0]|m3[v3+1]<<8,d3+=2;break;case"ANMF":var p3,g3;(g3=r3.frames[n3]={}).offset_x=2*h2(t4,e4),e4+=3,g3.offset_y=2*h2(t4,e4),e4+=3,g3.width=1+h2(t4,e4),e4+=3,g3.height=1+h2(t4,e4),e4+=3,g3.duration=h2(t4,e4),e4+=3,p3=t4[e4++],g3.dispose=1&p3,g3.blend=p3>>1&1}"ANMF"!=s3&&(e4+=f3)}var m3,v3;return r3}}(m2,0);v2.response=m2,v2.rgbaoutput=!0,v2.dataurl=!1;var b2=v2.header?v2.header:null,y2=v2.frames?v2.frames:null;if(b2){b2.loop_counter=b2.loop_count,f2=[b2.canvas_height],d2=[b2.canvas_width];for(var w2=0;w2<y2.length&&0!=y2[w2].blend;w2++);}var N2=y2[0],L2=g2.WebPDecodeRGBA(m2,N2.src_off,N2.src_size,d2,f2);N2.rgba=L2,N2.imgwidth=d2[0],N2.imgheight=f2[0];for(var A2=0;A2<d2[0]*f2[0]*4;A2++)p2[A2]=L2[A2];return this.width=d2,this.height=f2,this.data=p2,this}!function(t3){var n2=function(r3,n3,a3,h3){var l3=4,f3=s2;switch(h3){case t3.image_compression.FAST:l3=1,f3=o2;break;case t3.image_compression.MEDIUM:l3=6,f3=c2;break;case t3.image_compression.SLOW:l3=9,f3=u2}var d2=zlibSync(r3=i2(r3,n3,a3,f3),{level:l3});return t3.__addimage__.arrayBufferToBinaryString(d2)},i2=function(t4,e3,r3,n3){for(var i3,a3,o3,s3=t4.length/e3,c3=new Uint8Array(t4.length+s3),u3=l2(),h3=0;h3<s3;h3+=1){if(o3=h3*e3,i3=t4.subarray(o3,o3+e3),n3)c3.set(n3(i3,r3,a3),o3+h3);else{for(var d2,p2=u3.length,g2=[];d2<p2;d2+=1)g2[d2]=u3[d2](i3,r3,a3);var m2=f2(g2.concat());c3.set(g2[m2],o3+h3)}a3=i3}return c3},a2=function(t4){var e3=Array.apply([],t4);return e3.unshift(0),e3},o2=function(t4,e3){var r3,n3=[],i3=t4.length;n3[0]=1;for(var a3=0;a3<i3;a3+=1)r3=t4[a3-e3]||0,n3[a3+1]=t4[a3]-r3+256&255;return n3},s2=function(t4,e3,r3){var n3,i3=[],a3=t4.length;i3[0]=2;for(var o3=0;o3<a3;o3+=1)n3=r3&&r3[o3]||0,i3[o3+1]=t4[o3]-n3+256&255;return i3},c2=function(t4,e3,r3){var n3,i3,a3=[],o3=t4.length;a3[0]=3;for(var s3=0;s3<o3;s3+=1)n3=t4[s3-e3]||0,i3=r3&&r3[s3]||0,a3[s3+1]=t4[s3]+256-(n3+i3>>>1)&255;return a3},u2=function(t4,e3,r3){var n3,i3,a3,o3,s3=[],c3=t4.length;s3[0]=4;for(var u3=0;u3<c3;u3+=1)n3=t4[u3-e3]||0,i3=r3&&r3[u3]||0,a3=r3&&r3[u3-e3]||0,o3=h2(n3,i3,a3),s3[u3+1]=t4[u3]-o3+256&255;return s3},h2=function(t4,e3,r3){if(t4===e3&&e3===r3)return t4;var n3=Math.abs(e3-r3),i3=Math.abs(t4-r3),a3=Math.abs(t4+e3-r3-r3);return n3<=i3&&n3<=a3?t4:i3<=a3?e3:r3},l2=function(){return[a2,o2,s2,c2,u2]},f2=function(t4){var e3=t4.map(function(t5){return t5.reduce(function(t6,e4){return t6+Math.abs(e4)},0)});return e3.indexOf(Math.min.apply(null,e3))};t3.processPNG=function(e3,i3,a3,o3){var s3,c3,u3,h3,l3,f3,d2,p2,g2,m2,v2,b2,y2,w2,N2,L2=this.decode.FLATE_DECODE,A2="";if(this.__addimage__.isArrayBuffer(e3)&&(e3=new Uint8Array(e3)),this.__addimage__.isArrayBufferView(e3)){if(e3=(u3=new Kt(e3)).imgData,c3=u3.bits,s3=u3.colorSpace,l3=u3.colors,-1!==[4,6].indexOf(u3.colorType)){if(8===u3.bits){g2=(p2=32==u3.pixelBitlength?new Uint32Array(u3.decodePixels().buffer):16==u3.pixelBitlength?new Uint16Array(u3.decodePixels().buffer):new Uint8Array(u3.decodePixels().buffer)).length,v2=new Uint8Array(g2*u3.colors),m2=new Uint8Array(g2);var x2,S2=u3.pixelBitlength-u3.bits;for(w2=0,N2=0;w2<g2;w2++){for(y2=p2[w2],x2=0;x2<S2;)v2[N2++]=y2>>>x2&255,x2+=u3.bits;m2[w2]=y2>>>x2&255}}if(16===u3.bits){g2=(p2=new Uint32Array(u3.decodePixels().buffer)).length,v2=new Uint8Array(g2*(32/u3.pixelBitlength)*u3.colors),m2=new Uint8Array(g2*(32/u3.pixelBitlength)),b2=u3.colors>1,w2=0,N2=0;for(var _2=0;w2<g2;)y2=p2[w2++],v2[N2++]=y2>>>0&255,b2&&(v2[N2++]=y2>>>16&255,y2=p2[w2++],v2[N2++]=y2>>>0&255),m2[_2++]=y2>>>16&255;c3=8}o3!==t3.image_compression.NONE?(e3=n2(v2,u3.width*u3.colors,u3.colors,o3),d2=n2(m2,u3.width,1,o3)):(e3=v2,d2=m2,L2=void 0)}if(3===u3.colorType&&(s3=this.color_spaces.INDEXED,f3=u3.palette,u3.transparency.indexed)){var P2=u3.transparency.indexed,k2=0;for(w2=0,g2=P2.length;w2<g2;++w2)k2+=P2[w2];if((k2/=255)==g2-1&&-1!==P2.indexOf(0))h3=[P2.indexOf(0)];else if(k2!==g2){for(p2=u3.decodePixels(),m2=new Uint8Array(p2.length),w2=0,g2=p2.length;w2<g2;w2++)m2[w2]=P2[p2[w2]];d2=n2(m2,u3.width,1)}}var I2=function(e4){var r3;switch(e4){case t3.image_compression.FAST:r3=11;break;case t3.image_compression.MEDIUM:r3=13;break;case t3.image_compression.SLOW:r3=14;break;default:r3=12}return r3}(o3);return L2===this.decode.FLATE_DECODE&&(A2="/Predictor "+I2+" "),A2+="/Colors "+l3+" /BitsPerComponent "+c3+" /Columns "+u3.width,(this.__addimage__.isArrayBuffer(e3)||this.__addimage__.isArrayBufferView(e3))&&(e3=this.__addimage__.arrayBufferToBinaryString(e3)),(d2&&this.__addimage__.isArrayBuffer(d2)||this.__addimage__.isArrayBufferView(d2))&&(d2=this.__addimage__.arrayBufferToBinaryString(d2)),{alias:a3,data:e3,index:i3,filter:L2,decodeParameters:A2,transparency:h3,palette:f3,sMask:d2,predictor:I2,width:u3.width,height:u3.height,bitsPerComponent:c3,colorSpace:s3}}}}(E.API),function(t3){t3.processGIF89A=function(e3,r2,n2,i2){var a2=new Zt(e3),o2=a2.width,s2=a2.height,c2=[];a2.decodeAndBlitFrameRGBA(0,c2);var u2={data:c2,width:o2,height:s2},h2=new Qt(100).encode(u2,100);return t3.processJPEG.call(this,h2,r2,n2,i2)},t3.processGIF87A=t3.processGIF89A}(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t3=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(t3);for(var e3=0;e3<t3;e3++){var r2=this.datav.getUint8(this.pos++,!0),n2=this.datav.getUint8(this.pos++,!0),i2=this.datav.getUint8(this.pos++,!0),a2=this.datav.getUint8(this.pos++,!0);this.palette[e3]={red:i2,green:n2,blue:r2,quad:a2}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var t3="bit"+this.bitPP,e3=this.width*this.height*4;this.data=new Uint8Array(e3),this[t3]()}catch(t4){a.log("bit decode error:"+t4)}},te.prototype.bit1=function(){var t3,e3=Math.ceil(this.width/8),r2=e3%4;for(t3=this.height-1;t3>=0;t3--){for(var n2=this.bottom_up?t3:this.height-1-t3,i2=0;i2<e3;i2++)for(var a2=this.datav.getUint8(this.pos++,!0),o2=n2*this.width*4+8*i2*4,s2=0;s2<8&&8*i2+s2<this.width;s2++){var c2=this.palette[a2>>7-s2&1];this.data[o2+4*s2]=c2.blue,this.data[o2+4*s2+1]=c2.green,this.data[o2+4*s2+2]=c2.red,this.data[o2+4*s2+3]=255}0!==r2&&(this.pos+=4-r2)}},te.prototype.bit4=function(){for(var t3=Math.ceil(this.width/2),e3=t3%4,r2=this.height-1;r2>=0;r2--){for(var n2=this.bottom_up?r2:this.height-1-r2,i2=0;i2<t3;i2++){var a2=this.datav.getUint8(this.pos++,!0),o2=n2*this.width*4+2*i2*4,s2=a2>>4,c2=15&a2,u2=this.palette[s2];if(this.data[o2]=u2.blue,this.data[o2+1]=u2.green,this.data[o2+2]=u2.red,this.data[o2+3]=255,2*i2+1>=this.width)break;u2=this.palette[c2],this.data[o2+4]=u2.blue,this.data[o2+4+1]=u2.green,this.data[o2+4+2]=u2.red,this.data[o2+4+3]=255}0!==e3&&(this.pos+=4-e3)}},te.prototype.bit8=function(){for(var t3=this.width%4,e3=this.height-1;e3>=0;e3--){for(var r2=this.bottom_up?e3:this.height-1-e3,n2=0;n2<this.width;n2++){var i2=this.datav.getUint8(this.pos++,!0),a2=r2*this.width*4+4*n2;if(i2<this.palette.length){var o2=this.palette[i2];this.data[a2]=o2.red,this.data[a2+1]=o2.green,this.data[a2+2]=o2.blue,this.data[a2+3]=255}else this.data[a2]=255,this.data[a2+1]=255,this.data[a2+2]=255,this.data[a2+3]=255}0!==t3&&(this.pos+=4-t3)}},te.prototype.bit15=function(){for(var t3=this.width%3,e3=parseInt("11111",2),r2=this.height-1;r2>=0;r2--){for(var n2=this.bottom_up?r2:this.height-1-r2,i2=0;i2<this.width;i2++){var a2=this.datav.getUint16(this.pos,!0);this.pos+=2;var o2=(a2&e3)/e3*255|0,s2=(a2>>5&e3)/e3*255|0,c2=(a2>>10&e3)/e3*255|0,u2=a2>>15?255:0,h2=n2*this.width*4+4*i2;this.data[h2]=c2,this.data[h2+1]=s2,this.data[h2+2]=o2,this.data[h2+3]=u2}this.pos+=t3}},te.prototype.bit16=function(){for(var t3=this.width%3,e3=parseInt("11111",2),r2=parseInt("111111",2),n2=this.height-1;n2>=0;n2--){for(var i2=this.bottom_up?n2:this.height-1-n2,a2=0;a2<this.width;a2++){var o2=this.datav.getUint16(this.pos,!0);this.pos+=2;var s2=(o2&e3)/e3*255|0,c2=(o2>>5&r2)/r2*255|0,u2=(o2>>11)/e3*255|0,h2=i2*this.width*4+4*a2;this.data[h2]=u2,this.data[h2+1]=c2,this.data[h2+2]=s2,this.data[h2+3]=255}this.pos+=t3}},te.prototype.bit24=function(){for(var t3=this.height-1;t3>=0;t3--){for(var e3=this.bottom_up?t3:this.height-1-t3,r2=0;r2<this.width;r2++){var n2=this.datav.getUint8(this.pos++,!0),i2=this.datav.getUint8(this.pos++,!0),a2=this.datav.getUint8(this.pos++,!0),o2=e3*this.width*4+4*r2;this.data[o2]=a2,this.data[o2+1]=i2,this.data[o2+2]=n2,this.data[o2+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var t3=this.height-1;t3>=0;t3--)for(var e3=this.bottom_up?t3:this.height-1-t3,r2=0;r2<this.width;r2++){var n2=this.datav.getUint8(this.pos++,!0),i2=this.datav.getUint8(this.pos++,!0),a2=this.datav.getUint8(this.pos++,!0),o2=this.datav.getUint8(this.pos++,!0),s2=e3*this.width*4+4*r2;this.data[s2]=a2,this.data[s2+1]=i2,this.data[s2+2]=n2,this.data[s2+3]=o2}},te.prototype.getData=function(){return this.data},function(t3){t3.processBMP=function(e3,r2,n2,i2){var a2=new te(e3,!1),o2=a2.width,s2=a2.height,c2={data:a2.getData(),width:o2,height:s2},u2=new Qt(100).encode(c2,100);return t3.processJPEG.call(this,u2,r2,n2,i2)}}(E.API),ee$1.prototype.getData=function(){return this.data},function(t3){t3.processWEBP=function(e3,r2,n2,i2){var a2=new ee$1(e3),o2=a2.width,s2=a2.height,c2={data:a2.getData(),width:o2,height:s2},u2=new Qt(100).encode(c2,100);return t3.processJPEG.call(this,u2,r2,n2,i2)}}(E.API),E.API.processRGBA=function(t3,e3,r2){for(var n2=t3.data,i2=n2.length,a2=new Uint8Array(i2/4*3),o2=new Uint8Array(i2/4),s2=0,c2=0,u2=0;u2<i2;u2+=4){var h2=n2[u2],l2=n2[u2+1],f2=n2[u2+2],d2=n2[u2+3];a2[s2++]=h2,a2[s2++]=l2,a2[s2++]=f2,o2[c2++]=d2}var p2=this.__addimage__.arrayBufferToBinaryString(a2);return{alpha:this.__addimage__.arrayBufferToBinaryString(o2),data:p2,index:e3,alias:r2,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t3.width,height:t3.height}},E.API.setLanguage=function(t3){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t3]&&(this.internal.languageSettings.languageCode=t3,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Vt=E.API,Gt=Vt.getCharWidthsArray=function(e3,r2){var n2,i2,a2=(r2=r2||{}).font||this.internal.getFont(),o2=r2.fontSize||this.internal.getFontSize(),s2=r2.charSpace||this.internal.getCharSpace(),c2=r2.widths?r2.widths:a2.metadata.Unicode.widths,u2=c2.fof?c2.fof:1,h2=r2.kerning?r2.kerning:a2.metadata.Unicode.kerning,l2=h2.fof?h2.fof:1,f2=!1!==r2.doKerning,d2=0,p2=e3.length,g2=0,m2=c2[0]||u2,v2=[];for(n2=0;n2<p2;n2++)i2=e3.charCodeAt(n2),"function"==typeof a2.metadata.widthOfString?v2.push((a2.metadata.widthOfGlyph(a2.metadata.characterToGlyph(i2))+s2*(1e3/o2)||0)/1e3):(d2=f2&&"object"===_typeof$4(h2[i2])&&!isNaN(parseInt(h2[i2][g2],10))?h2[i2][g2]/l2:0,v2.push((c2[i2]||m2)/u2+d2)),g2=i2;return v2},Yt=Vt.getStringUnitWidth=function(t3,e3){var r2=(e3=e3||{}).fontSize||this.internal.getFontSize(),n2=e3.font||this.internal.getFont(),i2=e3.charSpace||this.internal.getCharSpace();return Vt.processArabic&&(t3=Vt.processArabic(t3)),"function"==typeof n2.metadata.widthOfString?n2.metadata.widthOfString(t3,r2,i2)/r2:Gt.apply(this,arguments).reduce(function(t4,e4){return t4+e4},0)},Jt=function(t3,e3,r2,n2){for(var i2=[],a2=0,o2=t3.length,s2=0;a2!==o2&&s2+e3[a2]<r2;)s2+=e3[a2],a2++;i2.push(t3.slice(0,a2));var c2=a2;for(s2=0;a2!==o2;)s2+e3[a2]>n2&&(i2.push(t3.slice(c2,a2)),s2=0,c2=a2),s2+=e3[a2],a2++;return c2!==a2&&i2.push(t3.slice(c2,a2)),i2},Xt=function(t3,e3,r2){r2||(r2={});var n2,i2,a2,o2,s2,c2,u2,h2=[],l2=[h2],f2=r2.textIndent||0,d2=0,p2=0,g2=t3.split(" "),m2=Gt.apply(this,[" ",r2])[0];if(c2=-1===r2.lineIndent?g2[0].length+2:r2.lineIndent||0){var v2=Array(c2).join(" "),b2=[];g2.map(function(t4){(t4=t4.split(/\s*\n/)).length>1?b2=b2.concat(t4.map(function(t5,e4){return(e4&&t5.length?"\n":"")+t5})):b2.push(t4[0])}),g2=b2,c2=Yt.apply(this,[v2,r2])}for(a2=0,o2=g2.length;a2<o2;a2++){var y2=0;if(n2=g2[a2],c2&&"\n"==n2[0]&&(n2=n2.substr(1),y2=1),f2+d2+(p2=(i2=Gt.apply(this,[n2,r2])).reduce(function(t4,e4){return t4+e4},0))>e3||y2){if(p2>e3){for(s2=Jt.apply(this,[n2,i2,e3-(f2+d2),e3]),h2.push(s2.shift()),h2=[s2.pop()];s2.length;)l2.push([s2.shift()]);p2=i2.slice(n2.length-(h2[0]?h2[0].length:0)).reduce(function(t4,e4){return t4+e4},0)}else h2=[n2];l2.push(h2),f2=p2+c2,d2=m2}else h2.push(n2),f2+=d2+p2,d2=m2}return u2=c2?function(t4,e4){return(e4?v2:"")+t4.join(" ")}:function(t4){return t4.join(" ")},l2.map(u2)},Vt.splitTextToSize=function(t3,e3,r2){var n2,i2=(r2=r2||{}).fontSize||this.internal.getFontSize(),a2=function(t4){if(t4.widths&&t4.kerning)return{widths:t4.widths,kerning:t4.kerning};var e4=this.internal.getFont(t4.fontName,t4.fontStyle);return e4.metadata.Unicode?{widths:e4.metadata.Unicode.widths||{0:1},kerning:e4.metadata.Unicode.kerning||{}}:{font:e4.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r2);n2=Array.isArray(t3)?t3:String(t3).split(/\r?\n/);var o2=1*this.internal.scaleFactor*e3/i2;a2.textIndent=r2.textIndent?1*r2.textIndent*this.internal.scaleFactor/i2:0,a2.lineIndent=r2.lineIndent;var s2,c2,u2=[];for(s2=0,c2=n2.length;s2<c2;s2++)u2=u2.concat(Xt.apply(this,[n2[s2],o2,a2]));return u2},function(e3){e3.__fontmetrics__=e3.__fontmetrics__||{};for(var r2="klmnopqrstuvwxyz",n2={},i2={},a2=0;a2<16;a2++)n2[r2[a2]]="0123456789abcdef"[a2],i2["0123456789abcdef"[a2]]=r2[a2];var o2=function(t3){return"0x"+parseInt(t3,10).toString(16)},s2=e3.__fontmetrics__.compress=function(e4){var r3,n3,a3,c3,u3=["{"];for(var h3 in e4){if(r3=e4[h3],isNaN(parseInt(h3,10))?n3="'"+h3+"'":(h3=parseInt(h3,10),n3=(n3=o2(h3).slice(2)).slice(0,-1)+i2[n3.slice(-1)]),"number"==typeof r3)r3<0?(a3=o2(r3).slice(3),c3="-"):(a3=o2(r3).slice(2),c3=""),a3=c3+a3.slice(0,-1)+i2[a3.slice(-1)];else{if("object"!==_typeof$4(r3))throw new Error("Don't know what to do with value type "+_typeof$4(r3)+".");a3=s2(r3)}u3.push(n3+a3)}return u3.push("}"),u3.join("")},c2=e3.__fontmetrics__.uncompress=function(t3){if("string"!=typeof t3)throw new Error("Invalid argument passed to uncompress.");for(var e4,r3,i3,a3,o3={},s3=1,c3=o3,u3=[],h3="",l3="",f2=t3.length-1,d2=1;d2<f2;d2+=1)"'"==(a3=t3[d2])?e4?(i3=e4.join(""),e4=void 0):e4=[]:e4?e4.push(a3):"{"==a3?(u3.push([c3,i3]),c3={},i3=void 0):"}"==a3?((r3=u3.pop())[0][r3[1]]=c3,i3=void 0,c3=r3[0]):"-"==a3?s3=-1:void 0===i3?n2.hasOwnProperty(a3)?(h3+=n2[a3],i3=parseInt(h3,16)*s3,s3=1,h3=""):h3+=a3:n2.hasOwnProperty(a3)?(l3+=n2[a3],c3[i3]=parseInt(l3,16)*s3,s3=1,i3=void 0,l3=""):l3+=a3;return o3},u2={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c2("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h2={Unicode:{Courier:u2,"Courier-Bold":u2,"Courier-BoldOblique":u2,"Courier-Oblique":u2,Helvetica:u2,"Helvetica-Bold":u2,"Helvetica-BoldOblique":u2,"Helvetica-Oblique":u2,"Times-Roman":u2,"Times-Bold":u2,"Times-BoldItalic":u2,"Times-Italic":u2}},l2={Unicode:{"Courier-Oblique":c2("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c2("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c2("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c2("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c2("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c2("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c2("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c2("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c2("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c2("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c2("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c2("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c2("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c2("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e3.events.push(["addFont",function(t3){var e4=t3.font,r3=l2.Unicode[e4.postScriptName];r3&&(e4.metadata.Unicode={},e4.metadata.Unicode.widths=r3.widths,e4.metadata.Unicode.kerning=r3.kerning);var n3=h2.Unicode[e4.postScriptName];n3&&(e4.metadata.Unicode.encoding=n3,e4.encoding=n3.codePages[0])}])}(E.API),function(t3){var e3=function(t4){for(var e4=t4.length,r2=new Uint8Array(e4),n2=0;n2<e4;n2++)r2[n2]=t4.charCodeAt(n2);return r2};t3.API.events.push(["addFont",function(r2){var r3,n3,n2=void 0,i2=r2.font,a2=r2.instance;if(!i2.isStandardFont){if(void 0===a2)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i2.postScriptName+"').");if("string"!=typeof(n2=!1===a2.existsFileInVFS(i2.postScriptName)?a2.loadFile(i2.postScriptName):a2.getFileFromVFS(i2.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i2.postScriptName+"').");r3=i2,n3=/^\x00\x01\x00\x00/.test(n3=n2)?e3(n3):e3(u$1(n3)),r3.metadata=t3.API.TTFFont.open(n3),r3.metadata.Unicode=r3.metadata.Unicode||{encoding:{},kerning:{},widths:[]},r3.metadata.glyIdsUsed=[0]}}])}(E),E.API.addSvgAsImage=function(t4,r2,n2,i2,o2,s2,c2,u2){if(isNaN(r2)||isNaN(n2))throw a.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i2)||isNaN(o2))throw a.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h2=document.createElement("canvas");h2.width=i2,h2.height=o2;var l2=h2.getContext("2d");l2.fillStyle="#fff",l2.fillRect(0,0,h2.width,h2.height);var f2={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d2=this;return(n.canvg?Promise.resolve(n.canvg):__vitePreload(()=>import("./index.es-2poHRMYr.js"),__vite__mapDeps([0,1,2]))).catch(function(t4){return Promise.reject(new Error("Could not load canvg: "+t4))}).then(function(t4){return t4.default?t4.default:t4}).then(function(e4){return e4.fromString(l2,t4,f2)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(t5){return t5.render(f2)}).then(function(){d2.addImage(h2.toDataURL("image/jpeg",1),r2,n2,i2,o2,c2,u2)})},E.API.putTotalPages=function(t3){var e3,r2=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e3=new RegExp(t3,"g"),r2=this.internal.getNumberOfPages()):(e3=new RegExp(this.pdfEscape16(t3,this.internal.getFont()),"g"),r2=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n2=1;n2<=this.internal.getNumberOfPages();n2++)for(var i2=0;i2<this.internal.pages[n2].length;i2++)this.internal.pages[n2][i2]=this.internal.pages[n2][i2].replace(e3,r2);return this},E.API.viewerPreferences=function(e3,r2){var n2;e3=e3||{},r2=r2||!1;var i2,a2,o2,s2={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c2=Object.keys(s2),u2=[],h2=0,l2=0,f2=0;function d2(t3,e4){var r3,n3=!1;for(r3=0;r3<t3.length;r3+=1)t3[r3]===e4&&(n3=!0);return n3}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s2)),this.internal.viewerpreferences.isSubscribed=!1),n2=this.internal.viewerpreferences.configuration,"reset"===e3||!0===r2){var p2=c2.length;for(f2=0;f2<p2;f2+=1)n2[c2[f2]].value=n2[c2[f2]].defaultValue,n2[c2[f2]].explicitSet=!1}if("object"===_typeof$4(e3))for(a2 in e3)if(o2=e3[a2],d2(c2,a2)&&void 0!==o2){if("boolean"===n2[a2].type&&"boolean"==typeof o2)n2[a2].value=o2;else if("name"===n2[a2].type&&d2(n2[a2].valueSet,o2))n2[a2].value=o2;else if("integer"===n2[a2].type&&Number.isInteger(o2))n2[a2].value=o2;else if("array"===n2[a2].type){for(h2=0;h2<o2.length;h2+=1)if(i2=!0,1===o2[h2].length&&"number"==typeof o2[h2][0])u2.push(String(o2[h2]-1));else if(o2[h2].length>1){for(l2=0;l2<o2[h2].length;l2+=1)"number"!=typeof o2[h2][l2]&&(i2=!1);!0===i2&&u2.push([o2[h2][0]-1,o2[h2][1]-1].join(" "))}n2[a2].value="["+u2.join(" ")+"]"}else n2[a2].value=n2[a2].defaultValue;n2[a2].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var t3,e4=[];for(t3 in n2)!0===n2[t3].explicitSet&&("name"===n2[t3].type?e4.push("/"+t3+" /"+n2[t3].value):e4.push("/"+t3+" "+n2[t3].value));0!==e4.length&&this.internal.write("/ViewerPreferences\n<<\n"+e4.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n2,this},function(t3){var e3=function(){var t4='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',e4=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r3=unescape(encodeURIComponent(t4)),n2=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),i2=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a2=unescape(encodeURIComponent("</x:xmpmeta>")),o2=r3.length+n2.length+i2.length+e4.length+a2.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o2+" >>"),this.internal.write("stream"),this.internal.write(e4+r3+n2+i2+a2),this.internal.write("endstream"),this.internal.write("endobj")},r2=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t3.addMetadata=function(t4,n2){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:t4,namespaceuri:n2||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r2),this.internal.events.subscribe("postPutResources",e3)),this}}(E.API),function(t3){var e3=t3.API,r2=e3.pdfEscape16=function(t4,e4){for(var r3,n3=e4.metadata.Unicode.widths,i3=["","0","00","000","0000"],a2=[""],o2=0,s2=t4.length;o2<s2;++o2){if(r3=e4.metadata.characterToGlyph(t4.charCodeAt(o2)),e4.metadata.glyIdsUsed.push(r3),e4.metadata.toUnicode[r3]=t4.charCodeAt(o2),-1==n3.indexOf(r3)&&(n3.push(r3),n3.push([parseInt(e4.metadata.widthOfGlyph(r3),10)])),"0"==r3)return a2.join("");r3=r3.toString(16),a2.push(i3[4-r3.length],r3)}return a2.join("")},n2=function(t4){var e4,r3,n3,i3,a2,o2,s2;for(a2="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n3=[],o2=0,s2=(r3=Object.keys(t4).sort(function(t5,e6){return t5-e6})).length;o2<s2;o2++)e4=r3[o2],n3.length>=100&&(a2+="\n"+n3.length+" beginbfchar\n"+n3.join("\n")+"\nendbfchar",n3=[]),void 0!==t4[e4]&&null!==t4[e4]&&"function"==typeof t4[e4].toString&&(i3=("0000"+t4[e4].toString(16)).slice(-4),e4=("0000"+(+e4).toString(16)).slice(-4),n3.push("<"+e4+"><"+i3+">"));return n3.length&&(a2+="\n"+n3.length+" beginbfchar\n"+n3.join("\n")+"\nendbfchar\n"),a2+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};e3.events.push(["putFont",function(e4){!function(e6){var r3=e6.font,i3=e6.out,a2=e6.newObject,o2=e6.putStream;if(r3.metadata instanceof t3.API.TTFFont&&"Identity-H"===r3.encoding){for(var s2=r3.metadata.Unicode.widths,c2=r3.metadata.subset.encode(r3.metadata.glyIdsUsed,1),u2="",h2=0;h2<c2.length;h2++)u2+=String.fromCharCode(c2[h2]);var l2=a2();o2({data:u2,addLength1:!0,objectId:l2}),i3("endobj");var f2=a2();o2({data:n2(r3.metadata.toUnicode),addLength1:!0,objectId:f2}),i3("endobj");var d2=a2();i3("<<"),i3("/Type /FontDescriptor"),i3("/FontName /"+F(r3.fontName)),i3("/FontFile2 "+l2+" 0 R"),i3("/FontBBox "+t3.API.PDFObject.convert(r3.metadata.bbox)),i3("/Flags "+r3.metadata.flags),i3("/StemV "+r3.metadata.stemV),i3("/ItalicAngle "+r3.metadata.italicAngle),i3("/Ascent "+r3.metadata.ascender),i3("/Descent "+r3.metadata.decender),i3("/CapHeight "+r3.metadata.capHeight),i3(">>"),i3("endobj");var p2=a2();i3("<<"),i3("/Type /Font"),i3("/BaseFont /"+F(r3.fontName)),i3("/FontDescriptor "+d2+" 0 R"),i3("/W "+t3.API.PDFObject.convert(s2)),i3("/CIDToGIDMap /Identity"),i3("/DW 1000"),i3("/Subtype /CIDFontType2"),i3("/CIDSystemInfo"),i3("<<"),i3("/Supplement 0"),i3("/Registry (Adobe)"),i3("/Ordering ("+r3.encoding+")"),i3(">>"),i3(">>"),i3("endobj"),r3.objectNumber=a2(),i3("<<"),i3("/Type /Font"),i3("/Subtype /Type0"),i3("/ToUnicode "+f2+" 0 R"),i3("/BaseFont /"+F(r3.fontName)),i3("/Encoding /"+r3.encoding),i3("/DescendantFonts ["+p2+" 0 R]"),i3(">>"),i3("endobj"),r3.isAlreadyPutted=!0}}(e4)}]),e3.events.push(["putFont",function(e4){!function(e6){var r3=e6.font,i3=e6.out,a2=e6.newObject,o2=e6.putStream;if(r3.metadata instanceof t3.API.TTFFont&&"WinAnsiEncoding"===r3.encoding){for(var s2=r3.metadata.rawData,c2="",u2=0;u2<s2.length;u2++)c2+=String.fromCharCode(s2[u2]);var h2=a2();o2({data:c2,addLength1:!0,objectId:h2}),i3("endobj");var l2=a2();o2({data:n2(r3.metadata.toUnicode),addLength1:!0,objectId:l2}),i3("endobj");var f2=a2();i3("<<"),i3("/Descent "+r3.metadata.decender),i3("/CapHeight "+r3.metadata.capHeight),i3("/StemV "+r3.metadata.stemV),i3("/Type /FontDescriptor"),i3("/FontFile2 "+h2+" 0 R"),i3("/Flags 96"),i3("/FontBBox "+t3.API.PDFObject.convert(r3.metadata.bbox)),i3("/FontName /"+F(r3.fontName)),i3("/ItalicAngle "+r3.metadata.italicAngle),i3("/Ascent "+r3.metadata.ascender),i3(">>"),i3("endobj"),r3.objectNumber=a2();for(var d2=0;d2<r3.metadata.hmtx.widths.length;d2++)r3.metadata.hmtx.widths[d2]=parseInt(r3.metadata.hmtx.widths[d2]*(1e3/r3.metadata.head.unitsPerEm));i3("<</Subtype/TrueType/Type/Font/ToUnicode "+l2+" 0 R/BaseFont/"+F(r3.fontName)+"/FontDescriptor "+f2+" 0 R/Encoding/"+r3.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t3.API.PDFObject.convert(r3.metadata.hmtx.widths)+">>"),i3("endobj"),r3.isAlreadyPutted=!0}}(e4)}]);var i2=function(t4){var e4,n3=t4.text||"",i3=t4.x,a2=t4.y,o2=t4.options||{},s2=t4.mutex||{},c2=s2.pdfEscape,u2=s2.activeFontKey,h2=s2.fonts,l2=u2,f2="",d2=0,p2="",g2=h2[l2].encoding;if("Identity-H"!==h2[l2].encoding)return{text:n3,x:i3,y:a2,options:o2,mutex:s2};for(p2=n3,l2=u2,Array.isArray(n3)&&(p2=n3[0]),d2=0;d2<p2.length;d2+=1)h2[l2].metadata.hasOwnProperty("cmap")&&(e4=h2[l2].metadata.cmap.unicode.codeMap[p2[d2].charCodeAt(0)]),e4||p2[d2].charCodeAt(0)<256&&h2[l2].metadata.hasOwnProperty("Unicode")?f2+=p2[d2]:f2+="";var m2="";return parseInt(l2.slice(1))<14||"WinAnsiEncoding"===g2?m2=c2(f2,l2).split("").map(function(t5){return t5.charCodeAt(0).toString(16)}).join(""):"Identity-H"===g2&&(m2=r2(f2,h2[l2])),s2.isHex=!0,{text:m2,x:i3,y:a2,options:o2,mutex:s2}};e3.events.push(["postProcessText",function(t4){var e4=t4.text||"",r3=[],n3={text:e4,x:t4.x,y:t4.y,options:t4.options,mutex:t4.mutex};if(Array.isArray(e4)){var a2=0;for(a2=0;a2<e4.length;a2+=1)Array.isArray(e4[a2])&&3===e4[a2].length?r3.push([i2(Object.assign({},n3,{text:e4[a2][0]})).text,e4[a2][1],e4[a2][2]]):r3.push(i2(Object.assign({},n3,{text:e4[a2]})).text);t4.text=r3}else t4.text=i2(Object.assign({},n3,{text:e4})).text}])}(E),function(t3){var e3=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};t3.existsFileInVFS=function(t4){return e3.call(this),void 0!==this.internal.vFS[t4]},t3.addFileToVFS=function(t4,r2){return e3.call(this),this.internal.vFS[t4]=r2,this},t3.getFileFromVFS=function(t4){return e3.call(this),void 0!==this.internal.vFS[t4]?this.internal.vFS[t4]:null}}(E.API),function(t3){t3.__bidiEngine__=t3.prototype.__bidiEngine__=function(t4){var r3,n2,i2,a2,o2,s2,c2,u2=e3,h2=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],l2=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f2={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},d2={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p2=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g2=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),m2=!1,v2=0;this.__bidiEngine__={};var b2=function(t5){var e4=t5.charCodeAt(),r4=e4>>8,n3=d2[r4];return void 0!==n3?u2[256*n3+(255&e4)]:252===r4||253===r4?"AL":g2.test(r4)?"L":8===r4?"R":"N"},y2=function(t5){for(var e4,r4=0;r4<t5.length;r4++){if("L"===(e4=b2(t5.charAt(r4))))return!1;if("R"===e4)return!0}return!1},w2=function(t5,e4,o3,s3){var c3,u3,h3,l3,f3=e4[s3];switch(f3){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":m2=!1;break;case"N":case"AN":break;case"EN":m2&&(f3="AN");break;case"AL":m2=!0,f3="R";break;case"WS":case"BN":f3="N";break;case"CS":s3<1||s3+1>=e4.length||"EN"!==(c3=o3[s3-1])&&"AN"!==c3||"EN"!==(u3=e4[s3+1])&&"AN"!==u3?f3="N":m2&&(u3="AN"),f3=u3===c3?u3:"N";break;case"ES":f3="EN"===(c3=s3>0?o3[s3-1]:"B")&&s3+1<e4.length&&"EN"===e4[s3+1]?"EN":"N";break;case"ET":if(s3>0&&"EN"===o3[s3-1]){f3="EN";break}if(m2){f3="N";break}for(h3=s3+1,l3=e4.length;h3<l3&&"ET"===e4[h3];)h3++;f3=h3<l3&&"EN"===e4[h3]?"EN":"N";break;case"NSM":if(i2&&!a2){for(l3=e4.length,h3=s3+1;h3<l3&&"NSM"===e4[h3];)h3++;if(h3<l3){var d3=t5[s3],p3=d3>=1425&&d3<=2303||64286===d3;if(c3=e4[h3],p3&&("R"===c3||"AL"===c3)){f3="R";break}}}f3=s3<1||"B"===(c3=e4[s3-1])?"N":o3[s3-1];break;case"B":m2=!1,r3=!0,f3=v2;break;case"S":n2=!0,f3="N"}return f3},N2=function(t5,e4,r4){var n3=t5.split("");return r4&&L2(n3,r4,{hiLevel:v2}),n3.reverse(),e4&&e4.reverse(),n3.join("")},L2=function(t5,e4,i3){var a3,o3,s3,c3,u3,d3=-1,p3=t5.length,g3=0,y3=[],N3=v2?l2:h2,L3=[];for(m2=!1,r3=!1,n2=!1,o3=0;o3<p3;o3++)L3[o3]=b2(t5[o3]);for(s3=0;s3<p3;s3++){if(u3=g3,y3[s3]=w2(t5,L3,y3,s3),a3=240&(g3=N3[u3][f2[y3[s3]]]),g3&=15,e4[s3]=c3=N3[g3][5],a3>0)if(16===a3){for(o3=d3;o3<s3;o3++)e4[o3]=1;d3=-1}else d3=-1;if(N3[g3][6])-1===d3&&(d3=s3);else if(d3>-1){for(o3=d3;o3<s3;o3++)e4[o3]=c3;d3=-1}"B"===L3[s3]&&(e4[s3]=0),i3.hiLevel|=c3}n2&&function(t6,e6,r4){for(var n3=0;n3<r4;n3++)if("S"===t6[n3]){e6[n3]=v2;for(var i4=n3-1;i4>=0&&"WS"===t6[i4];i4--)e6[i4]=v2}}(L3,e4,p3)},A2=function(t5,e4,n3,i3,a3){if(!(a3.hiLevel<t5)){if(1===t5&&1===v2&&!r3)return e4.reverse(),void(n3&&n3.reverse());for(var o3,s3,c3,u3,h3=e4.length,l3=0;l3<h3;){if(i3[l3]>=t5){for(c3=l3+1;c3<h3&&i3[c3]>=t5;)c3++;for(u3=l3,s3=c3-1;u3<s3;u3++,s3--)o3=e4[u3],e4[u3]=e4[s3],e4[s3]=o3,n3&&(o3=n3[u3],n3[u3]=n3[s3],n3[s3]=o3);l3=c3}l3++}}},x2=function(t5,e4,r4){var n3=t5.split(""),i3={hiLevel:v2};return r4||(r4=[]),L2(n3,r4,i3),function(t6,e6,r5){if(0!==r5.hiLevel&&c2)for(var n4,i4=0;i4<t6.length;i4++)1===e6[i4]&&(n4=p2.indexOf(t6[i4]))>=0&&(t6[i4]=p2[n4+1])}(n3,r4,i3),A2(2,n3,e4,r4,i3),A2(1,n3,e4,r4,i3),n3.join("")};return this.__bidiEngine__.doBidiReorder=function(t5,e4,r4){if(function(t6,e6){if(e6)for(var r5=0;r5<t6.length;r5++)e6[r5]=r5;void 0===a2&&(a2=y2(t6)),void 0===s2&&(s2=y2(t6))}(t5,e4),i2||!o2||s2)if(i2&&o2&&a2^s2)v2=a2?1:0,t5=N2(t5,e4,r4);else if(!i2&&o2&&s2)v2=a2?1:0,t5=x2(t5,e4,r4),t5=N2(t5,e4);else if(!i2||a2||o2||s2){if(i2&&!o2&&a2^s2)t5=N2(t5,e4),a2?(v2=0,t5=x2(t5,e4,r4)):(v2=1,t5=x2(t5,e4,r4),t5=N2(t5,e4));else if(i2&&a2&&!o2&&s2)v2=1,t5=x2(t5,e4,r4),t5=N2(t5,e4);else if(!i2&&!o2&&a2^s2){var n3=c2;a2?(v2=1,t5=x2(t5,e4,r4),v2=0,c2=!1,t5=x2(t5,e4,r4),c2=n3):(v2=0,t5=x2(t5,e4,r4),t5=N2(t5,e4),v2=1,c2=!1,t5=x2(t5,e4,r4),c2=n3,t5=N2(t5,e4))}}else v2=0,t5=x2(t5,e4,r4);else v2=a2?1:0,t5=x2(t5,e4,r4);return t5},this.__bidiEngine__.setOptions=function(t5){t5&&(i2=t5.isInputVisual,o2=t5.isOutputVisual,a2=t5.isInputRtl,s2=t5.isOutputRtl,c2=t5.isSymmetricSwapping)},this.__bidiEngine__.setOptions(t4),this.__bidiEngine__};var e3=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r2=new t3.__bidiEngine__({isInputVisual:!0});t3.API.events.push(["postProcessText",function(t4){var e4=t4.text;t4.x,t4.y;var n2=t4.options||{};t4.mutex,n2.lang;var i2=[];if(n2.isInputVisual="boolean"!=typeof n2.isInputVisual||n2.isInputVisual,r2.setOptions(n2),"[object Array]"===Object.prototype.toString.call(e4)){var a2=0;for(i2=[],a2=0;a2<e4.length;a2+=1)"[object Array]"===Object.prototype.toString.call(e4[a2])?i2.push([r2.doBidiReorder(e4[a2][0]),e4[a2][1],e4[a2][2]]):i2.push([r2.doBidiReorder(e4[a2])]);t4.text=i2}else t4.text=r2.doBidiReorder(e4);r2.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function t3(t4){var e3;if(this.rawData=t4,e3=this.contents=new ne(t4),this.contents.pos=4,"ttcf"===e3.readString(4))throw new Error("TTCF not supported.");e3.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return t3.open=function(e3){return new t3(e3)},t3.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se(this),this.name=new pe$1(this),this.cmap=new ue$1(this),this.toUnicode={},this.hhea=new he$1(this),this.maxp=new ge(this),this.hmtx=new me$1(this),this.post=new fe$1(this),this.os2=new le$1(this),this.loca=new Ne(this),this.glyf=new be$1(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t3.prototype.registerTTF=function(){var t4,e3,r2,n2,i2;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var e4,r3,n3,i3;for(i3=[],e4=0,r3=(n3=this.bbox).length;e4<r3;e4++)t4=n3[e4],i3.push(Math.round(t4*this.scaleFactor));return i3}.call(this),this.stemV=0,this.post.exists?(r2=255&(n2=this.post.italic_angle),!!(32768&(e3=n2>>16))&&(e3=-(1+(65535^e3))),this.italicAngle=+(e3+"."+r2)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(i2=this.familyClass)||2===i2||3===i2||4===i2||5===i2||7===i2,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t3.prototype.characterToGlyph=function(t4){var e3;return(null!=(e3=this.cmap.unicode)?e3.codeMap[t4]:void 0)||0},t3.prototype.widthOfGlyph=function(t4){var e3;return e3=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t4).advance*e3},t3.prototype.widthOfString=function(t4,e3,r2){var n2,i2,a2,o2;for(a2=0,i2=0,o2=(t4=""+t4).length;0<=o2?i2<o2:i2>o2;i2=0<=o2?++i2:--i2)n2=t4.charCodeAt(i2),a2+=this.widthOfGlyph(this.characterToGlyph(n2))+r2*(1e3/e3)||0;return a2*(e3/1e3)},t3.prototype.lineHeight=function(t4,e3){var r2;return null==e3&&(e3=!1),r2=e3?this.lineGap:0,(this.ascender+r2-this.decender)/1e3*t4},t3}();var re,ne=function(){function t3(t4){this.data=null!=t4?t4:[],this.pos=0,this.length=this.data.length}return t3.prototype.readByte=function(){return this.data[this.pos++]},t3.prototype.writeByte=function(t4){return this.data[this.pos++]=t4},t3.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t3.prototype.writeUInt32=function(t4){return this.writeByte(t4>>>24&255),this.writeByte(t4>>16&255),this.writeByte(t4>>8&255),this.writeByte(255&t4)},t3.prototype.readInt32=function(){var t4;return(t4=this.readUInt32())>=2147483648?t4-4294967296:t4},t3.prototype.writeInt32=function(t4){return t4<0&&(t4+=4294967296),this.writeUInt32(t4)},t3.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t3.prototype.writeUInt16=function(t4){return this.writeByte(t4>>8&255),this.writeByte(255&t4)},t3.prototype.readInt16=function(){var t4;return(t4=this.readUInt16())>=32768?t4-65536:t4},t3.prototype.writeInt16=function(t4){return t4<0&&(t4+=65536),this.writeUInt16(t4)},t3.prototype.readString=function(t4){var e3,r2;for(r2=[],e3=0;0<=t4?e3<t4:e3>t4;e3=0<=t4?++e3:--e3)r2[e3]=String.fromCharCode(this.readByte());return r2.join("")},t3.prototype.writeString=function(t4){var e3,r2,n2;for(n2=[],e3=0,r2=t4.length;0<=r2?e3<r2:e3>r2;e3=0<=r2?++e3:--e3)n2.push(this.writeByte(t4.charCodeAt(e3)));return n2},t3.prototype.readShort=function(){return this.readInt16()},t3.prototype.writeShort=function(t4){return this.writeInt16(t4)},t3.prototype.readLongLong=function(){var t4,e3,r2,n2,i2,a2,o2,s2;return t4=this.readByte(),e3=this.readByte(),r2=this.readByte(),n2=this.readByte(),i2=this.readByte(),a2=this.readByte(),o2=this.readByte(),s2=this.readByte(),128&t4?-1*(72057594037927940*(255^t4)+281474976710656*(255^e3)+1099511627776*(255^r2)+4294967296*(255^n2)+16777216*(255^i2)+65536*(255^a2)+256*(255^o2)+(255^s2)+1):72057594037927940*t4+281474976710656*e3+1099511627776*r2+4294967296*n2+16777216*i2+65536*a2+256*o2+s2},t3.prototype.writeLongLong=function(t4){var e3,r2;return e3=Math.floor(t4/4294967296),r2=4294967295&t4,this.writeByte(e3>>24&255),this.writeByte(e3>>16&255),this.writeByte(e3>>8&255),this.writeByte(255&e3),this.writeByte(r2>>24&255),this.writeByte(r2>>16&255),this.writeByte(r2>>8&255),this.writeByte(255&r2)},t3.prototype.readInt=function(){return this.readInt32()},t3.prototype.writeInt=function(t4){return this.writeInt32(t4)},t3.prototype.read=function(t4){var e3,r2;for(e3=[],r2=0;0<=t4?r2<t4:r2>t4;r2=0<=t4?++r2:--r2)e3.push(this.readByte());return e3},t3.prototype.write=function(t4){var e3,r2,n2,i2;for(i2=[],r2=0,n2=t4.length;r2<n2;r2++)e3=t4[r2],i2.push(this.writeByte(e3));return i2},t3}(),ie=function(){var t3;function e3(t4){var e4,r2,n2;for(this.scalarType=t4.readInt(),this.tableCount=t4.readShort(),this.searchRange=t4.readShort(),this.entrySelector=t4.readShort(),this.rangeShift=t4.readShort(),this.tables={},r2=0,n2=this.tableCount;0<=n2?r2<n2:r2>n2;r2=0<=n2?++r2:--r2)e4={tag:t4.readString(4),checksum:t4.readInt(),offset:t4.readInt(),length:t4.readInt()},this.tables[e4.tag]=e4}return e3.prototype.encode=function(e4){var r2,n2,i2,a2,o2,s2,c2,u2,h2,l2,f2,d2,p2;for(p2 in f2=Object.keys(e4).length,s2=Math.log(2),h2=16*Math.floor(Math.log(f2)/s2),a2=Math.floor(h2/s2),u2=16*f2-h2,(n2=new ne).writeInt(this.scalarType),n2.writeShort(f2),n2.writeShort(h2),n2.writeShort(a2),n2.writeShort(u2),i2=16*f2,c2=n2.pos+i2,o2=null,d2=[],e4)for(l2=e4[p2],n2.writeString(p2),n2.writeInt(t3(l2)),n2.writeInt(c2),n2.writeInt(l2.length),d2=d2.concat(l2),"head"===p2&&(o2=c2),c2+=l2.length;c2%4;)d2.push(0),c2++;return n2.write(d2),r2=2981146554-t3(n2.data),n2.pos=o2+8,n2.writeUInt32(r2),n2.data},t3=function(t4){var e4,r2,n2,i2;for(t4=ve$1.call(t4);t4.length%4;)t4.push(0);for(n2=new ne(t4),r2=0,e4=0,i2=t4.length;e4<i2;e4=e4+=4)r2+=n2.readUInt32();return 4294967295&r2},e3}(),ae={}.hasOwnProperty,oe=function(t3,e3){for(var r2 in e3)ae.call(e3,r2)&&(t3[r2]=e3[r2]);function n2(){this.constructor=t3}return n2.prototype=e3.prototype,t3.prototype=new n2,t3.__super__=e3.prototype,t3};re=function(){function t3(t4){var e3;this.file=t4,e3=this.file.directory.tables[this.tag],this.exists=!!e3,e3&&(this.offset=e3.offset,this.length=e3.length,this.parse(this.file.contents))}return t3.prototype.parse=function(){},t3.prototype.encode=function(){},t3.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t3}();var se=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="head",e3.prototype.parse=function(t4){return t4.pos=this.offset,this.version=t4.readInt(),this.revision=t4.readInt(),this.checkSumAdjustment=t4.readInt(),this.magicNumber=t4.readInt(),this.flags=t4.readShort(),this.unitsPerEm=t4.readShort(),this.created=t4.readLongLong(),this.modified=t4.readLongLong(),this.xMin=t4.readShort(),this.yMin=t4.readShort(),this.xMax=t4.readShort(),this.yMax=t4.readShort(),this.macStyle=t4.readShort(),this.lowestRecPPEM=t4.readShort(),this.fontDirectionHint=t4.readShort(),this.indexToLocFormat=t4.readShort(),this.glyphDataFormat=t4.readShort()},e3.prototype.encode=function(t4){var e4;return(e4=new ne).writeInt(this.version),e4.writeInt(this.revision),e4.writeInt(this.checkSumAdjustment),e4.writeInt(this.magicNumber),e4.writeShort(this.flags),e4.writeShort(this.unitsPerEm),e4.writeLongLong(this.created),e4.writeLongLong(this.modified),e4.writeShort(this.xMin),e4.writeShort(this.yMin),e4.writeShort(this.xMax),e4.writeShort(this.yMax),e4.writeShort(this.macStyle),e4.writeShort(this.lowestRecPPEM),e4.writeShort(this.fontDirectionHint),e4.writeShort(t4),e4.writeShort(this.glyphDataFormat),e4.data},e3}(),ce$1=function(){function t3(t4,e3){var r2,n2,i2,a2,o2,s2,c2,u2,h2,l2,f2,d2,p2,g2,m2,v2,b2;switch(this.platformID=t4.readUInt16(),this.encodingID=t4.readShort(),this.offset=e3+t4.readInt(),h2=t4.pos,t4.pos=this.offset,this.format=t4.readUInt16(),this.length=t4.readUInt16(),this.language=t4.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(s2=0;s2<256;++s2)this.codeMap[s2]=t4.readByte();break;case 4:for(f2=t4.readUInt16(),l2=f2/2,t4.pos+=6,i2=function(){var e4,r3;for(r3=[],s2=e4=0;0<=l2?e4<l2:e4>l2;s2=0<=l2?++e4:--e4)r3.push(t4.readUInt16());return r3}(),t4.pos+=2,p2=function(){var e4,r3;for(r3=[],s2=e4=0;0<=l2?e4<l2:e4>l2;s2=0<=l2?++e4:--e4)r3.push(t4.readUInt16());return r3}(),c2=function(){var e4,r3;for(r3=[],s2=e4=0;0<=l2?e4<l2:e4>l2;s2=0<=l2?++e4:--e4)r3.push(t4.readUInt16());return r3}(),u2=function(){var e4,r3;for(r3=[],s2=e4=0;0<=l2?e4<l2:e4>l2;s2=0<=l2?++e4:--e4)r3.push(t4.readUInt16());return r3}(),n2=(this.length-t4.pos+this.offset)/2,o2=function(){var e4,r3;for(r3=[],s2=e4=0;0<=n2?e4<n2:e4>n2;s2=0<=n2?++e4:--e4)r3.push(t4.readUInt16());return r3}(),s2=m2=0,b2=i2.length;m2<b2;s2=++m2)for(g2=i2[s2],r2=v2=d2=p2[s2];d2<=g2?v2<=g2:v2>=g2;r2=d2<=g2?++v2:--v2)0===u2[s2]?a2=r2+c2[s2]:0!==(a2=o2[u2[s2]/2+(r2-d2)-(l2-s2)]||0)&&(a2+=c2[s2]),this.codeMap[r2]=65535&a2}t4.pos=h2}return t3.encode=function(t4,e3){var r2,n2,i2,a2,o2,s2,c2,u2,h2,l2,f2,d2,p2,g2,m2,v2,b2,y2,w2,N2,L2,A2,x2,S2,_2,P2,k2,I2,F2,C2,j2,O2,B2,M2,E2,q2,D2,R2,T2,U2,z2,H2,W2,V2,G2,Y2;switch(I2=new ne,a2=Object.keys(t4).sort(function(t5,e4){return t5-e4}),e3){case"macroman":for(p2=0,g2=function(){var t5=[];for(d2=0;d2<256;++d2)t5.push(0);return t5}(),v2={0:0},i2={},F2=0,B2=a2.length;F2<B2;F2++)null==v2[W2=t4[n2=a2[F2]]]&&(v2[W2]=++p2),i2[n2]={old:t4[n2],new:v2[t4[n2]]},g2[n2]=v2[t4[n2]];return I2.writeUInt16(1),I2.writeUInt16(0),I2.writeUInt32(12),I2.writeUInt16(0),I2.writeUInt16(262),I2.writeUInt16(0),I2.write(g2),{charMap:i2,subtable:I2.data,maxGlyphID:p2+1};case"unicode":for(P2=[],h2=[],b2=0,v2={},r2={},m2=c2=null,C2=0,M2=a2.length;C2<M2;C2++)null==v2[w2=t4[n2=a2[C2]]]&&(v2[w2]=++b2),r2[n2]={old:w2,new:v2[w2]},o2=v2[w2]-n2,null!=m2&&o2===c2||(m2&&h2.push(m2),P2.push(n2),c2=o2),m2=n2;for(m2&&h2.push(m2),h2.push(65535),P2.push(65535),S2=2*(x2=P2.length),A2=2*Math.pow(Math.log(x2)/Math.LN2,2),l2=Math.log(A2/2)/Math.LN2,L2=2*x2-A2,s2=[],N2=[],f2=[],d2=j2=0,E2=P2.length;j2<E2;d2=++j2){if(_2=P2[d2],u2=h2[d2],65535===_2){s2.push(0),N2.push(0);break}if(_2-(k2=r2[_2].new)>=32768)for(s2.push(0),N2.push(2*(f2.length+x2-d2)),n2=O2=_2;_2<=u2?O2<=u2:O2>=u2;n2=_2<=u2?++O2:--O2)f2.push(r2[n2].new);else s2.push(k2-_2),N2.push(0)}for(I2.writeUInt16(3),I2.writeUInt16(1),I2.writeUInt32(12),I2.writeUInt16(4),I2.writeUInt16(16+8*x2+2*f2.length),I2.writeUInt16(0),I2.writeUInt16(S2),I2.writeUInt16(A2),I2.writeUInt16(l2),I2.writeUInt16(L2),z2=0,q2=h2.length;z2<q2;z2++)n2=h2[z2],I2.writeUInt16(n2);for(I2.writeUInt16(0),H2=0,D2=P2.length;H2<D2;H2++)n2=P2[H2],I2.writeUInt16(n2);for(V2=0,R2=s2.length;V2<R2;V2++)o2=s2[V2],I2.writeUInt16(o2);for(G2=0,T2=N2.length;G2<T2;G2++)y2=N2[G2],I2.writeUInt16(y2);for(Y2=0,U2=f2.length;Y2<U2;Y2++)p2=f2[Y2],I2.writeUInt16(p2);return{charMap:r2,subtable:I2.data,maxGlyphID:b2+1}}},t3}(),ue$1=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="cmap",e3.prototype.parse=function(t4){var e4,r2,n2;for(t4.pos=this.offset,this.version=t4.readUInt16(),n2=t4.readUInt16(),this.tables=[],this.unicode=null,r2=0;0<=n2?r2<n2:r2>n2;r2=0<=n2?++r2:--r2)e4=new ce$1(t4,this.offset),this.tables.push(e4),e4.isUnicode&&null==this.unicode&&(this.unicode=e4);return!0},e3.encode=function(t4,e4){var r2,n2;return null==e4&&(e4="macroman"),r2=ce$1.encode(t4,e4),(n2=new ne).writeUInt16(0),n2.writeUInt16(1),r2.table=n2.data.concat(r2.subtable),r2},e3}(),he$1=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="hhea",e3.prototype.parse=function(t4){return t4.pos=this.offset,this.version=t4.readInt(),this.ascender=t4.readShort(),this.decender=t4.readShort(),this.lineGap=t4.readShort(),this.advanceWidthMax=t4.readShort(),this.minLeftSideBearing=t4.readShort(),this.minRightSideBearing=t4.readShort(),this.xMaxExtent=t4.readShort(),this.caretSlopeRise=t4.readShort(),this.caretSlopeRun=t4.readShort(),this.caretOffset=t4.readShort(),t4.pos+=8,this.metricDataFormat=t4.readShort(),this.numberOfMetrics=t4.readUInt16()},e3}(),le$1=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="OS/2",e3.prototype.parse=function(t4){if(t4.pos=this.offset,this.version=t4.readUInt16(),this.averageCharWidth=t4.readShort(),this.weightClass=t4.readUInt16(),this.widthClass=t4.readUInt16(),this.type=t4.readShort(),this.ySubscriptXSize=t4.readShort(),this.ySubscriptYSize=t4.readShort(),this.ySubscriptXOffset=t4.readShort(),this.ySubscriptYOffset=t4.readShort(),this.ySuperscriptXSize=t4.readShort(),this.ySuperscriptYSize=t4.readShort(),this.ySuperscriptXOffset=t4.readShort(),this.ySuperscriptYOffset=t4.readShort(),this.yStrikeoutSize=t4.readShort(),this.yStrikeoutPosition=t4.readShort(),this.familyClass=t4.readShort(),this.panose=function(){var e4,r2;for(r2=[],e4=0;e4<10;++e4)r2.push(t4.readByte());return r2}(),this.charRange=function(){var e4,r2;for(r2=[],e4=0;e4<4;++e4)r2.push(t4.readInt());return r2}(),this.vendorID=t4.readString(4),this.selection=t4.readShort(),this.firstCharIndex=t4.readShort(),this.lastCharIndex=t4.readShort(),this.version>0&&(this.ascent=t4.readShort(),this.descent=t4.readShort(),this.lineGap=t4.readShort(),this.winAscent=t4.readShort(),this.winDescent=t4.readShort(),this.codePageRange=function(){var e4,r2;for(r2=[],e4=0;e4<2;e4=++e4)r2.push(t4.readInt());return r2}(),this.version>1))return this.xHeight=t4.readShort(),this.capHeight=t4.readShort(),this.defaultChar=t4.readShort(),this.breakChar=t4.readShort(),this.maxContext=t4.readShort()},e3}(),fe$1=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="post",e3.prototype.parse=function(t4){var e4,r2,n2;switch(t4.pos=this.offset,this.format=t4.readInt(),this.italicAngle=t4.readInt(),this.underlinePosition=t4.readShort(),this.underlineThickness=t4.readShort(),this.isFixedPitch=t4.readInt(),this.minMemType42=t4.readInt(),this.maxMemType42=t4.readInt(),this.minMemType1=t4.readInt(),this.maxMemType1=t4.readInt(),this.format){case 65536:case 196608:break;case 131072:var i2;for(r2=t4.readUInt16(),this.glyphNameIndex=[],i2=0;0<=r2?i2<r2:i2>r2;i2=0<=r2?++i2:--i2)this.glyphNameIndex.push(t4.readUInt16());for(this.names=[],n2=[];t4.pos<this.offset+this.length;)e4=t4.readByte(),n2.push(this.names.push(t4.readString(e4)));return n2;case 151552:return r2=t4.readUInt16(),this.offsets=t4.read(r2);case 262144:return this.map=function(){var e6,r3,n3;for(n3=[],i2=e6=0,r3=this.file.maxp.numGlyphs;0<=r3?e6<r3:e6>r3;i2=0<=r3?++e6:--e6)n3.push(t4.readUInt32());return n3}.call(this)}},e3}(),de$1=function(t3,e3){this.raw=t3,this.length=t3.length,this.platformID=e3.platformID,this.encodingID=e3.encodingID,this.languageID=e3.languageID},pe$1=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="name",e3.prototype.parse=function(t4){var e4,r2,n2,i2,a2,o2,s2,c2,u2,h2,l2;for(t4.pos=this.offset,t4.readShort(),e4=t4.readShort(),o2=t4.readShort(),r2=[],i2=0;0<=e4?i2<e4:i2>e4;i2=0<=e4?++i2:--i2)r2.push({platformID:t4.readShort(),encodingID:t4.readShort(),languageID:t4.readShort(),nameID:t4.readShort(),length:t4.readShort(),offset:this.offset+o2+t4.readShort()});for(s2={},i2=u2=0,h2=r2.length;u2<h2;i2=++u2)n2=r2[i2],t4.pos=n2.offset,c2=t4.readString(n2.length),a2=new de$1(c2,n2),null==s2[l2=n2.nameID]&&(s2[l2]=[]),s2[n2.nameID].push(a2);this.strings=s2,this.copyright=s2[0],this.fontFamily=s2[1],this.fontSubfamily=s2[2],this.uniqueSubfamily=s2[3],this.fontName=s2[4],this.version=s2[5];try{this.postscriptName=s2[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(t5){this.postscriptName=s2[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=s2[7],this.manufacturer=s2[8],this.designer=s2[9],this.description=s2[10],this.vendorUrl=s2[11],this.designerUrl=s2[12],this.license=s2[13],this.licenseUrl=s2[14],this.preferredFamily=s2[15],this.preferredSubfamily=s2[17],this.compatibleFull=s2[18],this.sampleText=s2[19]},e3}(),ge=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="maxp",e3.prototype.parse=function(t4){return t4.pos=this.offset,this.version=t4.readInt(),this.numGlyphs=t4.readUInt16(),this.maxPoints=t4.readUInt16(),this.maxContours=t4.readUInt16(),this.maxCompositePoints=t4.readUInt16(),this.maxComponentContours=t4.readUInt16(),this.maxZones=t4.readUInt16(),this.maxTwilightPoints=t4.readUInt16(),this.maxStorage=t4.readUInt16(),this.maxFunctionDefs=t4.readUInt16(),this.maxInstructionDefs=t4.readUInt16(),this.maxStackElements=t4.readUInt16(),this.maxSizeOfInstructions=t4.readUInt16(),this.maxComponentElements=t4.readUInt16(),this.maxComponentDepth=t4.readUInt16()},e3}(),me$1=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="hmtx",e3.prototype.parse=function(t4){var e4,r2,n2,i2,a2,o2,s2;for(t4.pos=this.offset,this.metrics=[],e4=0,o2=this.file.hhea.numberOfMetrics;0<=o2?e4<o2:e4>o2;e4=0<=o2?++e4:--e4)this.metrics.push({advance:t4.readUInt16(),lsb:t4.readInt16()});for(n2=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r3,i3;for(i3=[],e4=r3=0;0<=n2?r3<n2:r3>n2;e4=0<=n2?++r3:--r3)i3.push(t4.readInt16());return i3}(),this.widths=function(){var t5,e6,r3,n3;for(n3=[],t5=0,e6=(r3=this.metrics).length;t5<e6;t5++)i2=r3[t5],n3.push(i2.advance);return n3}.call(this),r2=this.widths[this.widths.length-1],s2=[],e4=a2=0;0<=n2?a2<n2:a2>n2;e4=0<=n2?++a2:--a2)s2.push(this.widths.push(r2));return s2},e3.prototype.forGlyph=function(t4){return t4 in this.metrics?this.metrics[t4]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t4-this.metrics.length]}},e3}(),ve$1=[].slice,be$1=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="glyf",e3.prototype.parse=function(){return this.cache={}},e3.prototype.glyphFor=function(t4){var e4,r2,n2,i2,a2,o2,s2,c2,u2,h2;return t4 in this.cache?this.cache[t4]:(i2=this.file.loca,e4=this.file.contents,r2=i2.indexOf(t4),0===(n2=i2.lengthOf(t4))?this.cache[t4]=null:(e4.pos=this.offset+r2,a2=(o2=new ne(e4.read(n2))).readShort(),c2=o2.readShort(),h2=o2.readShort(),s2=o2.readShort(),u2=o2.readShort(),this.cache[t4]=-1===a2?new we$1(o2,c2,h2,s2,u2):new ye$1(o2,a2,c2,h2,s2,u2),this.cache[t4]))},e3.prototype.encode=function(t4,e4,r2){var n2,i2,a2,o2,s2;for(a2=[],i2=[],o2=0,s2=e4.length;o2<s2;o2++)n2=t4[e4[o2]],i2.push(a2.length),n2&&(a2=a2.concat(n2.encode(r2)));return i2.push(a2.length),{table:a2,offsets:i2}},e3}(),ye$1=function(){function t3(t4,e3,r2,n2,i2,a2){this.raw=t4,this.numberOfContours=e3,this.xMin=r2,this.yMin=n2,this.xMax=i2,this.yMax=a2,this.compound=!1}return t3.prototype.encode=function(){return this.raw.data},t3}(),we$1=function(){function t3(t4,e3,r2,n2,i2){var a2,o2;for(this.raw=t4,this.xMin=e3,this.yMin=r2,this.xMax=n2,this.yMax=i2,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a2=this.raw;o2=a2.readShort(),this.glyphOffsets.push(a2.pos),this.glyphIDs.push(a2.readUInt16()),32&o2;)a2.pos+=1&o2?4:2,128&o2?a2.pos+=8:64&o2?a2.pos+=4:8&o2&&(a2.pos+=2)}return t3.prototype.encode=function(){var t4,e3,r2;for(e3=new ne(ve$1.call(this.raw.data)),t4=0,r2=this.glyphIDs.length;t4<r2;++t4)e3.pos=this.glyphOffsets[t4];return e3.data},t3}(),Ne=function(){function e3(){return e3.__super__.constructor.apply(this,arguments)}return oe(e3,re),e3.prototype.tag="loca",e3.prototype.parse=function(t4){var e4,r2;return t4.pos=this.offset,e4=this.file.head.indexToLocFormat,this.offsets=0===e4?function(){var e6,n2;for(n2=[],r2=0,e6=this.length;r2<e6;r2+=2)n2.push(2*t4.readUInt16());return n2}.call(this):function(){var e6,n2;for(n2=[],r2=0,e6=this.length;r2<e6;r2+=4)n2.push(t4.readUInt32());return n2}.call(this)},e3.prototype.indexOf=function(t4){return this.offsets[t4]},e3.prototype.lengthOf=function(t4){return this.offsets[t4+1]-this.offsets[t4]},e3.prototype.encode=function(t4,e4){for(var r2=new Uint32Array(this.offsets.length),n2=0,i2=0,a2=0;a2<r2.length;++a2)if(r2[a2]=n2,i2<e4.length&&e4[i2]==a2){++i2,r2[a2]=n2;var o2=this.offsets[a2],s2=this.offsets[a2+1]-o2;s2>0&&(n2+=s2)}for(var c2=new Array(4*r2.length),u2=0;u2<r2.length;++u2)c2[4*u2+3]=255&r2[u2],c2[4*u2+2]=(65280&r2[u2])>>8,c2[4*u2+1]=(16711680&r2[u2])>>16,c2[4*u2]=(4278190080&r2[u2])>>24;return c2},e3}(),Le=function(){function t3(t4){this.font=t4,this.subset={},this.unicodes={},this.next=33}return t3.prototype.generateCmap=function(){var t4,e3,r2,n2,i2;for(e3 in n2=this.font.cmap.tables[0].codeMap,t4={},i2=this.subset)r2=i2[e3],t4[e3]=n2[r2];return t4},t3.prototype.glyphsFor=function(t4){var e3,r2,n2,i2,a2,o2,s2;for(n2={},a2=0,o2=t4.length;a2<o2;a2++)n2[i2=t4[a2]]=this.font.glyf.glyphFor(i2);for(i2 in e3=[],n2)(null!=(r2=n2[i2])?r2.compound:void 0)&&e3.push.apply(e3,r2.glyphIDs);if(e3.length>0)for(i2 in s2=this.glyphsFor(e3))r2=s2[i2],n2[i2]=r2;return n2},t3.prototype.encode=function(t4,e3){var r2,n2,i2,a2,o2,s2,c2,u2,h2,l2,f2,d2,p2,g2,m2;for(n2 in r2=ue$1.encode(this.generateCmap(),"unicode"),a2=this.glyphsFor(t4),f2={0:0},m2=r2.charMap)f2[(s2=m2[n2]).old]=s2.new;for(d2 in l2=r2.maxGlyphID,a2)d2 in f2||(f2[d2]=l2++);return u2=function(t5){var e4,r3;for(e4 in r3={},t5)r3[t5[e4]]=e4;return r3}(f2),h2=Object.keys(u2).sort(function(t5,e4){return t5-e4}),p2=function(){var t5,e4,r3;for(r3=[],t5=0,e4=h2.length;t5<e4;t5++)o2=h2[t5],r3.push(u2[o2]);return r3}(),i2=this.font.glyf.encode(a2,p2,f2),c2=this.font.loca.encode(i2.offsets,p2),g2={cmap:this.font.cmap.raw(),glyf:i2.table,loca:c2,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e3)},this.font.os2.exists&&(g2["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g2)},t3}();E.API.PDFObject=function(){var t3;function e3(){}return t3=function(t4,e4){return(Array(e4+1).join("0")+t4).slice(-e4)},e3.convert=function(r2){var n2,i2,a2,o2;if(Array.isArray(r2))return"["+function(){var t4,i3,a3;for(a3=[],t4=0,i3=r2.length;t4<i3;t4++)n2=r2[t4],a3.push(e3.convert(n2));return a3}().join(" ")+"]";if("string"==typeof r2)return"/"+r2;if(null!=r2?r2.isString:void 0)return"("+r2+")";if(r2 instanceof Date)return"(D:"+t3(r2.getUTCFullYear(),4)+t3(r2.getUTCMonth(),2)+t3(r2.getUTCDate(),2)+t3(r2.getUTCHours(),2)+t3(r2.getUTCMinutes(),2)+t3(r2.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r2)){for(i2 in a2=["<<"],r2)o2=r2[i2],a2.push("/"+i2+" "+e3.convert(o2));return a2.push(">>"),a2.join("\n")}return""+r2},e3}();class PDFExportService{constructor(){__publicField(this,"doc"),__publicField(this,"pageHeight"),__publicField(this,"pageWidth"),__publicField(this,"margin"),__publicField(this,"currentY"),__publicField(this,"lineHeight"),this.doc=new E,this.pageHeight=this.doc.internal.pageSize.height,this.pageWidth=this.doc.internal.pageSize.width,this.margin=20,this.currentY=this.margin,this.lineHeight=7}addNewPageIfNeeded(requiredHeight=20){this.currentY+requiredHeight>this.pageHeight-this.margin&&(this.doc.addPage(),this.currentY=this.margin)}addTitle(title){this.doc.setFontSize(20),this.doc.setFont("helvetica","bold"),this.doc.text(title,this.pageWidth/2,this.currentY,{align:"center"}),this.currentY+=15}addSubtitle(subtitle){this.doc.setFontSize(12),this.doc.setFont("helvetica","normal"),this.doc.text(subtitle,this.pageWidth/2,this.currentY,{align:"center"}),this.currentY+=10}addSectionTitle(title){this.addNewPageIfNeeded(15),this.doc.setFontSize(14),this.doc.setFont("helvetica","bold"),this.doc.text(title,this.margin,this.currentY),this.currentY+=10}addLine(){this.doc.setDrawColor(200,200,200),this.doc.line(this.margin,this.currentY,this.pageWidth-this.margin,this.currentY),this.currentY+=5}addKeyValue(key,value,fontSize=10){this.addNewPageIfNeeded(this.lineHeight),this.doc.setFontSize(fontSize),this.doc.setFont("helvetica","bold"),this.doc.text(key+":",this.margin,this.currentY),this.doc.setFont("helvetica","normal");const keyWidth=this.doc.getTextWidth(key+": ");this.doc.text(value,this.margin+keyWidth,this.currentY),this.currentY+=this.lineHeight}addStatsCard(title,value,description,x2=this.margin,width=85,currentY){const yPosition=currentY||this.currentY;this.addNewPageIfNeeded(25),this.doc.setDrawColor(200,200,200),this.doc.setFillColor(248,249,250),this.doc.rect(x2,yPosition,width,20,"FD"),this.doc.setFontSize(10),this.doc.setFont("helvetica","bold"),this.doc.text(title,x2+5,yPosition+7),this.doc.setFontSize(12),this.doc.setFont("helvetica","bold"),this.doc.text(value,x2+5,yPosition+13),this.doc.setFontSize(8),this.doc.setFont("helvetica","normal"),this.doc.text(description,x2+5,yPosition+18)}addTransactionTable(transactions){this.addNewPageIfNeeded(30);const colWidths=[20,35,25,20,40,50],startX=this.margin;this.doc.setFontSize(9),this.doc.setFont("helvetica","bold"),this.doc.setFillColor(240,240,240),this.doc.rect(startX,this.currentY,colWidths.reduce((a2,b2)=>a2+b2,0),8,"F");let currentX=startX;["Tipo","Data","Valor","Status","Nome","Descrição"].forEach((header,index)=>{this.doc.text(header,currentX+2,this.currentY+5),currentX+=colWidths[index]}),this.currentY+=10,this.doc.setFont("helvetica","normal"),this.doc.setFontSize(8),transactions.forEach((transaction,index)=>{this.addNewPageIfNeeded(8),index%2==0&&(this.doc.setFillColor(250,250,250),this.doc.rect(startX,this.currentY,colWidths.reduce((a2,b2)=>a2+b2,0),7,"F")),currentX=startX;[transaction.type||"-",formatTimestamp(transaction.createdTimestamp),formatCurrency(parseFloat(transaction.amount)),"in"===transaction.side?"Entrada":"Saída",this.truncateText(this.getPersonName(transaction),25),this.truncateText(transaction.description||"-",35)].forEach((data,colIndex)=>{this.doc.text(data,currentX+2,this.currentY+5),currentX+=colWidths[colIndex]}),this.currentY+=7})}truncateText(text2,maxLength){return text2.length<=maxLength?text2:text2.substring(0,maxLength-3)+"..."}getPersonName(transaction){var _a3,_b3;return"in"===transaction.side?(null==(_a3=transaction.from)?void 0:_a3.name)||"Não informado":(null==(_b3=transaction.to)?void 0:_b3.name)||"Não informado"}async exportTransactionsToPDF(data){try{this.addTitle("Extrato de Transações TCR");const startDate=new Date(1e3*data.searchParams.startDate),endDate=new Date(1e3*data.searchParams.endDate);this.addSubtitle(`Período: ${startDate.toLocaleDateString("pt-BR")} a ${endDate.toLocaleDateString("pt-BR")}`),this.currentY+=10,this.addSectionTitle("Informações da Conta"),this.addKeyValue("Número da Conta",data.searchParams.accountNumber),this.addKeyValue("Data de Geração",(new Date).toLocaleString("pt-BR")),this.addKeyValue("Total de Transações",data.transactions.length.toString()),this.currentY+=10,this.addSectionTitle("Resumo Financeiro");const cardWidth=(this.pageWidth-2*this.margin-10)/2,firstLineY=this.currentY;this.addStatsCard("Saldo Total",data.saldoApi||"N/A","Saldo atual da conta (API)",this.margin,cardWidth,firstLineY),this.addStatsCard("Entradas",formatCurrency(data.stats.totalEntries),"Total de créditos no período",this.margin+cardWidth+10,cardWidth,firstLineY),this.currentY=firstLineY+25;const secondLineY=this.currentY;this.addStatsCard("Saídas",formatCurrency(data.stats.totalExits),"Total de débitos no período",this.margin,cardWidth,secondLineY),this.addStatsCard("Taxas",formatCurrency(data.stats.totalFees),"Total de taxas no período",this.margin+cardWidth+10,cardWidth,secondLineY),this.currentY=secondLineY+30,this.addKeyValue("Fluxo Líquido",formatCurrency(data.stats.netFlow),11),this.currentY+=10,this.addLine(),data.transactions.length>0&&(this.addSectionTitle("Detalhamento das Transações"),this.addTransactionTable(data.transactions)),this.doc.setFontSize(8),this.doc.setFont("helvetica","italic"),this.doc.text("Documento gerado automaticamente pelo sistema TCR",this.pageWidth/2,this.pageHeight-10,{align:"center"});const startDateForFile=new Date(1e3*data.searchParams.startDate),endDateForFile=new Date(1e3*data.searchParams.endDate),formatDateForFileName=date2=>date2.toISOString().split("T")[0],startDateStr=formatDateForFileName(startDateForFile),endDateStr=formatDateForFileName(endDateForFile),dateRange=startDateStr===endDateStr?startDateStr:`${startDateStr}_a_${endDateStr}`,fileName=`extrato-tcr-${data.searchParams.accountNumber}-${dateRange}.pdf`;this.doc.save(fileName)}catch(error){throw error}}}new PDFExportService;const getTransactionIcon=(type,side)=>{switch(type.toLowerCase()){case"pix":return"in"===side?jsxRuntimeExports.jsx(ArrowDown,{className:"h-4 w-4 text-green-500"}):jsxRuntimeExports.jsx(ArrowUp,{className:"h-4 w-4 text-red-500"});case"transfer":return jsxRuntimeExports.jsx(Send,{className:"h-4 w-4 text-blue-500"});case"card":return jsxRuntimeExports.jsx(CreditCard,{className:"h-4 w-4 text-purple-500"});case"cash":return jsxRuntimeExports.jsx(Banknote,{className:"h-4 w-4 text-yellow-500"});default:return jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 text-gray-500"})}},getPersonName=transaction=>"in"===transaction.side?transaction.from.name||"Não informado":transaction.to.name||"Não informado";function TransactionTable({data:data,exportData:exportData}){var _a3,_b3;const[sorting,setSorting]=reactExports.useState([{id:"createdTimestamp",desc:!0}]),[columnFilters,setColumnFilters]=reactExports.useState([]),[rowSelection,setRowSelection]=reactExports.useState({}),[expanded,setExpanded]=reactExports.useState({}),[isReceiptModalOpen,setIsReceiptModalOpen]=reactExports.useState(!1),[receiptDataForModal,setReceiptDataForModal]=reactExports.useState(null),receiptRef=reactExports.useRef(null),[isGeneratingPdf,setIsGeneratingPdf]=reactExports.useState(!1),[isExportingPdf,setIsExportingPdf]=reactExports.useState(!1),handleShowReceipt=transaction=>{setReceiptDataForModal(transaction),setIsReceiptModalOpen(!0)},columns=[{id:"select",header:({table:table2})=>jsxRuntimeExports.jsx(Checkbox,{checked:table2.getIsAllPageRowsSelected()||!!table2.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:value=>table2.toggleAllPageRowsSelected(!!value),"aria-label":"Selecionar tudo"}),cell:({row:row})=>jsxRuntimeExports.jsx(Checkbox,{checked:row.getIsSelected(),onCheckedChange:value=>row.toggleSelected(!!value),"aria-label":"Selecionar linha"}),enableSorting:!1,enableHiding:!1},{accessorKey:"type",header:"Tipo",cell:({row:row})=>{const transaction=row.original;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[getTransactionIcon(transaction.type,transaction.side),jsxRuntimeExports.jsx("span",{className:"capitalize",children:transaction.type.toLowerCase()})]})}},{accessorKey:"amount",header:({column:column})=>jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>column.toggleSorting("asc"===column.getIsSorted()),className:"text-right font-medium",children:["Valor",jsxRuntimeExports.jsx(ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:row})=>{const amount=parseFloat(row.getValue("amount")),formatted=formatCurrency(amount),transaction=row.original;return jsxRuntimeExports.jsxs("div",{className:"text-right font-medium "+("in"===transaction.side?"text-green-600":"text-red-600"),children:["in"===transaction.side?"":"-",formatted]})}},{accessorKey:"createdTimestamp",header:({column:column})=>jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",onClick:()=>column.toggleSorting("asc"===column.getIsSorted()),className:"font-medium",children:["Data",jsxRuntimeExports.jsx(ArrowUpDown,{className:"ml-2 h-4 w-4"})]}),cell:({row:row})=>{const timestamp=row.getValue("createdTimestamp"),formattedDate=formatTimestamp(timestamp,"dd/MM/yyyy HH:mm");return jsxRuntimeExports.jsx("div",{children:formattedDate})}},{id:"personName",header:"Nome",accessorFn:row=>getPersonName(row),cell:({row:row})=>{const name=getPersonName(row.original);return jsxRuntimeExports.jsx("div",{className:"capitalize",children:name})}},{accessorKey:"description",header:"Descrição",cell:({row:row})=>jsxRuntimeExports.jsx("div",{className:"lowercase first-letter:uppercase",children:row.getValue("description")||"-"}),filterFn:(row,columnId,filterValue)=>{const description=row.getValue(columnId)||"",name=getPersonName(row.original),search=String(filterValue).toLowerCase();return description.toLowerCase().includes(search)||name.toLowerCase().includes(search)}},{accessorKey:"side",header:"Status",cell:({row:row})=>{const transaction=row.original;return jsxRuntimeExports.jsx(Badge,{variant:"in"===transaction.side?"default":"outline",className:"in"===transaction.side?"bg-green-500 hover:bg-green-600":"text-red-500 border-red-500",children:"in"===transaction.side?"Entrada":"Saída"})}},{id:"actions",enableHiding:!1,cell:({row:row})=>{const transaction=row.original;return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",className:"h-8 w-8 p-0",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Abrir menu"}),jsxRuntimeExports.jsx(Ellipsis,{className:"h-4 w-4"})]})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsx(DropdownMenuLabel,{children:"Ações"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>{navigator.clipboard.writeText(transaction.id),ue$2.success("ID da transação copiado para a área de transferência")},children:"Copiar ID da transação"}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>{setExpanded(old=>{const newExpanded={...old};return newExpanded[row.original.id]=!old[row.original.id],newExpanded})},children:expanded[row.original.id]?"Ocultar detalhes":"Ver detalhes"}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>handleShowReceipt(transaction),children:"Ver Comprovante HTML"})]})]})}}],table=function(options){const resolvedOptions={state:{},onStateChange:()=>{},renderFallbackValue:null,...options},[tableRef]=reactExports.useState(()=>({current:createTable(resolvedOptions)})),[state,setState]=reactExports.useState(()=>tableRef.current.initialState);return tableRef.current.setOptions(prev=>({...prev,...options,state:{...state,...options.state},onStateChange:updater=>{setState(updater),null==options.onStateChange||options.onStateChange(updater)}})),tableRef.current}({data:data,columns:columns,onSortingChange:setSorting,onColumnFiltersChange:setColumnFilters,onRowSelectionChange:setRowSelection,getCoreRowModel:table=>memo(()=>[table.options.data],data=>{const rowModel={rows:[],flatRows:[],rowsById:{}},accessRows=function(originalRows,depth,parentRow){void 0===depth&&(depth=0);const rows=[];for(let i2=0;i2<originalRows.length;i2++){const row=createRow(table,table._getRowId(originalRows[i2],i2,parentRow),originalRows[i2],i2,depth,0,null==parentRow?void 0:parentRow.id);var _row$originalSubRows;rowModel.flatRows.push(row),rowModel.rowsById[row.id]=row,rows.push(row),table.options.getSubRows&&(row.originalSubRows=table.options.getSubRows(originalRows[i2],i2),null!=(_row$originalSubRows=row.originalSubRows)&&_row$originalSubRows.length&&(row.subRows=accessRows(row.originalSubRows,depth+1,row)))}return rows};return rowModel.rows=accessRows(data),rowModel},getMemoOptions(table.options,"debugTable",0,()=>table._autoResetPageIndex())),getPaginationRowModel:table=>memo(()=>[table.getState().pagination,table.getPrePaginationRowModel(),table.options.paginateExpandedRows?void 0:table.getState().expanded],(pagination,rowModel)=>{if(!rowModel.rows.length)return rowModel;const{pageSize:pageSize,pageIndex:pageIndex}=pagination;let{rows:rows,flatRows:flatRows,rowsById:rowsById}=rowModel;const pageStart=pageSize*pageIndex,pageEnd=pageStart+pageSize;let paginatedRowModel;rows=rows.slice(pageStart,pageEnd),paginatedRowModel=table.options.paginateExpandedRows?{rows:rows,flatRows:flatRows,rowsById:rowsById}:function(rowModel){const expandedRows=[],handleRow=row=>{var _row$subRows;expandedRows.push(row),null!=(_row$subRows=row.subRows)&&_row$subRows.length&&row.getIsExpanded()&&row.subRows.forEach(handleRow)};return rowModel.rows.forEach(handleRow),{rows:expandedRows,flatRows:rowModel.flatRows,rowsById:rowModel.rowsById}}({rows:rows,flatRows:flatRows,rowsById:rowsById}),paginatedRowModel.flatRows=[];const handleRow=row=>{paginatedRowModel.flatRows.push(row),row.subRows.length&&row.subRows.forEach(handleRow)};return paginatedRowModel.rows.forEach(handleRow),paginatedRowModel},getMemoOptions(table.options,"debugTable")),getSortedRowModel:table=>memo(()=>[table.getState().sorting,table.getPreSortedRowModel()],(sorting,rowModel)=>{if(!rowModel.rows.length||null==sorting||!sorting.length)return rowModel;const sortingState=table.getState().sorting,sortedFlatRows=[],availableSorting=sortingState.filter(sort=>{var _table$getColumn;return null==(_table$getColumn=table.getColumn(sort.id))?void 0:_table$getColumn.getCanSort()}),columnInfoById={};availableSorting.forEach(sortEntry=>{const column=table.getColumn(sortEntry.id);column&&(columnInfoById[sortEntry.id]={sortUndefined:column.columnDef.sortUndefined,invertSorting:column.columnDef.invertSorting,sortingFn:column.getSortingFn()})});const sortData=rows=>{const sortedData=rows.map(row=>({...row}));return sortedData.sort((rowA,rowB)=>{for(let i2=0;i2<availableSorting.length;i2+=1){var _sortEntry$desc;const sortEntry=availableSorting[i2],columnInfo=columnInfoById[sortEntry.id],sortUndefined=columnInfo.sortUndefined,isDesc=null!=(_sortEntry$desc=null==sortEntry?void 0:sortEntry.desc)&&_sortEntry$desc;let sortInt=0;if(sortUndefined){const aUndefined=void 0===rowA.getValue(sortEntry.id),bUndefined=void 0===rowB.getValue(sortEntry.id);if(aUndefined||bUndefined){if("first"===sortUndefined)return aUndefined?-1:1;if("last"===sortUndefined)return aUndefined?1:-1;sortInt=aUndefined&&bUndefined?0:aUndefined?sortUndefined:-sortUndefined}}if(0===sortInt&&(sortInt=columnInfo.sortingFn(rowA,rowB,sortEntry.id)),0!==sortInt)return isDesc&&(sortInt*=-1),columnInfo.invertSorting&&(sortInt*=-1),sortInt}return rowA.index-rowB.index}),sortedData.forEach(row=>{var _row$subRows;sortedFlatRows.push(row),null!=(_row$subRows=row.subRows)&&_row$subRows.length&&(row.subRows=sortData(row.subRows))}),sortedData};return{rows:sortData(rowModel.rows),flatRows:sortedFlatRows,rowsById:rowModel.rowsById}},getMemoOptions(table.options,"debugTable",0,()=>table._autoResetPageIndex())),getFilteredRowModel:table=>memo(()=>[table.getPreFilteredRowModel(),table.getState().columnFilters,table.getState().globalFilter],(rowModel,columnFilters,globalFilter)=>{if(!rowModel.rows.length||(null==columnFilters||!columnFilters.length)&&!globalFilter){for(let i2=0;i2<rowModel.flatRows.length;i2++)rowModel.flatRows[i2].columnFilters={},rowModel.flatRows[i2].columnFiltersMeta={};return rowModel}const resolvedColumnFilters=[],resolvedGlobalFilters=[];(null!=columnFilters?columnFilters:[]).forEach(d2=>{var _filterFn$resolveFilt;const column=table.getColumn(d2.id);if(!column)return;const filterFn=column.getFilterFn();filterFn&&resolvedColumnFilters.push({id:d2.id,filterFn:filterFn,resolvedValue:null!=(_filterFn$resolveFilt=null==filterFn.resolveFilterValue?void 0:filterFn.resolveFilterValue(d2.value))?_filterFn$resolveFilt:d2.value})});const filterableIds=(null!=columnFilters?columnFilters:[]).map(d2=>d2.id),globalFilterFn=table.getGlobalFilterFn(),globallyFilterableColumns=table.getAllLeafColumns().filter(column=>column.getCanGlobalFilter());let currentColumnFilter,currentGlobalFilter;globalFilter&&globalFilterFn&&globallyFilterableColumns.length&&(filterableIds.push("__global__"),globallyFilterableColumns.forEach(column=>{var _globalFilterFn$resol;resolvedGlobalFilters.push({id:column.id,filterFn:globalFilterFn,resolvedValue:null!=(_globalFilterFn$resol=null==globalFilterFn.resolveFilterValue?void 0:globalFilterFn.resolveFilterValue(globalFilter))?_globalFilterFn$resol:globalFilter})}));for(let j2=0;j2<rowModel.flatRows.length;j2++){const row=rowModel.flatRows[j2];if(row.columnFilters={},resolvedColumnFilters.length)for(let i2=0;i2<resolvedColumnFilters.length;i2++){currentColumnFilter=resolvedColumnFilters[i2];const id2=currentColumnFilter.id;row.columnFilters[id2]=currentColumnFilter.filterFn(row,id2,currentColumnFilter.resolvedValue,filterMeta=>{row.columnFiltersMeta[id2]=filterMeta})}if(resolvedGlobalFilters.length){for(let i2=0;i2<resolvedGlobalFilters.length;i2++){currentGlobalFilter=resolvedGlobalFilters[i2];const id2=currentGlobalFilter.id;if(currentGlobalFilter.filterFn(row,id2,currentGlobalFilter.resolvedValue,filterMeta=>{row.columnFiltersMeta[id2]=filterMeta})){row.columnFilters.__global__=!0;break}}!0!==row.columnFilters.__global__&&(row.columnFilters.__global__=!1)}}return filterRows(rowModel.rows,row=>{for(let i2=0;i2<filterableIds.length;i2++)if(!1===row.columnFilters[filterableIds[i2]])return!1;return!0},table)},getMemoOptions(table.options,"debugTable",0,()=>table._autoResetPageIndex())),state:{sorting:sorting,columnFilters:columnFilters,rowSelection:rowSelection,expanded:expanded},onExpandedChange:setExpanded,getRowCanExpand:()=>!0}),TransactionDetails=({transaction:transaction})=>jsxRuntimeExports.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg space-y-4 mt-1 mb-3 mx-2 border border-border",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-3",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-primary",children:[jsxRuntimeExports.jsx(Info,{className:"h-4 w-4"}),"Detalhes da Transação"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-background p-3 rounded-md shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-1",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-4 w-4"}),"Data e Hora"]}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:formatTimestamp(transaction.createdTimestamp,"dd/MM/yyyy HH:mm:ss")})]}),jsxRuntimeExports.jsxs("div",{className:"bg-background p-3 rounded-md shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4"}),"Valor e Taxa"]}),jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[formatCurrency(parseFloat(transaction.amount)),parseFloat(transaction.fee)>0&&jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground text-sm ml-2",children:["(Taxa: ",formatCurrency(parseFloat(transaction.fee)),")"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-background p-3 rounded-md shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-1",children:[jsxRuntimeExports.jsx(Hash$2,{className:"h-4 w-4"}),"ID da Transação"]}),jsxRuntimeExports.jsxs("div",{className:"font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"truncate max-w-[150px]",title:transaction.id,children:transaction.id}),jsxRuntimeExports.jsx(Button$1,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText(transaction.id),ue$2.success("ID da transação copiado para a área de transferência")},children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-copy",children:[jsxRuntimeExports.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),jsxRuntimeExports.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-background p-3 rounded-md shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-1",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),"Descrição"]}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:transaction.description||transaction.identifier||"-"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-3",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-primary",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),"in"===transaction.side?"Dados do Remetente":"Dados do Destinatário"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-background p-3 rounded-md shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-1",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),"Nome"]}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"in"===transaction.side?transaction.from.name||"Não informado":transaction.to.name||"Não informado"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-background p-3 rounded-md shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-1",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),"Documento"]}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:"in"===transaction.side?transaction.from.userDocument||"Não informado":transaction.to.userDocument||"Não informado"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-background p-3 rounded-md shadow-sm col-span-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-1",children:[jsxRuntimeExports.jsx(Landmark,{className:"h-4 w-4"}),"Dados Bancários"]}),jsxRuntimeExports.jsx("div",{className:"font-medium text-xs break-words",children:"in"===transaction.side?`Banco: ${transaction.from.bankNumber||"N/A"}`:`Banco: ${transaction.to.bankNumber||"N/A"} | Ag: ${transaction.to.agencyNumber||"N/A"} | Conta: ${transaction.to.accountNumber||"N/A"}`})]}),jsxRuntimeExports.jsxs("div",{className:"bg-background p-3 rounded-md shadow-sm col-span-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground text-sm mb-1",children:[jsxRuntimeExports.jsx(Hash$2,{className:"h-4 w-4"}),"Operation ID"]}),jsxRuntimeExports.jsxs("div",{className:"font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"truncate max-w-[130px] text-xs",title:transaction.operationId||"Não informado",children:transaction.operationId||"Não informado"}),transaction.operationId&&jsxRuntimeExports.jsx(Button$1,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>{navigator.clipboard.writeText(transaction.operationId),ue$2.success("Operation ID copiado!")},children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-copy",children:[jsxRuntimeExports.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),jsxRuntimeExports.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end mt-2",children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",className:"flex items-center gap-2",onClick:()=>handleShowReceipt(transaction),children:[jsxRuntimeExports.jsx(Info,{className:"h-4 w-4"}),"Ver Comprovante"]})})]});return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-4",children:[jsxRuntimeExports.jsx(Input,{placeholder:"Filtrar por descrição ou nome...",value:(null==(_a3=table.getColumn("description"))?void 0:_a3.getFilterValue())??"",onChange:event=>{const value=event.target.value,column=table.getColumn("description");column&&column.setFilterValue(value)},className:"max-w-sm bg-input"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setRowSelection({}),children:"Limpar seleção"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",className:"ml-auto flex items-center gap-2",onClick:async()=>{if(exportData){setIsExportingPdf(!0),ue$2.info("Gerando PDF do extrato...");try{const pdfService=new PDFExportService;await pdfService.exportTransactionsToPDF(exportData),ue$2.success("PDF do extrato exportado com sucesso!")}catch(error){ue$2.error("Erro ao exportar PDF. Tente novamente.")}finally{setIsExportingPdf(!1)}}else ue$2.error("Dados para exportação não disponíveis")},disabled:isExportingPdf||!exportData,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),isExportingPdf?"Exportando...":"Exportar PDF"]})]})]}),jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:table.getHeaderGroups().map(headerGroup=>jsxRuntimeExports.jsx(TableRow,{children:headerGroup.headers.map(header=>jsxRuntimeExports.jsx(TableHead,{children:header.isPlaceholder?null:flexRender(header.column.columnDef.header,header.getContext())},header.id))},headerGroup.id))}),jsxRuntimeExports.jsx(TableBody,{children:(null==(_b3=table.getRowModel().rows)?void 0:_b3.length)?table.getRowModel().rows.map(row=>jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(TableRow,{"data-state":row.getIsSelected()&&"selected",children:row.getVisibleCells().map(cell=>jsxRuntimeExports.jsx(TableCell,{children:flexRender(cell.column.columnDef.cell,cell.getContext())},cell.id))}),expanded[row.original.id]&&jsxRuntimeExports.jsx(TableRow,{className:"bg-muted/50 hover:bg-muted/60",children:jsxRuntimeExports.jsx(TableCell,{colSpan:columns.length,className:"p-0",children:jsxRuntimeExports.jsx(TransactionDetails,{transaction:row.original})})})]},row.original.id)):jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:columns.length,className:"h-24 text-center",children:"Nenhum resultado encontrado."})})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:[table.getFilteredSelectedRowModel().rows.length," de"," ",table.getFilteredRowModel().rows.length," linha(s) selecionada(s)."]}),jsxRuntimeExports.jsx(Pagination,{children:jsxRuntimeExports.jsxs(PaginationContent,{children:[jsxRuntimeExports.jsx(PaginationItem,{children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"icon",onClick:()=>table.setPageIndex(0),disabled:!table.getCanPreviousPage(),children:jsxRuntimeExports.jsx(ChevronFirst,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(PaginationItem,{children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"icon",onClick:()=>table.previousPage(),disabled:!table.getCanPreviousPage(),children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"})})}),Array.from({length:Math.min(5,table.getPageCount())}).map((_2,i2)=>{const pageIndex=i2,isCurrentPage=table.getState().pagination.pageIndex===pageIndex;return jsxRuntimeExports.jsx(PaginationItem,{children:jsxRuntimeExports.jsx(Button$1,{variant:isCurrentPage?"default":"outline",size:"icon",onClick:()=>table.setPageIndex(pageIndex),children:pageIndex+1})},i2)}),jsxRuntimeExports.jsx(PaginationItem,{children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"icon",onClick:()=>table.nextPage(),disabled:!table.getCanNextPage(),children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(PaginationItem,{children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"icon",onClick:()=>table.setPageIndex(table.getPageCount()-1),disabled:!table.getCanNextPage(),children:jsxRuntimeExports.jsx(ChevronLast,{className:"h-4 w-4"})})})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:isReceiptModalOpen,onOpenChange:setIsReceiptModalOpen,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Visualizar Comprovante"})}),jsxRuntimeExports.jsx(ScrollArea,{className:"max-h-[70vh] p-4",children:receiptDataForModal&&jsxRuntimeExports.jsx(TransactionReceipt,{transaction:receiptDataForModal,receiptRef:receiptRef})}),jsxRuntimeExports.jsxs(DialogFooter,{className:"sm:justify-between",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"default",onClick:async()=>{const transaction=receiptDataForModal;if(transaction){setIsGeneratingPdf(!0),ue$2.info("Solicitando geração do PDF...");try{const backendUrl="https://receipt-api.com/api/generate-receipt",response=await fetch(backendUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transaction:transaction})});if(!response.ok){let errorMsg=`Erro ${response.status} ao gerar PDF.`;try{errorMsg=(await response.json()).message||errorMsg}catch(e3){}throw new Error(errorMsg)}const blob=await response.blob(),url=window.URL.createObjectURL(blob),link=document.createElement("a");link.href=url;const contentDisposition=response.headers.get("content-disposition");let filename=`comprovante-${transaction.id}.pdf`;if(contentDisposition){const filenameMatch=contentDisposition.match(/filename="?(.+)"?/i);filenameMatch&&2===filenameMatch.length&&(filename=filenameMatch[1])}link.setAttribute("download",filename),document.body.appendChild(link),link.click(),document.body.removeChild(link),window.URL.revokeObjectURL(url),ue$2.success("PDF do comprovante baixado com sucesso!")}catch(error){ue$2.error(error instanceof Error?error.message:"Erro desconhecido ao gerar PDF.")}finally{setIsGeneratingPdf(!1)}}else ue$2.error("Erro: Dados da transação não encontrados.")},disabled:isGeneratingPdf,children:isGeneratingPdf?"Gerando...":"Gerar PDF"}),jsxRuntimeExports.jsx(DialogClose,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"secondary",disabled:isGeneratingPdf,children:"Fechar"})})]})]})})]})}function FinancialSummaryCard({title:title,value:value,description:description,icon:icon,trend:trend}){return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:title}),jsxRuntimeExports.jsx("div",{className:"h-5 w-5 text-muted-foreground",children:icon})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:value}),description&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:description}),trend&&jsxRuntimeExports.jsxs("div",{className:"flex items-center pt-1",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs "+(trend.isPositive?"text-green-500":"text-red-500"),children:[trend.isPositive?"+":"-",trend.value,"%"]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:"em relação ao período anterior"})]})]})]})}var OPEN_KEYS=[" ","Enter","ArrowUp","ArrowDown"],SELECTION_KEYS=[" ","Enter"],[Collection,useCollection,createCollectionScope]=createCollection("Select"),[createSelectContext,createSelectScope]=createContextScope("Select",[createCollectionScope,createPopperScope]),usePopperScope=createPopperScope(),[SelectProvider,useSelectContext]=createSelectContext("Select"),[SelectNativeOptionsProvider,useSelectNativeOptionsContext]=createSelectContext("Select"),Select$1=props=>{const{__scopeSelect:__scopeSelect,children:children,open:openProp,defaultOpen:defaultOpen,onOpenChange:onOpenChange,value:valueProp,defaultValue:defaultValue,onValueChange:onValueChange,dir:dir,name:name,autoComplete:autoComplete,disabled:disabled,required:required,form:form}=props,popperScope=usePopperScope(__scopeSelect),[trigger,setTrigger]=reactExports.useState(null),[valueNode,setValueNode]=reactExports.useState(null),[valueNodeHasChildren,setValueNodeHasChildren]=reactExports.useState(!1),direction=useDirection(dir),[open2,setOpen]=useControllableState({prop:openProp,defaultProp:defaultOpen??!1,onChange:onOpenChange,caller:"Select"}),[value,setValue]=useControllableState({prop:valueProp,defaultProp:defaultValue,onChange:onValueChange,caller:"Select"}),triggerPointerDownPosRef=reactExports.useRef(null),isFormControl=!trigger||(form||!!trigger.closest("form")),[nativeOptionsSet,setNativeOptionsSet]=reactExports.useState(new Set),nativeSelectKey=Array.from(nativeOptionsSet).map(option=>option.props.value).join(";");return jsxRuntimeExports.jsx(Root2$7,{...popperScope,children:jsxRuntimeExports.jsxs(SelectProvider,{required:required,scope:__scopeSelect,trigger:trigger,onTriggerChange:setTrigger,valueNode:valueNode,onValueNodeChange:setValueNode,valueNodeHasChildren:valueNodeHasChildren,onValueNodeHasChildrenChange:setValueNodeHasChildren,contentId:useId$1(),value:value,onValueChange:setValue,open:open2,onOpenChange:setOpen,dir:direction,triggerPointerDownPosRef:triggerPointerDownPosRef,disabled:disabled,children:[jsxRuntimeExports.jsx(Collection.Provider,{scope:__scopeSelect,children:jsxRuntimeExports.jsx(SelectNativeOptionsProvider,{scope:props.__scopeSelect,onNativeOptionAdd:reactExports.useCallback(option=>{setNativeOptionsSet(prev=>new Set(prev).add(option))},[]),onNativeOptionRemove:reactExports.useCallback(option=>{setNativeOptionsSet(prev=>{const optionsSet=new Set(prev);return optionsSet.delete(option),optionsSet})},[]),children:children})}),isFormControl?jsxRuntimeExports.jsxs(SelectBubbleInput,{"aria-hidden":!0,required:required,tabIndex:-1,name:name,autoComplete:autoComplete,value:value,onChange:event=>setValue(event.target.value),disabled:disabled,form:form,children:[void 0===value?jsxRuntimeExports.jsx("option",{value:""}):null,Array.from(nativeOptionsSet)]},nativeSelectKey):null]})})};Select$1.displayName="Select";var SelectTrigger$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,disabled:disabled=!1,...triggerProps}=props,popperScope=usePopperScope(__scopeSelect),context=useSelectContext("SelectTrigger",__scopeSelect),isDisabled=context.disabled||disabled,composedRefs=useComposedRefs(forwardedRef,context.onTriggerChange),getItems=useCollection(__scopeSelect),pointerTypeRef=reactExports.useRef("touch"),[searchRef,handleTypeaheadSearch,resetTypeahead]=useTypeaheadSearch(search=>{const enabledItems=getItems().filter(item=>!item.disabled),currentItem=enabledItems.find(item=>item.value===context.value),nextItem=findNextItem(enabledItems,search,currentItem);void 0!==nextItem&&context.onValueChange(nextItem.value)}),handleOpen=pointerEvent=>{isDisabled||(context.onOpenChange(!0),resetTypeahead()),pointerEvent&&(context.triggerPointerDownPosRef.current={x:Math.round(pointerEvent.pageX),y:Math.round(pointerEvent.pageY)})};return jsxRuntimeExports.jsx(Anchor,{asChild:!0,...popperScope,children:jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"combobox","aria-controls":context.contentId,"aria-expanded":context.open,"aria-required":context.required,"aria-autocomplete":"none",dir:context.dir,"data-state":context.open?"open":"closed",disabled:isDisabled,"data-disabled":isDisabled?"":void 0,"data-placeholder":shouldShowPlaceholder(context.value)?"":void 0,...triggerProps,ref:composedRefs,onClick:composeEventHandlers(triggerProps.onClick,event=>{event.currentTarget.focus(),"mouse"!==pointerTypeRef.current&&handleOpen(event)}),onPointerDown:composeEventHandlers(triggerProps.onPointerDown,event=>{pointerTypeRef.current=event.pointerType;const target=event.target;target.hasPointerCapture(event.pointerId)&&target.releasePointerCapture(event.pointerId),0===event.button&&!1===event.ctrlKey&&"mouse"===event.pointerType&&(handleOpen(event),event.preventDefault())}),onKeyDown:composeEventHandlers(triggerProps.onKeyDown,event=>{const isTypingAhead=""!==searchRef.current;event.ctrlKey||event.altKey||event.metaKey||1!==event.key.length||handleTypeaheadSearch(event.key),isTypingAhead&&" "===event.key||OPEN_KEYS.includes(event.key)&&(handleOpen(),event.preventDefault())})})})});SelectTrigger$1.displayName="SelectTrigger";var SelectValue$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,className:className,style:style,children:children,placeholder:placeholder="",...valueProps}=props,context=useSelectContext("SelectValue",__scopeSelect),{onValueNodeHasChildrenChange:onValueNodeHasChildrenChange}=context,hasChildren=void 0!==children,composedRefs=useComposedRefs(forwardedRef,context.onValueNodeChange);return useLayoutEffect2(()=>{onValueNodeHasChildrenChange(hasChildren)},[onValueNodeHasChildrenChange,hasChildren]),jsxRuntimeExports.jsx(Primitive.span,{...valueProps,ref:composedRefs,style:{pointerEvents:"none"},children:shouldShowPlaceholder(context.value)?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:placeholder}):children})});SelectValue$1.displayName="SelectValue";var SelectIcon=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,children:children,...iconProps}=props;return jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...iconProps,ref:forwardedRef,children:children||"▼"})});SelectIcon.displayName="SelectIcon";var SelectPortal=props=>jsxRuntimeExports.jsx(Portal$2,{asChild:!0,...props});SelectPortal.displayName="SelectPortal";var SelectContent$1=reactExports.forwardRef((props,forwardedRef)=>{const context=useSelectContext("SelectContent",props.__scopeSelect),[fragment,setFragment]=reactExports.useState();if(useLayoutEffect2(()=>{setFragment(new DocumentFragment)},[]),!context.open){const frag=fragment;return frag?reactDomExports.createPortal(jsxRuntimeExports.jsx(SelectContentProvider,{scope:props.__scopeSelect,children:jsxRuntimeExports.jsx(Collection.Slot,{scope:props.__scopeSelect,children:jsxRuntimeExports.jsx("div",{children:props.children})})}),frag):null}return jsxRuntimeExports.jsx(SelectContentImpl,{...props,ref:forwardedRef})});SelectContent$1.displayName="SelectContent";var CONTENT_MARGIN=10,[SelectContentProvider,useSelectContentContext]=createSelectContext("SelectContent"),Slot=createSlot("SelectContent.RemoveScroll"),SelectContentImpl=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,position:position="item-aligned",onCloseAutoFocus:onCloseAutoFocus,onEscapeKeyDown:onEscapeKeyDown,onPointerDownOutside:onPointerDownOutside,side:side,sideOffset:sideOffset,align:align,alignOffset:alignOffset,arrowPadding:arrowPadding,collisionBoundary:collisionBoundary,collisionPadding:collisionPadding,sticky:sticky,hideWhenDetached:hideWhenDetached,avoidCollisions:avoidCollisions,...contentProps}=props,context=useSelectContext("SelectContent",__scopeSelect),[content,setContent]=reactExports.useState(null),[viewport,setViewport]=reactExports.useState(null),composedRefs=useComposedRefs(forwardedRef,node=>setContent(node)),[selectedItem,setSelectedItem]=reactExports.useState(null),[selectedItemText,setSelectedItemText]=reactExports.useState(null),getItems=useCollection(__scopeSelect),[isPositioned,setIsPositioned]=reactExports.useState(!1),firstValidItemFoundRef=reactExports.useRef(!1);reactExports.useEffect(()=>{if(content)return hideOthers(content)},[content]),useFocusGuards();const focusFirst2=reactExports.useCallback(candidates=>{const[firstItem,...restItems]=getItems().map(item=>item.ref.current),[lastItem]=restItems.slice(-1),PREVIOUSLY_FOCUSED_ELEMENT=document.activeElement;for(const candidate of candidates){if(candidate===PREVIOUSLY_FOCUSED_ELEMENT)return;if(null==candidate||candidate.scrollIntoView({block:"nearest"}),candidate===firstItem&&viewport&&(viewport.scrollTop=0),candidate===lastItem&&viewport&&(viewport.scrollTop=viewport.scrollHeight),null==candidate||candidate.focus(),document.activeElement!==PREVIOUSLY_FOCUSED_ELEMENT)return}},[getItems,viewport]),focusSelectedItem=reactExports.useCallback(()=>focusFirst2([selectedItem,content]),[focusFirst2,selectedItem,content]);reactExports.useEffect(()=>{isPositioned&&focusSelectedItem()},[isPositioned,focusSelectedItem]);const{onOpenChange:onOpenChange,triggerPointerDownPosRef:triggerPointerDownPosRef}=context;reactExports.useEffect(()=>{if(content){let pointerMoveDelta={x:0,y:0};const handlePointerMove=event=>{var _a3,_b3;pointerMoveDelta={x:Math.abs(Math.round(event.pageX)-((null==(_a3=triggerPointerDownPosRef.current)?void 0:_a3.x)??0)),y:Math.abs(Math.round(event.pageY)-((null==(_b3=triggerPointerDownPosRef.current)?void 0:_b3.y)??0))}},handlePointerUp=event=>{pointerMoveDelta.x<=10&&pointerMoveDelta.y<=10?event.preventDefault():content.contains(event.target)||onOpenChange(!1),document.removeEventListener("pointermove",handlePointerMove),triggerPointerDownPosRef.current=null};return null!==triggerPointerDownPosRef.current&&(document.addEventListener("pointermove",handlePointerMove),document.addEventListener("pointerup",handlePointerUp,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",handlePointerMove),document.removeEventListener("pointerup",handlePointerUp,{capture:!0})}}},[content,onOpenChange,triggerPointerDownPosRef]),reactExports.useEffect(()=>{const close=()=>onOpenChange(!1);return window.addEventListener("blur",close),window.addEventListener("resize",close),()=>{window.removeEventListener("blur",close),window.removeEventListener("resize",close)}},[onOpenChange]);const[searchRef,handleTypeaheadSearch]=useTypeaheadSearch(search=>{const enabledItems=getItems().filter(item=>!item.disabled),currentItem=enabledItems.find(item=>item.ref.current===document.activeElement),nextItem=findNextItem(enabledItems,search,currentItem);nextItem&&setTimeout(()=>nextItem.ref.current.focus())}),itemRefCallback=reactExports.useCallback((node,value,disabled)=>{const isFirstValidItem=!firstValidItemFoundRef.current&&!disabled;(void 0!==context.value&&context.value===value||isFirstValidItem)&&(setSelectedItem(node),isFirstValidItem&&(firstValidItemFoundRef.current=!0))},[context.value]),handleItemLeave=reactExports.useCallback(()=>null==content?void 0:content.focus(),[content]),itemTextRefCallback=reactExports.useCallback((node,value,disabled)=>{const isFirstValidItem=!firstValidItemFoundRef.current&&!disabled;(void 0!==context.value&&context.value===value||isFirstValidItem)&&setSelectedItemText(node)},[context.value]),SelectPosition="popper"===position?SelectPopperPosition:SelectItemAlignedPosition,popperContentProps=SelectPosition===SelectPopperPosition?{side:side,sideOffset:sideOffset,align:align,alignOffset:alignOffset,arrowPadding:arrowPadding,collisionBoundary:collisionBoundary,collisionPadding:collisionPadding,sticky:sticky,hideWhenDetached:hideWhenDetached,avoidCollisions:avoidCollisions}:{};return jsxRuntimeExports.jsx(SelectContentProvider,{scope:__scopeSelect,content:content,viewport:viewport,onViewportChange:setViewport,itemRefCallback:itemRefCallback,selectedItem:selectedItem,onItemLeave:handleItemLeave,itemTextRefCallback:itemTextRefCallback,focusSelectedItem:focusSelectedItem,selectedItemText:selectedItemText,position:position,isPositioned:isPositioned,searchRef:searchRef,children:jsxRuntimeExports.jsx(ReactRemoveScroll,{as:Slot,allowPinchZoom:!0,children:jsxRuntimeExports.jsx(FocusScope,{asChild:!0,trapped:context.open,onMountAutoFocus:event=>{event.preventDefault()},onUnmountAutoFocus:composeEventHandlers(onCloseAutoFocus,event=>{var _a3;null==(_a3=context.trigger)||_a3.focus({preventScroll:!0}),event.preventDefault()}),children:jsxRuntimeExports.jsx(DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:onEscapeKeyDown,onPointerDownOutside:onPointerDownOutside,onFocusOutside:event=>event.preventDefault(),onDismiss:()=>context.onOpenChange(!1),children:jsxRuntimeExports.jsx(SelectPosition,{role:"listbox",id:context.contentId,"data-state":context.open?"open":"closed",dir:context.dir,onContextMenu:event=>event.preventDefault(),...contentProps,...popperContentProps,onPlaced:()=>setIsPositioned(!0),ref:composedRefs,style:{display:"flex",flexDirection:"column",outline:"none",...contentProps.style},onKeyDown:composeEventHandlers(contentProps.onKeyDown,event=>{const isModifierKey=event.ctrlKey||event.altKey||event.metaKey;if("Tab"===event.key&&event.preventDefault(),isModifierKey||1!==event.key.length||handleTypeaheadSearch(event.key),["ArrowUp","ArrowDown","Home","End"].includes(event.key)){let candidateNodes=getItems().filter(item=>!item.disabled).map(item=>item.ref.current);if(["ArrowUp","End"].includes(event.key)&&(candidateNodes=candidateNodes.slice().reverse()),["ArrowUp","ArrowDown"].includes(event.key)){const currentElement=event.target,currentIndex=candidateNodes.indexOf(currentElement);candidateNodes=candidateNodes.slice(currentIndex+1)}setTimeout(()=>focusFirst2(candidateNodes)),event.preventDefault()}})})})})})})});SelectContentImpl.displayName="SelectContentImpl";var SelectItemAlignedPosition=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,onPlaced:onPlaced,...popperProps}=props,context=useSelectContext("SelectContent",__scopeSelect),contentContext=useSelectContentContext("SelectContent",__scopeSelect),[contentWrapper,setContentWrapper]=reactExports.useState(null),[content,setContent]=reactExports.useState(null),composedRefs=useComposedRefs(forwardedRef,node=>setContent(node)),getItems=useCollection(__scopeSelect),shouldExpandOnScrollRef=reactExports.useRef(!1),shouldRepositionRef=reactExports.useRef(!0),{viewport:viewport,selectedItem:selectedItem,selectedItemText:selectedItemText,focusSelectedItem:focusSelectedItem}=contentContext,position=reactExports.useCallback(()=>{if(context.trigger&&context.valueNode&&contentWrapper&&content&&viewport&&selectedItem&&selectedItemText){const triggerRect=context.trigger.getBoundingClientRect(),contentRect=content.getBoundingClientRect(),valueNodeRect=context.valueNode.getBoundingClientRect(),itemTextRect=selectedItemText.getBoundingClientRect();if("rtl"!==context.dir){const itemTextOffset=itemTextRect.left-contentRect.left,left=valueNodeRect.left-itemTextOffset,leftDelta=triggerRect.left-left,minContentWidth=triggerRect.width+leftDelta,contentWidth=Math.max(minContentWidth,contentRect.width),rightEdge=window.innerWidth-CONTENT_MARGIN,clampedLeft=clamp(left,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,rightEdge-contentWidth)]);contentWrapper.style.minWidth=minContentWidth+"px",contentWrapper.style.left=clampedLeft+"px"}else{const itemTextOffset=contentRect.right-itemTextRect.right,right=window.innerWidth-valueNodeRect.right-itemTextOffset,rightDelta=window.innerWidth-triggerRect.right-right,minContentWidth=triggerRect.width+rightDelta,contentWidth=Math.max(minContentWidth,contentRect.width),leftEdge=window.innerWidth-CONTENT_MARGIN,clampedRight=clamp(right,[CONTENT_MARGIN,Math.max(CONTENT_MARGIN,leftEdge-contentWidth)]);contentWrapper.style.minWidth=minContentWidth+"px",contentWrapper.style.right=clampedRight+"px"}const items=getItems(),availableHeight=window.innerHeight-2*CONTENT_MARGIN,itemsHeight=viewport.scrollHeight,contentStyles=window.getComputedStyle(content),contentBorderTopWidth=parseInt(contentStyles.borderTopWidth,10),contentPaddingTop=parseInt(contentStyles.paddingTop,10),contentBorderBottomWidth=parseInt(contentStyles.borderBottomWidth,10),fullContentHeight=contentBorderTopWidth+contentPaddingTop+itemsHeight+parseInt(contentStyles.paddingBottom,10)+contentBorderBottomWidth,minContentHeight=Math.min(5*selectedItem.offsetHeight,fullContentHeight),viewportStyles=window.getComputedStyle(viewport),viewportPaddingTop=parseInt(viewportStyles.paddingTop,10),viewportPaddingBottom=parseInt(viewportStyles.paddingBottom,10),topEdgeToTriggerMiddle=triggerRect.top+triggerRect.height/2-CONTENT_MARGIN,triggerMiddleToBottomEdge=availableHeight-topEdgeToTriggerMiddle,selectedItemHalfHeight=selectedItem.offsetHeight/2,contentTopToItemMiddle=contentBorderTopWidth+contentPaddingTop+(selectedItem.offsetTop+selectedItemHalfHeight),itemMiddleToContentBottom=fullContentHeight-contentTopToItemMiddle;if(contentTopToItemMiddle<=topEdgeToTriggerMiddle){const isLastItem=items.length>0&&selectedItem===items[items.length-1].ref.current;contentWrapper.style.bottom="0px";const viewportOffsetBottom=content.clientHeight-viewport.offsetTop-viewport.offsetHeight,height=contentTopToItemMiddle+Math.max(triggerMiddleToBottomEdge,selectedItemHalfHeight+(isLastItem?viewportPaddingBottom:0)+viewportOffsetBottom+contentBorderBottomWidth);contentWrapper.style.height=height+"px"}else{const isFirstItem=items.length>0&&selectedItem===items[0].ref.current;contentWrapper.style.top="0px";const height=Math.max(topEdgeToTriggerMiddle,contentBorderTopWidth+viewport.offsetTop+(isFirstItem?viewportPaddingTop:0)+selectedItemHalfHeight)+itemMiddleToContentBottom;contentWrapper.style.height=height+"px",viewport.scrollTop=contentTopToItemMiddle-topEdgeToTriggerMiddle+viewport.offsetTop}contentWrapper.style.margin=`${CONTENT_MARGIN}px 0`,contentWrapper.style.minHeight=minContentHeight+"px",contentWrapper.style.maxHeight=availableHeight+"px",null==onPlaced||onPlaced(),requestAnimationFrame(()=>shouldExpandOnScrollRef.current=!0)}},[getItems,context.trigger,context.valueNode,contentWrapper,content,viewport,selectedItem,selectedItemText,context.dir,onPlaced]);useLayoutEffect2(()=>position(),[position]);const[contentZIndex,setContentZIndex]=reactExports.useState();useLayoutEffect2(()=>{content&&setContentZIndex(window.getComputedStyle(content).zIndex)},[content]);const handleScrollButtonChange=reactExports.useCallback(node=>{node&&!0===shouldRepositionRef.current&&(position(),null==focusSelectedItem||focusSelectedItem(),shouldRepositionRef.current=!1)},[position,focusSelectedItem]);return jsxRuntimeExports.jsx(SelectViewportProvider,{scope:__scopeSelect,contentWrapper:contentWrapper,shouldExpandOnScrollRef:shouldExpandOnScrollRef,onScrollButtonChange:handleScrollButtonChange,children:jsxRuntimeExports.jsx("div",{ref:setContentWrapper,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:contentZIndex},children:jsxRuntimeExports.jsx(Primitive.div,{...popperProps,ref:composedRefs,style:{boxSizing:"border-box",maxHeight:"100%",...popperProps.style}})})})});SelectItemAlignedPosition.displayName="SelectItemAlignedPosition";var SelectPopperPosition=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,align:align="start",collisionPadding:collisionPadding=CONTENT_MARGIN,...popperProps}=props,popperScope=usePopperScope(__scopeSelect);return jsxRuntimeExports.jsx(Content$1,{...popperScope,...popperProps,ref:forwardedRef,align:align,collisionPadding:collisionPadding,style:{boxSizing:"border-box",...popperProps.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SelectPopperPosition.displayName="SelectPopperPosition";var[SelectViewportProvider,useSelectViewportContext]=createSelectContext("SelectContent",{}),SelectViewport=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,nonce:nonce,...viewportProps}=props,contentContext=useSelectContentContext("SelectViewport",__scopeSelect),viewportContext=useSelectViewportContext("SelectViewport",__scopeSelect),composedRefs=useComposedRefs(forwardedRef,contentContext.onViewportChange),prevScrollTopRef=reactExports.useRef(0);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:nonce}),jsxRuntimeExports.jsx(Collection.Slot,{scope:__scopeSelect,children:jsxRuntimeExports.jsx(Primitive.div,{"data-radix-select-viewport":"",role:"presentation",...viewportProps,ref:composedRefs,style:{position:"relative",flex:1,overflow:"hidden auto",...viewportProps.style},onScroll:composeEventHandlers(viewportProps.onScroll,event=>{const viewport=event.currentTarget,{contentWrapper:contentWrapper,shouldExpandOnScrollRef:shouldExpandOnScrollRef}=viewportContext;if((null==shouldExpandOnScrollRef?void 0:shouldExpandOnScrollRef.current)&&contentWrapper){const scrolledBy=Math.abs(prevScrollTopRef.current-viewport.scrollTop);if(scrolledBy>0){const availableHeight=window.innerHeight-2*CONTENT_MARGIN,cssMinHeight=parseFloat(contentWrapper.style.minHeight),cssHeight=parseFloat(contentWrapper.style.height),prevHeight=Math.max(cssMinHeight,cssHeight);if(prevHeight<availableHeight){const nextHeight=prevHeight+scrolledBy,clampedNextHeight=Math.min(availableHeight,nextHeight),heightDiff=nextHeight-clampedNextHeight;contentWrapper.style.height=clampedNextHeight+"px","0px"===contentWrapper.style.bottom&&(viewport.scrollTop=heightDiff>0?heightDiff:0,contentWrapper.style.justifyContent="flex-end")}}}prevScrollTopRef.current=viewport.scrollTop})})})]})});SelectViewport.displayName="SelectViewport";var[SelectGroupContextProvider,useSelectGroupContext]=createSelectContext("SelectGroup");reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,...groupProps}=props,groupId=useId$1();return jsxRuntimeExports.jsx(SelectGroupContextProvider,{scope:__scopeSelect,id:groupId,children:jsxRuntimeExports.jsx(Primitive.div,{role:"group","aria-labelledby":groupId,...groupProps,ref:forwardedRef})})}).displayName="SelectGroup";var SelectLabel$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,...labelProps}=props,groupContext=useSelectGroupContext("SelectLabel",__scopeSelect);return jsxRuntimeExports.jsx(Primitive.div,{id:groupContext.id,...labelProps,ref:forwardedRef})});SelectLabel$1.displayName="SelectLabel";var[SelectItemContextProvider,useSelectItemContext]=createSelectContext("SelectItem"),SelectItem$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,value:value,disabled:disabled=!1,textValue:textValueProp,...itemProps}=props,context=useSelectContext("SelectItem",__scopeSelect),contentContext=useSelectContentContext("SelectItem",__scopeSelect),isSelected=context.value===value,[textValue,setTextValue]=reactExports.useState(textValueProp??""),[isFocused,setIsFocused]=reactExports.useState(!1),composedRefs=useComposedRefs(forwardedRef,node=>{var _a3;return null==(_a3=contentContext.itemRefCallback)?void 0:_a3.call(contentContext,node,value,disabled)}),textId=useId$1(),pointerTypeRef=reactExports.useRef("touch"),handleSelect=()=>{disabled||(context.onValueChange(value),context.onOpenChange(!1))};if(""===value)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return jsxRuntimeExports.jsx(SelectItemContextProvider,{scope:__scopeSelect,value:value,disabled:disabled,textId:textId,isSelected:isSelected,onItemTextChange:reactExports.useCallback(node=>{setTextValue(prevTextValue=>prevTextValue||((null==node?void 0:node.textContent)??"").trim())},[]),children:jsxRuntimeExports.jsx(Collection.ItemSlot,{scope:__scopeSelect,value:value,disabled:disabled,textValue:textValue,children:jsxRuntimeExports.jsx(Primitive.div,{role:"option","aria-labelledby":textId,"data-highlighted":isFocused?"":void 0,"aria-selected":isSelected&&isFocused,"data-state":isSelected?"checked":"unchecked","aria-disabled":disabled||void 0,"data-disabled":disabled?"":void 0,tabIndex:disabled?void 0:-1,...itemProps,ref:composedRefs,onFocus:composeEventHandlers(itemProps.onFocus,()=>setIsFocused(!0)),onBlur:composeEventHandlers(itemProps.onBlur,()=>setIsFocused(!1)),onClick:composeEventHandlers(itemProps.onClick,()=>{"mouse"!==pointerTypeRef.current&&handleSelect()}),onPointerUp:composeEventHandlers(itemProps.onPointerUp,()=>{"mouse"===pointerTypeRef.current&&handleSelect()}),onPointerDown:composeEventHandlers(itemProps.onPointerDown,event=>{pointerTypeRef.current=event.pointerType}),onPointerMove:composeEventHandlers(itemProps.onPointerMove,event=>{var _a3;pointerTypeRef.current=event.pointerType,disabled?null==(_a3=contentContext.onItemLeave)||_a3.call(contentContext):"mouse"===pointerTypeRef.current&&event.currentTarget.focus({preventScroll:!0})}),onPointerLeave:composeEventHandlers(itemProps.onPointerLeave,event=>{var _a3;event.currentTarget===document.activeElement&&(null==(_a3=contentContext.onItemLeave)||_a3.call(contentContext))}),onKeyDown:composeEventHandlers(itemProps.onKeyDown,event=>{var _a3;""!==(null==(_a3=contentContext.searchRef)?void 0:_a3.current)&&" "===event.key||(SELECTION_KEYS.includes(event.key)&&handleSelect()," "===event.key&&event.preventDefault())})})})})});SelectItem$1.displayName="SelectItem";var SelectItemText=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,className:className,style:style,...itemTextProps}=props,context=useSelectContext("SelectItemText",__scopeSelect),contentContext=useSelectContentContext("SelectItemText",__scopeSelect),itemContext=useSelectItemContext("SelectItemText",__scopeSelect),nativeOptionsContext=useSelectNativeOptionsContext("SelectItemText",__scopeSelect),[itemTextNode,setItemTextNode]=reactExports.useState(null),composedRefs=useComposedRefs(forwardedRef,node=>setItemTextNode(node),itemContext.onItemTextChange,node=>{var _a3;return null==(_a3=contentContext.itemTextRefCallback)?void 0:_a3.call(contentContext,node,itemContext.value,itemContext.disabled)}),textContent=null==itemTextNode?void 0:itemTextNode.textContent,nativeOption=reactExports.useMemo(()=>jsxRuntimeExports.jsx("option",{value:itemContext.value,disabled:itemContext.disabled,children:textContent},itemContext.value),[itemContext.disabled,itemContext.value,textContent]),{onNativeOptionAdd:onNativeOptionAdd,onNativeOptionRemove:onNativeOptionRemove}=nativeOptionsContext;return useLayoutEffect2(()=>(onNativeOptionAdd(nativeOption),()=>onNativeOptionRemove(nativeOption)),[onNativeOptionAdd,onNativeOptionRemove,nativeOption]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Primitive.span,{id:itemContext.textId,...itemTextProps,ref:composedRefs}),itemContext.isSelected&&context.valueNode&&!context.valueNodeHasChildren?reactDomExports.createPortal(itemTextProps.children,context.valueNode):null]})});SelectItemText.displayName="SelectItemText";var SelectItemIndicator=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,...itemIndicatorProps}=props;return useSelectItemContext("SelectItemIndicator",__scopeSelect).isSelected?jsxRuntimeExports.jsx(Primitive.span,{"aria-hidden":!0,...itemIndicatorProps,ref:forwardedRef}):null});SelectItemIndicator.displayName="SelectItemIndicator";var SelectScrollUpButton$1=reactExports.forwardRef((props,forwardedRef)=>{const contentContext=useSelectContentContext("SelectScrollUpButton",props.__scopeSelect),viewportContext=useSelectViewportContext("SelectScrollUpButton",props.__scopeSelect),[canScrollUp,setCanScrollUp]=reactExports.useState(!1),composedRefs=useComposedRefs(forwardedRef,viewportContext.onScrollButtonChange);return useLayoutEffect2(()=>{if(contentContext.viewport&&contentContext.isPositioned){let handleScroll2=function(){const canScrollUp2=viewport.scrollTop>0;setCanScrollUp(canScrollUp2)};const viewport=contentContext.viewport;return handleScroll2(),viewport.addEventListener("scroll",handleScroll2),()=>viewport.removeEventListener("scroll",handleScroll2)}},[contentContext.viewport,contentContext.isPositioned]),canScrollUp?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...props,ref:composedRefs,onAutoScroll:()=>{const{viewport:viewport,selectedItem:selectedItem}=contentContext;viewport&&selectedItem&&(viewport.scrollTop=viewport.scrollTop-selectedItem.offsetHeight)}}):null});SelectScrollUpButton$1.displayName="SelectScrollUpButton";var SelectScrollDownButton$1=reactExports.forwardRef((props,forwardedRef)=>{const contentContext=useSelectContentContext("SelectScrollDownButton",props.__scopeSelect),viewportContext=useSelectViewportContext("SelectScrollDownButton",props.__scopeSelect),[canScrollDown,setCanScrollDown]=reactExports.useState(!1),composedRefs=useComposedRefs(forwardedRef,viewportContext.onScrollButtonChange);return useLayoutEffect2(()=>{if(contentContext.viewport&&contentContext.isPositioned){let handleScroll2=function(){const maxScroll=viewport.scrollHeight-viewport.clientHeight,canScrollDown2=Math.ceil(viewport.scrollTop)<maxScroll;setCanScrollDown(canScrollDown2)};const viewport=contentContext.viewport;return handleScroll2(),viewport.addEventListener("scroll",handleScroll2),()=>viewport.removeEventListener("scroll",handleScroll2)}},[contentContext.viewport,contentContext.isPositioned]),canScrollDown?jsxRuntimeExports.jsx(SelectScrollButtonImpl,{...props,ref:composedRefs,onAutoScroll:()=>{const{viewport:viewport,selectedItem:selectedItem}=contentContext;viewport&&selectedItem&&(viewport.scrollTop=viewport.scrollTop+selectedItem.offsetHeight)}}):null});SelectScrollDownButton$1.displayName="SelectScrollDownButton";var SelectScrollButtonImpl=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,onAutoScroll:onAutoScroll,...scrollIndicatorProps}=props,contentContext=useSelectContentContext("SelectScrollButton",__scopeSelect),autoScrollTimerRef=reactExports.useRef(null),getItems=useCollection(__scopeSelect),clearAutoScrollTimer=reactExports.useCallback(()=>{null!==autoScrollTimerRef.current&&(window.clearInterval(autoScrollTimerRef.current),autoScrollTimerRef.current=null)},[]);return reactExports.useEffect(()=>()=>clearAutoScrollTimer(),[clearAutoScrollTimer]),useLayoutEffect2(()=>{var _a3;const activeItem=getItems().find(item=>item.ref.current===document.activeElement);null==(_a3=null==activeItem?void 0:activeItem.ref.current)||_a3.scrollIntoView({block:"nearest"})},[getItems]),jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...scrollIndicatorProps,ref:forwardedRef,style:{flexShrink:0,...scrollIndicatorProps.style},onPointerDown:composeEventHandlers(scrollIndicatorProps.onPointerDown,()=>{null===autoScrollTimerRef.current&&(autoScrollTimerRef.current=window.setInterval(onAutoScroll,50))}),onPointerMove:composeEventHandlers(scrollIndicatorProps.onPointerMove,()=>{var _a3;null==(_a3=contentContext.onItemLeave)||_a3.call(contentContext),null===autoScrollTimerRef.current&&(autoScrollTimerRef.current=window.setInterval(onAutoScroll,50))}),onPointerLeave:composeEventHandlers(scrollIndicatorProps.onPointerLeave,()=>{clearAutoScrollTimer()})})}),SelectSeparator$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,...separatorProps}=props;return jsxRuntimeExports.jsx(Primitive.div,{"aria-hidden":!0,...separatorProps,ref:forwardedRef})});SelectSeparator$1.displayName="SelectSeparator";reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSelect:__scopeSelect,...arrowProps}=props,popperScope=usePopperScope(__scopeSelect),context=useSelectContext("SelectArrow",__scopeSelect),contentContext=useSelectContentContext("SelectArrow",__scopeSelect);return context.open&&"popper"===contentContext.position?jsxRuntimeExports.jsx(Arrow,{...popperScope,...arrowProps,ref:forwardedRef}):null}).displayName="SelectArrow";var SelectBubbleInput=reactExports.forwardRef(({__scopeSelect:__scopeSelect,value:value,...props},forwardedRef)=>{const ref=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,ref),prevValue=usePrevious(value);return reactExports.useEffect(()=>{const select=ref.current;if(!select)return;const selectProto=window.HTMLSelectElement.prototype,setValue=Object.getOwnPropertyDescriptor(selectProto,"value").set;if(prevValue!==value&&setValue){const event=new Event("change",{bubbles:!0});setValue.call(select,value),select.dispatchEvent(event)}},[prevValue,value]),jsxRuntimeExports.jsx(Primitive.select,{...props,style:{...VISUALLY_HIDDEN_STYLES,...props.style},ref:composedRefs,defaultValue:value})});function shouldShowPlaceholder(value){return""===value||void 0===value}function useTypeaheadSearch(onSearchChange){const handleSearchChange=useCallbackRef(onSearchChange),searchRef=reactExports.useRef(""),timerRef=reactExports.useRef(0),handleTypeaheadSearch=reactExports.useCallback(key=>{const search=searchRef.current+key;handleSearchChange(search),function updateSearch(value){searchRef.current=value,window.clearTimeout(timerRef.current),""!==value&&(timerRef.current=window.setTimeout(()=>updateSearch(""),1e3))}(search)},[handleSearchChange]),resetTypeahead=reactExports.useCallback(()=>{searchRef.current="",window.clearTimeout(timerRef.current)},[]);return reactExports.useEffect(()=>()=>window.clearTimeout(timerRef.current),[]),[searchRef,handleTypeaheadSearch,resetTypeahead]}function findNextItem(items,search,currentItem){const normalizedSearch=search.length>1&&Array.from(search).every(char=>char===search[0])?search[0]:search,currentItemIndex=currentItem?items.indexOf(currentItem):-1;let wrappedItems=(array2=items,startIndex=Math.max(currentItemIndex,0),array2.map((_2,index)=>array2[(startIndex+index)%array2.length]));var array2,startIndex;1===normalizedSearch.length&&(wrappedItems=wrappedItems.filter(v2=>v2!==currentItem));const nextItem=wrappedItems.find(item=>item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase()));return nextItem!==currentItem?nextItem:void 0}SelectBubbleInput.displayName="SelectBubbleInput";var Trigger=SelectTrigger$1,Icon=SelectIcon,Portal=SelectPortal,Content2$1=SelectContent$1,Viewport=SelectViewport,Label=SelectLabel$1,Item=SelectItem$1,ItemText=SelectItemText,ItemIndicator=SelectItemIndicator,ScrollUpButton=SelectScrollUpButton$1,ScrollDownButton=SelectScrollDownButton$1,Separator$2=SelectSeparator$1;const Select=Select$1,SelectValue=SelectValue$1,SelectTrigger=reactExports.forwardRef(({className:className,children:children,...props},ref)=>jsxRuntimeExports.jsxs(Trigger,{ref:ref,className:cn("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",className),...props,children:[children,jsxRuntimeExports.jsx(Icon,{asChild:!0,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 opacity-50"})})]}));SelectTrigger.displayName=Trigger.displayName;const SelectScrollUpButton=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(ScrollUpButton,{ref:ref,className:cn("flex cursor-default items-center justify-center py-1",className),...props,children:jsxRuntimeExports.jsx(ChevronUp,{className:"h-4 w-4"})}));SelectScrollUpButton.displayName=ScrollUpButton.displayName;const SelectScrollDownButton=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(ScrollDownButton,{ref:ref,className:cn("flex cursor-default items-center justify-center py-1",className),...props,children:jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4"})}));SelectScrollDownButton.displayName=ScrollDownButton.displayName;const SelectContent=reactExports.forwardRef(({className:className,children:children,position:position="popper",...props},ref)=>jsxRuntimeExports.jsx(Portal,{children:jsxRuntimeExports.jsxs(Content2$1,{ref:ref,className:cn("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===position&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",className),position:position,...props,children:[jsxRuntimeExports.jsx(SelectScrollUpButton,{}),jsxRuntimeExports.jsx(Viewport,{className:cn("p-1","popper"===position&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:children}),jsxRuntimeExports.jsx(SelectScrollDownButton,{})]})}));SelectContent.displayName=Content2$1.displayName;reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Label,{ref:ref,className:cn("py-1.5 pl-8 pr-2 text-sm font-semibold",className),...props})).displayName=Label.displayName;const SelectItem=reactExports.forwardRef(({className:className,children:children,...props},ref)=>jsxRuntimeExports.jsxs(Item,{ref:ref,className:cn("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",className),...props,children:[jsxRuntimeExports.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:jsxRuntimeExports.jsx(ItemIndicator,{children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(ItemText,{children:children})]}));SelectItem.displayName=Item.displayName;reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Separator$2,{ref:ref,className:cn("-mx-1 my-1 h-px bg-muted",className),...props})).displayName=Separator$2.displayName;var[createSwitchContext,createSwitchScope]=createContextScope("Switch"),[SwitchProvider,useSwitchContext]=createSwitchContext("Switch"),Switch$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSwitch:__scopeSwitch,name:name,checked:checkedProp,defaultChecked:defaultChecked,required:required,disabled:disabled,value:value="on",onCheckedChange:onCheckedChange,form:form,...switchProps}=props,[button,setButton]=reactExports.useState(null),composedRefs=useComposedRefs(forwardedRef,node=>setButton(node)),hasConsumerStoppedPropagationRef=reactExports.useRef(!1),isFormControl=!button||(form||!!button.closest("form")),[checked,setChecked]=useControllableState({prop:checkedProp,defaultProp:defaultChecked??!1,onChange:onCheckedChange,caller:"Switch"});return jsxRuntimeExports.jsxs(SwitchProvider,{scope:__scopeSwitch,checked:checked,disabled:disabled,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"switch","aria-checked":checked,"aria-required":required,"data-state":getState$1(checked),"data-disabled":disabled?"":void 0,disabled:disabled,value:value,...switchProps,ref:composedRefs,onClick:composeEventHandlers(props.onClick,event=>{setChecked(prevChecked=>!prevChecked),isFormControl&&(hasConsumerStoppedPropagationRef.current=event.isPropagationStopped(),hasConsumerStoppedPropagationRef.current||event.stopPropagation())})}),isFormControl&&jsxRuntimeExports.jsx(SwitchBubbleInput,{control:button,bubbles:!hasConsumerStoppedPropagationRef.current,name:name,value:value,checked:checked,required:required,disabled:disabled,form:form,style:{transform:"translateX(-100%)"}})]})});Switch$1.displayName="Switch";var SwitchThumb=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeSwitch:__scopeSwitch,...thumbProps}=props,context=useSwitchContext("SwitchThumb",__scopeSwitch);return jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState$1(context.checked),"data-disabled":context.disabled?"":void 0,...thumbProps,ref:forwardedRef})});SwitchThumb.displayName="SwitchThumb";var SwitchBubbleInput=reactExports.forwardRef(({__scopeSwitch:__scopeSwitch,control:control,checked:checked,bubbles:bubbles=!0,...props},forwardedRef)=>{const ref=reactExports.useRef(null),composedRefs=useComposedRefs(ref,forwardedRef),prevChecked=usePrevious(checked),controlSize=useSize(control);return reactExports.useEffect(()=>{const input=ref.current;if(!input)return;const inputProto=window.HTMLInputElement.prototype,setChecked=Object.getOwnPropertyDescriptor(inputProto,"checked").set;if(prevChecked!==checked&&setChecked){const event=new Event("click",{bubbles:bubbles});setChecked.call(input,checked),input.dispatchEvent(event)}},[prevChecked,checked,bubbles]),jsxRuntimeExports.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:checked,...props,tabIndex:-1,ref:composedRefs,style:{...props.style,...controlSize,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function getState$1(checked){return checked?"checked":"unchecked"}SwitchBubbleInput.displayName="SwitchBubbleInput";var Root$1=Switch$1,Thumb=SwitchThumb;const Switch=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Root$1,{className:cn("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",className),...props,ref:ref,children:jsxRuntimeExports.jsx(Thumb,{className:cn("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));function Skeleton$1({className:className,...props}){return jsxRuntimeExports.jsx("div",{className:cn("animate-pulse rounded-md bg-muted",className),...props})}Switch.displayName=Root$1.displayName;const alertVariants=cva("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Alert=reactExports.forwardRef(({className:className,variant:variant,...props},ref)=>jsxRuntimeExports.jsx("div",{ref:ref,role:"alert",className:cn(alertVariants({variant:variant}),className),...props}));Alert.displayName="Alert";reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("h5",{ref:ref,className:cn("mb-1 font-medium leading-none tracking-tight",className),...props})).displayName="AlertTitle";const AlertDescription=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("div",{ref:ref,className:cn("text-sm [&_p]:leading-relaxed",className),...props}));AlertDescription.displayName="AlertDescription";const formatBRL=value=>{if(!value&&0!==value)return"R$ 0,00";const numValue="string"==typeof value?parseFloat(value):value;return isNaN(numValue)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(numValue)};function DepositReport(){const{data:data,isLoading:isLoading,error:error,fetchReport:fetchReport,clearData:clearData}=(()=>{const[data,setData]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null);return{data:data,isLoading:isLoading,error:error,fetchReport:reactExports.useCallback(async filters=>{setIsLoading(!0),setError(null);try{const params=new URLSearchParams;filters.whitelabel&&"TODOS"!==filters.whitelabel&&params.append("whitelabel",filters.whitelabel),params.append("data_inicio",filters.data_inicio),params.append("data_fim",filters.data_fim),filters.ordenacao&&params.append("ordenacao",filters.ordenacao),filters.incluir_detalhes&&params.append("incluir_detalhes",filters.incluir_detalhes);const url=`https://vps80270.cloudpublic.com.br:8081/relatorio/depositos-whitelabel?${params.toString()}`,response=await fetch(url,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors"});if(!response.ok){const errorText=await response.text();throw new Error(`Erro ${response.status}: ${errorText}`)}const result=await response.json();setData(result)}catch(error2){const errorMessage=error2 instanceof Error?error2.message:"Erro ao carregar relatório";setError(errorMessage)}finally{setIsLoading(!1)}},[]),clearData:reactExports.useCallback(()=>{setData(null),setError(null)},[])}})(),[filters,setFilters]=reactExports.useState({whitelabel:"TODOS",data_inicio:new Date(Date.now()-2592e6).toISOString().split("T")[0],data_fim:(new Date).toISOString().split("T")[0],ordenacao:"maior_deposito",incluir_detalhes:"false"});return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),"Relatório de Depósitos por Whitelabel"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"whitelabel",children:"Whitelabel"}),jsxRuntimeExports.jsxs(Select,{value:filters.whitelabel,onValueChange:value=>setFilters(prev=>({...prev,whitelabel:value})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o whitelabel"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"TODOS",children:"Todos"}),jsxRuntimeExports.jsx(SelectItem,{value:"EMX",children:"EMX"}),jsxRuntimeExports.jsx(SelectItem,{value:"TCR",children:"TCR"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"data_inicio",children:"Data Início"}),jsxRuntimeExports.jsx(Input,{id:"data_inicio",type:"date",value:filters.data_inicio,onChange:e3=>setFilters(prev=>({...prev,data_inicio:e3.target.value})),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"data_fim",children:"Data Fim"}),jsxRuntimeExports.jsx(Input,{id:"data_fim",type:"date",value:filters.data_fim,onChange:e3=>setFilters(prev=>({...prev,data_fim:e3.target.value})),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"ordenacao",children:"Ordenação"}),jsxRuntimeExports.jsxs(Select,{value:filters.ordenacao,onValueChange:value=>setFilters(prev=>({...prev,ordenacao:value})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione a ordenação"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"maior_deposito",children:"Maiores Depositadores"}),jsxRuntimeExports.jsx(SelectItem,{value:"menor_deposito",children:"Menores Depositadores"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Switch,{id:"incluir_detalhes",checked:"true"===filters.incluir_detalhes,onCheckedChange:checked=>setFilters(prev=>({...prev,incluir_detalhes:checked?"true":"false"}))}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"incluir_detalhes",children:"Incluir detalhes dos depósitos"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{await fetchReport(filters)},disabled:isLoading||!filters.data_inicio||!filters.data_fim,children:isLoading?"Gerando...":"Gerar Relatório"}),data&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{clearData()},children:"Limpar"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>{if(!(null==data?void 0:data.response.usuarios))return;const escapeCSV=value=>{if(null==value)return"";const str=String(value);return str.includes(",")||str.includes('"')||str.includes("\n")?`"${str.replace(/"/g,'""')}"`:str},csvContent=[["ID Usuário","Nome","Documento","Email","ID Brasil Bitcoin","Whitelabel","Total Depositado","Quantidade Depósitos"].join(","),...data.response.usuarios.map(user=>[escapeCSV(user.id_usuario||""),escapeCSV(user.nome||"Nome não informado"),escapeCSV(user.documento||""),escapeCSV(user.email||""),escapeCSV(user.id_brasil_bitcoin||""),escapeCSV(user.whitelabel||""),escapeCSV(user.total_depositado||0),escapeCSV(user.quantidade_depositos||0)].join(","))].join("\n"),blob=new Blob(["\ufeff"+csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a"),url=URL.createObjectURL(blob);link.setAttribute("href",url);const whitelabelSuffix=filters.whitelabel&&"TODOS"!==filters.whitelabel?`-${filters.whitelabel}`:"";link.setAttribute("download",`relatorio-depositos${whitelabelSuffix}-${filters.data_inicio}-${filters.data_fim}.csv`),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link)},children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]})]})]})]})]}),isLoading&&jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"py-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-full"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-3/4"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-1/2"})]})})}),error&&jsxRuntimeExports.jsx(Alert,{variant:"destructive",children:jsxRuntimeExports.jsx(AlertDescription,{children:error})}),data&&!isLoading&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"h-5 w-5 text-blue-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Total de Usuários"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:data.response.resumo.total_usuarios.toLocaleString("pt-BR")})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-green-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Total Depositado"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:formatBRL(data.response.resumo.total_depositos)})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-orange-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Quantidade Depósitos"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:data.response.resumo.total_quantidade_depositos.toLocaleString("pt-BR")})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-5 w-5 text-purple-500"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"Período"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-bold",children:[new Date(data.response.resumo.periodo.inicio).toLocaleDateString("pt-BR")," a"," ",new Date(data.response.resumo.periodo.fim).toLocaleDateString("pt-BR")]})]})]})})})]}),Object.keys(data.response.resumo.por_whitelabel).length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Resumo por Whitelabel"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(data.response.resumo.por_whitelabel).map(([whitelabel,stats])=>jsxRuntimeExports.jsxs("div",{className:"border rounded-lg p-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-2",children:jsxRuntimeExports.jsx(Badge,{variant:"EMX"===whitelabel?"default":"secondary",children:whitelabel})}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Usuários:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:stats.usuarios})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Total:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:formatBRL(stats.total_depositos)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Depósitos:"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:stats.quantidade_depositos})]})]})]},whitelabel))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:["Usuários (",data.response.usuarios.length,")"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"ID"}),jsxRuntimeExports.jsx(TableHead,{children:"Nome"}),jsxRuntimeExports.jsx(TableHead,{children:"Documento"}),jsxRuntimeExports.jsx(TableHead,{children:"Email"}),jsxRuntimeExports.jsx(TableHead,{children:"ID Brasil Bitcoin"}),jsxRuntimeExports.jsx(TableHead,{children:"Whitelabel"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Total Depositado"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Qtd. Depósitos"})]})}),jsxRuntimeExports.jsx(TableBody,{children:data.response.usuarios.map(user=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:user.id_usuario||"N/A"}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:user.nome||"Nome não informado"}),jsxRuntimeExports.jsx(TableCell,{children:user.documento||"Documento não informado"}),jsxRuntimeExports.jsx(TableCell,{children:user.email||"Email não informado"}),jsxRuntimeExports.jsx(TableCell,{children:user.id_brasil_bitcoin||"Não informado"}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"EMX"===user.whitelabel?"default":"secondary",children:user.whitelabel||"N/A"})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right font-medium",children:formatBRL(user.total_depositado)}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:user.quantidade_depositos||0})]},user.id_usuario))})]})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Informações do Relatório"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Data de Geração:"}),jsxRuntimeExports.jsx("p",{children:new Date(data.response.metadados.data_geracao).toLocaleString("pt-BR")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Ordenação:"}),jsxRuntimeExports.jsx("p",{children:"maior_deposito"===data.response.metadados.ordenacao_aplicada?"Maiores Depositadores":"Menores Depositadores"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Detalhes Incluídos:"}),jsxRuntimeExports.jsx("p",{children:data.response.metadados.detalhes_incluidos?"Sim":"Não"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Registros Brutos:"}),jsxRuntimeExports.jsx("p",{children:data.response.metadados.total_registros_brutos.toLocaleString("pt-BR")})]})]})})]})]})]})}var define_process_env_default={};function _arrayLikeToArray$2(r2,a2){(null==a2||a2>r2.length)&&(a2=r2.length);for(var e3=0,n2=Array(a2);e3<a2;e3++)n2[e3]=r2[e3];return n2}function _unsupportedIterableToArray$2(r2,a2){if(r2){if("string"==typeof r2)return _arrayLikeToArray$2(r2,a2);var t3={}.toString.call(r2).slice(8,-1);return"Object"===t3&&r2.constructor&&(t3=r2.constructor.name),"Map"===t3||"Set"===t3?Array.from(r2):"Arguments"===t3||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t3)?_arrayLikeToArray$2(r2,a2):void 0}}function _slicedToArray$1(r2,e3){return function(r2){if(Array.isArray(r2))return r2}(r2)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r22){o2=!0,n2=r22}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(r2,e3)||_unsupportedIterableToArray$2(r2,e3)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _typeof$3(o2){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o22){return typeof o22}:function(o22){return o22&&"function"==typeof Symbol&&o22.constructor===Symbol&&o22!==Symbol.prototype?"symbol":typeof o22})(o2)}function classNames(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];if(args){for(var classes2=[],i2=0;i2<args.length;i2++){var className=args[i2];if(className){var type=_typeof$3(className);if("string"===type||"number"===type)classes2.push(className);else if("object"===type){var _classes=Array.isArray(className)?className:Object.entries(className).map(function(_ref){var _ref2=_slicedToArray$1(_ref,2),key=_ref2[0];return _ref2[1]?key:null});classes2=_classes.length?classes2.concat(_classes.filter(function(c2){return!!c2})):classes2}}}return classes2.join(" ").trim()}}function _toConsumableArray$1(r2){return function(r2){if(Array.isArray(r2))return _arrayLikeToArray$2(r2)}(r2)||function(r2){if("undefined"!=typeof Symbol&&null!=r2[Symbol.iterator]||null!=r2["@@iterator"])return Array.from(r2)}(r2)||_unsupportedIterableToArray$2(r2)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _classCallCheck$1(a2,n2){if(!(a2 instanceof n2))throw new TypeError("Cannot call a class as a function")}function toPropertyKey$3(t3){var i2=function(t3,r2){if("object"!=_typeof$3(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$3(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(t3,"string");return"symbol"==_typeof$3(i2)?i2:i2+""}function _createClass$1(e3,r2,t3){return t3&&function(e3,r2){for(var t3=0;t3<r2.length;t3++){var o2=r2[t3];o2.enumerable=o2.enumerable||!1,o2.configurable=!0,"value"in o2&&(o2.writable=!0),Object.defineProperty(e3,toPropertyKey$3(o2.key),o2)}}(e3,t3),Object.defineProperty(e3,"prototype",{writable:!1}),e3}function _defineProperty$3(e3,r2,t3){return(r2=toPropertyKey$3(r2))in e3?Object.defineProperty(e3,r2,{value:t3,enumerable:!0,configurable:!0,writable:!0}):e3[r2]=t3,e3}function _createForOfIteratorHelper$1(r2,e3){var t3="undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(!t3){if(Array.isArray(r2)||(t3=function(r2,a2){if(r2){if("string"==typeof r2)return _arrayLikeToArray$1$1(r2,a2);var t3={}.toString.call(r2).slice(8,-1);return"Object"===t3&&r2.constructor&&(t3=r2.constructor.name),"Map"===t3||"Set"===t3?Array.from(r2):"Arguments"===t3||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t3)?_arrayLikeToArray$1$1(r2,a2):void 0}}(r2))||e3){t3&&(r2=t3);var _n=0,F2=function(){};return{s:F2,n:function(){return _n>=r2.length?{done:!0}:{done:!1,value:r2[_n++]}},e:function(r22){throw r22},f:F2}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o2,a2=!0,u2=!1;return{s:function(){t3=t3.call(r2)},n:function(){var r22=t3.next();return a2=r22.done,r22},e:function(r22){u2=!0,o2=r22},f:function(){try{a2||null==t3.return||t3.return()}finally{if(u2)throw o2}}}}function _arrayLikeToArray$1$1(r2,a2){(null==a2||a2>r2.length)&&(a2=r2.length);for(var e3=0,n2=Array(a2);e3<a2;e3++)n2[e3]=r2[e3];return n2}var DomHandler=function(){function DomHandler2(){_classCallCheck$1(this,DomHandler2)}return _createClass$1(DomHandler2,0,[{key:"innerWidth",value:function(el){if(el){var width=el.offsetWidth,style=getComputedStyle(el);return width+=parseFloat(style.paddingLeft)+parseFloat(style.paddingRight)}return 0}},{key:"width",value:function(el){if(el){var _width=el.offsetWidth,style=getComputedStyle(el);return _width-=parseFloat(style.paddingLeft)+parseFloat(style.paddingRight)}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var doc=document.documentElement;return(window.pageYOffset||doc.scrollTop)-(doc.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var doc=document.documentElement;return(window.pageXOffset||doc.scrollLeft)-(doc.clientLeft||0)}},{key:"getOuterWidth",value:function(el,margin){if(el){var width=el.getBoundingClientRect().width||el.offsetWidth;if(margin){var style=getComputedStyle(el);width+=parseFloat(style.marginLeft)+parseFloat(style.marginRight)}return width}return 0}},{key:"getOuterHeight",value:function(el,margin){if(el){var height=el.getBoundingClientRect().height||el.offsetHeight;if(margin){var style=getComputedStyle(el);height+=parseFloat(style.marginTop)+parseFloat(style.marginBottom)}return height}return 0}},{key:"getClientHeight",value:function(el,margin){if(el){var height=el.clientHeight;if(margin){var style=getComputedStyle(el);height+=parseFloat(style.marginTop)+parseFloat(style.marginBottom)}return height}return 0}},{key:"getClientWidth",value:function(el,margin){if(el){var width=el.clientWidth;if(margin){var style=getComputedStyle(el);width+=parseFloat(style.marginLeft)+parseFloat(style.marginRight)}return width}return 0}},{key:"getViewport",value:function(){var win=window,d2=document,e3=d2.documentElement,g2=d2.getElementsByTagName("body")[0];return{width:win.innerWidth||e3.clientWidth||g2.clientWidth,height:win.innerHeight||e3.clientHeight||g2.clientHeight}}},{key:"getOffset",value:function(el){if(el){var rect=el.getBoundingClientRect();return{top:rect.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:rect.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(element){if(element)for(var children=element.parentNode.childNodes,num=0,i2=0;i2<children.length;i2++){if(children[i2]===element)return num;1===children[i2].nodeType&&num++}return-1}},{key:"addMultipleClasses",value:function(element,className){if(element&&className)if(element.classList)for(var styles2=className.split(" "),i2=0;i2<styles2.length;i2++)element.classList.add(styles2[i2]);else for(var _styles=className.split(" "),_i2=0;_i2<_styles.length;_i2++)element.className=element.className+" "+_styles[_i2]}},{key:"removeMultipleClasses",value:function(element,className){if(element&&className)if(element.classList)for(var styles2=className.split(" "),i2=0;i2<styles2.length;i2++)element.classList.remove(styles2[i2]);else for(var _styles2=className.split(" "),_i2=0;_i2<_styles2.length;_i2++)element.className=element.className.replace(new RegExp("(^|\\b)"+_styles2[_i2].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(element,className){element&&className&&(element.classList?element.classList.add(className):element.className=element.className+" "+className)}},{key:"removeClass",value:function(element,className){element&&className&&(element.classList?element.classList.remove(className):element.className=element.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(element,className){return!!element&&(element.classList?element.classList.contains(className):new RegExp("(^| )"+className+"( |$)","gi").test(element.className))}},{key:"addStyles",value:function(element){var styles2=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};element&&Object.entries(styles2).forEach(function(_ref){var _ref2=_slicedToArray$1(_ref,2),key=_ref2[0],value=_ref2[1];return element.style[key]=value})}},{key:"find",value:function(element,selector){return element?Array.from(element.querySelectorAll(selector)):[]}},{key:"findSingle",value:function(element,selector){return element?element.querySelector(selector):null}},{key:"setAttributes",value:function(element){var _this=this,attributes=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(element){var _computedStyles=function(rule,value){var _element$$attrs,_element$$attrs2,styles2=null!=element&&null!==(_element$$attrs=element.$attrs)&&void 0!==_element$$attrs&&_element$$attrs[rule]?[null==element||null===(_element$$attrs2=element.$attrs)||void 0===_element$$attrs2?void 0:_element$$attrs2[rule]]:[];return[value].flat().reduce(function(cv,v2){if(null!=v2){var type=_typeof$3(v2);if("string"===type||"number"===type)cv.push(v2);else if("object"===type){var _cv=Array.isArray(v2)?_computedStyles(rule,v2):Object.entries(v2).map(function(_ref3){var _ref4=_slicedToArray$1(_ref3,2),_k=_ref4[0],_v=_ref4[1];return"style"!==rule||!_v&&0!==_v?_v?_k:void 0:"".concat(_k.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(_v)});cv=_cv.length?cv.concat(_cv.filter(function(c2){return!!c2})):cv}}return cv},styles2)};Object.entries(attributes).forEach(function(_ref5){var _ref6=_slicedToArray$1(_ref5,2),key=_ref6[0],value=_ref6[1];if(null!=value){var matchedEvent=key.match(/^on(.+)/);matchedEvent?element.addEventListener(matchedEvent[1].toLowerCase(),value):"p-bind"===key?_this.setAttributes(element,value):(value="class"===key?_toConsumableArray$1(new Set(_computedStyles("class",value))).join(" ").trim():"style"===key?_computedStyles("style",value).join(";").trim():value,(element.$attrs=element.$attrs||{})&&(element.$attrs[key]=value),element.setAttribute(key,value))}})}}},{key:"getAttribute",value:function(element,name){if(element){var value=element.getAttribute(name);return isNaN(value)?"true"===value||"false"===value?"true"===value:value:+value}}},{key:"isAttributeEquals",value:function(element,name,value){return!!element&&this.getAttribute(element,name)===value}},{key:"isAttributeNotEquals",value:function(element,name,value){return!this.isAttributeEquals(element,name,value)}},{key:"getHeight",value:function(el){if(el){var height=el.offsetHeight,style=getComputedStyle(el);return height-=parseFloat(style.paddingTop)+parseFloat(style.paddingBottom)+parseFloat(style.borderTopWidth)+parseFloat(style.borderBottomWidth)}return 0}},{key:"getWidth",value:function(el){if(el){var width=el.offsetWidth,style=getComputedStyle(el);return width-=parseFloat(style.paddingLeft)+parseFloat(style.paddingRight)+parseFloat(style.borderLeftWidth)+parseFloat(style.borderRightWidth)}return 0}},{key:"alignOverlay",value:function(overlay,target,appendTo){var calculateMinWidth=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];overlay&&target&&("self"===appendTo?this.relativePosition(overlay,target):(calculateMinWidth&&(overlay.style.minWidth=DomHandler2.getOuterWidth(target)+"px"),this.absolutePosition(overlay,target)))}},{key:"absolutePosition",value:function(element,target){var align=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";if(element&&target){var top,left,elementDimensions=element.offsetParent?{width:element.offsetWidth,height:element.offsetHeight}:this.getHiddenElementDimensions(element),elementOuterHeight=elementDimensions.height,elementOuterWidth=elementDimensions.width,targetOuterHeight=target.offsetHeight,targetOuterWidth=target.offsetWidth,targetOffset=target.getBoundingClientRect(),windowScrollTop=this.getWindowScrollTop(),windowScrollLeft=this.getWindowScrollLeft(),viewport=this.getViewport();targetOffset.top+targetOuterHeight+elementOuterHeight>viewport.height?((top=targetOffset.top+windowScrollTop-elementOuterHeight)<0&&(top=windowScrollTop),element.style.transformOrigin="bottom"):(top=targetOuterHeight+targetOffset.top+windowScrollTop,element.style.transformOrigin="top");var targetOffsetPx=targetOffset.left;left="left"===align?targetOffsetPx+elementOuterWidth>viewport.width?Math.max(0,targetOffsetPx+windowScrollLeft+targetOuterWidth-elementOuterWidth):targetOffsetPx+windowScrollLeft:targetOffsetPx+targetOuterWidth-elementOuterWidth<0?windowScrollLeft:targetOffsetPx+targetOuterWidth-elementOuterWidth+windowScrollLeft,element.style.top=top+"px",element.style.left=left+"px"}}},{key:"relativePosition",value:function(element,target){if(element&&target){var top,left,elementDimensions=element.offsetParent?{width:element.offsetWidth,height:element.offsetHeight}:this.getHiddenElementDimensions(element),targetHeight=target.offsetHeight,targetOffset=target.getBoundingClientRect(),viewport=this.getViewport();targetOffset.top+targetHeight+elementDimensions.height>viewport.height?(top=-1*elementDimensions.height,targetOffset.top+top<0&&(top=-1*targetOffset.top),element.style.transformOrigin="bottom"):(top=targetHeight,element.style.transformOrigin="top"),left=elementDimensions.width>viewport.width?-1*targetOffset.left:targetOffset.left+elementDimensions.width>viewport.width?-1*(targetOffset.left+elementDimensions.width-viewport.width):0,element.style.top=top+"px",element.style.left=left+"px"}}},{key:"flipfitCollision",value:function(element,target){var _this2=this,my=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left top",at2=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"left bottom",callback=arguments.length>4?arguments[4]:void 0;if(element&&target){var targetOffset=target.getBoundingClientRect(),viewport=this.getViewport(),myArr=my.split(" "),atArr=at2.split(" "),getPositionValue=function(arr,isOffset){return isOffset?+arr.substring(arr.search(/(\+|-)/g))||0:arr.substring(0,arr.search(/(\+|-)/g))||arr},position={my:{x:getPositionValue(myArr[0]),y:getPositionValue(myArr[1]||myArr[0]),offsetX:getPositionValue(myArr[0],!0),offsetY:getPositionValue(myArr[1]||myArr[0],!0)},at:{x:getPositionValue(atArr[0]),y:getPositionValue(atArr[1]||atArr[0]),offsetX:getPositionValue(atArr[0],!0),offsetY:getPositionValue(atArr[1]||atArr[0],!0)}},myOffset={left:function(){return position.my.offsetX+position.at.offsetX+targetOffset.left+("left"===position.my.x?0:-1*("center"===position.my.x?_this2.getOuterWidth(element)/2:_this2.getOuterWidth(element)))},top:function(){return position.my.offsetY+position.at.offsetY+targetOffset.top+("top"===position.my.y?0:-1*("center"===position.my.y?_this2.getOuterHeight(element)/2:_this2.getOuterHeight(element)))}},alignWithAt={count:{x:0,y:0},left:function(){var left2=myOffset.left(),scrollLeft=DomHandler2.getWindowScrollLeft();element.style.left=left2+scrollLeft+"px",2===this.count.x?(element.style.left=scrollLeft+"px",this.count.x=0):left2<0&&(this.count.x++,position.my.x="left",position.at.x="right",position.my.offsetX*=-1,position.at.offsetX*=-1,this.right())},right:function(){var left=myOffset.left()+DomHandler2.getOuterWidth(target),scrollLeft=DomHandler2.getWindowScrollLeft();element.style.left=left+scrollLeft+"px",2===this.count.x?(element.style.left=viewport.width-DomHandler2.getOuterWidth(element)+scrollLeft+"px",this.count.x=0):left+DomHandler2.getOuterWidth(element)>viewport.width&&(this.count.x++,position.my.x="right",position.at.x="left",position.my.offsetX*=-1,position.at.offsetX*=-1,this.left())},top:function(){var top2=myOffset.top(),scrollTop=DomHandler2.getWindowScrollTop();element.style.top=top2+scrollTop+"px",2===this.count.y?(element.style.left=scrollTop+"px",this.count.y=0):top2<0&&(this.count.y++,position.my.y="top",position.at.y="bottom",position.my.offsetY*=-1,position.at.offsetY*=-1,this.bottom())},bottom:function(){var top=myOffset.top()+DomHandler2.getOuterHeight(target),scrollTop=DomHandler2.getWindowScrollTop();element.style.top=top+scrollTop+"px",2===this.count.y?(element.style.left=viewport.height-DomHandler2.getOuterHeight(element)+scrollTop+"px",this.count.y=0):top+DomHandler2.getOuterHeight(target)>viewport.height&&(this.count.y++,position.my.y="bottom",position.at.y="top",position.my.offsetY*=-1,position.at.offsetY*=-1,this.top())},center:function(axis){if("y"===axis){var top=myOffset.top()+DomHandler2.getOuterHeight(target)/2;element.style.top=top+DomHandler2.getWindowScrollTop()+"px",top<0?this.bottom():top+DomHandler2.getOuterHeight(target)>viewport.height&&this.top()}else{var left=myOffset.left()+DomHandler2.getOuterWidth(target)/2;element.style.left=left+DomHandler2.getWindowScrollLeft()+"px",left<0?this.left():left+DomHandler2.getOuterWidth(element)>viewport.width&&this.right()}}};alignWithAt[position.at.x]("x"),alignWithAt[position.at.y]("y"),this.isFunction(callback)&&callback(position)}}},{key:"findCollisionPosition",value:function(position){if(position){var myXPosition="left"===position?"right":"left";return"top"===position||"bottom"===position?{axis:"y",my:"center ".concat("top"===position?"bottom":"top"),at:"center ".concat(position)}:{axis:"x",my:"".concat(myXPosition," center"),at:"".concat(position," center")}}}},{key:"getParents",value:function(element){var parents=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null===element.parentNode?parents:this.getParents(element.parentNode,parents.concat([element.parentNode]))}},{key:"getScrollableParents",value:function(element){var _this3=this,scrollableParents=[];if(element){var _step,parents=this.getParents(element),overflowRegex=/(auto|scroll)/,overflowCheck=function(node){var styleDeclaration=node?getComputedStyle(node):null;return styleDeclaration&&(overflowRegex.test(styleDeclaration.getPropertyValue("overflow"))||overflowRegex.test(styleDeclaration.getPropertyValue("overflow-x"))||overflowRegex.test(styleDeclaration.getPropertyValue("overflow-y")))},addScrollableParent=function(node){scrollableParents.push("BODY"===node.nodeName||"HTML"===node.nodeName||_this3.isDocument(node)?window:node)},_iterator=_createForOfIteratorHelper$1(parents);try{for(_iterator.s();!(_step=_iterator.n()).done;){var _parent$dataset,parent=_step.value,scrollSelectors=1===parent.nodeType&&(null===(_parent$dataset=parent.dataset)||void 0===_parent$dataset?void 0:_parent$dataset.scrollselectors);if(scrollSelectors){var _step2,_iterator2=_createForOfIteratorHelper$1(scrollSelectors.split(","));try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var selector=_step2.value,el=this.findSingle(parent,selector);el&&overflowCheck(el)&&addScrollableParent(el)}}catch(err2){_iterator2.e(err2)}finally{_iterator2.f()}}1===parent.nodeType&&overflowCheck(parent)&&addScrollableParent(parent)}}catch(err2){_iterator.e(err2)}finally{_iterator.f()}}return scrollableParents}},{key:"getHiddenElementOuterHeight",value:function(element){if(element){element.style.visibility="hidden",element.style.display="block";var elementHeight=element.offsetHeight;return element.style.display="none",element.style.visibility="visible",elementHeight}return 0}},{key:"getHiddenElementOuterWidth",value:function(element){if(element){element.style.visibility="hidden",element.style.display="block";var elementWidth=element.offsetWidth;return element.style.display="none",element.style.visibility="visible",elementWidth}return 0}},{key:"getHiddenElementDimensions",value:function(element){var dimensions={};return element&&(element.style.visibility="hidden",element.style.display="block",dimensions.width=element.offsetWidth,dimensions.height=element.offsetHeight,element.style.display="none",element.style.visibility="visible"),dimensions}},{key:"fadeIn",value:function(element,duration){if(element){element.style.opacity=0;var last2=+new Date,opacity=0,_tick=function(){opacity=+element.style.opacity+((new Date).getTime()-last2)/duration,element.style.opacity=opacity,last2=+new Date,+opacity<1&&(window.requestAnimationFrame&&requestAnimationFrame(_tick)||setTimeout(_tick,16))};_tick()}}},{key:"fadeOut",value:function(element,duration){if(element)var opacity=1,gap=50/duration,fading=setInterval(function(){(opacity-=gap)<=0&&(opacity=0,clearInterval(fading)),element.style.opacity=opacity},50)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(obj){return!!(obj&&obj.constructor&&obj.call&&obj.apply)}},{key:"appendChild",value:function(element,target){if(this.isElement(target))target.appendChild(element);else{if(!target.el||!target.el.nativeElement)throw new Error("Cannot append "+target+" to "+element);target.el.nativeElement.appendChild(element)}}},{key:"removeChild",value:function(element,target){if(this.isElement(target))target.removeChild(element);else{if(!target.el||!target.el.nativeElement)throw new Error("Cannot remove "+element+" from "+target);target.el.nativeElement.removeChild(element)}}},{key:"isElement",value:function(obj){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof$3(HTMLElement))?obj instanceof HTMLElement:obj&&"object"===_typeof$3(obj)&&null!==obj&&1===obj.nodeType&&"string"==typeof obj.nodeName}},{key:"isDocument",value:function(obj){return"object"===("undefined"==typeof Document?"undefined":_typeof$3(Document))?obj instanceof Document:obj&&"object"===_typeof$3(obj)&&null!==obj&&9===obj.nodeType}},{key:"scrollInView",value:function(container,item){var borderTopValue=getComputedStyle(container).getPropertyValue("border-top-width"),borderTop=borderTopValue?parseFloat(borderTopValue):0,paddingTopValue=getComputedStyle(container).getPropertyValue("padding-top"),paddingTop=paddingTopValue?parseFloat(paddingTopValue):0,containerRect=container.getBoundingClientRect(),offset=item.getBoundingClientRect().top+document.body.scrollTop-(containerRect.top+document.body.scrollTop)-borderTop-paddingTop,scroll=container.scrollTop,elementHeight=container.clientHeight,itemHeight=this.getOuterHeight(item);offset<0?container.scrollTop=scroll+offset:offset+itemHeight>elementHeight&&(container.scrollTop=scroll+offset-elementHeight+itemHeight)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(error){}}},{key:"calculateScrollbarWidth",value:function(el){if(el){var style=getComputedStyle(el);return el.offsetWidth-el.clientWidth-parseFloat(style.borderLeftWidth)-parseFloat(style.borderRightWidth)}if(null!=this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;var scrollDiv=document.createElement("div");scrollDiv.className="p-scrollbar-measure",document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;return document.body.removeChild(scrollDiv),this.calculatedScrollbarWidth=scrollbarWidth,scrollbarWidth}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var matched=this.resolveUserAgent();this.browser={},matched.browser&&(this.browser[matched.browser]=!0,this.browser.version=matched.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var ua=navigator.userAgent.toLowerCase(),match2=/(chrome)[ ]([\w.]+)/.exec(ua)||/(webkit)[ ]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match2[1]||"",version:match2[2]||"0"}}},{key:"blockBodyScroll",value:function(){var className=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"p-overflow-hidden";!!!document.body.style.getPropertyValue("--scrollbar-width")&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,className)}},{key:"unblockBodyScroll",value:function(){var className=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,className)}},{key:"isVisible",value:function(element){return element&&(0!==element.clientHeight||0!==element.getClientRects().length||"none"!==getComputedStyle(element).display)}},{key:"isExist",value:function(element){return!(null==element||!element.nodeName||!element.parentNode)}},{key:"getFocusableElements",value:function(element){var _step3,selector=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",visibleFocusableElements=[],_iterator3=_createForOfIteratorHelper$1(DomHandler2.find(element,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(selector,',\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(selector,',\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(selector,',\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(selector,',\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(selector,',\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(selector,',\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])').concat(selector)));try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var focusableElement=_step3.value;"none"!==getComputedStyle(focusableElement).display&&"hidden"!==getComputedStyle(focusableElement).visibility&&visibleFocusableElements.push(focusableElement)}}catch(err2){_iterator3.e(err2)}finally{_iterator3.f()}return visibleFocusableElements}},{key:"getFirstFocusableElement",value:function(element,selector){var focusableElements=DomHandler2.getFocusableElements(element,selector);return focusableElements.length>0?focusableElements[0]:null}},{key:"getLastFocusableElement",value:function(element,selector){var focusableElements=DomHandler2.getFocusableElements(element,selector);return focusableElements.length>0?focusableElements[focusableElements.length-1]:null}},{key:"focus",value:function(el,scrollTo){var preventScroll=void 0===scrollTo||!scrollTo;el&&document.activeElement!==el&&el.focus({preventScroll:preventScroll})}},{key:"focusFirstElement",value:function(el,scrollTo){if(el){var firstFocusableElement=DomHandler2.getFirstFocusableElement(el);return firstFocusableElement&&DomHandler2.focus(firstFocusableElement,scrollTo),firstFocusableElement}}},{key:"getCursorOffset",value:function(el,prevText,nextText,currentText){if(el){var style=getComputedStyle(el),ghostDiv=document.createElement("div");ghostDiv.style.position="absolute",ghostDiv.style.top="0px",ghostDiv.style.left="0px",ghostDiv.style.visibility="hidden",ghostDiv.style.pointerEvents="none",ghostDiv.style.overflow=style.overflow,ghostDiv.style.width=style.width,ghostDiv.style.height=style.height,ghostDiv.style.padding=style.padding,ghostDiv.style.border=style.border,ghostDiv.style.overflowWrap=style.overflowWrap,ghostDiv.style.whiteSpace=style.whiteSpace,ghostDiv.style.lineHeight=style.lineHeight,ghostDiv.innerHTML=prevText.replace(/\r\n|\r|\n/g,"<br />");var ghostSpan=document.createElement("span");ghostSpan.textContent=currentText,ghostDiv.appendChild(ghostSpan);var text2=document.createTextNode(nextText);ghostDiv.appendChild(text2),document.body.appendChild(ghostDiv);var offsetLeft=ghostSpan.offsetLeft,offsetTop=ghostSpan.offsetTop,clientHeight=ghostSpan.clientHeight;return document.body.removeChild(ghostDiv),{left:Math.abs(offsetLeft-el.scrollLeft),top:Math.abs(offsetTop-el.scrollTop)+clientHeight}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(element,methodName,args){element[methodName].apply(element,args)}},{key:"isClickable",value:function(element){var targetNode=element.nodeName,parentNode=element.parentElement&&element.parentElement.nodeName;return"INPUT"===targetNode||"TEXTAREA"===targetNode||"BUTTON"===targetNode||"A"===targetNode||"INPUT"===parentNode||"TEXTAREA"===parentNode||"BUTTON"===parentNode||"A"===parentNode||this.hasClass(element,"p-button")||this.hasClass(element.parentElement,"p-button")||this.hasClass(element.parentElement,"p-checkbox")||this.hasClass(element.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(element,style){if("string"==typeof style)element.style.cssText=style;else for(var prop in style)element.style[prop]=style[prop]}},{key:"exportCSV",value:function(csv,filename){var blob=new Blob([csv],{type:"application/csv;charset=utf-8;"});window.navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(blob,filename+".csv"):DomHandler2.saveAs({name:filename+".csv",src:URL.createObjectURL(blob)})||(csv="data:text/csv;charset=utf-8,"+csv,window.open(encodeURI(csv)))}},{key:"saveAs",value:function(file){if(file){var link=document.createElement("a");if(void 0!==link.download){var name=file.name,src=file.src;return link.setAttribute("href",src),link.setAttribute("download",name),link.style.display="none",document.body.appendChild(link),link.click(),document.body.removeChild(link),!0}}return!1}},{key:"createInlineStyle",value:function(nonce,styleContainer){var styleElement=document.createElement("style");return DomHandler2.addNonce(styleElement,nonce),styleContainer||(styleContainer=document.head),styleContainer.appendChild(styleElement),styleElement}},{key:"removeInlineStyle",value:function(styleElement){if(this.isExist(styleElement)){try{styleElement.parentNode.removeChild(styleElement)}catch(error){}styleElement=null}return styleElement}},{key:"addNonce",value:function(styleElement,nonce){try{nonce||(nonce=define_process_env_default.REACT_APP_CSS_NONCE)}catch(error){}nonce&&styleElement.setAttribute("nonce",nonce)}},{key:"getTargetElement",value:function(target){if(!target)return null;if("document"===target)return document;if("window"===target)return window;if("object"===_typeof$3(target)&&target.hasOwnProperty("current"))return this.isExist(target.current)?target.current:null;var obj,element=(obj=target)&&obj.constructor&&obj.call&&obj.apply?target():target;return this.isDocument(element)||this.isExist(element)?element:null}},{key:"getAttributeNames",value:function(node){var index,rv,attrs;for(rv=[],attrs=node.attributes,index=0;index<attrs.length;++index)rv.push(attrs[index].nodeName);return rv.sort(),rv}},{key:"isEqualElement",value:function(elm1,elm2){var attrs1,attrs2,name,node1,node2;if(attrs1=DomHandler2.getAttributeNames(elm1),attrs2=DomHandler2.getAttributeNames(elm2),attrs1.join(",")!==attrs2.join(","))return!1;for(var index=0;index<attrs1.length;++index)if("style"===(name=attrs1[index]))for(var astyle=elm1.style,bstyle=elm2.style,rexDigitsOnly=/^\d+$/,_i3=0,_Object$keys=Object.keys(astyle);_i3<_Object$keys.length;_i3++){var key=_Object$keys[_i3];if(!rexDigitsOnly.test(key)&&astyle[key]!==bstyle[key])return!1}else if(elm1.getAttribute(name)!==elm2.getAttribute(name))return!1;for(node1=elm1.firstChild,node2=elm2.firstChild;node1&&node2;node1=node1.nextSibling,node2=node2.nextSibling){if(node1.nodeType!==node2.nodeType)return!1;if(1===node1.nodeType){if(!DomHandler2.isEqualElement(node1,node2))return!1}else if(node1.nodeValue!==node2.nodeValue)return!1}return!node1&&!node2}},{key:"hasCSSAnimation",value:function(element){if(element){var style=getComputedStyle(element);return parseFloat(style.getPropertyValue("animation-duration")||"0")>0}return!1}},{key:"hasCSSTransition",value:function(element){if(element){var style=getComputedStyle(element);return parseFloat(style.getPropertyValue("transition-duration")||"0")>0}return!1}}])}();function _createForOfIteratorHelper(r2,e3){var t3="undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(!t3){if(Array.isArray(r2)||(t3=function(r2,a2){if(r2){if("string"==typeof r2)return _arrayLikeToArray$3(r2,a2);var t3={}.toString.call(r2).slice(8,-1);return"Object"===t3&&r2.constructor&&(t3=r2.constructor.name),"Map"===t3||"Set"===t3?Array.from(r2):"Arguments"===t3||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t3)?_arrayLikeToArray$3(r2,a2):void 0}}(r2))||e3){t3&&(r2=t3);var _n=0,F2=function(){};return{s:F2,n:function(){return _n>=r2.length?{done:!0}:{done:!1,value:r2[_n++]}},e:function(r22){throw r22},f:F2}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o2,a2=!0,u2=!1;return{s:function(){t3=t3.call(r2)},n:function(){var r22=t3.next();return a2=r22.done,r22},e:function(r22){u2=!0,o2=r22},f:function(){try{a2||null==t3.return||t3.return()}finally{if(u2)throw o2}}}}function _arrayLikeToArray$3(r2,a2){(null==a2||a2>r2.length)&&(a2=r2.length);for(var e3=0,n2=Array(a2);e3<a2;e3++)n2[e3]=r2[e3];return n2}_defineProperty$3(DomHandler,"DATA_PROPS",["data-"]),_defineProperty$3(DomHandler,"ARIA_PROPS",["aria","focus-target"]);var ObjectUtils=function(){function ObjectUtils2(){_classCallCheck$1(this,ObjectUtils2)}return _createClass$1(ObjectUtils2,0,[{key:"equals",value:function(obj1,obj2,field){return field&&obj1&&"object"===_typeof$3(obj1)&&obj2&&"object"===_typeof$3(obj2)?this.deepEquals(this.resolveFieldData(obj1,field),this.resolveFieldData(obj2,field)):this.deepEquals(obj1,obj2)}},{key:"deepEquals",value:function(a2,b2){if(a2===b2)return!0;if(a2&&b2&&"object"===_typeof$3(a2)&&"object"===_typeof$3(b2)){var i2,length,key,arrA=Array.isArray(a2),arrB=Array.isArray(b2);if(arrA&&arrB){if((length=a2.length)!==b2.length)return!1;for(i2=length;0!==i2--;)if(!this.deepEquals(a2[i2],b2[i2]))return!1;return!0}if(arrA!==arrB)return!1;var dateA=a2 instanceof Date,dateB=b2 instanceof Date;if(dateA!==dateB)return!1;if(dateA&&dateB)return a2.getTime()===b2.getTime();var regexpA=a2 instanceof RegExp,regexpB=b2 instanceof RegExp;if(regexpA!==regexpB)return!1;if(regexpA&&regexpB)return a2.toString()===b2.toString();var keys2=Object.keys(a2);if((length=keys2.length)!==Object.keys(b2).length)return!1;for(i2=length;0!==i2--;)if(!Object.prototype.hasOwnProperty.call(b2,keys2[i2]))return!1;for(i2=length;0!==i2--;)if(key=keys2[i2],!this.deepEquals(a2[key],b2[key]))return!1;return!0}return a2!=a2&&b2!=b2}},{key:"resolveFieldData",value:function(data,field){if(!data||!field)return null;try{var value=data[field];if(this.isNotEmpty(value))return value}catch(_unused){}if(Object.keys(data).length){if(this.isFunction(field))return field(data);if(this.isNotEmpty(data[field]))return data[field];if(-1===field.indexOf("."))return data[field];for(var fields=field.split("."),_value=data,i2=0,len=fields.length;i2<len;++i2){if(null==_value)return null;_value=_value[fields[i2]]}return _value}return null}},{key:"findDiffKeys",value:function(obj1,obj2){return obj1&&obj2?Object.keys(obj1).filter(function(key){return!obj2.hasOwnProperty(key)}).reduce(function(result,current){return result[current]=obj1[current],result},{}):{}}},{key:"reduceKeys",value:function(obj,startsWiths){var result={};return obj&&startsWiths&&0!==startsWiths.length?(Object.keys(obj).filter(function(key){return startsWiths.some(function(value){return key.startsWith(value)})}).forEach(function(key){result[key]=obj[key],delete obj[key]}),result):result}},{key:"reorderArray",value:function(value,from,to){value&&from!==to&&(to>=value.length&&(to%=value.length,from%=value.length),value.splice(to,0,value.splice(from,1)[0]))}},{key:"findIndexInList",value:function(value,list,dataKey){var _this=this;return list?dataKey?list.findIndex(function(item){return _this.equals(item,value,dataKey)}):list.findIndex(function(item){return item===value}):-1}},{key:"getJSXElement",value:function(obj){for(var _len=arguments.length,params=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)params[_key-1]=arguments[_key];return this.isFunction(obj)?obj.apply(void 0,params):obj}},{key:"getItemValue",value:function(obj){for(var _len2=arguments.length,params=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++)params[_key2-1]=arguments[_key2];return this.isFunction(obj)?obj.apply(void 0,params):obj}},{key:"getProp",value:function(props){var prop=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",defaultProps2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},value=props?props[prop]:void 0;return void 0===value?defaultProps2[prop]:value}},{key:"getPropCaseInsensitive",value:function(props,prop){var defaultProps2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fkey=this.toFlatCase(prop);for(var key in props)if(props.hasOwnProperty(key)&&this.toFlatCase(key)===fkey)return props[key];for(var _key3 in defaultProps2)if(defaultProps2.hasOwnProperty(_key3)&&this.toFlatCase(_key3)===fkey)return defaultProps2[_key3]}},{key:"getMergedProps",value:function(props,defaultProps2){return Object.assign({},defaultProps2,props)}},{key:"getDiffProps",value:function(props,defaultProps2){return this.findDiffKeys(props,defaultProps2)}},{key:"getPropValue",value:function(obj){if(!this.isFunction(obj))return obj;for(var _len3=arguments.length,params=new Array(_len3>1?_len3-1:0),_key4=1;_key4<_len3;_key4++)params[_key4-1]=arguments[_key4];if(1===params.length){var param=params[0];return obj(Array.isArray(param)?param[0]:param)}return obj.apply(void 0,params)}},{key:"getComponentProp",value:function(component){var prop=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",defaultProps2=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.isNotEmpty(component)?this.getProp(component.props,prop,defaultProps2):void 0}},{key:"getComponentProps",value:function(component,defaultProps2){return this.isNotEmpty(component)?this.getMergedProps(component.props,defaultProps2):void 0}},{key:"getComponentDiffProps",value:function(component,defaultProps2){return this.isNotEmpty(component)?this.getDiffProps(component.props,defaultProps2):void 0}},{key:"isValidChild",value:function(child,type,validTypes){if(child){var _child$type,childType=this.getComponentProp(child,"__TYPE")||(child.type?child.type.displayName:void 0);!childType&&null!=child&&null!==(_child$type=child.type)&&void 0!==_child$type&&null!==(_child$type=_child$type._payload)&&void 0!==_child$type&&_child$type.value&&(childType=child.type._payload.value.find(function(v2){return v2===type}));var isValid2=childType===type;try{0}catch(error){}return isValid2}return!1}},{key:"getRefElement",value:function(ref){return ref?"object"===_typeof$3(ref)&&ref.hasOwnProperty("current")?ref.current:ref:null}},{key:"combinedRefs",value:function(innerRef,forwardRef){innerRef&&forwardRef&&("function"==typeof forwardRef?forwardRef(innerRef.current):forwardRef.current=innerRef.current)}},{key:"removeAccents",value:function(str){return str&&str.search(/[\xC0-\xFF]/g)>-1&&(str=str.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),str}},{key:"toFlatCase",value:function(str){return this.isNotEmpty(str)&&this.isString(str)?str.replace(/(-|_)/g,"").toLowerCase():str}},{key:"toCapitalCase",value:function(str){return this.isNotEmpty(str)&&this.isString(str)?str[0].toUpperCase()+str.slice(1):str}},{key:"trim",value:function(value){return this.isNotEmpty(value)&&this.isString(value)?value.trim():value}},{key:"isEmpty",value:function(value){return null==value||""===value||Array.isArray(value)&&0===value.length||!(value instanceof Date)&&"object"===_typeof$3(value)&&0===Object.keys(value).length}},{key:"isNotEmpty",value:function(value){return!this.isEmpty(value)}},{key:"isFunction",value:function(value){return!!(value&&value.constructor&&value.call&&value.apply)}},{key:"isObject",value:function(value){return null!==value&&value instanceof Object&&value.constructor===Object}},{key:"isDate",value:function(value){return null!==value&&value instanceof Date&&value.constructor===Date}},{key:"isArray",value:function(value){return null!==value&&Array.isArray(value)}},{key:"isString",value:function(value){return null!==value&&"string"==typeof value}},{key:"isPrintableCharacter",value:function(){var _char=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.isNotEmpty(_char)&&1===_char.length&&_char.match(/\S| /)}},{key:"isLetter",value:function(_char2){return/^[a-zA-Z\u00C0-\u017F]$/.test(_char2)}},{key:"isScalar",value:function(value){return null!=value&&("string"==typeof value||"number"==typeof value||"bigint"==typeof value||"boolean"==typeof value)}},{key:"findLast",value:function(arr,callback){var item;if(this.isNotEmpty(arr))try{item=arr.findLast(callback)}catch(_unused2){item=_toConsumableArray$1(arr).reverse().find(callback)}return item}},{key:"findLastIndex",value:function(arr,callback){var index=-1;if(this.isNotEmpty(arr))try{index=arr.findLastIndex(callback)}catch(_unused3){index=arr.lastIndexOf(_toConsumableArray$1(arr).reverse().find(callback))}return index}},{key:"sort",value:function(value1,value2){var order=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,comparator=arguments.length>3?arguments[3]:void 0,nullSortOrder=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,result=this.compare(value1,value2,comparator,order),finalSortOrder=order;return(this.isEmpty(value1)||this.isEmpty(value2))&&(finalSortOrder=1===nullSortOrder?order:nullSortOrder),finalSortOrder*result}},{key:"compare",value:function(value1,value2,comparator){var order=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,emptyValue1=this.isEmpty(value1),emptyValue2=this.isEmpty(value2);return emptyValue1&&emptyValue2?0:emptyValue1?order:emptyValue2?-order:"string"==typeof value1&&"string"==typeof value2?comparator(value1,value2):value1<value2?-1:value1>value2?1:0}},{key:"localeComparator",value:function(locale2){return new Intl.Collator(locale2,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(data,key){var _step,_iterator=_createForOfIteratorHelper(data);try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;if(item.key===key)return item.children||[];if(item.children){var result=this.findChildrenByKey(item.children,key);if(result.length>0)return result}}}catch(err2){_iterator.e(err2)}finally{_iterator.f()}return[]}},{key:"mutateFieldData",value:function(data,field,value){if("object"===_typeof$3(data)&&"string"==typeof field)for(var fields=field.split("."),obj=data,i2=0,len=fields.length;i2<len;++i2){if(i2+1-len===0){obj[fields[i2]]=value;break}obj[fields[i2]]||(obj[fields[i2]]={}),obj=obj[fields[i2]]}}},{key:"getNestedValue",value:function(obj,path){return path.split(".").reduce(function(acc,part){return acc&&void 0!==acc[part]?acc[part]:void 0},obj)}},{key:"absoluteCompare",value:function(objA,objB){var maxDepth=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,currentDepth=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!objA||!objB)return!0;if(currentDepth>maxDepth)return!0;if(_typeof$3(objA)!==_typeof$3(objB))return!1;var aKeys=Object.keys(objA),bKeys=Object.keys(objB);if(aKeys.length!==bKeys.length)return!1;for(var _i2=0,_aKeys=aKeys;_i2<_aKeys.length;_i2++){var key=_aKeys[_i2],aValue=objA[key],bValue=objB[key],isObject2=ObjectUtils2.isObject(aValue)&&ObjectUtils2.isObject(bValue),isFunction2=ObjectUtils2.isFunction(aValue)&&ObjectUtils2.isFunction(bValue);if((isObject2||isFunction2)&&!this.absoluteCompare(aValue,bValue,maxDepth,currentDepth+1))return!1;if(!isObject2&&aValue!==bValue)return!1}return!0}},{key:"selectiveCompare",value:function(a2,b2,keysToCompare){var maxDepth=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(a2===b2)return!0;if(!a2||!b2||"object"!==_typeof$3(a2)||"object"!==_typeof$3(b2))return!1;if(!keysToCompare)return this.absoluteCompare(a2,b2,1);var _step2,_iterator2=_createForOfIteratorHelper(keysToCompare);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var key=_step2.value,aValue=this.getNestedValue(a2,key),bValue=this.getNestedValue(b2,key),isObject2="object"===_typeof$3(aValue)&&null!==aValue&&"object"===_typeof$3(bValue)&&null!==bValue;if(isObject2&&!this.absoluteCompare(aValue,bValue,maxDepth))return!1;if(!isObject2&&aValue!==bValue)return!1}}catch(err2){_iterator2.e(err2)}finally{_iterator2.f()}return!0}}])}();function ownKeys$2(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r22){return Object.getOwnPropertyDescriptor(e3,r22).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$2(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$2(Object(t3),!0).forEach(function(r22){_defineProperty$3(e3,r22,t3[r22])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$2(Object(t3)).forEach(function(r22){Object.defineProperty(e3,r22,Object.getOwnPropertyDescriptor(t3,r22))})}return e3}function mergeProps(props){if(props){var isFunction2=function(obj){return"function"==typeof obj},classNameMergeFunction=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).classNameMergeFunction,hasMergeFunction=isFunction2(classNameMergeFunction);return props.reduce(function(merged,ps){if(!ps)return merged;var _loop=function(){var value=ps[key];if("style"===key)merged.style=_objectSpread$2(_objectSpread$2({},merged.style),ps.style);else if("className"===key){var newClassName="";newClassName=hasMergeFunction?classNameMergeFunction(merged.className,ps.className):[merged.className,ps.className].join(" ").trim(),merged.className=newClassName||void 0}else if(isFunction2(value)){var existingFn=merged[key];merged[key]=existingFn?function(){existingFn.apply(void 0,arguments),value.apply(void 0,arguments)}:value}else merged[key]=value};for(var key in ps)_loop();return merged},{})}}var FilterMatchMode=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",NOT_IN:"notIn",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"});function _typeof$2(o2){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function toPropertyKey$2(t3){var i2=function(t3,r2){if("object"!=_typeof$2(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$2(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(t3,"string");return"symbol"==_typeof$2(i2)?i2:i2+""}function _defineProperty$2(e3,r2,t3){return(r2=toPropertyKey$2(r2))in e3?Object.defineProperty(e3,r2,{value:t3,enumerable:!0,configurable:!0,writable:!0}):e3[r2]=t3,e3}function _createClass(e3,r2,t3){return Object.defineProperty(e3,"prototype",{writable:!1}),e3}var PrimeReact$1=_createClass(function PrimeReact(){!function(a2,n2){if(!(a2 instanceof n2))throw new TypeError("Cannot call a class as a function")}(this,PrimeReact)});_defineProperty$2(PrimeReact$1,"ripple",!1),_defineProperty$2(PrimeReact$1,"inputStyle","outlined"),_defineProperty$2(PrimeReact$1,"locale","en"),_defineProperty$2(PrimeReact$1,"appendTo",null),_defineProperty$2(PrimeReact$1,"cssTransition",!0),_defineProperty$2(PrimeReact$1,"autoZIndex",!0),_defineProperty$2(PrimeReact$1,"hideOverlaysOnDocumentScrolling",!1),_defineProperty$2(PrimeReact$1,"nonce",null),_defineProperty$2(PrimeReact$1,"nullSortOrder",1),_defineProperty$2(PrimeReact$1,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200}),_defineProperty$2(PrimeReact$1,"pt",void 0),_defineProperty$2(PrimeReact$1,"filterMatchModeOptions",{text:[FilterMatchMode.STARTS_WITH,FilterMatchMode.CONTAINS,FilterMatchMode.NOT_CONTAINS,FilterMatchMode.ENDS_WITH,FilterMatchMode.EQUALS,FilterMatchMode.NOT_EQUALS],numeric:[FilterMatchMode.EQUALS,FilterMatchMode.NOT_EQUALS,FilterMatchMode.LESS_THAN,FilterMatchMode.LESS_THAN_OR_EQUAL_TO,FilterMatchMode.GREATER_THAN,FilterMatchMode.GREATER_THAN_OR_EQUAL_TO],date:[FilterMatchMode.DATE_IS,FilterMatchMode.DATE_IS_NOT,FilterMatchMode.DATE_BEFORE,FilterMatchMode.DATE_AFTER]}),_defineProperty$2(PrimeReact$1,"changeTheme",function(currentTheme,newTheme,linkElementId,callback){var _linkElement$parentNo,linkElement=document.getElementById(linkElementId);if(!linkElement)throw Error("Element with id ".concat(linkElementId," not found."));var newThemeUrl=linkElement.getAttribute("href").replace(currentTheme,newTheme),newLinkElement=document.createElement("link");newLinkElement.setAttribute("rel","stylesheet"),newLinkElement.setAttribute("id",linkElementId),newLinkElement.setAttribute("href",newThemeUrl),newLinkElement.addEventListener("load",function(){callback&&callback()}),null===(_linkElement$parentNo=linkElement.parentNode)||void 0===_linkElement$parentNo||_linkElement$parentNo.replaceChild(newLinkElement,linkElement)});var PrimeReactContext=React$1.createContext(),PrimeReact2=PrimeReact$1;function _arrayLikeToArray$1(r2,a2){(null==a2||a2>r2.length)&&(a2=r2.length);for(var e3=0,n2=Array(a2);e3<a2;e3++)n2[e3]=r2[e3];return n2}function _slicedToArray(r2,e3){return function(r2){if(Array.isArray(r2))return r2}(r2)||function(r2,l2){var t3=null==r2?null:"undefined"!=typeof Symbol&&r2[Symbol.iterator]||r2["@@iterator"];if(null!=t3){var e3,n2,i2,u2,a2=[],f2=!0,o2=!1;try{if(i2=(t3=t3.call(r2)).next,0===l2);else for(;!(f2=(e3=i2.call(t3)).done)&&(a2.push(e3.value),a2.length!==l2);f2=!0);}catch(r3){o2=!0,n2=r3}finally{try{if(!f2&&null!=t3.return&&(u2=t3.return(),Object(u2)!==u2))return}finally{if(o2)throw n2}}return a2}}(r2,e3)||function(r2,a2){if(r2){if("string"==typeof r2)return _arrayLikeToArray$1(r2,a2);var t3={}.toString.call(r2).slice(8,-1);return"Object"===t3&&r2.constructor&&(t3=r2.constructor.name),"Map"===t3||"Set"===t3?Array.from(r2):"Arguments"===t3||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t3)?_arrayLikeToArray$1(r2,a2):void 0}}(r2,e3)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _id=0,useStyle=function(css){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_useState2=_slicedToArray(reactExports.useState(!1),2),isLoaded=_useState2[0],setIsLoaded=_useState2[1],styleRef=reactExports.useRef(null),context=reactExports.useContext(PrimeReactContext),defaultDocument=DomHandler.isClient()?window.document:void 0,_options$document=options.document,document2=void 0===_options$document?defaultDocument:_options$document,_options$manual=options.manual,manual=void 0!==_options$manual&&_options$manual,_options$name=options.name,name=void 0===_options$name?"style_".concat(++_id):_options$name,_options$id=options.id,id2=void 0===_options$id?void 0:_options$id,_options$media=options.media,media=void 0===_options$media?void 0:_options$media,load=function(){if(document2&&!isLoaded){var styleContainer=(null==context?void 0:context.styleContainer)||document2.head;styleRef.current=function(styleContainer){var existingStyle=styleContainer.querySelector('style[data-primereact-style-id="'.concat(name,'"]'));if(existingStyle)return existingStyle;if(void 0!==id2){var existingElement=document2.getElementById(id2);if(existingElement)return existingElement}return document2.createElement("style")}(styleContainer),styleRef.current.isConnected||(styleRef.current.type="text/css",id2&&(styleRef.current.id=id2),media&&(styleRef.current.media=media),DomHandler.addNonce(styleRef.current,context&&context.nonce||PrimeReact2.nonce),styleContainer.appendChild(styleRef.current),name&&styleRef.current.setAttribute("data-primereact-style-id",name)),styleRef.current.textContent=css,setIsLoaded(!0)}};return reactExports.useEffect(function(){manual||load()},[manual]),{id:id2,name:name,update:function(newCSS){isLoaded&&css!==newCSS&&(styleRef.current.textContent=newCSS)},unload:function(){document2&&styleRef.current&&(DomHandler.removeInlineStyle(styleRef.current),setIsLoaded(!1))},load:load,isLoaded:isLoaded}};function _arrayLikeToArray(r2,a2){(null==a2||a2>r2.length)&&(a2=r2.length);for(var e3=0,n2=Array(a2);e3<a2;e3++)n2[e3]=r2[e3];return n2}function _toConsumableArray(r2){return function(r2){if(Array.isArray(r2))return _arrayLikeToArray(r2)}(r2)||function(r2){if("undefined"!=typeof Symbol&&null!=r2[Symbol.iterator]||null!=r2["@@iterator"])return Array.from(r2)}(r2)||function(r2,a2){if(r2){if("string"==typeof r2)return _arrayLikeToArray(r2,a2);var t3={}.toString.call(r2).slice(8,-1);return"Object"===t3&&r2.constructor&&(t3=r2.constructor.name),"Map"===t3||"Set"===t3?Array.from(r2):"Arguments"===t3||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t3)?_arrayLikeToArray(r2,a2):void 0}}(r2)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _typeof$1(o2){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function toPropertyKey$1(t3){var i2=function(t3,r2){if("object"!=_typeof$1(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof$1(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(t3,"string");return"symbol"==_typeof$1(i2)?i2:i2+""}function _defineProperty$1(e3,r2,t3){return(r2=toPropertyKey$1(r2))in e3?Object.defineProperty(e3,r2,{value:t3,enumerable:!0,configurable:!0,writable:!0}):e3[r2]=t3,e3}function ownKeys$1(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread$1(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys$1(Object(t3),!0).forEach(function(r3){_defineProperty$1(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys$1(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}var commonStyle="\n@layer primereact {\n    .p-component, .p-component * {\n        box-sizing: border-box;\n    }\n\n    .p-hidden {\n        display: none;\n    }\n\n    .p-hidden-space {\n        visibility: hidden;\n    }\n\n    .p-reset {\n        margin: 0;\n        padding: 0;\n        border: 0;\n        outline: 0;\n        text-decoration: none;\n        font-size: 100%;\n        list-style: none;\n    }\n\n    .p-disabled, .p-disabled * {\n        cursor: default;\n        pointer-events: none;\n        user-select: none;\n    }\n\n    .p-component-overlay {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n    }\n\n    .p-unselectable-text {\n        user-select: none;\n    }\n\n    .p-scrollbar-measure {\n        width: 100px;\n        height: 100px;\n        overflow: scroll;\n        position: absolute;\n        top: -9999px;\n    }\n\n    @-webkit-keyframes p-fadein {\n      0%   { opacity: 0; }\n      100% { opacity: 1; }\n    }\n    @keyframes p-fadein {\n      0%   { opacity: 0; }\n      100% { opacity: 1; }\n    }\n\n    .p-link {\n        text-align: left;\n        background-color: transparent;\n        margin: 0;\n        padding: 0;\n        border: none;\n        cursor: pointer;\n        user-select: none;\n    }\n\n    .p-link:disabled {\n        cursor: default;\n    }\n\n    /* Non react overlay animations */\n    .p-connected-overlay {\n        opacity: 0;\n        transform: scaleY(0.8);\n        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);\n    }\n\n    .p-connected-overlay-visible {\n        opacity: 1;\n        transform: scaleY(1);\n    }\n\n    .p-connected-overlay-hidden {\n        opacity: 0;\n        transform: scaleY(1);\n        transition: opacity .1s linear;\n    }\n\n    /* React based overlay animations */\n    .p-connected-overlay-enter {\n        opacity: 0;\n        transform: scaleY(0.8);\n    }\n\n    .p-connected-overlay-enter-active {\n        opacity: 1;\n        transform: scaleY(1);\n        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);\n    }\n\n    .p-connected-overlay-enter-done {\n        transform: none;\n    }\n\n    .p-connected-overlay-exit {\n        opacity: 1;\n    }\n\n    .p-connected-overlay-exit-active {\n        opacity: 0;\n        transition: opacity .1s linear;\n    }\n\n    /* Toggleable Content */\n    .p-toggleable-content-enter {\n        max-height: 0;\n    }\n\n    .p-toggleable-content-enter-active {\n        overflow: hidden;\n        max-height: 1000px;\n        transition: max-height 1s ease-in-out;\n    }\n\n    .p-toggleable-content-enter-done {\n        transform: none;\n    }\n\n    .p-toggleable-content-exit {\n        max-height: 1000px;\n    }\n\n    .p-toggleable-content-exit-active {\n        overflow: hidden;\n        max-height: 0;\n        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);\n    }\n\n    /* @todo Refactor */\n    .p-menu .p-menuitem-link {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        text-decoration: none;\n        overflow: hidden;\n        position: relative;\n    }\n\n    ".concat("\n.p-button {\n    margin: 0;\n    display: inline-flex;\n    cursor: pointer;\n    user-select: none;\n    align-items: center;\n    vertical-align: bottom;\n    text-align: center;\n    overflow: hidden;\n    position: relative;\n}\n\n.p-button-label {\n    flex: 1 1 auto;\n}\n\n.p-button-icon-right {\n    order: 1;\n}\n\n.p-button:disabled {\n    cursor: default;\n}\n\n.p-button-icon-only {\n    justify-content: center;\n}\n\n.p-button-icon-only .p-button-label {\n    visibility: hidden;\n    width: 0;\n    flex: 0 0 auto;\n}\n\n.p-button-vertical {\n    flex-direction: column;\n}\n\n.p-button-icon-bottom {\n    order: 2;\n}\n\n.p-button-group .p-button {\n    margin: 0;\n}\n\n.p-button-group .p-button:not(:last-child) {\n    border-right: 0 none;\n}\n\n.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {\n    border-radius: 0;\n}\n\n.p-button-group .p-button:first-of-type {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n}\n\n.p-button-group .p-button:last-of-type {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n}\n\n.p-button-group .p-button:focus {\n    position: relative;\n    z-index: 1;\n}\n\n.p-button-group-single .p-button:first-of-type {\n    border-top-right-radius: var(--border-radius) !important;\n    border-bottom-right-radius: var(--border-radius) !important;\n}\n\n.p-button-group-single .p-button:last-of-type {\n    border-top-left-radius: var(--border-radius) !important;\n    border-bottom-left-radius: var(--border-radius) !important;\n}\n","\n    ").concat("\n.p-inputtext {\n    margin: 0;\n}\n\n.p-fluid .p-inputtext {\n    width: 100%;\n}\n\n/* InputGroup */\n.p-inputgroup {\n    display: flex;\n    align-items: stretch;\n    width: 100%;\n}\n\n.p-inputgroup-addon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.p-inputgroup .p-float-label {\n    display: flex;\n    align-items: stretch;\n    width: 100%;\n}\n\n.p-inputgroup .p-inputtext,\n.p-fluid .p-inputgroup .p-inputtext,\n.p-inputgroup .p-inputwrapper,\n.p-fluid .p-inputgroup .p-input {\n    flex: 1 1 auto;\n    width: 1%;\n}\n\n/* Floating Label */\n.p-float-label {\n    display: block;\n    position: relative;\n}\n\n.p-float-label label {\n    position: absolute;\n    pointer-events: none;\n    top: 50%;\n    margin-top: -0.5rem;\n    transition-property: all;\n    transition-timing-function: ease;\n    line-height: 1;\n}\n\n.p-float-label textarea ~ label,\n.p-float-label .p-mention ~ label {\n    top: 1rem;\n}\n\n.p-float-label input:focus ~ label,\n.p-float-label input:-webkit-autofill ~ label,\n.p-float-label input.p-filled ~ label,\n.p-float-label textarea:focus ~ label,\n.p-float-label textarea.p-filled ~ label,\n.p-float-label .p-inputwrapper-focus ~ label,\n.p-float-label .p-inputwrapper-filled ~ label,\n.p-float-label .p-tooltip-target-wrapper ~ label {\n    top: -0.75rem;\n    font-size: 12px;\n}\n\n.p-float-label .p-placeholder,\n.p-float-label input::placeholder,\n.p-float-label .p-inputtext::placeholder {\n    opacity: 0;\n    transition-property: all;\n    transition-timing-function: ease;\n}\n\n.p-float-label .p-focus .p-placeholder,\n.p-float-label input:focus::placeholder,\n.p-float-label .p-inputtext:focus::placeholder {\n    opacity: 1;\n    transition-property: all;\n    transition-timing-function: ease;\n}\n\n.p-input-icon-left,\n.p-input-icon-right {\n    position: relative;\n    display: inline-block;\n}\n\n.p-input-icon-left > i,\n.p-input-icon-right > i,\n.p-input-icon-left > svg,\n.p-input-icon-right > svg,\n.p-input-icon-left > .p-input-prefix,\n.p-input-icon-right > .p-input-suffix {\n    position: absolute;\n    top: 50%;\n    margin-top: -0.5rem;\n}\n\n.p-fluid .p-input-icon-left,\n.p-fluid .p-input-icon-right {\n    display: block;\n    width: 100%;\n}\n","\n    ").concat("\n.p-icon {\n    display: inline-block;\n}\n\n.p-icon-spin {\n    -webkit-animation: p-icon-spin 2s infinite linear;\n    animation: p-icon-spin 2s infinite linear;\n}\n\nsvg.p-icon {\n    pointer-events: auto;\n}\n\nsvg.p-icon g,\n.p-disabled svg.p-icon {\n    pointer-events: none;\n}\n\n@-webkit-keyframes p-icon-spin {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(359deg);\n        transform: rotate(359deg);\n    }\n}\n\n@keyframes p-icon-spin {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(359deg);\n        transform: rotate(359deg);\n    }\n}\n","\n}\n"),ComponentBase={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var props=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},css=props.css,defaultProps2=_objectSpread$1(_objectSpread$1({},props.defaultProps),ComponentBase.defaultProps),inlineStyles2={},getPTValue=function(){var _ComponentBase$contex,obj=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",params=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},searchInDefaultPT=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];obj.hasOwnProperty("pt")&&void 0!==obj.pt&&(obj=obj.pt);var originalkey=key,isNestedParam=/./g.test(originalkey)&&!!params[originalkey.split(".")[0]],fkey=isNestedParam?ObjectUtils.toFlatCase(originalkey.split(".")[1]):ObjectUtils.toFlatCase(originalkey),componentName=params.hostName&&ObjectUtils.toFlatCase(params.hostName)||params.props&&params.props.__TYPE&&ObjectUtils.toFlatCase(params.props.__TYPE)||"",isTransition="transition"===fkey,_getHostInstance=function(params2){return null!=params2&&params2.props?params2.hostName?params2.props.__TYPE===params2.hostName?params2.props:_getHostInstance(params2.parent):params2.parent:void 0};ComponentBase.cParams=params,ComponentBase.cName=componentName;var name,_params$props,_getHostInstance2,_ref=(name="ptOptions",(null===(_params$props=params.props)||void 0===_params$props?void 0:_params$props[name])||(null===(_getHostInstance2=_getHostInstance(params))||void 0===_getHostInstance2?void 0:_getHostInstance2[name])||ComponentBase.context.ptOptions||{}),_ref$mergeSections=_ref.mergeSections,mergeSections=void 0===_ref$mergeSections||_ref$mergeSections,_ref$mergeProps=_ref.mergeProps,useMergeProps3=void 0!==_ref$mergeProps&&_ref$mergeProps,getPTClassValue=function(){var value=_getOptionValue.apply(void 0,arguments);return Array.isArray(value)?{className:classNames.apply(void 0,_toConsumableArray(value))}:ObjectUtils.isString(value)?{className:value}:null!=value&&value.hasOwnProperty("className")&&Array.isArray(value.className)?{className:classNames.apply(void 0,_toConsumableArray(value.className))}:value},globalPT=searchInDefaultPT?isNestedParam?_useGlobalPT(getPTClassValue,originalkey,params):_useDefaultPT(getPTClassValue,originalkey,params):void 0,self2=isNestedParam?void 0:_usePT(_getPT(obj,componentName),getPTClassValue,originalkey,params),datasetProps=!isTransition&&_objectSpread$1(_objectSpread$1({},"root"===fkey&&_defineProperty$1({},"".concat("data-pc-","name"),params.props&&params.props.__parentMetadata?ObjectUtils.toFlatCase(params.props.__TYPE):componentName)),{},_defineProperty$1({},"".concat("data-pc-","section"),fkey));return mergeSections||!mergeSections&&self2?useMergeProps3?mergeProps([globalPT,self2,Object.keys(datasetProps).length?datasetProps:{}],{classNameMergeFunction:null===(_ComponentBase$contex=ComponentBase.context.ptOptions)||void 0===_ComponentBase$contex?void 0:_ComponentBase$contex.classNameMergeFunction}):_objectSpread$1(_objectSpread$1(_objectSpread$1({},globalPT),self2),Object.keys(datasetProps).length?datasetProps:{}):_objectSpread$1(_objectSpread$1({},self2),Object.keys(datasetProps).length?datasetProps:{})};return _objectSpread$1(_objectSpread$1({getProps:function(props2){var context=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ComponentBase.context=context,ComponentBase.cProps=props2,ObjectUtils.getMergedProps(props2,defaultProps2)},getOtherProps:function(props2){return ObjectUtils.getDiffProps(props2,defaultProps2)},setMetaData:function(){var metadata=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},props2=metadata.props,state=metadata.state,isUnstyled=function(){return ComponentBase.context.unstyled||PrimeReact2.unstyled||props2.unstyled};return{ptm:function(){var key=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return getPTValue((props2||{}).pt,key,_objectSpread$1(_objectSpread$1({},metadata),params))},ptmo:function(){return getPTValue(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},!1)},sx:function(){var key=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var _ComponentBase$contex2,self2=_getOptionValue(css&&css.inlineStyles,key,_objectSpread$1({props:props2,state:state},params));return mergeProps([_getOptionValue(inlineStyles2,key,_objectSpread$1({props:props2,state:state},params)),self2],{classNameMergeFunction:null===(_ComponentBase$contex2=ComponentBase.context.ptOptions)||void 0===_ComponentBase$contex2?void 0:_ComponentBase$contex2.classNameMergeFunction})}},cx:function(){var key=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return isUnstyled()?void 0:_getOptionValue(css&&css.classes,key,_objectSpread$1({props:props2,state:state},params))},isUnstyled:isUnstyled}}},props),{},{defaultProps:defaultProps2})}},_getOptionValue=function(obj){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",params=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},fKeys=String(ObjectUtils.toFlatCase(key)).split("."),fKey=fKeys.shift(),matchedPTOption=ObjectUtils.isNotEmpty(obj)?Object.keys(obj).find(function(k2){return ObjectUtils.toFlatCase(k2)===fKey}):"";return fKey?ObjectUtils.isObject(obj)?_getOptionValue(ObjectUtils.getItemValue(obj[matchedPTOption],params),fKeys.join("."),params):void 0:ObjectUtils.getItemValue(obj,params)},_getPT=function(pt2){var key=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",callback=arguments.length>2?arguments[2]:void 0,_usept=null==pt2?void 0:pt2._usept,getValue2=function(value){var _ref3,checkSameKey=arguments.length>1&&void 0!==arguments[1]&&arguments[1],_value=callback?callback(value):value,_key=ObjectUtils.toFlatCase(key);return null!==(_ref3=checkSameKey?_key!==ComponentBase.cName?null==_value?void 0:_value[_key]:void 0:null==_value?void 0:_value[_key])&&void 0!==_ref3?_ref3:_value};return ObjectUtils.isNotEmpty(_usept)?{_usept:_usept,originalValue:getValue2(pt2.originalValue),value:getValue2(pt2.value)}:getValue2(pt2,!0)},_usePT=function(pt2,callback,key,params){var fn=function(value2){return callback(value2,key,params)};if(null!=pt2&&pt2.hasOwnProperty("_usept")){var _ref4=pt2._usept||ComponentBase.context.ptOptions||{},_ref4$mergeSections=_ref4.mergeSections,mergeSections=void 0===_ref4$mergeSections||_ref4$mergeSections,_ref4$mergeProps=_ref4.mergeProps,useMergeProps3=void 0!==_ref4$mergeProps&&_ref4$mergeProps,classNameMergeFunction=_ref4.classNameMergeFunction,originalValue=fn(pt2.originalValue),value=fn(pt2.value);if(void 0===originalValue&&void 0===value)return;return ObjectUtils.isString(value)?value:ObjectUtils.isString(originalValue)?originalValue:mergeSections||!mergeSections&&value?useMergeProps3?mergeProps([originalValue,value],{classNameMergeFunction:classNameMergeFunction}):_objectSpread$1(_objectSpread$1({},originalValue),value):value}return fn(pt2)},_useGlobalPT=function(callback,key,params){return _usePT(_getPT(ComponentBase.context.pt||PrimeReact2.pt,void 0,function(value){return ObjectUtils.getItemValue(value,ComponentBase.cParams)}),callback,key,params)},_useDefaultPT=function(callback,key,params){return _usePT(_getPT(ComponentBase.context.pt||PrimeReact2.pt,void 0,function(value){return _getOptionValue(value,ComponentBase.cName,ComponentBase.cParams)||ObjectUtils.getItemValue(value,ComponentBase.cParams)}),callback,key,params)},useHandleStyle=function(styles2){var fn,mounted,_isUnstyled=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},config2=arguments.length>2?arguments[2]:void 0,name=config2.name,_config$styled=config2.styled,styled=void 0!==_config$styled&&_config$styled,_config$hostName=config2.hostName,hostName=void 0===_config$hostName?"":_config$hostName,globalCSS=_useGlobalPT(_getOptionValue,"global.css",ComponentBase.cParams),componentName=ObjectUtils.toFlatCase(name),loadBaseStyle=useStyle("\n.p-hidden-accessible {\n    border: 0;\n    clip: rect(0 0 0 0);\n    height: 1px;\n    margin: -1px;\n    opacity: 0;\n    overflow: hidden;\n    padding: 0;\n    pointer-events: none;\n    position: absolute;\n    white-space: nowrap;\n    width: 1px;\n}\n\n.p-overflow-hidden {\n    overflow: hidden;\n    padding-right: var(--scrollbar-width);\n}\n",{name:"base",manual:!0}).load,loadCommonStyle=useStyle(commonStyle,{name:"common",manual:!0}).load,loadGlobalStyle=useStyle(globalCSS,{name:"global",manual:!0}).load,loadComponentStyle=useStyle(styles2,{name:name,manual:!0}).load,hook=function(hookName){if(!hostName){var selfHook=_usePT(_getPT((ComponentBase.cProps||{}).pt,componentName),_getOptionValue,"hooks.".concat(hookName)),defaultHook=_useDefaultPT(_getOptionValue,"hooks.".concat(hookName));null==selfHook||selfHook(),null==defaultHook||defaultHook()}};hook("useMountEffect"),fn=function(){loadBaseStyle(),loadGlobalStyle(),_isUnstyled()||(loadCommonStyle(),styled||loadComponentStyle())},mounted=reactExports.useRef(!1),reactExports.useEffect(function(){if(!mounted.current)return mounted.current=!0,fn&&fn()},[]),function(fn,deps){var mounted=reactExports.useRef(!1);reactExports.useEffect(function(){if(mounted.current)return fn&&fn();mounted.current=!0},deps)}(function(){hook("useUpdateEffect")}),function(fn){reactExports.useEffect(function(){return fn},[])}(function(){hook("useUnmountEffect")})};function _typeof(o2){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o3){return typeof o3}:function(o3){return o3&&"function"==typeof Symbol&&o3.constructor===Symbol&&o3!==Symbol.prototype?"symbol":typeof o3})(o2)}function toPropertyKey(t3){var i2=function(t3,r2){if("object"!=_typeof(t3)||!t3)return t3;var e3=t3[Symbol.toPrimitive];if(void 0!==e3){var i2=e3.call(t3,r2);if("object"!=_typeof(i2))return i2;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r2?String:Number)(t3)}(t3,"string");return"symbol"==_typeof(i2)?i2:i2+""}function _defineProperty(e3,r2,t3){return(r2=toPropertyKey(r2))in e3?Object.defineProperty(e3,r2,{value:t3,enumerable:!0,configurable:!0,writable:!0}):e3[r2]=t3,e3}var classes={root:function(_ref){var props=_ref.props;return classNames("p-skeleton p-component",{"p-skeleton-circle":"circle"===props.shape,"p-skeleton-none":"none"===props.animation})}},SkeletonBase=ComponentBase.extend({defaultProps:{__TYPE:"Skeleton",shape:"rectangle",size:null,width:"100%",height:"1rem",borderRadius:null,animation:"wave",style:null,className:null},css:{classes:classes,inlineStyles:{root:{position:"relative"}},styles:'\n@layer primereact {\n    .p-skeleton {\n        position: relative;\n        overflow: hidden;\n    }\n    \n    .p-skeleton::after {\n        content: "";\n        animation: p-skeleton-animation 1.2s infinite;\n        height: 100%;\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n        transform: translateX(-100%);\n        z-index: 1;\n    }\n    \n    .p-skeleton-circle {\n        border-radius: 50%;\n    }\n    \n    .p-skeleton-none::after {\n        animation: none;\n    }\n}\n\n@keyframes p-skeleton-animation {\n    from {\n        transform: translateX(-100%);\n    }\n    to {\n        transform: translateX(100%);\n    }\n}\n'}});function ownKeys(e3,r2){var t3=Object.keys(e3);if(Object.getOwnPropertySymbols){var o2=Object.getOwnPropertySymbols(e3);r2&&(o2=o2.filter(function(r3){return Object.getOwnPropertyDescriptor(e3,r3).enumerable})),t3.push.apply(t3,o2)}return t3}function _objectSpread(e3){for(var r2=1;r2<arguments.length;r2++){var t3=null!=arguments[r2]?arguments[r2]:{};r2%2?ownKeys(Object(t3),!0).forEach(function(r3){_defineProperty(e3,r3,t3[r3])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e3,Object.getOwnPropertyDescriptors(t3)):ownKeys(Object(t3)).forEach(function(r3){Object.defineProperty(e3,r3,Object.getOwnPropertyDescriptor(t3,r3))})}return e3}var Skeleton=reactExports.memo(reactExports.forwardRef(function(inProps,ref){var mergeProps2=function(){var context=reactExports.useContext(PrimeReactContext);return function(){for(var _len=arguments.length,props=new Array(_len),_key=0;_key<_len;_key++)props[_key]=arguments[_key];return mergeProps(props,null==context?void 0:context.ptOptions)}}(),context=reactExports.useContext(PrimeReactContext),props=SkeletonBase.getProps(inProps,context),_SkeletonBase$setMeta=SkeletonBase.setMetaData({props:props}),ptm=_SkeletonBase$setMeta.ptm,cx2=_SkeletonBase$setMeta.cx,sx=_SkeletonBase$setMeta.sx,isUnstyled=_SkeletonBase$setMeta.isUnstyled;useHandleStyle(SkeletonBase.css.styles,isUnstyled,{name:"skeleton"});var elementRef=reactExports.useRef(null);reactExports.useImperativeHandle(ref,function(){return{props:props,getElement:function(){return elementRef.current}}});var style=props.size?{width:props.size,height:props.size,borderRadius:props.borderRadius}:{width:props.width,height:props.height,borderRadius:props.borderRadius},rootProps=mergeProps2({ref:elementRef,className:classNames(props.className,cx2("root")),style:_objectSpread(_objectSpread({},style),sx("root")),"aria-hidden":!0},SkeletonBase.getOtherProps(props),ptm("root"));return reactExports.createElement("div",rootProps)}));function ExtratoTcr(){var _a3,_b3;const[searchParams,setSearchParams]=reactExports.useState(null),{data:data,isLoading:isLoading,error:error}=useTransactions({accountNumber:(null==searchParams?void 0:searchParams.accountNumber)||"",startDate:(null==searchParams?void 0:searchParams.startDate)||0,endDate:(null==searchParams?void 0:searchParams.endDate)||0,enabled:!!searchParams}),[saldoApi,setSaldoApi]=reactExports.useState(null),[isLoadingSaldo,setIsLoadingSaldo]=reactExports.useState(!1),transactions=(null==(_a3=null==data?void 0:data.response)?void 0:_a3.transactions)||[],backendTotalCount=null==(_b3=null==data?void 0:data.response)?void 0:_b3.totalTransactions,displayedCount=transactions.length,transactionCount=backendTotalCount||displayedCount,stats=(()=>{let totalEntries=0,totalExits=0,totalFees=0,lastBalance="0";transactions.forEach(transaction=>{"in"===transaction.side?totalEntries+=parseFloat(transaction.amount):totalExits+=parseFloat(transaction.amount),totalFees+=parseFloat(transaction.fee),transaction.balanceAfter&&(lastBalance=transaction.balanceAfter)});return{balance:parseFloat(lastBalance),totalEntries:totalEntries,totalExits:totalExits,totalFees:totalFees,netFlow:totalEntries-totalExits}})(),exportData=searchParams?{transactions:transactions,searchParams:searchParams,stats:stats,saldoApi:saldoApi||void 0}:void 0,SummarySkeleton=()=>jsxRuntimeExports.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-5",children:[1,2,3,4,5].map(i2=>jsxRuntimeExports.jsx(Card,{className:"overflow-hidden",children:jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Skeleton,{width:"40%",height:"20px",className:"rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{shape:"circle",size:"32px"})]}),jsxRuntimeExports.jsx(Skeleton,{width:"60%",height:"36px",className:"rounded-md mt-2"}),jsxRuntimeExports.jsx(Skeleton,{width:"80%",height:"16px",className:"rounded-md"})]})})},i2))}),TableSkeleton=()=>jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Skeleton,{width:"120px",height:"36px",className:"rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{width:"160px",height:"36px",className:"rounded-md"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Skeleton,{width:"140px",height:"36px",className:"rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{width:"90px",height:"36px",className:"rounded-md"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-7 gap-4 mb-2",children:[jsxRuntimeExports.jsx(Skeleton,{width:"90%",height:"36px",className:"table-header"}),jsxRuntimeExports.jsx(Skeleton,{width:"95%",height:"36px",className:"table-header"}),jsxRuntimeExports.jsx(Skeleton,{width:"90%",height:"36px",className:"table-header"}),jsxRuntimeExports.jsx(Skeleton,{width:"95%",height:"36px",className:"table-header"}),jsxRuntimeExports.jsx(Skeleton,{width:"90%",height:"36px",className:"table-header"}),jsxRuntimeExports.jsx(Skeleton,{width:"95%",height:"36px",className:"table-header"}),jsxRuntimeExports.jsx(Skeleton,{width:"80%",height:"36px",className:"table-header"})]}),[1,2,3,4,5,6,7,8].map(i2=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-7 gap-4",children:[jsxRuntimeExports.jsx(Skeleton,{width:85+15*Math.random()+"%",height:"48px",className:"table-row"}),jsxRuntimeExports.jsx(Skeleton,{width:85+15*Math.random()+"%",height:"48px",className:"table-row"}),jsxRuntimeExports.jsx(Skeleton,{width:85+15*Math.random()+"%",height:"48px",className:"table-row"}),jsxRuntimeExports.jsx(Skeleton,{width:85+15*Math.random()+"%",height:"48px",className:"table-row"}),jsxRuntimeExports.jsx(Skeleton,{width:85+15*Math.random()+"%",height:"48px",className:"table-row"}),jsxRuntimeExports.jsx(Skeleton,{width:85+15*Math.random()+"%",height:"48px",className:"table-row"}),jsxRuntimeExports.jsx(Skeleton,{width:70+20*Math.random()+"%",height:"48px",className:"table-row"})]},i2)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-6",children:[jsxRuntimeExports.jsx(Skeleton,{width:"120px",height:"32px",className:"rounded-md"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Skeleton,{width:"36px",height:"36px",className:"rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{width:"36px",height:"36px",className:"rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{width:"36px",height:"36px",className:"rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{width:"36px",height:"36px",className:"rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{width:"36px",height:"36px",className:"rounded-md"})]})]})]});return jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Extrato TCR"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Consulte o extrato de transações da conta TCR"})]}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"transactions",className:"space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsxs(TabsList,{children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"transactions",children:"Transações"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"reports",children:"Relatórios"})]})}),jsxRuntimeExports.jsxs(TabsContent,{value:"transactions",className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{children:"Filtros de Pesquisa"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(TransactionSearchForm,{onSearch:async values=>{var _a4,_b4,_c2,_d2;setSearchParams(values),setIsLoadingSaldo(!0),setSaldoApi(null);try{const response=await fetch(`https://vps80270.cloudpublic.com.br:8081/api/b8cash/consultarSaldo?accountNumber=${values.accountNumber}`,{headers:{"x-api-enterprise":"tcr"}});if(!response.ok){let errorMsg="Erro ao consultar saldo";try{const errorData=await response.json();errorMsg=errorData.message||errorData.mensagem||`Erro ${response.status}`}catch(e3){errorMsg=`Erro ${response.status} ao consultar saldo`}throw new Error(errorMsg)}const data2=await response.json();if(!(null==(_a4=data2.response)?void 0:_a4.success)||void 0===(null==(_c2=null==(_b4=data2.response)?void 0:_b4.data)?void 0:_c2.available))throw new Error((null==(_d2=data2.response)?void 0:_d2.message)||data2.mensagem||"Formato de resposta inesperado do saldo.");{const availableBalanceString=data2.response.data.available,availableBalance=parseFloat(availableBalanceString);isNaN(availableBalance)?setSaldoApi("Inválido"):setSaldoApi(formatCurrency(availableBalance))}}catch(e3){setSaldoApi(null)}finally{setIsLoadingSaldo(!1)}},isLoading:isLoading})})]}),searchParams&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SummarySkeleton,{}),jsxRuntimeExports.jsxs(Card,{className:"overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-3",children:jsxRuntimeExports.jsx(CardTitle,{children:"Transações"})}),jsxRuntimeExports.jsx(CardContent,{className:"py-4",children:jsxRuntimeExports.jsx(TableSkeleton,{})})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-5",children:[jsxRuntimeExports.jsx(FinancialSummaryCard,{title:"Saldo Total",value:isLoadingSaldo?"Carregando...":null!==saldoApi?saldoApi:"Erro ao buscar",description:"Saldo atual da conta (API)",icon:jsxRuntimeExports.jsx(Wallet,{className:"h-5 w-5"})}),jsxRuntimeExports.jsx(FinancialSummaryCard,{title:"Transações",value:transactionCount.toLocaleString("pt-BR"),description:backendTotalCount?"Total real do período selecionado"+(displayedCount!==backendTotalCount?` (exibindo ${displayedCount.toLocaleString("pt-BR")})`:""):"Total retornado no período selecionado",icon:jsxRuntimeExports.jsx(CreditCard,{className:"h-5 w-5 text-blue-500"})}),jsxRuntimeExports.jsx(FinancialSummaryCard,{title:"Entradas",value:formatCurrency(stats.totalEntries),description:"Total de créditos no período",icon:jsxRuntimeExports.jsx(CircleArrowDown,{className:"h-5 w-5 text-green-500"})}),jsxRuntimeExports.jsx(FinancialSummaryCard,{title:"Saídas",value:formatCurrency(stats.totalExits),description:"Total de débitos no período",icon:jsxRuntimeExports.jsx(CircleArrowUp,{className:"h-5 w-5 text-red-500"})}),jsxRuntimeExports.jsx(FinancialSummaryCard,{title:"Taxas",value:formatCurrency(stats.totalFees),description:"Total de taxas no período",icon:jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-yellow-500"})})]}),error?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"py-10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"rounded-full bg-destructive/10 p-3",children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-destructive",children:[jsxRuntimeExports.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),jsxRuntimeExports.jsx("path",{d:"m9.09 9 5.82 5.82"}),jsxRuntimeExports.jsx("path",{d:"m14.91 9-5.82 5.82"})]})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Erro ao carregar transações"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Ocorreu um erro ao tentar carregar as transações. Por favor, tente novamente."})]})})}):0===transactions.length?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"py-10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[jsxRuntimeExports.jsx("div",{className:"rounded-full bg-primary/10 p-3",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-6 w-6 text-primary",children:jsxRuntimeExports.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Nenhuma transação encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Não foram encontradas transações para o período selecionado."})]})})}):jsxRuntimeExports.jsx(TransactionTable,{data:transactions,exportData:exportData})]})})]}),jsxRuntimeExports.jsx(TabsContent,{value:"reports",className:"space-y-6",children:jsxRuntimeExports.jsx(DepositReport,{})})]})]})}Skeleton.displayName="Skeleton";const Sheet=Root$9,SheetClose=Close$1,SheetPortal=Portal$3,SheetOverlay=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Overlay,{className:cn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props,ref:ref}));SheetOverlay.displayName=Overlay.displayName;const sheetVariants=cva("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),SheetContent=reactExports.forwardRef(({side:side="right",className:className,children:children,...props},ref)=>jsxRuntimeExports.jsxs(SheetPortal,{children:[jsxRuntimeExports.jsx(SheetOverlay,{}),jsxRuntimeExports.jsxs(Content$2,{ref:ref,className:cn(sheetVariants({side:side}),className),...props,children:[children,jsxRuntimeExports.jsxs(Close$1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));SheetContent.displayName=Content$2.displayName;const SheetHeader=({className:className,...props})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",className),...props});SheetHeader.displayName="SheetHeader";const SheetFooter=({className:className,...props})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});SheetFooter.displayName="SheetFooter";const SheetTitle=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Title$1,{ref:ref,className:cn("text-lg font-semibold text-foreground",className),...props}));SheetTitle.displayName=Title$1.displayName;reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Description$1,{ref:ref,className:cn("text-sm text-muted-foreground",className),...props})).displayName=Description$1.displayName;var DEFAULT_ORIENTATION="horizontal",ORIENTATIONS=["horizontal","vertical"],Separator$1=reactExports.forwardRef((props,forwardedRef)=>{const{decorative:decorative,orientation:orientationProp=DEFAULT_ORIENTATION,...domProps}=props,orientation=function(orientation){return ORIENTATIONS.includes(orientation)}(orientationProp)?orientationProp:DEFAULT_ORIENTATION,semanticProps=decorative?{role:"none"}:{"aria-orientation":"vertical"===orientation?orientation:void 0,role:"separator"};return jsxRuntimeExports.jsx(Primitive.div,{"data-orientation":orientation,...semanticProps,...domProps,ref:forwardedRef})});Separator$1.displayName="Separator";var Root=Separator$1;const Separator=reactExports.forwardRef(({className:className,orientation:orientation="horizontal",decorative:decorative=!0,...props},ref)=>jsxRuntimeExports.jsx(Root,{ref:ref,decorative:decorative,orientation:orientation,className:cn("shrink-0 bg-border","horizontal"===orientation?"h-[1px] w-full":"h-full w-[1px]",className),...props}));Separator.displayName=Root.displayName;const toastStyles={success:{backgroundColor:"hsl(140 65% 25%)",color:"hsl(140 15% 95%)",border:"1px solid hsl(140 50% 35%)"},error:{backgroundColor:"hsl(0 70% 30%)",color:"hsl(0 15% 95%)",border:"1px solid hsl(0 60% 40%)"},warning:{backgroundColor:"hsl(38 80% 30%)",color:"hsl(38 15% 95%)",border:"1px solid hsl(38 70% 40%)"},info:{backgroundColor:"hsl(210 50% 30%)",color:"hsl(210 15% 95%)",border:"1px solid hsl(210 40% 40%)"}};const DepositoStatusBadge=({status:status})=>{switch(status){case"processing":return jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/10 border-blue-500/20 rounded-full",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 mr-1"}),"Processando"]});case"error":return jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-red-500/10 text-red-500 hover:bg-red-500/10 border-red-500/20 rounded-full",children:[jsxRuntimeExports.jsx(CircleX,{className:"w-3 h-3 mr-1"}),"Erro"]});case"finished":return jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-green-500/10 text-green-500 hover:bg-green-500/10 border-green-500/20 rounded-full",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-3 h-3 mr-1"}),"Finalizado"]});case"pending_registration":return jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/10 border-yellow-500/20 rounded-full",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3 mr-1"}),"Pendente Registro"]});default:return jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"rounded-full",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3 mr-1"}),"Desconhecido"]})}},DepositoStepBadge=({step:step})=>{if("unknown_step"===step)return jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"bg-gray-500/10 text-gray-400 border-gray-400/20 rounded-full",children:"Etapa Desconhecida"});const stepInfo={"01newdeposit":{label:"Depósito PIX",color:"bg-purple-500/10 text-purple-400 border-purple-400/20"},"02internal_transfer_b8cash":{label:"Transferência B8Cash",color:"bg-orange-500/10 text-orange-400 border-orange-400/20"},"03bolsao_deposit":{label:"Depósito BRBTC",color:"bg-yellow-500/10 text-yellow-400 border-yellow-400/20"},"04internal_transfer_caas":{label:"Transferência CAAS",color:"bg-teal-500/10 text-teal-400 border-teal-400/20"}}[step];return jsxRuntimeExports.jsx(Badge,{variant:"outline",className:`${stepInfo.color} rounded-full`,children:stepInfo.label})};function DepositoProgressoIndicator({step:step}){if("unknown_step"===step)return jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mt-2 text-xs text-muted-foreground",children:"(Progresso indisponível)"});const processStep={"01newdeposit":"01newdeposit","02internal_transfer_b8cash":"02internal_transfer_b8cash","03bolsao_deposit":"03bolsao_deposit","04internal_transfer_caas":"04internal_transfer_caas"}[step],steps=["01newdeposit","02internal_transfer_b8cash","03bolsao_deposit","04internal_transfer_caas"],currentIndex=steps.indexOf(processStep);return jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mt-2",children:steps.map((s2,index)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm\n                        "+(index<=currentIndex?index===currentIndex?"bg-primary text-primary-foreground":"bg-orange-500 text-white":"bg-muted text-muted-foreground"),children:index+1}),index<steps.length-1&&jsxRuntimeExports.jsx("div",{className:"h-1 w-6 "+(index<currentIndex?"bg-orange-500":"bg-muted")})]},s2))})}function DepositoEdicaoModal({deposito:deposito,isOpen:isOpen,onClose:onClose,onSave:onSave,isSaving:isSaving}){const[novoUserId,setNovoUserId]=reactExports.useState(""),[novoStatus,setNovoStatus]=reactExports.useState(""),[novaEtapa,setNovaEtapa]=reactExports.useState(""),[showConfirmDialog,setShowConfirmDialog]=reactExports.useState(!1);reactExports.useEffect(()=>{deposito&&isOpen&&(setNovoUserId(deposito.userId),setNovoStatus(deposito.status),setNovaEtapa(deposito.step))},[deposito,isOpen]);const handleClose=()=>{isSaving||onClose()};return deposito?jsxRuntimeExports.jsxs(Dialog,{open:isOpen,onOpenChange:handleClose,children:[jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md bg-[#1e1e1e] border-[#333]",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(SquarePen,{className:"h-5 w-5"}),"Editar Depósito ",deposito.id]}),jsxRuntimeExports.jsx(DialogDescription,{children:"Altere os dados do depósito conforme necessário. Tenha cuidado ao modificar informações críticas."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"novo-user-id",children:"ID do Usuário"}),jsxRuntimeExports.jsx(Input,{id:"novo-user-id",type:"number",value:novoUserId,onChange:e3=>setNovoUserId(e3.target.value),className:"bg-[#121212] border-[#333]",disabled:isSaving,placeholder:"Digite o novo ID do usuário"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Atual: ",deposito.userId," (",deposito.userName,")"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"novo-status",children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:novoStatus,onValueChange:setNovoStatus,disabled:isSaving,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"bg-[#121212] border-[#333]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o status"})}),jsxRuntimeExports.jsx(SelectContent,{className:"bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsx(SelectItem,{value:"processing",children:"processing"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"nova-etapa",children:"Etapa"}),jsxRuntimeExports.jsxs(Select,{value:novaEtapa,onValueChange:setNovaEtapa,disabled:isSaving,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"bg-[#121212] border-[#333]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione a etapa"})}),jsxRuntimeExports.jsxs(SelectContent,{className:"bg-[#1e1e1e] border-[#333]",children:[jsxRuntimeExports.jsx(SelectItem,{value:"01newdeposit",children:"01newdeposit"}),jsxRuntimeExports.jsx(SelectItem,{value:"02internal_transfer_b8cash",children:"02internal_transfer_b8cash"}),jsxRuntimeExports.jsx(SelectItem,{value:"03bolsao_deposit",children:"03bolsao_deposit"})]})]})]}),(novoStatus!==deposito.status||novaEtapa!==deposito.step)&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-yellow-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-yellow-500 font-medium",children:"Atenção"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-yellow-500 mt-1",children:"Você está alterando informações críticas do depósito. Certifique-se de que as mudanças estão corretas."})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"gap-2",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:handleClose,disabled:isSaving,className:"border-[#333] hover:bg-[#333]",children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{type:"button",onClick:()=>{deposito&&(novoUserId.trim()?novoStatus?novaEtapa?setShowConfirmDialog(!0):ue$2.error("Etapa é obrigatória",{style:toastStyles.error}):ue$2.error("Status é obrigatório",{style:toastStyles.error}):ue$2.error("ID do usuário é obrigatório",{style:toastStyles.error}))},disabled:isSaving,className:"bg-primary hover:bg-primary/90",children:isSaving?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar Alterações"})]})]}),jsxRuntimeExports.jsx(Dialog,{open:showConfirmDialog,onOpenChange:setShowConfirmDialog,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md bg-[#1e1e1e] border-[#333]",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2 text-yellow-500",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5"}),"Confirmar Alterações"]}),jsxRuntimeExports.jsxs(DialogDescription,{className:"text-red-400",children:["⚠️ ",jsxRuntimeExports.jsx("strong",{children:"ATENÇÃO:"})," Esta ação não pode ser revertida!"]})]}),jsxRuntimeExports.jsxs("div",{className:"py-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/30 rounded-md",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-red-400 mb-2",children:"Alterações que serão aplicadas:"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[novoUserId!==(null==deposito?void 0:deposito.userId)&&jsxRuntimeExports.jsxs("p",{children:["• ",jsxRuntimeExports.jsx("strong",{children:"ID do Usuário:"})," ",null==deposito?void 0:deposito.userId," → ",novoUserId]}),novoStatus!==(null==deposito?void 0:deposito.status)&&jsxRuntimeExports.jsxs("p",{children:["• ",jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",null==deposito?void 0:deposito.status," → ",novoStatus]}),novaEtapa!==(null==deposito?void 0:deposito.step)&&jsxRuntimeExports.jsxs("p",{children:["• ",jsxRuntimeExports.jsx("strong",{children:"Etapa:"})," ",null==deposito?void 0:deposito.step," → ",novaEtapa]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-md",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-yellow-500",children:[jsxRuntimeExports.jsx("strong",{children:"Importante:"})," Após confirmar, essas alterações serão permanentes e não poderão ser desfeitas."]})})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"gap-2",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>{setShowConfirmDialog(!1)},disabled:isSaving,className:"border-[#333] hover:bg-[#333]",children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{type:"button",onClick:()=>{deposito&&(setShowConfirmDialog(!1),onSave(deposito.id,novoUserId,novoStatus,novaEtapa))},disabled:isSaving,className:"bg-red-600 hover:bg-red-700 text-white",children:isSaving?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Confirmar Alterações"})]})]})})]}):null}function DepositoDetalhes({deposito:deposito,onClose:onClose,onReprocessar:onReprocessar,onUploadComprovante:onUploadComprovante,reprocessando:reprocessando}){const[dialogOpen,setDialogOpen]=reactExports.useState(!1),canReprocess="depositoComErro"===deposito.tipoRegistro,canUpload="depositoComErro"===deposito.tipoRegistro;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium mb-3",children:"Progresso do Depósito"}),jsxRuntimeExports.jsx(DepositoProgressoIndicator,{step:deposito.step})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium",children:"Detalhes"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(User,{className:"h-5 w-5 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Usuário"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:deposito.userName})]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Mail,{className:"h-5 w-5 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Chave PIX"}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:[deposito.pixKey," (",deposito.pixKeyType,")"]})]})]})}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"ID Transação PIX"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono text-xs",children:deposito.txId||"-"})]})]})}),deposito.b8cashTransactionId&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"ID B8Cash"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono text-xs",children:deposito.b8cashTransactionId})]})]})}),deposito.caasTransactionId&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"ID CAAS"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono text-xs",children:deposito.caasTransactionId})]})]})})]})]}),deposito.errorMessage&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 bg-red-500/10 border border-red-500/30 rounded-md",children:[jsxRuntimeExports.jsxs(Label$1,{className:"text-red-500 flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"}),"Mensagem de Erro"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-red-500 mt-1",children:deposito.errorMessage}),deposito.errorTimestamp&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-400 mt-1",children:["Em ",formatTimestamp(deposito.errorTimestamp)]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium",children:"Ações"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"w-full items-center gap-1.5",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:`comprovante-${deposito.id}`,className:cn("mb-2 block",!canUpload&&"text-muted-foreground"),children:"Upload de Comprovante"}),jsxRuntimeExports.jsx(Input,{id:`comprovante-${deposito.id}`,type:"file",accept:"image/jpeg,image/png,application/pdf",className:"cursor-pointer bg-[#121212] border-[#333]",onChange:e3=>{if(canUpload&&e3.target.files&&e3.target.files[0]){const file=e3.target.files[0];onUploadComprovante(deposito.id,file)}},disabled:!canUpload||reprocessando}),!canUpload&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upload não disponível para este tipo de registro."})]})}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:"w-full mt-4 border-[#333] hover:bg-[#333] hover:text-white h-10",onClick:()=>setDialogOpen(!0),disabled:!canReprocess||reprocessando,children:[jsxRuntimeExports.jsx(CircleArrowUp,{className:"mr-2 h-4 w-4"}),"Reprocessar Depósito"]}),!canReprocess&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:"Reprocessamento não disponível para este tipo de registro."}),jsxRuntimeExports.jsx(Dialog,{open:dialogOpen,onOpenChange:setDialogOpen,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Reprocessar depósito"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Tem certeza que deseja reprocessar este depósito manualmente? Esta ação tentará retomar o fluxo a partir da etapa atual."})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"sm:justify-start",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"default",onClick:()=>{onReprocessar(deposito.id),setDialogOpen(!1)},disabled:reprocessando,children:reprocessando?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Reprocessando..."]}):"Confirmar Reprocessamento"}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>setDialogOpen(!1),disabled:reprocessando,children:"Cancelar"})]})]})})]})]})}function TabelaDepositos({depositos:depositos,loading:loading,onViewDetails:onViewDetails,onReprocessar:onReprocessar,onUploadComprovante:onUploadComprovante,onEdit:onEdit,reprocessando:reprocessando}){const[selectedDeposit,setSelectedDeposit]=reactExports.useState(null),[drawerOpen,setDrawerOpen]=reactExports.useState(!1);return loading?jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((_2,i2)=>jsxRuntimeExports.jsx("div",{className:"flex items-center space-x-4",children:jsxRuntimeExports.jsx(Skeleton,{className:"h-12 w-full"})},i2))}):0===depositos.length?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[jsxRuntimeExports.jsx("div",{className:"rounded-full bg-primary/10 p-3 mb-4",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-6 w-6 text-primary"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Nenhum depósito encontrado"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Não há depósitos pendentes com os filtros selecionados."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-hidden",children:jsxRuntimeExports.jsxs(Table,{className:"[&_tr:not(:first-child):not(:last-child)_td]:border-0 [&_tr:last-child_td]:border-0 [&_tr_th]:border-0 [&_tr]:border-0",children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"bg-[#121212] border-b border-[#333]",children:[jsxRuntimeExports.jsx(TableHead,{children:"ID"}),jsxRuntimeExports.jsx(TableHead,{children:"Usuário"}),jsxRuntimeExports.jsx(TableHead,{children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{children:"Data"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Etapa"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right w-32",children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:depositos.map((deposito,index)=>{let formattedValor="R$ 0,00";try{const amountValue=parseFloat(deposito.amount);isNaN(amountValue)||(formattedValor=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(amountValue))}catch(error){}let formattedData="Data inválida";try{"number"!=typeof deposito.createdAt||isNaN(deposito.createdAt)||(formattedData=new Date(deposito.createdAt).toLocaleDateString("pt-BR"))}catch(error){}return jsxRuntimeExports.jsxs(TableRow,{className:"border-b border-[#333] "+(index%2==0?"bg-[#1a1a1a]":"bg-[#141414]"),children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-xs",children:deposito.id}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-sm",children:deposito.userName}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",deposito.userId]})]})}),jsxRuntimeExports.jsx(TableCell,{children:formattedValor}),jsxRuntimeExports.jsx(TableCell,{children:formattedData}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(DepositoStatusBadge,{status:deposito.status})}),jsxRuntimeExports.jsx(TableCell,{children:DepositoStepBadge({step:deposito.step})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1 justify-end",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>(deposito=>{setSelectedDeposit(deposito),setDrawerOpen(!0),onViewDetails(deposito)})(deposito),children:"Detalhes"}),jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>onEdit(deposito),className:"text-blue-400 hover:text-blue-300",children:[jsxRuntimeExports.jsx(SquarePen,{className:"h-4 w-4 mr-1"}),"Editar"]})]})})]},deposito.id)})})]})}),jsxRuntimeExports.jsx(Sheet,{open:drawerOpen,onOpenChange:setDrawerOpen,children:jsxRuntimeExports.jsx(SheetContent,{side:"right",className:"w-[380px] max-w-[380px] p-0 bg-[#121212] border-l border-[#222] shadow-lg overflow-hidden flex flex-col",children:selectedDeposit&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(SheetHeader,{className:"border-b border-[#222] p-4 shrink-0 space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-start",children:jsxRuntimeExports.jsxs(SheetTitle,{className:"text-lg",children:["Depósito ",selectedDeposit.id]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[jsxRuntimeExports.jsx(DepositoStatusBadge,{status:selectedDeposit.status}),jsxRuntimeExports.jsx(DepositoStepBadge,{step:selectedDeposit.step})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Criado em ",new Date(selectedDeposit.createdAt).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70 font-mono",children:(()=>{let specificTimestamp=null;const rawData=selectedDeposit.rawData;if("transacaoNaoRegistrada"===selectedDeposit.tipoRegistro&&rawData&&"createdTimestamp"in rawData)specificTimestamp=rawData.createdTimestamp;else if("depositoComErro"===selectedDeposit.tipoRegistro&&rawData&&"webhook_payload"in rawData){const payloadString=rawData.webhook_payload;if(payloadString)try{const payload=JSON.parse(payloadString);payload&&void 0!==payload.createdTimestamp&&(specificTimestamp=payload.createdTimestamp)}catch(e3){}}return null===specificTimestamp&&(specificTimestamp=selectedDeposit.originalTimestamp??"N/A"),`Timestamp Específico: ${String(specificTimestamp)}`})()})]}),jsxRuntimeExports.jsx(ScrollArea,{className:"flex-1 p-4 overflow-auto",children:jsxRuntimeExports.jsx(DepositoDetalhes,{deposito:selectedDeposit,onClose:()=>{setDrawerOpen(!1),setTimeout(()=>setSelectedDeposit(null),300)},onReprocessar:onReprocessar,onUploadComprovante:onUploadComprovante,reprocessando:reprocessando})}),jsxRuntimeExports.jsx(SheetFooter,{className:"border-t border-[#222] p-4 mt-auto shrink-0",children:jsxRuntimeExports.jsx(SheetClose,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",className:"w-full border-[#333] hover:bg-[#333] hover:text-white h-10",children:"Fechar"})})})]})})})]})}function ResumoDepositos({isLoading:isLoading,data:data}){return isLoading?jsxRuntimeExports.jsx("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-4",children:[1,2,3,4].map(i2=>jsxRuntimeExports.jsx(Card,{className:"overflow-hidden",children:jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Skeleton,{width:"40%",height:"20px",className:"rounded-md"}),jsxRuntimeExports.jsx(Skeleton,{shape:"circle",size:"32px"})]}),jsxRuntimeExports.jsx(Skeleton,{width:"60%",height:"36px",className:"rounded-md mt-2"}),jsxRuntimeExports.jsx(Skeleton,{width:"80%",height:"16px",className:"rounded-md"})]})})},i2))}):jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-6",children:[jsxRuntimeExports.jsx(Card,{className:"bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Depósitos"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold",children:data.total})]}),jsxRuntimeExports.jsx("div",{className:"rounded-full p-2 bg-primary/10",children:jsxRuntimeExports.jsx(ChartNoAxesColumn,{className:"h-5 w-5 text-primary"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Todos os depósitos no sistema"})]})}),jsxRuntimeExports.jsx(Card,{className:"bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Em Processamento"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-blue-500",children:data.processando})]}),jsxRuntimeExports.jsx("div",{className:"rounded-full p-2 bg-blue-500/10",children:jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5 text-blue-500"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Depósitos em andamento"})]})}),jsxRuntimeExports.jsx(Card,{className:"bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Com Erro"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-red-500",children:data.erros})]}),jsxRuntimeExports.jsx("div",{className:"rounded-full p-2 bg-red-500/10",children:jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5 text-red-500"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Depósitos com falha"})]})}),jsxRuntimeExports.jsx(Card,{className:"bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Concluídos"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-green-500",children:data.concluidos})]}),jsxRuntimeExports.jsx("div",{className:"rounded-full p-2 bg-green-500/10",children:jsxRuntimeExports.jsx(CircleCheck,{className:"h-5 w-5 text-green-500"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Depósitos finalizados"})]})}),jsxRuntimeExports.jsx(Card,{className:"bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendente Registro"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-yellow-500",children:data.pendenteRegistro})]}),jsxRuntimeExports.jsx("div",{className:"rounded-full p-2 bg-yellow-500/10",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-yellow-500"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Transações PIX sem depósito"})]})}),jsxRuntimeExports.jsx(Card,{className:"bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Desconhecido"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-gray-500",children:data.desconhecido})]}),jsxRuntimeExports.jsx("div",{className:"rounded-full p-2 bg-gray-500/10",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-gray-500"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Status não mapeado"})]})})]})}function CompensacaoDepositos(){const[depositos,setDepositos]=reactExports.useState([]),[filteredDepositos,setFilteredDepositos]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!1),[searchTerm,setSearchTerm]=reactExports.useState(""),[statusFilter,setStatusFilter]=reactExports.useState("all"),[stepFilter,setStepFilter]=reactExports.useState("all"),[selectedDeposito,setSelectedDeposito]=reactExports.useState(null),[isUploadDialogOpen,setIsUploadDialogOpen]=reactExports.useState(!1),[reprocessando,setReprocessando]=reactExports.useState(!1),[isUploading,setIsUploading]=reactExports.useState(!1),[activeTab,setActiveTab]=reactExports.useState("depositos"),[startDateFilter,setStartDateFilter]=reactExports.useState(void 0),[endDateFilter,setEndDateFilter]=reactExports.useState(void 0),[depositoParaEditar,setDepositoParaEditar]=reactExports.useState(null),[isEdicaoModalOpen,setIsEdicaoModalOpen]=reactExports.useState(!1),[isSavingEdicao,setIsSavingEdicao]=reactExports.useState(!1),depositosStats={total:depositos.length,erros:depositos.filter(d2=>"error"===d2.status).length,processando:depositos.filter(d2=>"processing"===d2.status).length,concluidos:depositos.filter(d2=>"finished"===d2.status).length,pendenteRegistro:depositos.filter(d2=>"pending_registration"===d2.status).length,desconhecido:depositos.filter(d2=>"unknown"===d2.status).length};reactExports.useEffect(()=>{let dadosAposFiltroData;if(startDateFilter&&endDateFilter){const inicioDia=startOfDay(startDateFilter).getTime(),fimDia=endOfDay(endDateFilter).getTime();dadosAposFiltroData=depositos.filter(dep=>dep.createdAt>=inicioDia&&dep.createdAt<=fimDia)}else dadosAposFiltroData=[...depositos];const dadosFiltradosFinal=dadosAposFiltroData.filter(dep=>{if(statusFilter&&"all"!==statusFilter&&dep.status!==statusFilter)return!1;if(stepFilter&&"all"!==stepFilter&&dep.step!==stepFilter)return!1;if(searchTerm){const searchLower=searchTerm.toLowerCase();return dep.id.toLowerCase().includes(searchLower)||dep.userName.toLowerCase().includes(searchLower)||dep.userId.toLowerCase().includes(searchLower)||dep.txId&&dep.txId.toLowerCase().includes(searchLower)}return!0});setFilteredDepositos(dadosFiltradosFinal)},[searchTerm,statusFilter,stepFilter,depositos,startDateFilter,endDateFilter]);const fetchDepositos=async()=>{let startDateAPI,endDateAPI;if(setIsLoading(!0),startDateFilter&&endDateFilter){const formatDateToAPI=date2=>format(date2,"yyyy-MM-dd");startDateAPI=formatDateToAPI(startDateFilter),endDateAPI=formatDateToAPI(endDateFilter)}try{const dadosDaApi=await async function(startDate,endDate){var _a3,_b3;const API_URL=`${PUBLIC_ENV.DIAGNOSTICO_API_URL}/depositos/consultar-erros`,ACCOUNT_NUMBER=PUBLIC_ENV.ACCOUNT_NUMBER_B8_TCR,USER_TOKEN=TOKEN_STORAGE.get(),url=new URL(API_URL);url.searchParams.append("accountNumber",ACCOUNT_NUMBER),startDate&&url.searchParams.append("startDate",startDate),endDate&&url.searchParams.append("endDate",endDate);try{const response=await fetch(url.toString(),{method:"GET",headers:{"Content-Type":"application/json","x-api-enterprise":"tcr",Authorization:`Bearer ${USER_TOKEN}`,xPassRouteTCR:"ISRVdeWTZ5jYFKJQytjH9ZylF1ZrwhTdrrdKY4uFqXm041XIL3aVjCwojSH1EeYbUOQjPx0aO","User-Agent":PUBLIC_ENV.APP_USER_AGENT}});if(!response.ok)throw await response.text(),new Error(`Erro ao buscar depósitos: ${response.statusText}`);const data=await response.json();if(!data.sucesso)throw new Error(data.mensagem||"API retornou sucesso=false");const depositosMapeados=((null==(_a3=data.resultado)?void 0:_a3.depositosComErro)||[]).map(apiDep=>{let status="unknown";["processing","error","finished"].includes(apiDep.status_deposito)?status=apiDep.status_deposito:apiDep.status_deposito;let step="unknown_step";["01newdeposit","02internal_transfer_b8cash","03bolsao_deposit","04internal_transfer_caas"].includes(apiDep.step)?step=apiDep.step:apiDep.step;const createdAtTimestamp=new Date(apiDep.createdAt||apiDep.created_at).getTime();let operationIdFromWebhook=null;if(apiDep.webhook_payload)try{const payload=JSON.parse(apiDep.webhook_payload);operationIdFromWebhook=(null==payload?void 0:payload.operationId)||null}catch(e3){}return{id:String(apiDep.id),userId:String(apiDep.id_usuario),userName:apiDep.pix_from_name||"Nome Indisponível",amount:String(parseFloat(apiDep.quantia||"0")),createdAt:createdAtTimestamp,originalTimestamp:apiDep.createdAt||apiDep.created_at||null,status:status,step:step,pixKey:apiDep.pix_to_key||null,pixKeyType:null,txId:operationIdFromWebhook||apiDep.pix_operationId||apiDep.pix_transactionId||null,tipoRegistro:"depositoComErro",errorMessage:apiDep.errorMessage,errorTimestamp:apiDep.errorTimestamp,lastUpdated:createdAtTimestamp,b8cashTransactionId:apiDep.id_internal_b8cash,caasTransactionId:apiDep.id_deposito_caas_tcr,rawData:apiDep}}),transacoesMapeadas=((null==(_b3=data.resultado)?void 0:_b3.transacoesNaoRegistradas)||[]).map(apiTx=>{var _a4,_b4,_c2;const userIdMatch=null==(_a4=apiTx.identifier)?void 0:_a4.match(/xU(\d+)$/),userId=userIdMatch?userIdMatch[1]:"Desconhecido",createdAtTimestamp=apiTx.createdTimestamp?1e3*apiTx.createdTimestamp:Date.now();return{id:apiTx.id||apiTx.transactionId,userId:userId,userName:(null==(_b4=apiTx.from)?void 0:_b4.name)||"Nome Indisponível",amount:String(parseFloat(apiTx.amount||"0")),createdAt:createdAtTimestamp,originalTimestamp:apiTx.createdTimestamp||null,status:"pending_registration",step:"unknown_step",pixKey:(null==(_c2=apiTx.to)?void 0:_c2.key)||null,pixKeyType:null,txId:apiTx.transactionId||apiTx.operationId||null,tipoRegistro:"transacaoNaoRegistrada",lastUpdated:createdAtTimestamp,errorMessage:"Transação PIX recebida mas não registrada no sistema de depósitos.",rawData:apiTx}}),todosRegistros=[...depositosMapeados,...transacoesMapeadas];return todosRegistros.sort((a2,b2)=>b2.createdAt-a2.createdAt),todosRegistros}catch(error){return error instanceof Error?ue$2.error(`Erro ao buscar depósitos: ${error.message}`,{style:toastStyles.error}):ue$2.error("Ocorreu um erro desconhecido ao buscar depósitos.",{style:toastStyles.error}),[]}}(startDateAPI,endDateAPI);setDepositos(dadosDaApi)}catch(error){setDepositos([])}finally{setIsLoading(!1)}},handleCloseEdicaoModal=()=>{setIsEdicaoModalOpen(!1),setTimeout(()=>setDepositoParaEditar(null),300)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col p-6 space-y-6 bg-[#090909]",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Compensação de Depósitos"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Visualize e gerencie depósitos pendentes que precisam ser compensados manualmente"})]}),jsxRuntimeExports.jsxs(Tabs,{value:activeTab,onValueChange:setActiveTab,className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"bg-[#121212] border border-[#333]",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"depositos",className:"data-[state=active]:bg-[#1e1e1e]",children:"Depósitos"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"relatorios",className:"data-[state=active]:bg-[#1e1e1e]",children:"Relatórios"})]}),jsxRuntimeExports.jsxs(TabsContent,{value:"depositos",className:"space-y-6",children:[jsxRuntimeExports.jsx(ResumoDepositos,{isLoading:isLoading,data:depositosStats}),jsxRuntimeExports.jsxs(Card,{className:"bg-[#1e1e1e] border-[#333]",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3",children:[jsxRuntimeExports.jsx(CardTitle,{className:"flex justify-between items-center",children:jsxRuntimeExports.jsx("span",{children:"Filtrar Depósitos"})}),jsxRuntimeExports.jsx(CardDescription,{children:"Use os filtros abaixo para encontrar depósitos específicos"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-3 lg:grid-cols-5 items-end",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"search-term",children:"Busca"}),jsxRuntimeExports.jsxs("div",{className:"relative mt-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{id:"search-term",placeholder:"Buscar por ID, nome...",className:"pl-8 bg-[#121212] border-[#333] h-10",value:searchTerm,onChange:e3=>setSearchTerm(e3.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Data Inicial"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("w-full justify-start text-left font-normal mt-1 bg-[#121212] border-[#333] hover:bg-[#222] h-10",!startDateFilter&&"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),startDateFilter?format(startDateFilter,"PPP",{locale:ptBR}):jsxRuntimeExports.jsx("span",{children:"Selecione (Opcional)"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:startDateFilter,onSelect:setStartDateFilter,initialFocus:!0,locale:ptBR})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Data Final"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("w-full justify-start text-left font-normal mt-1 bg-[#121212] border-[#333] hover:bg-[#222] h-10",!endDateFilter&&"text-muted-foreground"),disabled:!startDateFilter,children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),endDateFilter?format(endDateFilter,"PPP",{locale:ptBR}):jsxRuntimeExports.jsx("span",{children:"Selecione (Opcional)"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 bg-[#1e1e1e] border-[#333]",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:endDateFilter,onSelect:date2=>setEndDateFilter(startDateFilter?date2:void 0),disabled:date2=>!!startDateFilter&&date2<startDateFilter,initialFocus:!0,locale:ptBR})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Status"}),jsxRuntimeExports.jsxs(Select,{value:statusFilter,onValueChange:setStatusFilter,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"bg-[#121212] border-[#333] mt-1 h-10",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filtrar por Status"})}),jsxRuntimeExports.jsxs(SelectContent,{className:"bg-[#1e1e1e] border-[#333]",children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"Todos os Status"}),jsxRuntimeExports.jsx(SelectItem,{value:"processing",children:"Em Processamento"}),jsxRuntimeExports.jsx(SelectItem,{value:"error",children:"Com Erro"}),jsxRuntimeExports.jsx(SelectItem,{value:"finished",children:"Concluídos"}),jsxRuntimeExports.jsx(SelectItem,{value:"pending_registration",children:"Pendente Registro"}),jsxRuntimeExports.jsx(SelectItem,{value:"unknown",children:"Desconhecido"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{children:"Etapa"}),jsxRuntimeExports.jsxs(Select,{value:stepFilter,onValueChange:setStepFilter,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"bg-[#121212] border-[#333] mt-1 h-10",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Filtrar por Etapa"})}),jsxRuntimeExports.jsxs(SelectContent,{className:"bg-[#1e1e1e] border-[#333]",children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"Todas as Etapas"}),jsxRuntimeExports.jsx(SelectItem,{value:"01newdeposit",children:"Depósito PIX"}),jsxRuntimeExports.jsx(SelectItem,{value:"02internal_transfer_b8cash",children:"Transferência B8Cash"}),jsxRuntimeExports.jsx(SelectItem,{value:"03bolsao_deposit",children:"Depósito BRBTC"}),jsxRuntimeExports.jsx(SelectItem,{value:"04internal_transfer_caas",children:"Transferência CAAS"}),jsxRuntimeExports.jsx(SelectItem,{value:"unknown_step",children:"Etapa Desconhecida"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"lg:col-start-5 flex items-end",children:jsxRuntimeExports.jsx(Button$1,{className:"w-full h-10 bg-primary hover:bg-primary/90",onClick:fetchDepositos,disabled:isLoading,children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"})," Buscando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Filter,{className:"mr-2 h-4 w-4"})," Filtrar"]})})})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"bg-[#121212] border-[#333]",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"pb-3",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{children:"Depósitos Pendentes"}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"ml-2 bg-[#333] text-foreground border-[#444]",children:[filteredDepositos.length," depósitos"]})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Lista de depósitos que precisam de atenção ou acompanhamento"})]}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"space-y-4 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx(Skeleton,{width:"150px",height:"32px"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Skeleton,{width:"100px",height:"32px"}),jsxRuntimeExports.jsx(Skeleton,{width:"100px",height:"32px"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:Array.from({length:5}).map((_2,i2)=>jsxRuntimeExports.jsx(Skeleton,{className:"h-12 w-full"},i2))})]}):jsxRuntimeExports.jsx(TabelaDepositos,{depositos:filteredDepositos,loading:isLoading,onViewDetails:deposito=>{setSelectedDeposito(deposito)},onReprocessar:async depositoId=>{var _a3,_b3;const depositoParaReprocessar=depositos.find(d2=>d2.id===depositoId);if("transacaoNaoRegistrada"===(null==depositoParaReprocessar?void 0:depositoParaReprocessar.tipoRegistro))return void ue$2.warning("Não é possível reprocessar uma transação não registrada.",{style:toastStyles.warning});if("finished"===(null==depositoParaReprocessar?void 0:depositoParaReprocessar.status))return void ue$2.info("Este depósito já está finalizado.",{style:toastStyles.info});setReprocessando(!0);const API_URL=`${PUBLIC_ENV.DIAGNOSTICO_API_URL}/depositos/compensar`,USER_TOKEN=TOKEN_STORAGE.get();try{const depositoIdNum=parseInt(depositoId,10);if(isNaN(depositoIdNum))throw new Error("ID do depósito inválido.");const response=await fetch(API_URL,{method:"POST",headers:{"Content-Type":"application/json","x-api-enterprise":"tcr",Authorization:`Bearer ${USER_TOKEN}`,"User-Agent":PUBLIC_ENV.APP_USER_AGENT},body:JSON.stringify({id_deposito:depositoIdNum})}),responseData=await response.json();if(!response.ok)throw new Error(`Erro HTTP ${response.status}`);if(!responseData.sucesso)throw new Error(responseData.mensagem||"Erro geral retornado pela API.");const detalhe=null==(_b3=null==(_a3=responseData.resultado)?void 0:_a3.detalhes)?void 0:_b3.find(d2=>d2.id_deposito===depositoIdNum);if(!detalhe)throw new Error("Resposta da API inesperada (detalhes não encontrados).");detalhe.sucesso?(ue$2.success(detalhe.mensagem||"Depósito compensado com sucesso!",{style:toastStyles.success}),await fetchDepositos()):ue$2.error(detalhe.mensagem||"Falha ao compensar o depósito.",{style:toastStyles.error})}catch(error){const errorMessage=error instanceof Error?error.message:"Ocorreu um erro desconhecido";ue$2.error(`Erro ao reprocessar: ${errorMessage}`,{style:toastStyles.error})}finally{setReprocessando(!1)}},onUploadComprovante:async(id2,file)=>{const depositoParaUpload=depositos.find(d2=>d2.id===id2);if("transacaoNaoRegistrada"!==(null==depositoParaUpload?void 0:depositoParaUpload.tipoRegistro)){setIsUploading(!0);try{await new Promise(resolve=>setTimeout(resolve,2e3)),ue$2.success("Comprovante enviado para análise!",{style:toastStyles.success});const updatedDepositos=depositos.map(dep=>dep.id===id2?{...dep,status:"processing",comprovante:URL.createObjectURL(file),lastUpdated:Date.now()}:dep);setDepositos(updatedDepositos),setIsUploadDialogOpen(!1)}catch(error){const errorMessage=error instanceof Error?error.message:"Ocorreu um erro desconhecido";ue$2.error(`Erro ao processar comprovante: ${errorMessage}`,{style:toastStyles.error})}finally{setIsUploading(!1)}}else ue$2.warning("Não é possível anexar comprovante a uma transação não registrada.",{style:toastStyles.warning})},onEdit:deposito=>{setDepositoParaEditar(deposito),setIsEdicaoModalOpen(!0)},reprocessando:reprocessando})})]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"relatorios",className:"space-y-6",children:jsxRuntimeExports.jsxs(Card,{className:"bg-[#121212] border-[#333]",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Relatórios"}),jsxRuntimeExports.jsx(CardDescription,{children:"Estatísticas e análises sobre os depósitos processados"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"rounded-full bg-muted p-3 mb-4",children:jsxRuntimeExports.jsx(ChartNoAxesColumn,{className:"h-6 w-6 text-muted-foreground"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-medium",children:"Relatórios em desenvolvimento"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-2 max-w-md",children:"Esta funcionalidade está sendo implementada e estará disponível em breve. Você poderá visualizar estatísticas avançadas e exportar relatórios de depósitos."})]})})]})})]}),jsxRuntimeExports.jsx(DepositoEdicaoModal,{deposito:depositoParaEditar,isOpen:isEdicaoModalOpen,onClose:handleCloseEdicaoModal,onSave:async(depositoId,novoUserId,novoStatus,novaEtapa)=>{setIsSavingEdicao(!0);try{const response=await fetch(`${PUBLIC_ENV.DIAGNOSTICO_API_URL}/api/externos/depositos/atualizar`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_deposito:parseInt(depositoId,10),id_usuario:parseInt(novoUserId,10),status_deposito:novoStatus,step:novaEtapa})}),data=await response.json();if(!response.ok)throw new Error(`Erro HTTP ${response.status}: ${data.mensagem||data.erro||response.statusText}`);if(!1===data.sucesso)throw new Error(data.mensagem||data.erro||"Erro retornado pela API");const depositosAtualizados=depositos.map(dep=>dep.id===depositoId?{...dep,userId:novoUserId,status:novoStatus,step:novaEtapa,lastUpdated:Date.now()}:dep);setDepositos(depositosAtualizados),handleCloseEdicaoModal(),ue$2.success("✅ Depósito atualizado com sucesso!",{style:toastStyles.success})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";ue$2.error(`❌ Erro ao salvar alterações: ${errorMessage}`,{style:toastStyles.error})}finally{setIsSavingEdicao(!1)}},isSaving:isSavingEdicao})]})}const API_ROUTES={bmp:{baseUrl:"https://api-bank.gruponexus.com.br",saldo:"/internal/account/saldo",extrato:"/internal/account/extrato",pixEnviar:"/internal/pix/enviar",pixConsultar:"/internal/pix/consultar",pixChaves:"/internal/pix/chaves/listar"},bitso:{baseUrl:"https://api-bank.gruponexus.com.br",saldo:"/api/bitso/balance/consultar",extrato:"/api/bitso/pix/extrato",pixEnviar:"/api/bitso/pix/enviar",pixConsultar:"/api/bitso/pix/consultar",pixChaves:"/api/bitso/pix/chaves"},"bmp-531":{baseUrl:"https://api-bank.gruponexus.com.br",saldo:"/bmp-531/account/saldo",extrato:"/bmp-531/account/extrato",pixEnviar:"/bmp-531/pix/enviar",pixConsultar:"/bmp-531/pix/consultar",pixChaves:"/bmp-531/pix/chaves/listar"}},ACCOUNTS=[{id:"bmp-main",provider:"bmp",displayName:"Conta Principal BMP",bankInfo:{bank:"274",agency:"0001",account:"902486-0"}},{id:"bmp-531-ttf",provider:"bmp-531",displayName:"BMP 531 TTF - Pagamentos",bankInfo:{bank:"531",agency:"0001",account:"159-4"}},{id:"bitso-crypto",provider:"bitso",displayName:"Bitso - Crypto Payments",bankInfo:{bank:"Bitso",agency:"N/A",account:"Crypto Account"}}];const apiRouter=new class{constructor(){__publicField(this,"currentAccount"),this.currentAccount=ACCOUNTS[0]}switchToAccount(accountId){const account=ACCOUNTS.find(acc=>acc.id===accountId);return!!account&&(this.currentAccount=account,!0)}getCurrentAccount(){return this.currentAccount}hasFeature(feature){const routes=API_ROUTES[this.currentAccount.provider];switch(feature){case"saldo":return!!routes.saldo;case"pix":return!(!routes.pixEnviar||!routes.pixConsultar);case"extrato":return!!routes.extrato;case"chaves":return!!routes.pixChaves;default:return!1}}buildUrl(endpoint){return`${API_ROUTES[this.currentAccount.provider].baseUrl}${endpoint}`}getHeaders(){const commonHeaders={"Content-Type":"application/json","User-Agent":"BaaS-Frontend/1.0.0"};switch(this.currentAccount.provider){case"bmp":return{...commonHeaders,"x-api-version":"1.0"};case"bitso":return{...commonHeaders,"x-bitso-version":"3.0"};case"bmp-531":return{...commonHeaders,"x-bmp531-version":"1.0"};default:return commonHeaders}}async makeRequest(endpoint,options={}){const url=this.buildUrl(endpoint),headers=this.getHeaders();try{const response=await fetch(url,{...options,headers:{...headers,...options.headers},signal:AbortSignal.timeout(3e4)}),data=await response.json();if(!response.ok)throw new Error(`HTTP ${response.status}: ${data.message||response.statusText}`);return data}catch(error){throw error}}async getSaldo(){if(!this.hasFeature("saldo"))throw new Error(`Saldo não disponível para ${this.currentAccount.provider}`);const routes=API_ROUTES[this.currentAccount.provider],data=await this.makeRequest(routes.saldo);return"bitso"===this.currentAccount.provider?{saldo:data.available||data.saldoDisponivel||0,saldoFormatado:`R$ ${(data.available||0).toFixed(2)}`,moeda:"BRL",provider:"bitso"}:data}async getExtrato(params){var _a3;if(!this.hasFeature("extrato")){const error=`Extrato não disponível para ${this.currentAccount.provider}`;throw new Error(error)}let endpoint=API_ROUTES[this.currentAccount.provider].extrato;if(params){endpoint+=`?${new URLSearchParams(params).toString()}`}const data=await this.makeRequest(endpoint);if("bitso"===this.currentAccount.provider){if(data.sucesso&&(null==(_a3=data.data)?void 0:_a3.transacoes))return data.data;throw new Error("Resposta inválida do backend Bitso")}return data}async enviarPix(dados){if(!this.hasFeature("pix"))throw new Error(`PIX não disponível para ${this.currentAccount.provider}`);const endpoint=API_ROUTES[this.currentAccount.provider].pixEnviar,payload={key:dados.chave,amount:dados.valor,description:dados.descricao||"",provider:this.currentAccount.provider};return await this.makeRequest(endpoint,{method:"POST",body:JSON.stringify(payload)})}async consultarChavePix(chave){if(!this.hasFeature("pix"))throw new Error(`PIX não disponível para ${this.currentAccount.provider}`);const endpoint=API_ROUTES[this.currentAccount.provider].pixConsultar;return await this.makeRequest(endpoint,{method:"POST",body:JSON.stringify({chave:chave})})}async listarChavesPix(){if(!this.hasFeature("chaves"))throw new Error(`Chaves PIX não disponível para ${this.currentAccount.provider}`);const endpoint=API_ROUTES[this.currentAccount.provider].pixChaves;return await this.makeRequest(endpoint)}};function AccountSelector$1({onAccountChange:onAccountChange}){const[currentAccount,setCurrentAccount]=reactExports.useState(apiRouter.getCurrentAccount()),getProviderBadge=provider=>({bmp:{label:"BMP",color:"bg-blue-100 text-blue-800"},"bmp-531":{label:"BMP-531",color:"bg-indigo-100 text-indigo-800"},bitso:{label:"Bitso",color:"bg-orange-100 text-orange-800"}}[provider]||{label:provider.toUpperCase(),color:"bg-gray-100 text-gray-800"}),getStatusIcon=provider=>"bmp"===provider||"bmp-531"===provider?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 text-green-500"}):jsxRuntimeExports.jsx(TriangleAlert,{className:"h-3 w-3 text-orange-500"});return jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",className:"h-auto p-0 hover:bg-transparent w-full",children:jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl w-full transition-all duration-200 hover:shadow-xl hover:scale-[1.02]",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-blue-500/20",children:jsxRuntimeExports.jsx(Building,{className:"h-5 w-5 text-blue-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Conta Ativa"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[getStatusIcon(currentAccount.provider),jsxRuntimeExports.jsx(Badge,{className:`text-xs ${getProviderBadge(currentAccount.provider).color}`,children:getProviderBadge(currentAccount.provider).label})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-foreground font-bold text-sm truncate",children:[currentAccount.bankInfo.bank,currentAccount.bankInfo.agency&&` • Ag: ${currentAccount.bankInfo.agency}`,currentAccount.bankInfo.account&&` • Conta: ${currentAccount.bankInfo.account}`]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:currentAccount.displayName})]})]}),jsxRuntimeExports.jsx(ChevronDown,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"})]})})})}),jsxRuntimeExports.jsx(DropdownMenuContent,{className:"w-80",align:"end",sideOffset:8,children:ACCOUNTS.map(account=>jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>(accountId=>{if(apiRouter.switchToAccount(accountId)){const newAccount=apiRouter.getCurrentAccount();setCurrentAccount(newAccount),null==onAccountChange||onAccountChange(newAccount),localStorage.setItem("selected_account_id",accountId)}})(account.id),className:"cursor-pointer p-3 "+(account.id===currentAccount.id?"bg-accent":""),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 w-full",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-muted",children:jsxRuntimeExports.jsx(Building,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm truncate",children:account.displayName}),account.id===currentAccount.id&&jsxRuntimeExports.jsx(Badge,{variant:"default",className:"text-xs",children:"Ativa"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[jsxRuntimeExports.jsx(Badge,{className:`text-xs ${getProviderBadge(account.provider).color}`,children:getProviderBadge(account.provider).label}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[getStatusIcon(account.provider),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"bmp"===account.provider?"Produção":"Mock"})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[account.bankInfo.bank,account.bankInfo.agency&&` • ${account.bankInfo.agency}`,account.bankInfo.account&&` • ${account.bankInfo.account}`]})]})]})},account.id))})]})}"undefined"!=typeof window&&(window.apiRouter=apiRouter);var BankProvider=(BankProvider2=>(BankProvider2.BMP="bmp",BankProvider2.BMP_531="bmp-531",BankProvider2.BITSO="bitso",BankProvider2.BRADESCO="bradesco",BankProvider2.ITAU="itau",BankProvider2.SANTANDER="santander",BankProvider2.CAIXA="caixa",BankProvider2.BB="bb",BankProvider2.NUBANK="nubank",BankProvider2.INTER="inter",BankProvider2.C6="c6",BankProvider2))(BankProvider||{}),TransactionType=(TransactionType2=>(TransactionType2.CREDIT="CRÉDITO",TransactionType2.DEBIT="DÉBITO",TransactionType2))(TransactionType||{}),TransactionStatus=(TransactionStatus2=>(TransactionStatus2.PENDING="PENDING",TransactionStatus2.COMPLETED="COMPLETED",TransactionStatus2.FAILED="FAILED",TransactionStatus2.CANCELLED="CANCELLED",TransactionStatus2))(TransactionStatus||{}),BankFeature=(BankFeature2=>(BankFeature2.BALANCE="balance",BankFeature2.STATEMENT="statement",BankFeature2.PIX_SEND="pix_send",BankFeature2.PIX_RECEIVE="pix_receive",BankFeature2.PIX_KEYS="pix_keys",BankFeature2.BOLETO="boleto",BankFeature2.TRANSFER="transfer",BankFeature2.WEBHOOK="webhook",BankFeature2))(BankFeature||{});const BANK_REGISTRY={[BankProvider.BMP]:{provider:BankProvider.BMP,name:"BMP",displayName:"BMP - Banco Master",environments:{development:{name:"development",apiUrl:"https://dev-api.com",timeout:3e4},staging:{name:"staging",apiUrl:"https://api-bank.gruponexus.com.br",timeout:2e4},production:{name:"production",apiUrl:"https://api-bank.gruponexus.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER,BankFeature.BOLETO,BankFeature.WEBHOOK],defaultCredentials:{},rateLimit:{requestsPerMinute:60,requestsPerHour:1e3,burstLimit:10},customHeaders:{"User-Agent":"TCR-BaaS-Frontend/1.0"}},[BankProvider.BITSO]:{provider:BankProvider.BITSO,name:"Bitso",displayName:"Bitso - PIX & Crypto",environments:{development:{name:"development",apiUrl:"https://dev-api.com/api/bitso",timeout:3e4},staging:{name:"staging",apiUrl:"https://api-bank.gruponexus.com.br/api/bitso",timeout:2e4},production:{name:"production",apiUrl:"https://api-bank.gruponexus.com.br/api/bitso",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.WEBHOOK],defaultCredentials:{},rateLimit:{requestsPerMinute:100,requestsPerHour:2e3,burstLimit:20},customHeaders:{"User-Agent":"TCR-BaaS-Frontend/1.0"}},[BankProvider.BMP_531]:{provider:BankProvider.BMP_531,name:"BMP-531",displayName:"BMP 531 - Pagamentos",environments:{development:{name:"development",apiUrl:"https://dev-api.com",timeout:3e4},staging:{name:"staging",apiUrl:"https://api-bank.gruponexus.com.br",timeout:2e4},production:{name:"production",apiUrl:"https://api-bank.gruponexus.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER,BankFeature.WEBHOOK],defaultCredentials:{},rateLimit:{requestsPerMinute:60,requestsPerHour:1e3,burstLimit:10},customHeaders:{"User-Agent":"TCR-BaaS-Frontend/1.0"}},[BankProvider.BRADESCO]:{provider:BankProvider.BRADESCO,name:"Bradesco",displayName:"Banco Bradesco",environments:{development:{name:"development",apiUrl:"https://sandbox.bradesco.com.br",timeout:3e4},production:{name:"production",apiUrl:"https://api.bradesco.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER,BankFeature.BOLETO],defaultCredentials:{},rateLimit:{requestsPerMinute:30,requestsPerHour:500}},[BankProvider.ITAU]:{provider:BankProvider.ITAU,name:"Itau",displayName:"Banco Itaú",environments:{development:{name:"development",apiUrl:"https://sandbox.itau.com.br",timeout:3e4},production:{name:"production",apiUrl:"https://api.itau.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER,BankFeature.BOLETO],defaultCredentials:{},rateLimit:{requestsPerMinute:50,requestsPerHour:800}},[BankProvider.SANTANDER]:{provider:BankProvider.SANTANDER,name:"Santander",displayName:"Banco Santander",environments:{development:{name:"development",apiUrl:"https://sandbox.santander.com.br",timeout:3e4},production:{name:"production",apiUrl:"https://api.santander.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.TRANSFER,BankFeature.BOLETO],defaultCredentials:{},rateLimit:{requestsPerMinute:40,requestsPerHour:600}},[BankProvider.CAIXA]:{provider:BankProvider.CAIXA,name:"Caixa",displayName:"Caixa Econômica Federal",environments:{development:{name:"development",apiUrl:"https://sandbox.caixa.gov.br",timeout:3e4},production:{name:"production",apiUrl:"https://api.caixa.gov.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER,BankFeature.BOLETO],defaultCredentials:{},rateLimit:{requestsPerMinute:20,requestsPerHour:300}},[BankProvider.BB]:{provider:BankProvider.BB,name:"BB",displayName:"Banco do Brasil",environments:{development:{name:"development",apiUrl:"https://sandbox.bb.com.br",timeout:3e4},production:{name:"production",apiUrl:"https://api.bb.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER,BankFeature.BOLETO],defaultCredentials:{},rateLimit:{requestsPerMinute:60,requestsPerHour:1200}},[BankProvider.NUBANK]:{provider:BankProvider.NUBANK,name:"Nubank",displayName:"Nubank",environments:{development:{name:"development",apiUrl:"https://sandbox.nubank.com.br",timeout:3e4},production:{name:"production",apiUrl:"https://api.nubank.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER],defaultCredentials:{},rateLimit:{requestsPerMinute:100,requestsPerHour:2e3}},[BankProvider.INTER]:{provider:BankProvider.INTER,name:"Inter",displayName:"Banco Inter",environments:{development:{name:"development",apiUrl:"https://sandbox.bancointer.com.br",timeout:3e4},production:{name:"production",apiUrl:"https://api.bancointer.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER,BankFeature.BOLETO],defaultCredentials:{},rateLimit:{requestsPerMinute:80,requestsPerHour:1500}},[BankProvider.C6]:{provider:BankProvider.C6,name:"C6Bank",displayName:"C6 Bank",environments:{development:{name:"development",apiUrl:"https://sandbox.c6bank.com.br",timeout:3e4},production:{name:"production",apiUrl:"https://api.c6bank.com.br",timeout:15e3}},features:[BankFeature.BALANCE,BankFeature.STATEMENT,BankFeature.PIX_SEND,BankFeature.PIX_RECEIVE,BankFeature.PIX_KEYS,BankFeature.TRANSFER],defaultCredentials:{},rateLimit:{requestsPerMinute:60,requestsPerHour:1e3}}},_BankConfigManager=class _BankConfigManager{constructor(){__publicField(this,"currentEnvironment","development"),this.currentEnvironment="production"}static getInstance(){return _BankConfigManager.instance||(_BankConfigManager.instance=new _BankConfigManager),_BankConfigManager.instance}getBankConfig(provider,customCredentials,environment){const bankSettings=BANK_REGISTRY[provider];if(!bankSettings)throw new Error(`Banco ${provider} não encontrado no registry`);const env=environment||this.currentEnvironment,envConfig=bankSettings.environments[env];if(!envConfig)throw new Error(`Ambiente ${env} não configurado para ${provider}`);return{provider:bankSettings.provider,name:bankSettings.name,displayName:bankSettings.displayName,apiUrl:envConfig.apiUrl,timeout:envConfig.timeout,features:bankSettings.features,credentials:{...bankSettings.defaultCredentials,...customCredentials},rateLimit:bankSettings.rateLimit,customHeaders:bankSettings.customHeaders}}getAvailableProviders(){return Object.keys(BANK_REGISTRY)}getProvidersByFeature(feature){return Object.values(BANK_REGISTRY).filter(bank=>bank.features.includes(feature)).map(bank=>bank.provider)}isProviderAvailable(provider){return provider in BANK_REGISTRY}getBankInfo(provider){const bankSettings=BANK_REGISTRY[provider];return bankSettings?{provider:bankSettings.provider,name:bankSettings.name,displayName:bankSettings.displayName,features:bankSettings.features}:null}setEnvironment(env){this.currentEnvironment=env}getCurrentEnvironment(){return this.currentEnvironment}detectEnvironment(){if("undefined"!=typeof window){const hostname=window.location.hostname;return hostname.includes("localhost")||hostname.includes("127.0.0.1")?"development":hostname.includes("staging")||hostname.includes("dev")?"staging":"production"}return"production"}};__publicField(_BankConfigManager,"instance");const bankConfigManager=_BankConfigManager.getInstance();class BaseBankProvider{constructor(config2){__publicField(this,"provider"),__publicField(this,"config"),__publicField(this,"features"),__publicField(this,"logger"),this.provider=config2.provider,this.config=config2,this.features=config2.features,this.logger={info:(message2,data)=>this.log("info",message2,data),warn:(message2,data)=>this.log("warn",message2,data),error:(message2,data)=>this.log("error",message2,data)}}hasFeature(feature){return this.features.includes(feature)}isConfigured(){const credentials=this.config.credentials;return!(!credentials.apiKey||!credentials.apiSecret)||(!(!credentials.clientId||!credentials.clientSecret)||(!(!credentials.username||!credentials.password)||!!credentials.token))}createSuccessResponse(data){return{success:!0,data:data,provider:this.provider,timestamp:(new Date).toISOString(),requestId:this.generateRequestId()}}createErrorResponse(code,message2,details){return{success:!1,error:{code:code,message:message2,details:details},provider:this.provider,timestamp:(new Date).toISOString(),requestId:this.generateRequestId()}}generateRequestId(){return`${this.provider}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`}log(level,message2,data){this.provider,(new Date).toISOString()}handleError(error){var _a3,_b3,_c2;return this.logger.error("Erro no provider",{error:error.message||error,stack:error.stack,response:null==(_a3=error.response)?void 0:_a3.data}),error.response?this.createErrorResponse((null==(_b3=error.response.status)?void 0:_b3.toString())||"HTTP_ERROR",(null==(_c2=error.response.data)?void 0:_c2.message)||error.message||"Erro na API do banco",error.response.data):"ECONNABORTED"===error.code?this.createErrorResponse("TIMEOUT","Timeout na conexão com o banco"):"ENOTFOUND"===error.code||"ECONNREFUSED"===error.code?this.createErrorResponse("CONNECTION_ERROR","Erro de conexão com o banco"):this.createErrorResponse("UNKNOWN_ERROR",error.message||"Erro desconhecido",error)}normalizeAmount(amount){return Math.round(amount)/100}formatDate(date2){return"string"==typeof date2?date2:date2.toISOString()}async applyRateLimit(){if(this.config.rateLimit){const delay=Math.ceil(6e4/this.config.rateLimit.requestsPerMinute);await new Promise(resolve=>setTimeout(resolve,delay))}}validateFilters(filters){if(filters.dateFrom&&filters.dateTo){if(new Date(filters.dateFrom)>new Date(filters.dateTo))return{valid:!1,error:"Data inicial não pode ser maior que data final"}}return filters.limit&&(filters.limit<1||filters.limit>1e3)?{valid:!1,error:"Limite deve estar entre 1 e 1000"}:{valid:!0}}async getPixKeys(accountId){return this.createErrorResponse("NOT_SUPPORTED","PIX não suportado por este banco")}async sendPix(pixData,accountId){return this.createErrorResponse("NOT_SUPPORTED","Envio de PIX não suportado por este banco")}async generatePixQR(amount,description,accountId){return this.createErrorResponse("NOT_SUPPORTED","QR Code PIX não suportado por este banco")}async makeRequest(method,endpoint,body,additionalHeaders){const url=`${this.config.apiUrl||"https://api-bank.gruponexus.com.br"}${endpoint}`,headers={"Content-Type":"application/json",Accept:"application/json",...additionalHeaders},token=localStorage.getItem("auth_token");token&&(headers.Authorization=`Bearer ${token}`);try{this.logger.info(`${method} ${endpoint}`,{hasBody:!!body});const requestInit={method:method,headers:headers,signal:AbortSignal.timeout(3e4)};body&&"GET"!==method&&(requestInit.body=JSON.stringify(body));const response=await fetch(url,requestInit);if(!response.ok){const errorText=await response.text();throw new Error(`HTTP ${response.status}: ${response.statusText} - ${errorText}`)}const data=await response.json();return this.logger.info(`${method} ${endpoint} - sucesso`,{status:response.status}),data}catch(error){if(this.logger.error(`${method} ${endpoint} - erro`,error),"TimeoutError"===error.name)throw new Error("Timeout: A requisição demorou muito para responder");if("AbortError"===error.name)throw new Error("Requisição cancelada");throw error}}}class BmpProvider extends BaseBankProvider{constructor(config2){super(config2),__publicField(this,"baseUrl"),this.baseUrl=config2.apiUrl,this.logger.info("BMP Provider configurado",{baseUrl:this.baseUrl,features:this.features})}getJwtToken(){try{return sessionStorage.getItem("jwt_token")||localStorage.getItem("jwt_token")||sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token")}catch(error){return this.logger.warn("Erro ao obter JWT token",error),null}}async healthCheck(){try{const startTime=Date.now();await this.makeRequest("GET","/internal/account/balance");const latency=Date.now()-startTime;return this.createSuccessResponse({status:"healthy",latency:latency})}catch(error){return this.handleError(error)}}async getBalance(accountId){try{this.logger.info("Consultando saldo BMP",{accountId:accountId});const response=await this.makeRequest("GET","/internal/account/saldo"),standardBalance={provider:BankProvider.BMP,accountId:accountId||"bmp-main",currency:"BRL",available:response.saldoDisponivel||0,blocked:response.saldoBloqueado||0,total:(response.saldoDisponivel||0)+(response.saldoBloqueado||0),lastUpdate:response.atualizadoEm||(new Date).toISOString(),raw:response};return this.logger.info("Saldo BMP obtido com sucesso",{available:standardBalance.available,total:standardBalance.total}),this.createSuccessResponse(standardBalance)}catch(error){return this.logger.error("Erro ao consultar saldo BMP",error),this.handleError(error)}}async getStatement(filters,accountId){var _a3,_b3;try{this.logger.info("Consultando extrato BMP",{filters:filters,accountId:accountId});const validation=this.validateFilters(filters||{});if(!validation.valid)return this.createErrorResponse("INVALID_FILTERS",validation.error);const params={};(null==filters?void 0:filters.limit)&&(params.limit=filters.limit),(null==filters?void 0:filters.cursor)&&(params.cursor=filters.cursor),(null==filters?void 0:filters.dateFrom)&&(params.de=filters.dateFrom),(null==filters?void 0:filters.dateTo)&&(params.ate=filters.dateTo);const response=await this.makeRequest("GET","/internal/account/extrato",params),transactions=(response.items||[]).map(item=>({provider:BankProvider.BMP,id:item.id||`bmp-${Date.now()}-${Math.random()}`,externalId:item.external_id,accountId:accountId||"bmp-main",amount:this.normalizeAmount(item.value||0),currency:"BRL",type:"CRÉDITO"===item.type?TransactionType.CREDIT:TransactionType.DEBIT,status:item.identified?TransactionStatus.COMPLETED:TransactionStatus.PENDING,description:item.client||item.document||"Transação BMP",date:item.dateTime||(new Date).toISOString(),counterparty:{name:item.client,document:item.document},metadata:{code:item.code,identified:item.identified},raw:item})),statementResponse={provider:BankProvider.BMP,accountId:accountId||"bmp-main",transactions:transactions,pagination:{cursor:response.next_cursor,hasNext:!!response.has_more,total:response.total},summary:{totalCredits:transactions.filter(t3=>t3.type===TransactionType.CREDIT).reduce((sum2,t3)=>sum2+t3.amount,0),totalDebits:transactions.filter(t3=>t3.type===TransactionType.DEBIT).reduce((sum2,t3)=>sum2+t3.amount,0),netAmount:transactions.reduce((sum2,t3)=>t3.type===TransactionType.CREDIT?sum2+t3.amount:sum2-t3.amount,0),transactionCount:transactions.length},raw:response};return this.logger.info("Extrato BMP obtido com sucesso",{transactionsCount:transactions.length,totalCredits:null==(_a3=statementResponse.summary)?void 0:_a3.totalCredits,totalDebits:null==(_b3=statementResponse.summary)?void 0:_b3.totalDebits}),this.createSuccessResponse(statementResponse)}catch(error){return this.logger.error("Erro ao consultar extrato BMP",error),this.handleError(error)}}async getTransaction(transactionId,accountId){try{return this.logger.info("Buscando transação específica BMP",{transactionId:transactionId,accountId:accountId}),this.createErrorResponse("NOT_IMPLEMENTED","Busca de transação específica não implementada para BMP")}catch(error){return this.handleError(error)}}async makeRequest(method,endpoint,params){await this.applyRateLimit();let body,url=`${this.baseUrl}${endpoint}`;if("GET"===method.toUpperCase()&&params){url+=`?${new URLSearchParams(params).toString()}`}else params&&(body=JSON.stringify(params));const headers={"Content-Type":"application/json",...this.config.customHeaders},token=this.getJwtToken();token&&(headers.Authorization=`Bearer ${token}`),this.logger.info(`Requisição BMP: ${method} ${url}`,params);const controller=new AbortController,timeoutId=setTimeout(()=>controller.abort(),3e4);try{const response=await fetch(url,{method:method.toUpperCase(),headers:headers,body:body,redirect:"follow",signal:controller.signal});if(clearTimeout(timeoutId),!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return response.json()}catch(error){if(clearTimeout(timeoutId),"AbortError"===error.name){const timeoutError=new Error(`Timeout: Requisição para ${url} demorou mais de 30000ms`);throw timeoutError.code="TIMEOUT",timeoutError}throw error}}async sendPix(pixData,accountId){try{this.logger.info("Enviando PIX via BMP",{amount:pixData.amount,keyType:pixData.keyType,accountId:accountId});const requestData={chave:pixData.key,valor:pixData.amount,descricao:pixData.description||"Transferência PIX"},response=await this.makeRequest("POST","/internal/pix/enviar",requestData),standardTransaction={provider:BankProvider.BMP,id:response.codigoTransacao||`bmp-pix-${Date.now()}`,externalId:response.codigoTransacao,accountId:accountId||"bmp-main",amount:pixData.amount,currency:"BRL",type:TransactionType.DEBIT,status:response.sucesso?TransactionStatus.COMPLETED:TransactionStatus.FAILED,description:`PIX para ${pixData.key}: ${pixData.description||"Transferência PIX"}`,date:(new Date).toISOString(),counterparty:{account:pixData.key},metadata:{pixKey:pixData.key,pixKeyType:pixData.keyType,status:response.status},raw:response};return this.logger.info("PIX BMP enviado com sucesso",{transactionId:standardTransaction.id,amount:pixData.amount,status:standardTransaction.status}),this.createSuccessResponse(standardTransaction)}catch(error){return this.logger.error("Erro ao enviar PIX via BMP",error),this.handleError(error)}}async getPixKeys(accountId){try{this.logger.info("Listando chaves PIX via BMP",{accountId:accountId});const chaves=(await this.makeRequest("GET","/internal/pix/chaves/listar")).chaves||[];return this.logger.info("Chaves PIX BMP obtidas com sucesso",{totalChaves:chaves.length}),this.createSuccessResponse(chaves)}catch(error){return this.logger.error("Erro ao listar chaves PIX via BMP",error),this.handleError(error)}}async generatePixQR(amount,description,accountId){try{return this.logger.info("Gerando QR Code PIX via BMP",{amount:amount,description:description,accountId:accountId}),this.createErrorResponse("NOT_IMPLEMENTED","Geração de QR Code PIX não implementada para BMP. Use endpoint específico se disponível.")}catch(error){return this.logger.error("Erro ao gerar QR Code PIX via BMP",error),this.handleError(error)}}normalizeAmount(amount){return amount}}class Bmp531Provider extends BaseBankProvider{constructor(config2){super(config2),__publicField(this,"baseUrl"),this.baseUrl=config2.apiUrl,this.logger.info("BMP-531 Provider configurado",{baseUrl:this.baseUrl,features:this.features})}getJwtToken(){try{return sessionStorage.getItem("jwt_token")||localStorage.getItem("jwt_token")||sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token")}catch(error){return this.logger.warn("Erro ao obter JWT token",error),null}}async healthCheck(){try{const startTime=Date.now();try{await this.makeRequest("GET","/bmp-531/status")}catch(error){}const latency=Date.now()-startTime;return this.createSuccessResponse({status:"healthy",latency:latency})}catch(error){return this.handleError(error)}}async getBalance(accountId){try{const dadosBancarios={agencia:PUBLIC_ENV.BMP_AGENCIA_TTF,agencia_digito:PUBLIC_ENV.BMP_AGENCIA_DIGITO_TTF,conta:PUBLIC_ENV.BMP_CONTA_TTF,conta_digito:PUBLIC_ENV.BMP_CONTA_DIGITO_TTF,conta_pgto:PUBLIC_ENV.BMP_CONTA_PGTO_TTF,tipo_conta:PUBLIC_ENV.BMP_TIPO_CONTA_TTF,modelo_conta:PUBLIC_ENV.BMP_MODELO_CONTA_TTF,numero_banco:PUBLIC_ENV.BMP_531_BANCO};let response;try{response=await this.makeRequest("GET","/bmp-531/account/saldo",dadosBancarios)}catch(error){response={saldoDisponivel:0,saldoBloqueado:0,atualizadoEm:(new Date).toISOString()}}const standardBalance={provider:BankProvider.BMP_531,accountId:accountId||"bmp-531-ttf",currency:"BRL",available:response.saldoDisponivel||0,blocked:response.saldoBloqueado||0,total:(response.saldoDisponivel||0)+(response.saldoBloqueado||0),lastUpdate:response.atualizadoEm||(new Date).toISOString(),raw:response};return this.logger.info("Saldo BMP-531 obtido com sucesso",{available:standardBalance.available,total:standardBalance.total}),this.createSuccessResponse(standardBalance)}catch(error){return this.logger.error("Erro ao consultar saldo BMP-531",{message:(null==error?void 0:error.message)||"Erro desconhecido",name:(null==error?void 0:error.name)||"Unknown"}),this.handleError(error)}}async getStatement(filters,accountId){var _a3,_b3;try{this.logger.info("Consultando extrato BMP-531",{hasFilters:!!filters,hasAccountId:!!accountId});const validation=this.validateFilters(filters||{});if(!validation.valid)return this.createErrorResponse("INVALID_FILTERS",validation.error);const dadosBancarios={agencia:PUBLIC_ENV.BMP_AGENCIA_TTF,agencia_digito:PUBLIC_ENV.BMP_AGENCIA_DIGITO_TTF,conta:PUBLIC_ENV.BMP_CONTA_TTF,conta_digito:PUBLIC_ENV.BMP_CONTA_DIGITO_TTF,conta_pgto:PUBLIC_ENV.BMP_CONTA_PGTO_TTF,tipo_conta:PUBLIC_ENV.BMP_TIPO_CONTA_TTF,modelo_conta:PUBLIC_ENV.BMP_MODELO_CONTA_TTF,numero_banco:PUBLIC_ENV.BMP_531_BANCO},params={};let response;(null==filters?void 0:filters.limit)&&(params.limit=filters.limit),(null==filters?void 0:filters.cursor)&&(params.cursor=filters.cursor),(null==filters?void 0:filters.dateFrom)&&(params.de=filters.dateFrom),(null==filters?void 0:filters.dateTo)&&(params.ate=filters.dateTo);try{const allParams={...params,...dadosBancarios};response=await this.makeRequest("GET","/bmp-531/account/extrato",allParams)}catch(error){response={items:[],next_cursor:null,has_more:!1,total:0}}const transactions=(response.items||[]).map(item=>({provider:BankProvider.BMP_531,id:item.id||`bmp-531-${Date.now()}-${Math.random()}`,externalId:item.external_id,accountId:accountId||"bmp-531-ttf",amount:this.normalizeAmount(item.value||0),currency:"BRL",type:"CRÉDITO"===item.type?TransactionType.CREDIT:TransactionType.DEBIT,status:item.identified?TransactionStatus.COMPLETED:TransactionStatus.PENDING,description:item.client||item.document||"Transação BMP-531",date:item.dateTime||(new Date).toISOString(),counterparty:{name:item.client,document:item.document},metadata:{code:item.code,identified:item.identified},raw:item})),statementResponse={provider:BankProvider.BMP_531,accountId:accountId||"bmp-531-ttf",transactions:transactions,pagination:{cursor:response.next_cursor,hasNext:!!response.has_more,total:response.total},summary:{totalCredits:transactions.filter(t3=>t3.type===TransactionType.CREDIT).reduce((sum2,t3)=>sum2+t3.amount,0),totalDebits:transactions.filter(t3=>t3.type===TransactionType.DEBIT).reduce((sum2,t3)=>sum2+t3.amount,0),netAmount:transactions.reduce((sum2,t3)=>t3.type===TransactionType.CREDIT?sum2+t3.amount:sum2-t3.amount,0),transactionCount:transactions.length},raw:response};return this.logger.info("Extrato BMP-531 obtido com sucesso",{transactionsCount:transactions.length,totalCredits:null==(_a3=statementResponse.summary)?void 0:_a3.totalCredits,totalDebits:null==(_b3=statementResponse.summary)?void 0:_b3.totalDebits}),this.createSuccessResponse(statementResponse)}catch(error){return this.logger.error("Erro ao consultar extrato BMP-531",error),this.handleError(error)}}async getTransaction(transactionId,accountId){try{return this.logger.info("Buscando transação específica BMP-531",{hasTransactionId:!!transactionId,hasAccountId:!!accountId}),this.createErrorResponse("NOT_IMPLEMENTED","Busca de transação específica não implementada para BMP-531")}catch(error){return this.handleError(error)}}async makeRequest(method,endpoint,params,bodyData){await this.applyRateLimit();let body,url=`${this.baseUrl}${endpoint}`;if("GET"===method.toUpperCase()&&params){const searchParams=new URLSearchParams;Object.entries(params).forEach(([key,value])=>{null!=value&&searchParams.append(key,String(value))}),url+=`?${searchParams.toString()}`,bodyData&&(body=JSON.stringify(bodyData))}else bodyData?body=JSON.stringify(bodyData):params&&(body=JSON.stringify(params));const headers={"Content-Type":"application/json",...this.config.customHeaders},token=this.getJwtToken();token&&(headers.Authorization=`Bearer ${token}`),this.logger.info(`Requisição BMP-531: ${method} ${url}`,params);const controller=new AbortController,timeoutId=setTimeout(()=>controller.abort(),3e4);try{const response=await fetch(url,{method:method.toUpperCase(),headers:headers,body:body,redirect:"follow",signal:controller.signal});if(clearTimeout(timeoutId),!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return response.json()}catch(error){if(clearTimeout(timeoutId),"AbortError"===error.name){const timeoutError=new Error(`Timeout: Requisição para ${url} demorou mais de 30000ms`);throw timeoutError.code="TIMEOUT",timeoutError}throw error}}async sendPix(pixData,accountId){try{this.logger.info("Enviando PIX via BMP-531",{amount:pixData.amount,keyType:pixData.keyType,accountId:accountId});const dadosBancarios={agencia:PUBLIC_ENV.BMP_AGENCIA_TTF,agencia_digito:PUBLIC_ENV.BMP_AGENCIA_DIGITO_TTF,conta:PUBLIC_ENV.BMP_CONTA_TTF,conta_digito:PUBLIC_ENV.BMP_CONTA_DIGITO_TTF,conta_pgto:PUBLIC_ENV.BMP_CONTA_PGTO_TTF,tipo_conta:PUBLIC_ENV.BMP_TIPO_CONTA_TTF,modelo_conta:PUBLIC_ENV.BMP_MODELO_CONTA_TTF,numero_banco:PUBLIC_ENV.BMP_531_BANCO},requestData={chave:pixData.key,valor:pixData.amount,descricao:pixData.description||"Transferência PIX",informacoesAdicionais:pixData.description||"Transferência PIX via BMP-531",dadosBancarios:dadosBancarios},response=await this.makeRequest("POST","/bmp-531/pix/enviar",{},requestData),standardTransaction={provider:BankProvider.BMP_531,id:response.codigoTransacao||`bmp-531-pix-${Date.now()}`,externalId:response.codigoTransacao,accountId:accountId||"bmp-531-ttf",amount:pixData.amount,currency:"BRL",type:TransactionType.DEBIT,status:response.sucesso?TransactionStatus.COMPLETED:TransactionStatus.FAILED,description:`PIX para ${pixData.key}: ${pixData.description||"Transferência PIX"}`,date:(new Date).toISOString(),counterparty:{account:pixData.key},metadata:{pixKey:pixData.key,pixKeyType:pixData.keyType,status:response.status},raw:response};return this.logger.info("PIX BMP-531 enviado com sucesso",{transactionId:standardTransaction.id,amount:pixData.amount,status:standardTransaction.status}),this.createSuccessResponse(standardTransaction)}catch(error){return this.logger.error("Erro ao enviar PIX via BMP-531",error),this.handleError(error)}}async getPixKeys(accountId){try{let response;try{response=await this.makeRequest("GET","/bmp-531/pix/chaves/listar")}catch(error){this.logger.warn("Erro ao listar chaves PIX BMP-531",error),response={chaves:[]}}const chaves=response.chaves||[];return this.logger.info("Chaves PIX BMP-531 obtidas com sucesso",{totalChaves:chaves.length}),this.createSuccessResponse(chaves)}catch(error){return this.logger.error("Erro ao listar chaves PIX via BMP-531",error),this.handleError(error)}}async generatePixQR(amount,description,accountId){try{this.logger.info("Gerando QR Code PIX via BMP-531",{amount:amount,hasDescription:!!description,hasAccountId:!!accountId});const requestData={valor:amount,informacoesAdicionais:description||"QR Code PIX",dadosBancarios:{agencia:PUBLIC_ENV.BMP_AGENCIA_TTF,agencia_digito:PUBLIC_ENV.BMP_AGENCIA_DIGITO_TTF,conta:PUBLIC_ENV.BMP_CONTA_TTF,conta_digito:PUBLIC_ENV.BMP_CONTA_DIGITO_TTF,conta_pgto:PUBLIC_ENV.BMP_CONTA_PGTO_TTF,tipo_conta:PUBLIC_ENV.BMP_TIPO_CONTA_TTF,modelo_conta:PUBLIC_ENV.BMP_MODELO_CONTA_TTF,numero_banco:PUBLIC_ENV.BMP_531_BANCO}},response=await this.makeRequest("POST","/bmp-531/pix/qrcode/estatico",{},requestData);return this.createSuccessResponse({qrCode:response.qrCode||response.emv||"",txId:response.txId||response.id||`bmp-531-qr-${Date.now()}`})}catch(error){return this.logger.error("Erro ao gerar QR Code PIX via BMP-531",error),this.handleError(error)}}normalizeAmount(amount){return amount}}class BitsoProvider extends BaseBankProvider{constructor(config2){super(config2),__publicField(this,"baseUrl"),this.baseUrl=config2.apiUrl,this.logger.info("Bitso Provider configurado",{baseUrl:this.baseUrl,features:this.features})}async healthCheck(){try{const startTime=Date.now();await this.makeRequest("GET","/balance/saldos-disponiveis");const latency=Date.now()-startTime;return this.createSuccessResponse({status:"healthy",latency:latency})}catch(error){return this.handleError(error)}}async getBalance(accountId){var _a3;try{this.logger.info("Consultando saldo Bitso",{hasAccountId:!!accountId});const response=await this.makeRequest("GET","/balance/saldos-disponiveis"),balances=(null==(_a3=response.data)?void 0:_a3.balances)||response.balances;if(!balances||!Array.isArray(balances))return this.createErrorResponse("INVALID_RESPONSE","Resposta inválida da API Bitso");const brlBalance=balances.find(b2=>{var _a4;return"brl"===(null==(_a4=b2.currency)?void 0:_a4.toLowerCase())});if(!brlBalance)return this.createErrorResponse("NO_BRL_BALANCE","Saldo BRL não encontrado no Bitso");const standardBalance={provider:BankProvider.BITSO,accountId:accountId||"bitso-crypto",currency:"BRL",available:parseFloat(brlBalance.available||"0"),blocked:parseFloat(brlBalance.locked||"0"),total:parseFloat(brlBalance.total||"0"),lastUpdate:(new Date).toISOString(),raw:response};return this.logger.info("Saldo Bitso obtido com sucesso",{available:standardBalance.available,total:standardBalance.total}),this.createSuccessResponse(standardBalance)}catch(error){return this.logger.error("Erro ao consultar saldo Bitso",error),this.handleError(error)}}async getStatement(filters,accountId){var _a3,_b3;try{this.logger.info("Consultando extrato Bitso",{hasFilters:!!filters,hasAccountId:!!accountId});const validation=this.validateFilters(filters||{});if(!validation.valid)return this.createErrorResponse("INVALID_FILTERS",validation.error);const params={currency:"brl",limit:(null==filters?void 0:filters.limit)||1e3};(null==filters?void 0:filters.cursor)&&(params.cursor=filters.cursor),(null==filters?void 0:filters.dateFrom)&&(params.start_date=filters.dateFrom),(null==filters?void 0:filters.dateTo)&&(params.end_date=filters.dateTo);const response=await this.makeRequest("GET","/pix/extrato/conta",params),allTransactions=[];if(response.fundings){const fundingTxs=response.fundings.map(item=>{var _a4;return{provider:BankProvider.BITSO,id:item.id||`bitso-funding-${Date.now()}-${Math.random()}`,externalId:item.external_id,accountId:accountId||"bitso-crypto",amount:parseFloat(item.amount||"0"),currency:(null==(_a4=item.currency)?void 0:_a4.toUpperCase())||"BRL",type:TransactionType.CREDIT,status:this.mapBitsoStatus(item.status),description:item.description||item.method||"Recebimento PIX Bitso",date:item.created_at||(new Date).toISOString(),pixInfo:{endToEndId:item.end_to_end_id,key:item.pix_key},metadata:{method:item.method,status:item.status},raw:item}});allTransactions.push(...fundingTxs)}if(response.withdrawals){const withdrawalTxs=response.withdrawals.map(item=>{var _a4;return{provider:BankProvider.BITSO,id:item.id||`bitso-withdrawal-${Date.now()}-${Math.random()}`,externalId:item.external_id,accountId:accountId||"bitso-crypto",amount:parseFloat(item.amount||"0"),currency:(null==(_a4=item.currency)?void 0:_a4.toUpperCase())||"BRL",type:TransactionType.DEBIT,status:this.mapBitsoStatus(item.status),description:item.description||item.method||"Envio PIX Bitso",date:item.created_at||(new Date).toISOString(),counterparty:{name:item.recipient_name,document:item.recipient_document,bank:item.bank_name},pixInfo:{key:item.pix_key,endToEndId:item.end_to_end_id},metadata:{method:item.method,status:item.status},raw:item}});allTransactions.push(...withdrawalTxs)}allTransactions.sort((a2,b2)=>new Date(b2.date).getTime()-new Date(a2.date).getTime());const statementResponse={provider:BankProvider.BITSO,accountId:accountId||"bitso-crypto",transactions:allTransactions,pagination:{cursor:response.next_cursor,hasNext:response.hasMore||!1,total:allTransactions.length},summary:{totalCredits:allTransactions.filter(t3=>t3.type===TransactionType.CREDIT).reduce((sum2,t3)=>sum2+t3.amount,0),totalDebits:allTransactions.filter(t3=>t3.type===TransactionType.DEBIT).reduce((sum2,t3)=>sum2+t3.amount,0),netAmount:allTransactions.reduce((sum2,t3)=>t3.type===TransactionType.CREDIT?sum2+t3.amount:sum2-t3.amount,0),transactionCount:allTransactions.length},raw:response};return this.logger.info("Extrato Bitso obtido com sucesso",{transactionsCount:allTransactions.length,totalCredits:null==(_a3=statementResponse.summary)?void 0:_a3.totalCredits,totalDebits:null==(_b3=statementResponse.summary)?void 0:_b3.totalDebits}),this.createSuccessResponse(statementResponse)}catch(error){return this.logger.error("Erro ao consultar extrato Bitso",error),this.handleError(error)}}async getTransaction(transactionId,accountId){try{return this.logger.info("Buscando transação específica Bitso",{hasTransactionId:!!transactionId,hasAccountId:!!accountId}),this.createErrorResponse("NOT_IMPLEMENTED","Busca de transação específica não implementada para Bitso")}catch(error){return this.handleError(error)}}async getPixKeys(accountId){try{this.logger.info("Listando chaves PIX Bitso",{hasAccountId:!!accountId});const mockKeys=[{id:"bitso-cpf-key",tipo:"CPF",chave:"Configure sua chave CPF",status:"ATIVA",provider:"bitso"},{id:"bitso-email-key",tipo:"EMAIL",chave:"Configure sua chave Email",status:"ATIVA",provider:"bitso"}];return this.createSuccessResponse(mockKeys)}catch(error){return this.handleError(error)}}async sendPix(pixData,accountId){var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t2,_u;try{if(this.logger.info("Enviando PIX via Bitso",{keyType:pixData.keyType,amount:pixData.amount,hasKey:!!pixData.key,accountId:accountId?"presente":"ausente"}),!pixData.key||!pixData.amount)return this.createErrorResponse("INVALID_PARAMETERS","Chave PIX e valor são obrigatórios");if(pixData.amount<=0)return this.createErrorResponse("INVALID_AMOUNT","Valor deve ser maior que zero");const keyType=pixData.keyType||this.detectPixKeyType(pixData.key);if(!["CPF","CNPJ","EMAIL","PHONE","EVP"].includes(keyType.toUpperCase()))return this.createErrorResponse("INVALID_KEY_TYPE",`Tipo de chave inválido: ${keyType}`);const requestData={pix_key:pixData.key.trim(),pix_key_type:keyType.toUpperCase(),amount:pixData.amount.toString(),currency:"brl",origin_id:`frontend_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,remittanceInformation:pixData.description||`PIX para ${pixData.key}`};this.logger.info("Dados padronizados para envio PIX Bitso",{amount:requestData.amount,currency:requestData.currency,origin_id:requestData.origin_id,hasKey:!!requestData.pix_key});const response=await this.makeRequest("POST","/pix/transferencia",requestData);if(!response.sucesso){let errorCode="PIX_SEND_FAILED",errorMessage=response.mensagem||"Erro ao enviar PIX";return(null==(_a3=response.erro)?void 0:_a3.includes("saldo insuficiente"))||(null==(_b3=response.mensagem)?void 0:_b3.includes("Insufficient"))?(errorCode="INSUFFICIENT_FUNDS",errorMessage="Saldo insuficiente para realizar a transferência"):(null==(_c2=response.erro)?void 0:_c2.includes("chave não encontrada"))||(null==(_d2=response.mensagem)?void 0:_d2.includes("Key not found"))?(errorCode="INVALID_PIX_KEY",errorMessage="Chave PIX não encontrada ou inválida"):((null==(_e3=response.erro)?void 0:_e3.includes("dados inválidos"))||(null==(_f2=response.mensagem)?void 0:_f2.includes("Invalid API request")))&&(errorCode="INVALID_PARAMETERS",errorMessage="Dados fornecidos são inválidos"),this.logger.error("Erro específico no envio PIX Bitso",{errorCode:errorCode,originalError:response.erro,originalMessage:response.mensagem}),this.createErrorResponse(errorCode,errorMessage)}const standardTransaction={provider:BankProvider.BITSO,id:(null==(_g2=response.data)?void 0:_g2.wid)||`bitso-pix-${Date.now()}`,externalId:null==(_h2=response.data)?void 0:_h2.end_to_end_id,accountId:accountId||"bitso-crypto",amount:pixData.amount,currency:"BRL",type:TransactionType.DEBIT,status:this.mapBitsoStatus((null==(_i2=response.data)?void 0:_i2.status)||"pending"),description:pixData.description||`PIX para ${pixData.key} (${keyType})`,date:(new Date).toISOString(),counterparty:{name:null==(_k=null==(_j2=response.data)?void 0:_j2.destinatario)?void 0:_k.nome,document:null==(_m=null==(_l=response.data)?void 0:_l.destinatario)?void 0:_m.documento,bank:null==(_o=null==(_n=response.data)?void 0:_n.destinatario)?void 0:_o.banco},pixInfo:{key:pixData.key,keyType:keyType,endToEndId:null==(_p=response.data)?void 0:_p.end_to_end_id},metadata:{provider:"bitso",wid:null==(_q=response.data)?void 0:_q.wid,origin_id:null==(_r=response.data)?void 0:_r.origin_id,frontend_generated_origin_id:requestData.origin_id},raw:response};return this.logger.info("PIX enviado com sucesso via Bitso",{wid:null==(_s=response.data)?void 0:_s.wid,status:null==(_t2=response.data)?void 0:_t2.status,endToEndId:null==(_u=response.data)?void 0:_u.end_to_end_id,keyType:keyType,amount:pixData.amount}),this.createSuccessResponse(standardTransaction)}catch(error){return this.logger.error("Erro ao enviar PIX via Bitso",{error:error.message,pixData:pixData,accountId:accountId}),this.handleError(error)}}async generatePixQR(amount,description,accountId){try{return this.logger.info("Gerando QR Code PIX via Bitso",{amount:amount,hasDescription:!!description,hasAccountId:!!accountId}),this.createErrorResponse("PIX_KEY_REQUIRED","Para gerar QR Code é necessário configurar uma chave PIX. Use o método criarQRCodeDinamico com chave específica.")}catch(error){return this.handleError(error)}}async criarQRCodeDinamico(dados,accountId){var _a3,_b3,_c2;try{this.logger.info("Criando QR Code dinâmico Bitso",{valor:dados.valor,tipoChave:dados.tipoChave,hasAccountId:!!accountId});const requestData={amount:dados.valor.toString(),currency:"brl",pix_key:dados.chavePix,pix_key_type:dados.tipoChave.toUpperCase(),reference:`QR-${Date.now()}`,remittanceInformation:dados.descricao||`QR Code dinâmico - ${dados.valor}`},response=await this.makeRequest("POST","/pix/qr-dinamico",requestData);return response.sucesso?this.createSuccessResponse({qrCode:(null==(_a3=response.data)?void 0:_a3.qrCode)||(null==(_b3=response.data)?void 0:_b3.qr_code_payload)||"",txId:(null==(_c2=response.data)?void 0:_c2.fid)||`qr-${Date.now()}`}):this.createErrorResponse("QR_CODE_FAILED",response.mensagem||"Erro ao criar QR Code")}catch(error){return this.logger.error("Erro ao criar QR Code dinâmico Bitso",error),this.handleError(error)}}async criarQRCodeEstatico(dados,accountId){var _a3,_b3,_c2;try{this.logger.info("Criando QR Code estático Bitso",{tipoChave:dados.tipoChave,hasAccountId:!!accountId});const requestData={currency:"brl",pix_key:dados.chavePix,pix_key_type:dados.tipoChave.toUpperCase(),reference:`QR-STATIC-${Date.now()}`,remittanceInformation:dados.descricao||"QR Code estático"},response=await this.makeRequest("POST","/pix/qr-estatico",requestData);return response.sucesso?this.createSuccessResponse({qrCode:(null==(_a3=response.data)?void 0:_a3.qrCode)||(null==(_b3=response.data)?void 0:_b3.qr_code_payload)||"",txId:(null==(_c2=response.data)?void 0:_c2.fid)||`qr-static-${Date.now()}`}):this.createErrorResponse("QR_CODE_FAILED",response.mensagem||"Erro ao criar QR Code")}catch(error){return this.logger.error("Erro ao criar QR Code estático Bitso",error),this.handleError(error)}}mapBitsoStatus(status){switch(null==status?void 0:status.toLowerCase()){case"completed":case"settled":return TransactionStatus.COMPLETED;case"pending":case"processing":default:return TransactionStatus.PENDING;case"failed":case"error":return TransactionStatus.FAILED;case"cancelled":case"canceled":return TransactionStatus.CANCELLED}}detectPixKeyType(key){if(!key)return"EVP";const keyTrimmed=key.toString().trim();if(keyTrimmed.includes("@")&&keyTrimmed.includes("."))return"EMAIL";if(keyTrimmed.startsWith("+"))return"PHONE";const onlyNumbers=keyTrimmed.replace(/\D/g,"");return 11===onlyNumbers.length&&/^[0-9]+$/.test(onlyNumbers)?"CPF":14===onlyNumbers.length&&/^[0-9]+$/.test(onlyNumbers)?"CNPJ":32===keyTrimmed.length&&/^[a-zA-Z0-9-]+$/.test(keyTrimmed)?"EVP":onlyNumbers.length>=10&&onlyNumbers.length<=13&&keyTrimmed.match(/^\(?[0-9]{2}\)?[\s\-]?[0-9]{4,5}[\s\-]?[0-9]{4}$/)?"PHONE":(this.logger.info("Tipo de chave não detectado automaticamente, usando EVP como padrão",{hasKey:!!keyTrimmed}),"EVP")}async makeRequest(method,endpoint,params){await this.applyRateLimit();let body,url=`${this.baseUrl}${endpoint}`;if("GET"===method.toUpperCase()&&params){url+=`?${new URLSearchParams(params).toString()}`}else params&&(body=JSON.stringify(params));const headers={"Content-Type":"application/json",...this.config.customHeaders},token=this.getJwtToken();token&&(headers.Authorization=`Bearer ${token}`),this.logger.info(`Requisição Bitso: ${method} ${url}`,{hasParams:!!params,hasToken:!!token,endpoint:endpoint});try{const response=await fetch(url,{method:method.toUpperCase(),headers:headers,body:body,redirect:"follow",signal:AbortSignal.timeout(6e4)});if(!response.ok){const errorData=await response.json().catch(()=>null),error=new Error(`HTTP error! status: ${response.status}`);throw error.response={status:response.status,statusText:response.statusText,data:errorData},error}return response.json()}catch(error){if("TimeoutError"===error.name||"AbortError"===error.name){const timeoutError=new Error(`Timeout: Requisição para ${url} demorou mais de 60 segundos`);throw timeoutError.code="TIMEOUT",timeoutError}throw error}}getJwtToken(){try{return sessionStorage.getItem("jwt_token")||localStorage.getItem("jwt_token")||sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token")}catch(error){return this.logger.warn("Erro ao obter JWT token",error),null}}handleError(error){var _a3,_b3,_c2,_d2,_e3,_f2;return this.logger.error("Erro específico Bitso",{message:error.message,status:null==(_a3=error.response)?void 0:_a3.status,data:null==(_b3=error.response)?void 0:_b3.data}),400===(null==(_c2=error.response)?void 0:_c2.status)&&(null==(_f2=null==(_e3=null==(_d2=error.response)?void 0:_d2.data)?void 0:_e3.message)?void 0:_f2.includes("Invalid API request data"))?this.createErrorResponse("INVALID_PARAMETERS","Parâmetros inválidos para API Bitso - verifique filtros e configuração"):super.handleError(error)}}class BankProviderFactory{static createProvider(provider,customCredentials){const config2=bankConfigManager.getBankConfig(provider,customCredentials);switch(provider){case BankProvider.BMP:return new BmpProvider(config2);case BankProvider.BMP_531:return new Bmp531Provider(config2);case BankProvider.BITSO:return new BitsoProvider(config2);case BankProvider.BRADESCO:case BankProvider.ITAU:case BankProvider.SANTANDER:case BankProvider.CAIXA:case BankProvider.BB:case BankProvider.NUBANK:case BankProvider.INTER:case BankProvider.C6:throw new Error(`Provider ${provider} ainda não implementado - template disponível`);default:throw new Error(`Provider ${provider} não reconhecido`)}}}const _BankManager=class _BankManager{constructor(){__publicField(this,"providers",new Map),__publicField(this,"activeProvider")}static getInstance(){return _BankManager.instance||(_BankManager.instance=new _BankManager),_BankManager.instance}registerProvider(provider){this.providers.set(provider.provider,provider)}registerProviderByType(providerType,customCredentials){try{const provider=BankProviderFactory.createProvider(providerType,customCredentials);this.registerProvider(provider)}catch(error){throw error}}unregisterProvider(provider){this.providers.delete(provider),this.activeProvider===provider&&(this.activeProvider=void 0)}getProvider(provider){return this.providers.get(provider)||null}getAllProviders(){return Array.from(this.providers.values())}getProvidersByFeature(feature){return this.getAllProviders().filter(provider=>provider.hasFeature(feature))}setActiveProvider(provider){return!!this.providers.has(provider)&&(this.activeProvider=provider,!0)}getActiveProvider(){return this.activeProvider?this.getProvider(this.activeProvider):null}getActiveProviderType(){return this.activeProvider||null}async getBalance(accountId){const provider=this.getActiveProvider();if(!provider)throw new Error("Nenhum provider ativo definido");return provider.getBalance(accountId)}async getStatement(filters,accountId){const provider=this.getActiveProvider();if(!provider)throw new Error("Nenhum provider ativo definido");return provider.getStatement(filters,accountId)}async sendPix(pixData,accountId){const provider=this.getActiveProvider();if(!provider)throw new Error("Nenhum provider ativo definido");if(!provider.sendPix)throw new Error(`Provider ${provider.provider} não suporta envio PIX`);return provider.sendPix(pixData,accountId)}async getPixKeys(accountId){const provider=this.getActiveProvider();if(!provider)throw new Error("Nenhum provider ativo definido");if(!provider.getPixKeys)throw new Error(`Provider ${provider.provider} não suporta listagem de chaves PIX`);return provider.getPixKeys(accountId)}async generatePixQR(amount,description,accountId){const provider=this.getActiveProvider();if(!provider)throw new Error("Nenhum provider ativo definido");if(!provider.generatePixQR)throw new Error(`Provider ${provider.provider} não suporta geração de QR Code PIX`);return provider.generatePixQR(amount,description,accountId)}async getBalanceFromAll(){return(await this.executeOnMultiple(Array.from(this.providers.keys()),provider=>provider.getBalance())).map(result=>{var _a3,_b3,_c2;return{provider:result.provider,result:(null==(_a3=result.result)?void 0:_a3.success)?result.result.data:void 0,error:result.error||((null==(_b3=result.result)?void 0:_b3.success)||null==(_c2=result.result)?void 0:_c2.error)}})}async getStatementFromAll(filters){return(await this.executeOnMultiple(Array.from(this.providers.keys()),provider=>provider.getStatement(filters))).map(result=>{var _a3,_b3,_c2;return{provider:result.provider,result:(null==(_a3=result.result)?void 0:_a3.success)?result.result.data:void 0,error:result.error||((null==(_b3=result.result)?void 0:_b3.success)||null==(_c2=result.result)?void 0:_c2.error)}})}async executeOnMultiple(providerTypes,operation){const promises=providerTypes.map(async providerType=>{const provider=this.getProvider(providerType);if(!provider)return{provider:providerType,result:null,error:`Provider ${providerType} não registrado`};try{return{provider:providerType,result:await operation(provider),error:void 0}}catch(error){return{provider:providerType,result:null,error:error}}});return Promise.all(promises)}async healthCheckAll(){const results={};return(await this.executeOnMultiple(Array.from(this.providers.keys()),provider=>provider.healthCheck())).forEach(({provider:provider,result:result,error:error})=>{results[provider]=!error&&(!(!result||"object"!=typeof result||!("success"in result))&&result.success)}),results}async autoRegisterDefaultProviders(){const currentActiveProvider=this.activeProvider,defaultProviders=[BankProvider.BMP,BankProvider.BMP_531,BankProvider.BITSO];for(const providerType of defaultProviders)try{this.registerProviderByType(providerType)}catch(error){}currentActiveProvider&&this.providers.has(currentActiveProvider)?this.setActiveProvider(currentActiveProvider):this.providers.has(BankProvider.BMP)?this.setActiveProvider(BankProvider.BMP):this.providers.has(BankProvider.BMP_531)?this.setActiveProvider(BankProvider.BMP_531):this.providers.has(BankProvider.BITSO)&&this.setActiveProvider(BankProvider.BITSO)}listAvailableBanks(){return bankConfigManager.getAvailableProviders().map(provider=>{var _a3;const info=bankConfigManager.getBankInfo(provider),isRegistered=this.providers.has(provider);return{...info,isRegistered:isRegistered,isActive:this.activeProvider===provider,isConfigured:!!isRegistered&&(null==(_a3=this.getProvider(provider))?void 0:_a3.isConfigured())}})}getStats(){const total=bankConfigManager.getAvailableProviders().length,registered=this.providers.size;return this.activeProvider,{totalBanks:total,registeredProviders:registered,activeProvider:this.activeProvider,registeredList:Array.from(this.providers.keys()),environment:bankConfigManager.getCurrentEnvironment()}}};__publicField(_BankManager,"instance");const bankManager=_BankManager.getInstance(),_UnifiedBankingService=class _UnifiedBankingService{constructor(){__publicField(this,"isInitialized",!1)}static getInstance(){return _UnifiedBankingService.instance||(_UnifiedBankingService.instance=new _UnifiedBankingService),_UnifiedBankingService.instance}async initialize(){var _a3;if(!this.isInitialized)try{const activeAccountId=null==(_a3=this.getAvailableAccounts().find(acc=>acc.isActive))?void 0:_a3.id;await bankManager.autoRegisterDefaultProviders(),activeAccountId&&this.setActiveAccount(activeAccountId),this.isInitialized=!0}catch(error){throw error}}getAvailableAccounts(){return bankManager.listAvailableBanks().filter(bank=>bank.isRegistered).map(bank=>({id:{bmp:"bmp-main",bitso:"bitso-crypto"}[bank.provider]||`${bank.provider}-account`,provider:bank.provider,displayName:{bmp:"Conta Principal BMP",bitso:"Bitso - Pagamentos PIX"}[bank.provider]||bank.displayName,isActive:bank.isActive}))}setActiveAccount(accountId){const provider={"bmp-main":BankProvider.BMP,"bmp-531-ttf":BankProvider.BMP_531,"bitso-crypto":BankProvider.BITSO}[accountId];if(!provider)return!1;return bankManager.setActiveProvider(provider)}getActiveAccount(){const activeProvider=bankManager.getActiveProviderType();if(!activeProvider)return null;return this.getAvailableAccounts().find(acc=>acc.provider===activeProvider)||null}async getBalance(){var _a3;await this.ensureInitialized();const result=await bankManager.getBalance();if(!result.success){const errorMsg=(null==(_a3=result.error)?void 0:_a3.message)||"Falha na comunicação com o servidor bancário",providerName=bankManager.getActiveProviderType()||"Provedor desconhecido";throw new Error(`[${providerName.toUpperCase()}] ${errorMsg}`)}return result.data}async getStatement(filters){var _a3;await this.ensureInitialized();const result=await bankManager.getStatement(filters);if(!result.success){const errorMsg=(null==(_a3=result.error)?void 0:_a3.message)||"Falha ao carregar dados do extrato bancário",providerName=bankManager.getActiveProviderType()||"Provedor desconhecido";throw new Error(`[${providerName.toUpperCase()}] Extrato: ${errorMsg}`)}return result.data}async getBalanceFromAllAccounts(){await this.ensureInitialized();const results=await bankManager.getBalanceFromAll(),accounts=this.getAvailableAccounts();return results.map(result=>{var _a3;return{account:accounts.find(acc=>acc.provider===result.provider),balance:result.result,error:(null==(_a3=result.error)?void 0:_a3.message)||result.error}}).filter(item=>item.account)}async getStatementFromAllAccounts(filters){await this.ensureInitialized();const results=await bankManager.getStatementFromAll(filters),accounts=this.getAvailableAccounts();return results.map(result=>{var _a3;return{account:accounts.find(acc=>acc.provider===result.provider),statement:result.result,error:(null==(_a3=result.error)?void 0:_a3.message)||result.error}}).filter(item=>item.account)}async sendPix(pixData){var _a3;this.isInitialized||await this.initialize();const activeProvider=bankManager.getActiveProvider();if(!activeProvider){const accountList=this.getAvailableAccounts().map(acc=>acc.displayName).join(", ");throw new Error(`Nenhuma conta ativa selecionada para envio PIX. Contas disponíveis: ${accountList||"Nenhuma"}`)}if(!activeProvider.sendPix)throw new Error(`[${activeProvider.provider.toUpperCase()}] Conta não suporta envio PIX. Verifique se está usando uma conta bancária com funcionalidades PIX habilitadas.`);const result=await activeProvider.sendPix(pixData);if(!result.success){const errorMsg=(null==(_a3=result.error)?void 0:_a3.message)||"Falha no processamento da transferência PIX",providerName=activeProvider.provider||"Provedor desconhecido";throw new Error(`[${providerName.toUpperCase()}] PIX: ${errorMsg} (Chave: ${pixData.key}, Valor: R$ ${pixData.amount.toFixed(2)})`)}return result.data}async getPixKeys(){var _a3;await this.ensureInitialized();const activeProvider=bankManager.getActiveProvider();if(!activeProvider)throw new Error("Nenhuma conta ativa para consulta de chaves PIX");if(!activeProvider.getPixKeys)throw new Error(`Provider ${activeProvider.provider} não suporta listagem de chaves PIX`);const result=await activeProvider.getPixKeys();if(!result.success)throw new Error((null==(_a3=result.error)?void 0:_a3.message)||"Erro ao consultar chaves PIX");return result.data}async generatePixQR(amount,description){var _a3;await this.ensureInitialized();const activeProvider=bankManager.getActiveProvider();if(!activeProvider)throw new Error("Nenhuma conta ativa para gerar QR Code PIX");if(!activeProvider.generatePixQR)throw new Error(`Provider ${activeProvider.provider} não suporta geração de QR Code PIX`);const result=await activeProvider.generatePixQR(amount,description);if(!result.success)throw new Error((null==(_a3=result.error)?void 0:_a3.message)||"Erro ao gerar QR Code PIX");return result.data}async criarQRCodeDinamicoBitso(dados){var _a3;await this.ensureInitialized();const activeProvider=bankManager.getActiveProvider();if(!activeProvider||activeProvider.provider!==BankProvider.BITSO)throw new Error("Operação disponível apenas para conta Bitso ativa");const bitsoProvider=activeProvider;if(!bitsoProvider.criarQRCodeDinamico)throw new Error("Método criarQRCodeDinamico não disponível");const result=await bitsoProvider.criarQRCodeDinamico(dados);if(!result.success)throw new Error((null==(_a3=result.error)?void 0:_a3.message)||"Erro ao criar QR Code dinâmico");return result.data}async criarQRCodeEstaticoBitso(dados){var _a3;await this.ensureInitialized();const activeProvider=bankManager.getActiveProvider();if(!activeProvider||activeProvider.provider!==BankProvider.BITSO)throw new Error("Operação disponível apenas para conta Bitso ativa");const bitsoProvider=activeProvider;if(!bitsoProvider.criarQRCodeEstatico)throw new Error("Método criarQRCodeEstatico não disponível");const result=await bitsoProvider.criarQRCodeEstatico(dados);if(!result.success)throw new Error((null==(_a3=result.error)?void 0:_a3.message)||"Erro ao criar QR Code estático");return result.data}async getBalanceFromProvider(provider){var _a3;await this.ensureInitialized();const bankProvider=bankManager.getProvider(provider);if(!bankProvider)throw new Error(`Provider ${provider} não registrado`);const result=await bankProvider.getBalance();if(!result.success)throw new Error((null==(_a3=result.error)?void 0:_a3.message)||`Erro ao consultar saldo do ${provider}`);return result.data}async getStatementFromProvider(provider,filters){var _a3;await this.ensureInitialized();const bankProvider=bankManager.getProvider(provider);if(!bankProvider)throw new Error(`Provider ${provider} não registrado`);const result=await bankProvider.getStatement(filters);if(!result.success)throw new Error((null==(_a3=result.error)?void 0:_a3.message)||`Erro ao consultar extrato do ${provider}`);return result.data}async healthCheckAll(){return await this.ensureInitialized(),bankManager.healthCheckAll()}getSystemStats(){return{...bankManager.getStats(),isInitialized:this.isInitialized,availableAccounts:this.getAvailableAccounts().length,activeAccount:this.getActiveAccount()}}async addBank(provider,credentials){await this.ensureInitialized();try{bankManager.registerProviderByType(provider,credentials)}catch(error){throw error}}removeBank(provider){bankManager.unregisterProvider(provider)}syncWithLegacySystem(){try{const apiRouter2=window.apiRouter;if(!apiRouter2||!apiRouter2.getCurrentAccount)return;const legacyAccount=apiRouter2.getCurrentAccount();this.setActiveAccount(legacyAccount.id)}catch(error){}}async ensureInitialized(){this.isInitialized||await this.initialize()}validateActiveProvider(){if(!bankManager.getActiveProvider())throw new Error("Nenhuma conta ativa selecionada. Use setActiveAccount() primeiro.")}};__publicField(_UnifiedBankingService,"instance");let UnifiedBankingService=_UnifiedBankingService;const unifiedBankingService=UnifiedBankingService.getInstance(),initializeBankingSystem=async()=>{try{await unifiedBankingService.initialize(),setTimeout(()=>{unifiedBankingService.syncWithLegacySystem()},1e3)}catch(error){throw error}},getBalance=()=>unifiedBankingService.getBalance(),switchAccount=accountId=>unifiedBankingService.setActiveAccount(accountId),getAvailableAccounts=()=>unifiedBankingService.getAvailableAccounts(),UnifiedBankingService$1=Object.freeze(Object.defineProperty({__proto__:null,UnifiedBankingService:UnifiedBankingService,getAvailableAccounts:getAvailableAccounts,getBalance:getBalance,initializeBankingSystem:initializeBankingSystem,switchAccount:switchAccount,unifiedBankingService:unifiedBankingService},Symbol.toStringTag,{value:"Module"}));const sendPix=async pixData=>{const{unifiedBankingService:unifiedBankingService2}=await __vitePreload(async()=>{const{unifiedBankingService:unifiedBankingService22}=await Promise.resolve().then(()=>UnifiedBankingService$1);return{unifiedBankingService:unifiedBankingService22}},void 0);return unifiedBankingService2.sendPix(pixData)};BankProvider.BMP,BankProvider.BITSO,BankProvider.BRADESCO,BankProvider.ITAU,BankProvider.SANTANDER,BankProvider.CAIXA,BankProvider.BB,BankProvider.NUBANK,BankProvider.INTER,BankProvider.C6,BankProvider.BMP,BankProvider.BITSO,BankProvider.BRADESCO,BankProvider.ITAU,BankProvider.SANTANDER,BankProvider.CAIXA,BankProvider.BB,BankProvider.NUBANK,BankProvider.INTER,BankProvider.C6;function TopBarPayments(){const{data:saldoData,isLoading:isLoadingSaldo,error:saldoError}=((options={})=>{const{enabled:enabled=!0,staleTime:staleTime=12e4}=options,[accountKey,setAccountKey]=reactExports.useState(()=>{try{const activeAccount=unifiedBankingService.getActiveAccount();return activeAccount?`${activeAccount.id}-${activeAccount.provider}`:"no-account"}catch(error){return"fallback-account"}});return reactExports.useEffect(()=>{const checkAccountChange=()=>{try{const activeAccount=unifiedBankingService.getActiveAccount(),newKey=activeAccount?`${activeAccount.id}-${activeAccount.provider}`:"no-account";newKey!==accountKey&&setAccountKey(newKey)}catch(error){}},interval=setInterval(checkAccountChange,300);return checkAccountChange(),()=>clearInterval(interval)},[accountKey]),useQuery({queryKey:["saldo-unified",accountKey],queryFn:getBalance,enabled:enabled,staleTime:staleTime,refetchOnWindowFocus:!1,retry:2,retryDelay:attemptIndex=>Math.min(1e3*2**attemptIndex,3e4)})})(),[currentAccount,setCurrentAccount]=reactExports.useState(null),{queryClient:queryClient2}=(()=>{const queryClient2=useQueryClient();return{invalidateExtrato:()=>{queryClient2.invalidateQueries({queryKey:["extrato"]})},invalidatePixKeys:()=>{queryClient2.invalidateQueries({queryKey:["pix-keys"]})},invalidateSaldo:()=>{queryClient2.invalidateQueries({queryKey:["saldo"]})},invalidateAll:()=>{queryClient2.invalidateQueries(),ue$2.info("Cache atualizado",{description:"Todos os dados serão recarregados na próxima consulta"})},clearCache:()=>{queryClient2.clear(),ue$2.success("Cache limpo",{description:"Todo o cache foi removido"})},refetchAll:async()=>{await queryClient2.refetchQueries(),ue$2.success("Dados atualizados",{description:"Todas as consultas foram recarregadas"})},getCacheData:queryKey=>queryClient2.getQueryData(queryKey),setCacheData:(queryKey,data)=>{queryClient2.setQueryData(queryKey,data)},queryClient:queryClient2}})(),[isChangingAccount,setIsChangingAccount]=reactExports.useState(!1),error=(null==saldoError?void 0:saldoError.message)||null;reactExports.useEffect(()=>{(async()=>{try{await unifiedBankingService.initialize();const savedAccountId=localStorage.getItem("selected_account_id");if(savedAccountId){unifiedBankingService.setActiveAccount(savedAccountId)||localStorage.removeItem("selected_account_id")}const apiRouter2=window.apiRouter;if(apiRouter2){if(savedAccountId)apiRouter2.switchToAccount(savedAccountId);else{const legacyAccount=apiRouter2.getCurrentAccount();legacyAccount&&unifiedBankingService.setActiveAccount(legacyAccount.id)}const activeAccount=apiRouter2.getCurrentAccount();setCurrentAccount(activeAccount)}if(!unifiedBankingService.getActiveAccount()){const availableAccounts=unifiedBankingService.getAvailableAccounts();if(availableAccounts.length>0){const firstAccount=availableAccounts[0];unifiedBankingService.setActiveAccount(firstAccount.id),localStorage.setItem("selected_account_id",firstAccount.id)}}}catch(error2){}})()},[]);return jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 bg-tcr-dark/95 backdrop-blur-xl border-b border-border h-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-tcr-orange to-primary shadow-xl",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-3",children:["Pagamentos Pix",isChangingAccount?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-orange-500/20 rounded-xl px-3 py-1 border border-orange-300",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 animate-spin text-orange-400"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-orange-300",children:"TROCANDO CONTA..."})]}):currentAccount&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-white/10 rounded-xl px-3 py-1 border border-white/20",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium text-white",children:[currentAccount.provider.toUpperCase()," ATIVO"]})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground text-sm",children:["Central de transferências",isChangingAccount&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-orange-400 font-medium",children:"• Aguarde, trocando conta..."})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:async()=>{currentAccount&&(queryClient2.invalidateQueries({queryKey:["saldo-unified"]}),ue$2.success("Saldo atualizado!",{description:`${currentAccount.displayName}`,duration:3e3}))},disabled:isLoadingSaldo||isChangingAccount,className:"hover:bg-muted rounded-xl",children:[isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"}):jsxRuntimeExports.jsx(RefreshCcw,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:isLoadingSaldo?"Atualizando...":"Atualizar"})]})})]}),jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-emerald-500/20",children:jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-emerald-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo disponível"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-xl font-mono mt-1 "+(error?"text-destructive":"text-foreground"),children:(()=>{if(isLoadingSaldo)return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Carregando..."})]});if(error)return"Erro ao carregar";if(!saldoData)return"R$ 0,00";if(saldoData&&"number"==typeof saldoData.available){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:saldoData.currency||"BRL"}).format(saldoData.available)}if(saldoData&&"number"==typeof saldoData.saldoDisponivel){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(saldoData.saldoDisponivel)}if(saldoData&&saldoData.saldoFormatado)return saldoData.saldoFormatado;if(saldoData&&"number"==typeof saldoData.saldo){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(saldoData.saldo)}return"R$ 0,00"})()}),saldoData&&currentAccount&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium "+("bitso"===currentAccount.provider?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:currentAccount.provider.toUpperCase()}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:[saldoData.moeda||"BRL"," • ",(new Date).toLocaleTimeString()]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsx(AccountSelector$1,{onAccountChange:async account=>{setIsChangingAccount(!0);try{setCurrentAccount(account);const apiRouter2=window.apiRouter;apiRouter2&&apiRouter2.switchToAccount&&apiRouter2.switchToAccount(account.id);try{unifiedBankingService.setActiveAccount(account.id)}catch(error2){}localStorage.setItem("selected_account_id",account.id),queryClient2.clear(),queryClient2.invalidateQueries({queryKey:["saldo-unified"]}),await new Promise(resolve=>setTimeout(resolve,1e3)),ue$2.success("🔄 Conta alterada!",{description:`✅ Agora usando: ${account.displayName} (${account.provider.toUpperCase()})`,duration:4e3})}catch(error2){ue$2.error("❌ Erro ao trocar conta",{description:"Tente novamente em alguns segundos",duration:4e3})}finally{setIsChangingAccount(!1)}}})})]})})]})}const validarCodigoEMV=emvCode=>{if(!emvCode||"string"!=typeof emvCode)return!1;const cleanCode=emvCode.trim().replace(/\s+/g,"");if(cleanCode.length<30)return!1;const hasPixIdentifier=cleanCode.includes("BR.GOV.BCB.PIX"),hasEmvFormat=cleanCode.startsWith("00020126");return!(!hasPixIdentifier&&!hasEmvFormat)&&!!/^[a-zA-Z0-9\.\-_*\/\+\=\@\#\$\%\&\(\)\[\]\{\}\;\:\,\<\>\?\|\!\~\`\^\'\"\\]+$/.test(cleanCode)},validarChavePix=(chave,tipo)=>{if(!chave||!tipo)return!1;switch(tipo.toLowerCase()){case"cpf":const cpfLimpo=chave.replace(/[.-]/g,"");return/^\d{11}$/.test(cpfLimpo);case"cnpj":const cnpjLimpo=chave.replace(/[./-]/g,"");return/^\d{14}$/.test(cnpjLimpo);case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(chave);case"telefone":const phoneLimpo=chave.replace(/[^\d]/g,"");return/^(\+?55)?[1-9]{2}9?[0-9]{8}$/.test(phoneLimpo);case"aleatoria":return/^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/.test(chave);default:return!1}},formatarChavePix=(chave,tipo)=>{if(!chave)return"";switch(tipo.toLowerCase()){case"cpf":const cpf=chave.replace(/[^\d]/g,"");return cpf.length<=11?cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):chave;case"cnpj":const cnpj=chave.replace(/[^\d]/g,"");return cnpj.length<=14?cnpj.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):chave;case"telefone":const phone=chave.replace(/[^\d]/g,"");return 13===phone.length&&phone.startsWith("55")?phone.replace(/(\d{2})(\d{2})(\d{5})(\d{4})/,"+$1 ($2) $3-$4"):11===phone.length?phone.replace(/(\d{2})(\d{5})(\d{4})/,"($1) $2-$3"):10===phone.length?phone.replace(/(\d{2})(\d{4})(\d{4})/,"($1) $2-$3"):12===phone.length&&phone.startsWith("55")?phone.replace(/(\d{2})(\d{2})(\d{4})(\d{4})/,"+$1 ($2) $3-$4"):chave;default:return chave}},listarChavesPix=async()=>{try{const url=buildApiUrl(API_CONFIG.ENDPOINTS.PIX.CHAVES_LISTAR),response=await fetch(url,{method:"GET",headers:getApiHeaders(),signal:AbortSignal.timeout(API_CONFIG.TIMEOUT)});let result;try{result=await response.json()}catch(jsonError){try{await response.text()}catch(textError){}throw new Error(`Erro HTTP ${response.status}: ${response.statusText}`)}if(!response.ok){let mensagemErro="";return mensagemErro=result.mensagem?result.mensagem:result.message?result.message:result.error?result.error:result.errorMessage?result.errorMessage:result.response&&result.response.message?result.response.message:result.response&&result.response.mensagem?result.response.mensagem:result.data&&result.data.message?result.data.message:result.data&&result.data.mensagem?result.data.mensagem:"string"==typeof result?result:`Erro HTTP ${response.status}: ${response.statusText}`,{sucesso:!1,mensagem:mensagemErro,total:0,chaves:[],estatisticas:{totalChaves:0,porTipo:{},porTipoPessoa:{}},contaConsultada:{agencia:"",conta:"",contaDigito:""}}}return result}catch(error){let mensagemErro="Erro desconhecido ao listar chaves PIX";return error instanceof Error&&(mensagemErro="AbortError"===error.name?"Timeout: A requisição demorou muito para responder":error.message.includes("fetch")?"Erro de conexão: Verifique sua internet ou se o servidor está disponível":error.message),{sucesso:!1,mensagem:mensagemErro,total:0,chaves:[],estatisticas:{totalChaves:0,porTipo:{},porTipoPessoa:{}},contaConsultada:{agencia:"",conta:"",contaDigito:""}}}},limparFormatacaoChave=chave=>chave?chave.includes(".")||chave.includes("-")||chave.includes("/")?chave.replace(/[.\-/]/g,""):chave.includes("(")||chave.includes(")")||chave.includes(" ")?chave.replace(/[^\d+]/g,""):chave:"",executarConsultaChavePixBMP531=async chave=>{var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t2,_u;try{const url=`${API_CONFIG.BASE_URL}/bmp-531/pix/consultar-chave`,chaveLimpa=limparFormatacaoChave(chave),fullUrl=`${url}?${new URLSearchParams({chave:chaveLimpa}).toString()}`,response=await fetch(fullUrl,{method:"GET",headers:getApiHeaders(),signal:AbortSignal.timeout(API_CONFIG.TIMEOUT)});let result;try{result=await response.json()}catch(jsonError){try{await response.text()}catch(textError){}throw new Error(`Erro HTTP ${response.status}: ${response.statusText}`)}if(!response.ok)throw new Error(result.mensagem||`Erro HTTP ${response.status}: ${response.statusText}`);if(!result.sucesso)throw new Error(result.mensagem||"Chave PIX não encontrada no BMP-531");return{chave:chaveLimpa,tipoChave:result.tipoChave||0,nomeCorrentista:result.nomeCorrentista||(null==(_a3=result.dados)?void 0:_a3.nomeCorrentista)||"",nomeFantasia:result.nomeFantasia||(null==(_b3=result.dados)?void 0:_b3.nomeFantasia)||"",tipoPessoa:result.tipoPessoa||(null==(_c2=result.dados)?void 0:_c2.tipoPessoa)||0,documentoFederal:result.documentoFederal||(null==(_d2=result.dados)?void 0:_d2.documentoFederal)||"",conta:{conta:(null==(_f2=null==(_e3=result.dados)?void 0:_e3.conta)?void 0:_f2.conta)||"",tipoConta:(null==(_h2=null==(_g2=result.dados)?void 0:_g2.conta)?void 0:_h2.tipoConta)||0,agencia:(null==(_j2=null==(_i2=result.dados)?void 0:_i2.conta)?void 0:_j2.agencia)||"",ispb:(null==(_l=null==(_k=result.dados)?void 0:_k.conta)?void 0:_l.ispb)||null},banco:{descricao:(null==(_n=null==(_m=result.dados)?void 0:_m.banco)?void 0:_n.descricao)||(null==(_o=result.banco)?void 0:_o.descricao)||"BMP-531",numero:(null==(_q=null==(_p=result.dados)?void 0:_p.banco)?void 0:_q.numero)||(null==(_r=result.banco)?void 0:_r.numero)||"531",ispb:(null==(_t2=null==(_s=result.dados)?void 0:_s.banco)?void 0:_t2.ispb)||(null==(_u=result.banco)?void 0:_u.ispb)||""},detalhesConsulta:result,ticket:result.ticket||"",sucesso:!0,mensagem:result.mensagem||"Chave PIX encontrada via BMP-531"}}catch(error){throw error}},executarConsultaChavePixBMP=async chave=>{try{const url=buildApiUrl(API_CONFIG.ENDPOINTS.PIX.CONSULTAR),chaveLimpa=limparFormatacaoChave(chave),fullUrl=`${url}?${new URLSearchParams({chave:chaveLimpa}).toString()}`,response=await fetch(fullUrl,{method:"GET",headers:getApiHeaders(),signal:AbortSignal.timeout(API_CONFIG.TIMEOUT)});let result;try{result=await response.json()}catch(jsonError){try{await response.text()}catch(textError){}throw new Error(`Erro HTTP ${response.status}: ${response.statusText}`)}if(!response.ok){let mensagemErro="";return mensagemErro=result.mensagem?result.mensagem:result.message?result.message:result.error?result.error:result.errorMessage?result.errorMessage:result.response&&result.response.message?result.response.message:result.response&&result.response.mensagem?result.response.mensagem:result.data&&result.data.message?result.data.message:result.data&&result.data.mensagem?result.data.mensagem:"string"==typeof result?result:`Erro HTTP ${response.status}: ${response.statusText}`,{chave:"",tipoChave:0,nomeCorrentista:"",nomeFantasia:"",tipoPessoa:0,documentoFederal:"",conta:{conta:"",tipoConta:0,agencia:"",ispb:null},banco:{descricao:"",numero:"",ispb:""},detalhesConsulta:null,ticket:"",sucesso:!1,mensagem:mensagemErro}}return result}catch(error){let mensagemErro="Erro desconhecido ao consultar chave PIX";return error instanceof Error&&(mensagemErro="AbortError"===error.name?"Timeout: A requisição demorou muito para responder":error.message.includes("fetch")?"Erro de conexão: Verifique sua internet ou se o servidor está disponível":error.message),{chave:"",tipoChave:0,nomeCorrentista:"",nomeFantasia:"",tipoPessoa:0,documentoFederal:"",conta:{conta:"",tipoConta:0,agencia:"",ispb:null},banco:{descricao:"",numero:"",ispb:""},detalhesConsulta:null,ticket:"",sucesso:!1,mensagem:mensagemErro}}},keyTransferSchema$1=objectType({keyType:enumType(["CPF","CNPJ","EMAIL","PHONE","EVP"],{required_error:"Selecione o tipo de chave"}),pixKey:stringType().min(1,"Chave Pix é obrigatória"),value:stringType().min(1,"Valor é obrigatório").refine(val=>!isNaN(parseFloat(val))&&parseFloat(val)>0,"Valor deve ser maior que zero"),description:stringType().optional()});function SendByKeyForm(){const[isLoading,setIsLoading]=reactExports.useState(!1),[isConsultingKey,setIsConsultingKey]=reactExports.useState(!1),[keyConsultData,setKeyConsultData]=reactExports.useState(null),[apiResponse,setApiResponse]=reactExports.useState(null),form=useForm({resolver:t(keyTransferSchema$1),defaultValues:{keyType:void 0,pixKey:"",value:"",description:""}});reactExports.useEffect(()=>{const chave=form.watch("pixKey"),tipoChave=form.watch("keyType");if(!chave||!tipoChave||chave.length<5)return void setKeyConsultData(null);const timer=setTimeout(()=>{consultarChaveAutomaticamente(chave)},1e3);return()=>clearTimeout(timer)},[form.watch("pixKey"),form.watch("keyType")]);const consultarChaveAutomaticamente=async chave=>{try{setIsConsultingKey(!0),setKeyConsultData(null);const activeAccount=getAvailableAccounts().find(acc=>acc.isActive);let resultado;resultado="bitso"===(null==activeAccount?void 0:activeAccount.provider)?await(async chave=>{const chaveLimpa=limparFormatacaoChave(chave);return{chave:chaveLimpa,tipoChave:(chave2=chaveLimpa,chave2?chave2.includes("@")?2:chave2.startsWith("+")?3:11===chave2.length&&/^[0-9]+$/.test(chave2)?1:14===chave2.length&&/^[0-9]+$/.test(chave2)?4:32===chave2.length?5:0:0),nomeCorrentista:"Destinatário não consultado (Bitso)",nomeFantasia:"",tipoPessoa:1,documentoFederal:"",conta:{conta:"",tipoConta:0,agencia:"",ispb:null},banco:{descricao:"Destinatário via Bitso",numero:"",ispb:""},detalhesConsulta:{info:"A Bitso não oferece consulta prévia de chave PIX. Os dados do destinatário serão validados durante o envio.",limitacao:"bitso_no_key_consultation"},ticket:"",sucesso:!0,mensagem:"Chave PIX reconhecida. Prossiga com o envio (validação será feita pela Bitso)."};var chave2})(chave):"bmp-531"===(null==activeAccount?void 0:activeAccount.provider)?await(async chave=>{try{return await executarConsultaChavePixBMP531(chave)}catch(error){let mensagemErro="Erro ao consultar chave PIX via BMP-531";return error instanceof Error&&(mensagemErro=error.message),{chave:"",tipoChave:0,nomeCorrentista:"",nomeFantasia:"",tipoPessoa:0,documentoFederal:"",conta:{conta:"",tipoConta:0,agencia:"",ispb:null},banco:{descricao:"",numero:"",ispb:""},detalhesConsulta:null,ticket:"",sucesso:!1,mensagem:mensagemErro}}})(chave):await(async chave=>{try{return await executarConsultaChavePixBMP(chave)}catch(error){let mensagemErro="Erro ao consultar chave PIX via BMP";return error instanceof Error&&(mensagemErro=error.message),{chave:"",tipoChave:0,nomeCorrentista:"",nomeFantasia:"",tipoPessoa:0,documentoFederal:"",conta:{conta:"",tipoConta:0,agencia:"",ispb:null},banco:{descricao:"",numero:"",ispb:""},detalhesConsulta:null,ticket:"",sucesso:!1,mensagem:mensagemErro}}})(chave),resultado.sucesso?(setKeyConsultData(resultado),"bitso"===(null==activeAccount?void 0:activeAccount.provider)?ue$2.info("Bitso ativa",{description:"Dados do destinatário serão validados durante o envio",duration:3e3}):ue$2.success("Destinatário encontrado!",{description:`${resultado.nomeCorrentista}`,duration:3e3})):setKeyConsultData(null)}catch(error){setKeyConsultData(null)}finally{setIsConsultingKey(!1)}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsxs("form",{onSubmit:form.handleSubmit(async data=>{try{setIsLoading(!0),setApiResponse(null);const tipoChaveParaValidacao={CPF:"cpf",CNPJ:"cnpj",EMAIL:"email",PHONE:"telefone",EVP:"aleatoria"}[data.keyType];if(!validarChavePix(data.pixKey,tipoChaveParaValidacao||data.keyType))return void ue$2.error(`Formato de ${data.keyType} inválido!`,{description:"Verifique se a chave está no formato correto"});const requestData={chave:data.pixKey,valor:parseFloat(data.value),descricao:data.description||"Transferência PIX"},response=await(async data=>{try{const standardTransaction=await sendPix({key:data.chave,amount:data.valor,description:data.descricao});return{sucesso:!0,codigoTransacao:standardTransaction.id,status:standardTransaction.status,mensagem:`PIX enviado com sucesso via ${standardTransaction.provider}`}}catch(error){let mensagemErro="Erro ao enviar PIX";return error instanceof Error&&(mensagemErro=error.message),{sucesso:!1,mensagem:mensagemErro,status:"FALHOU"}}})(requestData);setApiResponse({sucesso:response.sucesso,mensagem:response.mensagem,codigoTransacao:response.codigoTransacao}),response.sucesso?(ue$2.success("PIX enviado com sucesso!",{description:"Verifique os detalhes abaixo",duration:4e3,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}),form.reset(),setKeyConsultData(null)):ue$2.error("Falha ao enviar PIX",{description:response.mensagem||"Erro desconhecido",duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro inesperado";setApiResponse({sucesso:!1,mensagem:errorMessage}),ue$2.error("Erro ao enviar PIX",{description:"Verifique os detalhes do erro abaixo",duration:4e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}finally{setIsLoading(!1)}}),className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{control:form.control,name:"keyType",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-sm font-medium text-foreground",children:"Tipo de Chave PIX"}),jsxRuntimeExports.jsxs(Select,{onValueChange:value=>{field.onChange(value),form.setValue("pixKey",""),setKeyConsultData(null)},value:field.value,disabled:isLoading,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{className:"h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo"})})}),jsxRuntimeExports.jsxs(SelectContent,{className:"rounded-lg",children:[jsxRuntimeExports.jsx(SelectItem,{value:"CPF",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"CPF"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"CNPJ",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"CNPJ"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"EMAIL",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"E-mail"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"PHONE",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Telefone"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"EVP",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Chave Aleatória"]})})]})]}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"pixKey",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsxs(FormLabel,{className:"text-sm font-medium text-foreground",children:["Chave PIX do Destinatário",isConsultingKey&&jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(consultando...)"})]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"PHONE"===form.watch("keyType")?"+55 (11) 99999-9999":"Digite ou cole a chave PIX",className:"pl-10 h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors",disabled:isLoading,onChange:e3=>(value=>{const keyType=form.getValues("keyType");if(keyType){const tipoChaveParaFormatacao={CPF:"cpf",CNPJ:"cnpj",EMAIL:"email",PHONE:"telefone",EVP:"aleatoria"}[keyType];if("PHONE"===keyType){let cleanValue=value;cleanValue=cleanValue.replace(/[^\d+]/g,""),cleanValue.startsWith("+")&&(cleanValue="+"+cleanValue.substring(1).replace(/\+/g,"")),cleanValue.startsWith("+55")||(cleanValue=cleanValue.replace(/^\+?55?/,""),cleanValue="+55"+cleanValue);const formattedKey=formatarChavePix(cleanValue,tipoChaveParaFormatacao||keyType);form.setValue("pixKey",formattedKey)}else{const formattedKey=formatarChavePix(value,tipoChaveParaFormatacao||keyType);form.setValue("pixKey",formattedKey)}}else form.setValue("pixKey",value);keyConsultData&&setKeyConsultData(null)})(e3.target.value),value:field.value}),isConsultingKey&&jsxRuntimeExports.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"})}),keyConsultData&&jsxRuntimeExports.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"})})]})}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"})]})}),keyConsultData&&jsxRuntimeExports.jsx(Card,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-950/20",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"}),jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100",children:"Dados do Destinatário"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Nome:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-blue-800 dark:text-blue-200",children:keyConsultData.nomeCorrentista})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Documento:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-blue-800 dark:text-blue-200",children:keyConsultData.documentoFederal})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Banco:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-blue-800 dark:text-blue-200",children:keyConsultData.banco.descricao})]})]})]})})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"value",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-sm font-medium text-foreground",children:"Valor"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(DollarSign,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"number",step:"0.01",min:"0.01",placeholder:"0,00",className:"pl-10 h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors font-mono",disabled:isLoading,...field})]})}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"description",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsxs(FormLabel,{className:"text-sm font-medium text-foreground",children:["Descrição",jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs ml-1",children:"(opcional)"})]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Ex: Pagamento, presente...",className:"h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors",disabled:isLoading,...field})}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"})]})}),jsxRuntimeExports.jsx(Button$1,{type:"submit",disabled:isLoading,className:"w-full h-12 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:isLoading?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),"Enviando PIX..."]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-4 w-4"}),"Enviar PIX"]})})]})}),apiResponse&&jsxRuntimeExports.jsx(Card,{className:"border-l-4 "+(apiResponse.sucesso?"border-l-green-500 bg-green-50/50 dark:bg-green-950/20":"border-l-red-500 bg-red-50/50 dark:bg-red-950/20"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-full "+(apiResponse.sucesso?"bg-green-100 dark:bg-green-900/50":"bg-red-100 dark:bg-red-900/50"),children:apiResponse.sucesso?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium "+(apiResponse.sucesso?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"),children:apiResponse.sucesso?"PIX Enviado!":"Erro no PIX"}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 "+(apiResponse.sucesso?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"),children:apiResponse.mensagem}),apiResponse.codigoTransacao&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs font-mono",children:apiResponse.codigoTransacao}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{return code=apiResponse.codigoTransacao,navigator.clipboard.writeText(code),void ue$2.success("Código copiado!");var code},className:"h-6 px-2 text-xs",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})]})]})})})]})}const Textarea=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx("textarea",{className:cn("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",className),ref:ref,...props}));Textarea.displayName="Textarea";const qrCodeSchema$1=objectType({emvCode:stringType().min(1,"Código EMV é obrigatório"),value:stringType().optional(),description:stringType().optional()});function PayQRForm(){const[isLoading,setIsLoading]=reactExports.useState(!1),[isReadingQR,setIsReadingQR]=reactExports.useState(!1),[apiResponse,setApiResponse]=reactExports.useState(null),form=useForm({resolver:t(qrCodeSchema$1),defaultValues:{emvCode:"",value:"",description:""}}),watchedEmvCode=form.watch("emvCode"),isCodeValid=validarCodigoEMV(watchedEmvCode);reactExports.useEffect(()=>{const emvCode=form.watch("emvCode");if(!emvCode||!validarCodigoEMV(emvCode))return;const timer=setTimeout(()=>{lerQRCodeAutomaticamente(emvCode)},800);return()=>clearTimeout(timer)},[form.watch("emvCode")]);const lerQRCodeAutomaticamente=async emvCode=>{try{setIsReadingQR(!0);const resultado=await(async emvCode=>{try{const fullUrl=`${buildApiUrl(API_CONFIG.ENDPOINTS.PIX.QRCODE_LER)}?${new URLSearchParams({emv:emvCode}).toString()}`,response=await fetch(fullUrl,{method:"GET",headers:getApiHeaders(),signal:AbortSignal.timeout(API_CONFIG.TIMEOUT)});let result;try{result=await response.json()}catch(jsonError){try{await response.text()}catch(textError){}throw new Error(`Erro HTTP ${response.status}: ${response.statusText}`)}if(!response.ok){let mensagemErro="";return mensagemErro=result.mensagem?result.mensagem:result.message?result.message:result.error?result.error:result.errorMessage?result.errorMessage:result.response&&result.response.message?result.response.message:result.response&&result.response.mensagem?result.response.mensagem:result.data&&result.data.message?result.data.message:result.data&&result.data.mensagem?result.data.mensagem:"string"==typeof result?result:`Erro HTTP ${response.status}: ${response.statusText}`,{tipoQRCode:"",codigoLeituraQRCode:"",tpQRCode:0,chave:"",reutilizavel:null,reutilizavelEspecificado:null,valor:0,valorEspecificado:!1,documentoFederal:"",informacoesAdicionais:"",idConciliacaoRecebedor:"",nome:"",cidade:"",url:null,sucesso:!1,mensagem:mensagemErro}}return result}catch(error){let mensagemErro="Erro desconhecido ao ler QR code PIX";return error instanceof Error&&(mensagemErro="AbortError"===error.name?"Timeout: A requisição demorou muito para responder":error.message.includes("fetch")?"Erro de conexão: Verifique sua internet ou se o servidor está disponível":error.message),{tipoQRCode:"",codigoLeituraQRCode:"",tpQRCode:0,chave:"",reutilizavel:null,reutilizavelEspecificado:null,valor:0,valorEspecificado:!1,documentoFederal:"",informacoesAdicionais:"",idConciliacaoRecebedor:"",nome:"",cidade:"",url:null,sucesso:!1,mensagem:mensagemErro}}})(emvCode);resultado.sucesso&&(resultado.valor&&resultado.valor>0?(form.setValue("value",resultado.valor.toString()),ue$2.success("QR Code lido!",{description:`Valor R$ ${resultado.valor.toFixed(2)} preenchido automaticamente`,duration:3e3})):ue$2.success("QR Code válido!",{description:"Informe o valor desejado",duration:2e3}))}catch(error){}finally{setIsReadingQR(!1)}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsxs("form",{onSubmit:form.handleSubmit(async data=>{try{if(setIsLoading(!0),setApiResponse(null),!validarCodigoEMV(data.emvCode))return void ue$2.error("Código EMV inválido!",{description:"Verifique se o código QR está completo e correto"});const requestData={emv:data.emvCode,valor:data.value?parseFloat(data.value):void 0,descricao:data.description||"Pagamento PIX QR Code"},response=await(async data=>{try{const url=buildApiUrl(API_CONFIG.ENDPOINTS.PIX.PAGAR_QR),response=await fetch(url,{method:"POST",headers:getApiHeaders(),body:JSON.stringify(data),signal:AbortSignal.timeout(API_CONFIG.TIMEOUT)});let result;try{result=await response.json()}catch(jsonError){try{await response.text()}catch(textError){}throw new Error(`Erro HTTP ${response.status}: ${response.statusText}`)}if(!response.ok){let mensagemErro="";return mensagemErro=result.mensagem?result.mensagem:result.message?result.message:result.error?result.error:result.errorMessage?result.errorMessage:result.response&&result.response.message?result.response.message:result.response&&result.response.mensagem?result.response.mensagem:result.data&&result.data.message?result.data.message:result.data&&result.data.mensagem?result.data.mensagem:"string"==typeof result?result:`Erro HTTP ${response.status}: ${response.statusText}`,{sucesso:!1,mensagem:mensagemErro}}return result}catch(error){let mensagemErro="Erro desconhecido ao processar pagamento via QR Code";return error instanceof Error&&(mensagemErro="AbortError"===error.name?"Timeout: A requisição demorou muito para responder":error.message.includes("fetch")?"Erro de conexão: Verifique sua internet ou se o servidor está disponível":error.message),{sucesso:!1,mensagem:mensagemErro}}})(requestData);setApiResponse({sucesso:response.sucesso,mensagem:response.mensagem,codigoTransacao:response.codigoTransacao}),response.sucesso?(ue$2.success("Pagamento processado com sucesso!",{description:"Verifique os detalhes abaixo",duration:4e3,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}),form.reset()):ue$2.error("Falha ao processar pagamento",{description:response.mensagem||"Erro desconhecido",duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro inesperado";setApiResponse({sucesso:!1,mensagem:errorMessage}),ue$2.error("Erro ao processar pagamento",{description:errorMessage,duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}finally{setIsLoading(!1)}}),className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{control:form.control,name:"emvCode",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsxs(FormLabel,{className:"text-sm font-medium text-foreground",children:["Código QR ou EMV",isReadingQR&&jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(lendo...)"})]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Textarea,{placeholder:"Cole aqui o código QR ou EMV do PIX...",className:"min-h-[80px] rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors text-sm font-mono resize-none",disabled:isLoading,onChange:e3=>{return value=e3.target.value,void form.setValue("emvCode",value);var value},value:field.value}),isReadingQR&&jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"})}),isCodeValid&&!isReadingQR&&jsxRuntimeExports.jsx("div",{className:"absolute top-2 right-2",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"})})]})}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"}),isCodeValid&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mt-1",children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300",children:"Código válido"})})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"value",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsxs(FormLabel,{className:"text-sm font-medium text-foreground",children:["Valor",jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs ml-1",children:"(será preenchido automaticamente se o QR tiver valor)"})]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(DollarSign,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{type:"number",step:"0.01",placeholder:"Valor será preenchido automaticamente",className:"pl-10 h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors font-mono",disabled:isLoading,...field})]})}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"description",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsxs(FormLabel,{className:"text-sm font-medium text-foreground",children:["Descrição",jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs ml-1",children:"(opcional)"})]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Ex: Pagamento de produto...",className:"h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors",disabled:isLoading,...field})}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"})]})}),jsxRuntimeExports.jsx(Button$1,{type:"submit",disabled:isLoading||!isCodeValid,className:"w-full h-12 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:isLoading?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),"Processando..."]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(QrCode,{className:"h-4 w-4"}),"Pagar com QR"]})})]})}),apiResponse&&jsxRuntimeExports.jsx(Card,{className:"border-l-4 "+(apiResponse.sucesso?"border-l-green-500 bg-green-50/50 dark:bg-green-950/20":"border-l-red-500 bg-red-50/50 dark:bg-red-950/20"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-full "+(apiResponse.sucesso?"bg-green-100 dark:bg-green-900/50":"bg-red-100 dark:bg-red-900/50"),children:apiResponse.sucesso?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium "+(apiResponse.sucesso?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"),children:apiResponse.sucesso?"Pagamento Realizado!":"Erro no Pagamento"}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 "+(apiResponse.sucesso?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"),children:apiResponse.mensagem}),apiResponse.codigoTransacao&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs font-mono",children:apiResponse.codigoTransacao}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{return code=apiResponse.codigoTransacao,navigator.clipboard.writeText(code),void ue$2.success("Código copiado!");var code},className:"h-6 px-2 text-xs",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})]})]})})})]})}const BMP531_CONFIG={baseUrl:PUBLIC_ENV.API_BASE_URL,endpoints:{saldo:"/bmp-531/account/saldo",extrato:"/api/bmp-531/account/statement",pixEnviar:"/bmp-531/pix/enviar",pixPagarCopiaCola:"/bmp-531/pix/pagar-copia-cola",pixConsultarChave:"/bmp-531/pix/consultar-chave",pixStatusTransacao:"/bmp-531/pix/status",pixChavesCriar:"/bmp-531/pix/chaves/criar",pixChavesListar:"/bmp-531/pix/chaves/listar",pixQrCodeEstatico:"/bmp-531/pix/qrcode/estatico"},dadosBancarios:{agencia:PUBLIC_ENV.BMP_AGENCIA_TCR,agencia_digito:PUBLIC_ENV.BMP_AGENCIA_DIGITO_TCR,conta:PUBLIC_ENV.BMP_CONTA_TCR,conta_digito:PUBLIC_ENV.BMP_CONTA_DIGITO_TCR,conta_pgto:PUBLIC_ENV.BMP_CONTA_PGTO_TCR,tipo_conta:PUBLIC_ENV.BMP_TIPO_CONTA_TCR,modelo_conta:PUBLIC_ENV.BMP_MODELO_CONTA_TCR},timeout:3e4,defaultHeaders:{"Content-Type":"application/json",Accept:"application/json"}};function getDadosBancarios(accountType="ttf"){return"tcr"===accountType?{agencia:PUBLIC_ENV.BMP_AGENCIA_TCR,agencia_digito:PUBLIC_ENV.BMP_AGENCIA_DIGITO_TCR,conta:PUBLIC_ENV.BMP_CONTA_TCR,conta_digito:PUBLIC_ENV.BMP_CONTA_DIGITO_TCR,conta_pgto:PUBLIC_ENV.BMP_CONTA_PGTO_TCR,tipo_conta:PUBLIC_ENV.BMP_TIPO_CONTA_TCR,modelo_conta:PUBLIC_ENV.BMP_MODELO_CONTA_TCR}:{...BMP531_CONFIG.dadosBancarios}}async function makeRequest$1(endpoint,options={}){var _a3,_b3;const url=`${BMP531_CONFIG.baseUrl}${endpoint}`,{TOKEN_STORAGE:TOKEN_STORAGE2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const defaultHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.info(`BMP531 Request: ${options.method||"GET"} ${endpoint}`,{hasHeaders:!!options.headers,hasAuth:!!(null==(_a3=options.headers)?void 0:_a3.Authorization)});try{const response=await fetch(url,{...options,headers:{...defaultHeaders,...options.headers},signal:AbortSignal.timeout(BMP531_CONFIG.timeout)});if(!response.ok){await response.text();throw new Error(`Erro ${response.status}: ${response.statusText}`)}return await response.json()}catch(error){if(logger.error("Erro na requisição BMP531",{endpoint:endpoint,error:error.message,status:null==(_b3=error.response)?void 0:_b3.status}),"TimeoutError"===error.name)throw new Error("Timeout: A requisição demorou muito para responder");if("AbortError"===error.name)throw new Error("Requisição cancelada");throw error}}async function getBmp531Saldo(accountType="tcr"){return logger.info("Consultando saldo bancário",{accountType:accountType.toUpperCase()},"BMP531Service"),getDadosBancarios(accountType),makeRequest$1(BMP531_CONFIG.endpoints.saldo,{method:"GET"})}async function getBmp531Extrato(filtros,accountType="tcr"){var _a3,_b3;let endpoint=BMP531_CONFIG.endpoints.extrato;const params=new URLSearchParams,dadosBancarios=getDadosBancarios(accountType);if(params.append("Conta.Agencia",dadosBancarios.agencia||"0001"),params.append("Conta.AgenciaDigito",dadosBancarios.agencia_digito||"8"),params.append("Conta.Conta",dadosBancarios.conta||"159"),params.append("Conta.ContaDigito",dadosBancarios.conta_digito||"4"),params.append("Conta.ContaPgto",dadosBancarios.conta_pgto||"00001594"),params.append("Conta.TipoConta",(null==(_a3=dadosBancarios.tipo_conta)?void 0:_a3.toString())||"3"),params.append("Conta.ModeloConta",(null==(_b3=dadosBancarios.modelo_conta)?void 0:_b3.toString())||"1"),params.append("NumeroBanco","531"),(null==filtros?void 0:filtros.de)&&(null==filtros?void 0:filtros.ate)){const[anoInicial,mesInicial,diaInicial]=filtros.de.split("-"),[anoFinal,mesFinal,diaFinal]=filtros.ate.split("-");params.append("Mes",mesInicial),params.append("Ano",anoInicial),params.append("DiaInicial",diaInicial),params.append("DiaFinal",diaFinal)}else{const hoje=new Date;params.append("Mes",(hoje.getMonth()+1).toString().padStart(2,"0")),params.append("Ano",hoje.getFullYear().toString())}endpoint+=`?${params.toString()}`;return await makeRequest$1(endpoint,{method:"GET"})}async function listarChavesPixBmp531(accountType="ttf"){const{TOKEN_STORAGE:TOKEN_STORAGE2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Usuário não autenticado. Faça login para listar chaves PIX.");const dadosBancarios=getDadosBancarios(accountType),params=new URLSearchParams;Object.entries(dadosBancarios).forEach(([key,value])=>{null!=value&&"pix_key"!==key&&params.append(key,value.toString())});return makeRequest$1(`${BMP531_CONFIG.endpoints.pixChavesListar}?${params.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${userToken}`}})}const Bmp531Service={getSaldo:getBmp531Saldo,getExtrato:getBmp531Extrato,getSaldoTCR:()=>getBmp531Saldo("tcr"),getSaldoTTF:()=>getBmp531Saldo("ttf"),getExtratoTCR:filtros=>getBmp531Extrato(filtros,"tcr"),getExtratoTTF:filtros=>getBmp531Extrato(filtros,"ttf"),enviarPix:async function(data,accountType="ttf"){const{TOKEN_STORAGE:TOKEN_STORAGE2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Usuário não autenticado. Faça login para enviar PIX.");logger.info("Iniciando transferência PIX",{accountType:accountType.toUpperCase(),hasChave:!!data.chave,hasValor:!!data.valor,hasDescricao:!!data.descricao},"BMP531Service");const requestBody={chave:data.chave,valor:data.valor,descricao:data.descricao,informacoesAdicionais:data.informacoesAdicionais,remittanceInformation:data.remittanceInformation,dadosBancarios:getDadosBancarios(accountType)};return logger.debug("Request PIX preparado",{hasBody:!!requestBody,bodyKeys:Object.keys(requestBody),hasDadosBancarios:!!requestBody.dadosBancarios},"BMP531Service"),makeRequest$1(BMP531_CONFIG.endpoints.pixEnviar,{method:"POST",headers:{Authorization:`Bearer ${userToken}`},body:JSON.stringify(requestBody)})},consultarChave:async function(data){var _a3;logger.info("Consultando chave PIX",{hasChave:!!data.chave,chaveLength:(null==(_a3=data.chave)?void 0:_a3.length)||0},"BMP531Service"),logger.debug("Chave PIX para consulta",{chave:data.chave},"BMP531Service");const endpoint=`${BMP531_CONFIG.endpoints.pixConsultarChave}?chave=${encodeURIComponent(data.chave)}`,{TOKEN_STORAGE:TOKEN_STORAGE2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Usuário não autenticado. Faça login para consultar chave PIX.");return makeRequest$1(endpoint,{method:"GET",headers:{Authorization:`Bearer ${userToken}`},body:JSON.stringify({dadosBancarios:getDadosBancarios()})})},pagarQrCode:async function(data){const requestBody={emv:data.emv,valor:data.valor,descricao:data.descricao,dadosBancarios:getDadosBancarios()},{TOKEN_STORAGE:TOKEN_STORAGE2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Usuário não autenticado. Faça login para pagar QR Code.");return makeRequest$1(BMP531_CONFIG.endpoints.pixPagarCopiaCola,{method:"POST",headers:{Authorization:`Bearer ${userToken}`},body:JSON.stringify(requestBody)})},consultarStatusTransacao:async function(codigoTransacao){return makeRequest$1(`${BMP531_CONFIG.endpoints.pixStatusTransacao}/${codigoTransacao}`,{method:"GET",body:JSON.stringify({dadosBancarios:getDadosBancarios()})})},criarChave:async function(data){logger.info("Criando chave PIX",{tipoChave:data.tipoChave,hasChave:!!data.chave,hasCodigoMfa:!!data.codigoMfa},"BMP531Service"),logger.debug("Criação de chave PIX",data,"BMP531Service");const requestBody={tipoChave:data.tipoChave,chave:data.chave,codigoMfa:data.codigoMfa,codigoAutenticacao:data.codigoAutenticacao,dadosBancarios:getDadosBancarios()};return logger.debug("Request criação de chave preparado",{hasBody:!!requestBody,bodyKeys:Object.keys(requestBody)},"BMP531Service"),makeRequest$1(BMP531_CONFIG.endpoints.pixChavesCriar,{method:"POST",body:JSON.stringify(requestBody)})},listarChaves:listarChavesPixBmp531,listarChavesTCR:()=>listarChavesPixBmp531("tcr"),listarChavesTTF:()=>listarChavesPixBmp531("ttf"),criarQrCodeEstatico:async function(data){const requestBody={chave:data.chave,valor:data.valor,informacoesAdicionais:data.informacoesAdicionais,idConciliacaoRecebedor:data.idConciliacaoRecebedor,dadosBancarios:getDadosBancarios()};return makeRequest$1(BMP531_CONFIG.endpoints.pixQrCodeEstatico,{method:"POST",body:JSON.stringify(requestBody)})},getConfig:function(){return{...BMP531_CONFIG}},setTimeout:function(timeout){BMP531_CONFIG.timeout=timeout},getEndpointUrl:function(endpoint){return`${BMP531_CONFIG.baseUrl}${BMP531_CONFIG.endpoints[endpoint]}`},getDadosBancarios:getDadosBancarios},createKeySchema$1=objectType({tipoChave:enumType(["cpf","cnpj","email","telefone","aleatoria"],{required_error:"Selecione o tipo de chave"}),chave:stringType().optional(),codigoMfa:stringType().optional()});function CreatePixKeyForm(){const[isLoading,setIsLoading]=reactExports.useState(!1),[apiResponse,setApiResponse]=reactExports.useState(null),[codigoAutenticacao,setCodigoAutenticacao]=reactExports.useState(null),[etapaAtual,setEtapaAtual]=reactExports.useState("INICIAL"),[currentAccount,setCurrentAccount]=reactExports.useState(null),isBmp531TTF="bmp-531"===(null==currentAccount?void 0:currentAccount.provider);reactExports.useEffect(()=>{const checkAccount=()=>{var _a3,_b3;try{const account=null==(_b3=null==(_a3=window.apiRouter)?void 0:_a3.getCurrentAccount)?void 0:_b3.call(_a3);setCurrentAccount(account)}catch(error){}};checkAccount();const interval=setInterval(checkAccount,2e3);return()=>clearInterval(interval)},[]);const form=useForm({resolver:t(createKeySchema$1),defaultValues:{tipoChave:void 0,chave:"",codigoMfa:""}}),tipoChaveValue=form.watch("tipoChave"),chaveValue=form.watch("chave"),validarChaveForTipo=(chave,tipo)=>"aleatoria"===tipo||!(!chave||""===chave.trim())&&validarChavePix(chave,tipo),handleNovaChave=()=>{form.reset(),setEtapaAtual("INICIAL"),setCodigoAutenticacao(null),setApiResponse(null)};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsxs("form",{onSubmit:form.handleSubmit(async data=>{try{if(setIsLoading(!0),setApiResponse(null),"aleatoria"!==data.tipoChave){if(!data.chave||""===data.chave.trim())return void ue$2.error(`Valor da chave é obrigatório para ${data.tipoChave.toUpperCase()}!`);if(!validarChaveForTipo(data.chave,data.tipoChave))return void ue$2.error(`Formato de ${data.tipoChave.toUpperCase()} inválido!`,{description:"Verifique se a chave está no formato correto"})}if("AGUARDANDO_MFA"===etapaAtual&&(!data.codigoMfa||""===data.codigoMfa.trim()))return void ue$2.error("Digite o código de verificação!",{description:"Código enviado para seu "+("email"===data.tipoChave?"email":"telefone")});const requestData={tipoChave:data.tipoChave};let response;"aleatoria"!==data.tipoChave&&data.chave&&(requestData.chave=data.chave),"AGUARDANDO_MFA"===etapaAtual&&(requestData.codigoMfa=data.codigoMfa,requestData.codigoAutenticacao=codigoAutenticacao),response=isBmp531TTF?await Bmp531Service.criarChave(requestData):await(async data=>{try{const url=buildApiUrl(API_CONFIG.ENDPOINTS.PIX.CHAVES_CRIAR),response=await fetch(url,{method:"POST",headers:getApiHeaders(),body:JSON.stringify(data),signal:AbortSignal.timeout(API_CONFIG.TIMEOUT)});let result;try{result=await response.json()}catch(jsonError){try{await response.text()}catch(textError){}throw new Error(`Erro HTTP ${response.status}: ${response.statusText}`)}if(!response.ok){let mensagemErro="";return mensagemErro=result.mensagem?result.mensagem:result.message?result.message:result.error?result.error:result.errorMessage?result.errorMessage:result.response&&result.response.message?result.response.message:result.response&&result.response.mensagem?result.response.mensagem:result.data&&result.data.message?result.data.message:result.data&&result.data.mensagem?result.data.mensagem:"string"==typeof result?result:`Erro HTTP ${response.status}: ${response.statusText}`,{sucesso:!1,etapa:"ERRO",mensagem:mensagemErro}}return result}catch(error){let mensagemErro="Erro desconhecido ao criar chave PIX";return error instanceof Error&&(mensagemErro="AbortError"===error.name?"Timeout: A requisição demorou muito para responder":error.message.includes("fetch")?"Erro de conexão: Verifique sua internet ou se o servidor está disponível":error.message),{sucesso:!1,etapa:"ERRO",mensagem:mensagemErro}}})(requestData),setApiResponse(response),response.sucesso?"MFA_SOLICITADO"===response.etapa?(setEtapaAtual("AGUARDANDO_MFA"),setCodigoAutenticacao(response.codigoAutenticacao||null),ue$2.success("Código de verificação enviado!",{description:response.mensagem,duration:4e3,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})})):"CHAVE_CRIADA"===response.etapa&&(setEtapaAtual("CONCLUIDO"),ue$2.success("Chave PIX criada com sucesso!",{description:response.mensagem,duration:4e3,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}),setTimeout(()=>{form.reset(),setEtapaAtual("INICIAL"),setCodigoAutenticacao(null),setApiResponse(null)},5e3)):ue$2.error("Falha ao criar chave PIX",{description:response.mensagem||"Erro desconhecido",duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro inesperado";setApiResponse({sucesso:!1,etapa:"ERRO",mensagem:errorMessage}),ue$2.error("Erro ao criar chave PIX",{description:"Verifique os detalhes do erro abaixo",duration:4e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}finally{setIsLoading(!1)}}),className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{control:form.control,name:"tipoChave",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-sm font-medium text-foreground",children:"Tipo de Chave PIX"}),jsxRuntimeExports.jsxs(Select,{onValueChange:value=>{field.onChange(value),form.setValue("chave",""),form.setValue("codigoMfa",""),"INICIAL"!==etapaAtual&&(setEtapaAtual("INICIAL"),setApiResponse(null))},value:field.value,disabled:isLoading||"AGUARDANDO_MFA"===etapaAtual,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{className:"h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo"})})}),jsxRuntimeExports.jsxs(SelectContent,{className:"rounded-lg",children:[jsxRuntimeExports.jsx(SelectItem,{value:"cpf",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"CPF"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"cnpj",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"CNPJ"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"email",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"E-mail",jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs ml-auto",children:"MFA"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"telefone",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),"Telefone",jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs ml-auto",children:"MFA"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"aleatoria",className:"rounded-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),"Chave Aleatória",jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs ml-auto",children:"Recomendado"})]})})]})]}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"})]})}),tipoChaveValue&&"aleatoria"!==tipoChaveValue&&jsxRuntimeExports.jsx(FormField,{control:form.control,name:"chave",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsxs(FormLabel,{className:"text-sm font-medium text-foreground",children:["Valor da Chave ",tipoChaveValue.toUpperCase()]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs("div",{className:"relative",children:["email"===tipoChaveValue?jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}):"telefone"===tipoChaveValue?jsxRuntimeExports.jsx(Phone,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}):jsxRuntimeExports.jsx(Key,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"email"===tipoChaveValue?"seuemail@exemplo.com":"telefone"===tipoChaveValue?"+55 (11) 99999-9999":"cpf"===tipoChaveValue?"000.000.000-00":"00.000.000/0001-00",className:"pl-10 h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors",disabled:isLoading||"AGUARDANDO_MFA"===etapaAtual,onChange:e3=>(value=>{const keyType=form.getValues("tipoChave");if(keyType&&"aleatoria"!==keyType)if("telefone"===keyType){let cleanValue=value;cleanValue=cleanValue.replace(/[^\d+]/g,""),cleanValue.startsWith("+")&&(cleanValue="+"+cleanValue.substring(1).replace(/\+/g,"")),cleanValue.startsWith("+55")||(cleanValue=cleanValue.replace(/^\+?55?/,""),cleanValue="+55"+cleanValue);const formattedKey=formatarChavePix(cleanValue,keyType);form.setValue("chave",formattedKey)}else{const formattedKey=formatarChavePix(value,keyType);form.setValue("chave",formattedKey)}else form.setValue("chave",value)})(e3.target.value),value:field.value})]})}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"}),chaveValue&&validarChaveForTipo(chaveValue,tipoChaveValue)&&jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1 mt-1",children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300",children:"Formato válido"})})]})}),"aleatoria"===tipoChaveValue&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-50/50 dark:bg-blue-950/20 rounded-lg border border-blue-200/50 dark:border-blue-800/50",children:jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"💡 Uma chave aleatória será gerada automaticamente pelo sistema. É a opção mais segura e prática!"})}),"AGUARDANDO_MFA"===etapaAtual&&jsxRuntimeExports.jsx(FormField,{control:form.control,name:"codigoMfa",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-sm font-medium text-foreground",children:"Código de Verificação"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Digite o código recebido",className:"h-11 rounded-lg border-border hover:border-border/80 focus:border-primary transition-colors font-mono text-center",disabled:isLoading,maxLength:6,...field})}),jsxRuntimeExports.jsx(FormMessage,{className:"text-xs"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Código enviado para seu ","email"===tipoChaveValue?"e-mail":"telefone"]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{type:"submit",disabled:isLoading,className:"flex-1 h-12 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-medium rounded-lg shadow-sm hover:shadow-md transition-all duration-200",children:isLoading?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),"AGUARDANDO_MFA"===etapaAtual?"Verificando...":"Criando..."]}):jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4"}),"AGUARDANDO_MFA"===etapaAtual?"Verificar Código":"Criar Chave PIX"]})}),"AGUARDANDO_MFA"===etapaAtual&&jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:handleNovaChave,disabled:isLoading,className:"h-12 px-4 rounded-lg",children:"Cancelar"})]})]})}),apiResponse&&jsxRuntimeExports.jsx(Card,{className:"border-l-4 "+(apiResponse.sucesso?"border-l-green-500 bg-green-50/50 dark:bg-green-950/20":"border-l-red-500 bg-red-50/50 dark:bg-red-950/20"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-full "+(apiResponse.sucesso?"bg-green-100 dark:bg-green-900/50":"bg-red-100 dark:bg-red-900/50"),children:apiResponse.sucesso?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-600 dark:text-green-400"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-600 dark:text-red-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium "+(apiResponse.sucesso?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"),children:"MFA_SOLICITADO"===apiResponse.etapa?"Verificação Necessária":"CHAVE_CRIADA"===apiResponse.etapa?"Chave PIX Criada!":"Erro na Criação"}),jsxRuntimeExports.jsx("p",{className:"text-xs mt-1 "+(apiResponse.sucesso?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"),children:apiResponse.mensagem}),apiResponse.chave&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs font-mono",children:apiResponse.chave}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{return key=apiResponse.chave,navigator.clipboard.writeText(key),void ue$2.success("Chave copiada!");var key},className:"h-6 px-2 text-xs",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]}),"CONCLUIDO"===etapaAtual&&jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:handleNovaChave,className:"mt-3 h-8 text-xs",children:"Criar Nova Chave"})]})]})})})]})}function ListPixKeysForm(){const[currentAccount,setCurrentAccount]=reactExports.useState(null),isBmp531TTF="bmp-531"===(null==currentAccount?void 0:currentAccount.provider),[bmp531Data,setBmp531Data]=reactExports.useState(null),[bmp531Loading,setBmp531Loading]=reactExports.useState(!1),[bmp531Error,setBmp531Error]=reactExports.useState(null),{data:responseData,isLoading:isLoading,error:error}=((options={})=>{const{enabled:enabled=!0,staleTime:staleTime=6e5,cacheTime:cacheTime=18e5}=options;return useQuery({queryKey:["pix-keys"],queryFn:listarChavesPix,enabled:enabled,staleTime:staleTime,cacheTime:cacheTime,refetchOnWindowFocus:!1,retry:2,retryDelay:attemptIndex=>Math.min(1e3*2**attemptIndex,3e4)})})({staleTime:6e5,enabled:!isBmp531TTF&&null!==currentAccount});reactExports.useEffect(()=>{const checkAccount=()=>{var _a3,_b3;try{const account=null==(_b3=null==(_a3=window.apiRouter)?void 0:_a3.getCurrentAccount)?void 0:_b3.call(_a3);setCurrentAccount(account),"bmp-531"!==(null==account?void 0:account.provider)&&(setBmp531Data(null),setBmp531Error(null),setBmp531Loading(!1))}catch(error2){}};checkAccount();const interval=setInterval(checkAccount,500);return()=>clearInterval(interval)},[]),reactExports.useEffect(()=>{if(isBmp531TTF){(async()=>{setBmp531Loading(!0),setBmp531Error(null);try{const result=await Bmp531Service.listarChaves();setBmp531Data(result)}catch(error2){setBmp531Error(error2.message)}finally{setBmp531Loading(!1)}})()}},[isBmp531TTF]);const refreshPixKeys=(()=>{const queryClient2=useQueryClient();return()=>{queryClient2.refetchQueries({queryKey:["pix-keys"]})}})(),finalData=isBmp531TTF?bmp531Data:responseData,finalLoading=isBmp531TTF?bmp531Loading:isLoading,pixKeys=(null==finalData?void 0:finalData.chaves)||[],handleRefresh=async()=>{if(isBmp531TTF){setBmp531Loading(!0);try{const result=await Bmp531Service.listarChaves();setBmp531Data(result),ue$2.success("Chaves TTF atualizadas!")}catch(error2){setBmp531Error(error2.message),ue$2.error("Erro ao atualizar chaves TTF")}finally{setBmp531Loading(!1)}}else refreshPixKeys(),ue$2.info("Atualizando lista de chaves...")},getKeyTypeIcon=codigo=>{switch(codigo){case 0:return jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-white"});case 1:return jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4 text-white"});case 2:return jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4 text-white"});case 3:return jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 text-white"});case 4:return jsxRuntimeExports.jsx(Hash$2,{className:"h-4 w-4 text-white"});default:return jsxRuntimeExports.jsx(Key,{className:"h-4 w-4 text-white"})}},getKeyTypeColor=codigo=>{switch(codigo){case 0:return"bg-blue-500";case 1:return"bg-tcr-green";case 2:return"bg-emerald-500";case 3:return"bg-purple-500";case 4:return"bg-amber-500";default:return"bg-gray-500"}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-card-foreground",children:"Suas Chaves PIX"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Gerencie suas chaves PIX cadastradas e utilize-as para receber transferências"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:handleRefresh,disabled:finalLoading,className:"rounded-xl",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2 "+(isLoading?"animate-spin":"")}),"Atualizar"]})]}),responseData&&responseData.sucesso&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-wrap",children:[jsxRuntimeExports.jsxs(Badge,{variant:"default",className:"text-sm",children:[responseData.total," chave(s) total"]}),responseData.estatisticas&&Object.entries(responseData.estatisticas.porTipo).map(([tipo,count2])=>jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"text-sm",children:[tipo,": ",count2]},tipo))]}),isLoading&&jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-primary mr-3"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Carregando suas chaves PIX..."})]})}),error&&!isLoading&&jsxRuntimeExports.jsx(Card,{className:"border-2 border-destructive bg-destructive/5",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-2xl bg-destructive/20",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-6 w-6 text-destructive"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-destructive",children:"Erro ao Carregar Chaves"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-sm text-destructive/80",children:error}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:handleRefresh,className:"mt-4 text-destructive border-destructive hover:bg-destructive/10",children:"Tentar Novamente"})]})]})})}),!isLoading&&!error&&0===pixKeys.length&&jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsxs(CardContent,{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"p-4 rounded-2xl bg-muted/20 w-fit mx-auto mb-4",children:jsxRuntimeExports.jsx(Key,{className:"h-12 w-12 text-muted-foreground"})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-xl text-card-foreground mb-2",children:"Nenhuma chave PIX encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:'Você ainda não possui chaves PIX cadastradas. Use o formulário "Criar Chave PIX" para cadastrar sua primeira chave e começar a receber transferências.'})]})}),!isLoading&&!error&&pixKeys.length>0&&jsxRuntimeExports.jsx("div",{className:"grid gap-4",children:pixKeys.map((pixKey,index)=>jsxRuntimeExports.jsx(Card,{className:"border border-border hover:shadow-lg transition-all duration-200 hover:border-primary/50",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:`p-4 rounded-2xl ${getKeyTypeColor(pixKey.tipoChave.codigo)} shadow-lg`,children:getKeyTypeIcon(pixKey.tipoChave.codigo)}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg text-card-foreground",children:pixKey.tipoChave.nome}),jsxRuntimeExports.jsx(Badge,{variant:pixKey.configurada?"default":"secondary",className:"text-xs",children:pixKey.configurada?"Ativa":"Inativa"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("p",{className:"font-mono text-lg text-card-foreground break-all",children:pixKey.formatacao||pixKey.chave}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:pixKey.tipoChave.descricao})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-card-foreground",children:pixKey.titular.nome}),jsxRuntimeExports.jsxs("p",{className:"mt-1",children:[pixKey.titular.documento," • ",pixKey.titular.tipoPessoa.nome]})]})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>{return chave=pixKey.chave,tipo=pixKey.tipoChave.nome,navigator.clipboard.writeText(chave),void ue$2.success(`Chave ${tipo} copiada!`,{description:"A chave foi copiada para sua área de transferência",duration:3e3});var chave,tipo},className:"shrink-0 hover:bg-primary hover:text-primary-foreground transition-colors duration-200",children:[jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4 mr-2"}),"Copiar"]})]})})},`${pixKey.chave}-${index}`))}),responseData&&responseData.sucesso&&responseData.contaConsultada&&jsxRuntimeExports.jsx(Card,{className:"bg-muted/30",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx(Shield,{className:"h-3 w-3 inline mr-1"}),"Conta consultada: ",responseData.contaConsultada.agencia," / ",responseData.contaConsultada.conta,"-",responseData.contaConsultada.contaDigito,jsxRuntimeExports.jsxs("span",{className:"ml-3",children:[jsxRuntimeExports.jsx(Key,{className:"h-3 w-3 inline mr-1"}),"Chaves protegidas por criptografia de ponta a ponta"]})]})})})]})}const formatarMovimentoDoBackend=(item,provider)=>{let client2,document2,code,descCliente,descricaoOperacao,identified,value=0,type="DÉBITO",dateTime=(new Date).toISOString();if("bmp-531"===provider||"bmp"===provider){if(value=Math.abs(parseFloat(item.vlrMovimento||item.valor||0)),"C"===item.tipoLancamento)type="CRÉDITO";else if("D"===item.tipoLancamento)type="DÉBITO";else{const valorNumerico=parseFloat(item.vlrMovimento||item.valor||0);if(valorNumerico>0)type="CRÉDITO";else if(valorNumerico<0)type="DÉBITO";else{const desc=(item.descricao||item.complemento||item.descricaoOperacao||"").toLowerCase();type=desc.includes("recebimento")||desc.includes("credito")||desc.includes("deposito")||desc.includes("pix recebido")?"CRÉDITO":"DÉBITO"}}dateTime=item.dtMovimento||item.dtLancamento||item.dataHora||(new Date).toISOString()}else value=Math.abs(parseFloat(item.value||item.valor||0)),type=item.type||(parseFloat(item.valor||0)>0?"CRÉDITO":"DÉBITO"),dateTime=item.dateTime||item.data_movimento||(new Date).toISOString();return"bmp-531"===provider||"bmp"===provider?(client2=item.nome||item.descCliente||item.complemento||"—",document2=item.documentoFederal||item.documento||"—",code=item.codigo||item.codigoTransacao||item.identificadorOperacao||Math.random().toString(36).substr(2,9).toUpperCase(),descCliente=item.descCliente||item.nome,descricaoOperacao=item.descricaoOperacao||item.descricao,identified=!(!item.nome&&!item.documentoFederal)):(client2=item.client||item.cliente||item.nome||"—",document2=item.document||item.documento||"—",code=item.code||item.codigo||Math.random().toString(36).substr(2,9).toUpperCase(),descCliente=item.descCliente,descricaoOperacao=item.descricaoOperacao,identified=!1!==item.identified),{id:item.id||item.codigo||Math.random().toString(36),dateTime:dateTime,value:value,type:type,document:document2,client:client2,identified:identified,code:code,descCliente:descCliente,descricaoOperacao:descricaoOperacao,_original:item}},formatarMovimentoBitso=item=>{var _a3,_b3,_c2,_d2,_e3,_f2;item.descricao;const clientePrincipal="CRÉDITO"===item.tipo?(null==(_a3=item.pagador)?void 0:_a3.nome)||(null==(_b3=item.pagador)?void 0:_b3.documento)||"Pagador não identificado":(null==(_c2=item.destinatario)?void 0:_c2.nome)||(null==(_d2=item.destinatario)?void 0:_d2.documento)||"Destinatário não identificado";return{id:item.id||Math.random().toString(36),dateTime:item.data||(new Date).toISOString(),value:Math.abs(parseFloat(item.valor||0)),type:"CRÉDITO"===item.tipo?"CRÉDITO":"DÉBITO",document:clientePrincipal||"Cliente não identificado",client:"CRÉDITO"===item.tipo?(null==(_e3=item.pagador)?void 0:_e3.documento)||"—":(null==(_f2=item.destinatario)?void 0:_f2.documento)||"—",identified:!0,code:item.endToEndId||item.id||Math.random().toString(36).substr(2,9).toUpperCase(),bitsoData:{pagador:item.pagador,destinatario:item.destinatario,metadados:item.metadados,origem:item.origem||"pay-in",provider:"bitso"},_original:item}},useExtratoPaginado=({filtros:filtros,enabled:enabled=!0,pageSize:pageSize=1e3,initialPage:initialPage=1})=>{var _a3;const[currentPage,setCurrentPage]=reactExports.useState(initialPage),[paginationState,setPaginationState]=reactExports.useState({page:1,markers:{}}),provider=filtros.provider||(()=>{try{return JSON.parse(localStorage.getItem("currentAccount")||"{}").provider||"bmp"}catch{return"bmp"}})(),queryResult=useQuery({queryKey:["extrato-paginado",provider,filtros,currentPage,pageSize],queryFn:()=>(async({provider:provider,filtros:filtros,page:page,pageSize:pageSize=1e3,paginationState:paginationState,setPaginationState:setPaginationState})=>{var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2;let url,params=new URLSearchParams;if("bmp"===provider||"bmp-531"===provider)if("bmp"===provider){if(url="/api/account/statement",params.append("Conta.Agencia","0001"),params.append("Conta.AgenciaDigito",""),params.append("Conta.Conta","902486"),params.append("Conta.ContaDigito","0"),params.append("Conta.ContaPgto","09024860"),params.append("Conta.TipoConta",String("3")),params.append("Conta.ModeloConta",String("1")),params.append("NumeroBanco","274"),filtros.de&&filtros.ate){const[anoInicial,mesInicial,diaInicial]=filtros.de.split("-"),[anoFinal,mesFinal,diaFinal]=filtros.ate.split("-");anoInicial===anoFinal&&mesInicial===mesFinal?(params.append("Mes",mesInicial),params.append("Ano",anoInicial),params.append("DiaInicial",diaInicial),params.append("DiaFinal",diaFinal)):(params.append("Mes",mesInicial),params.append("Ano",anoInicial))}else if(filtros.de){const[ano,mes]=filtros.de.split("-");params.append("Mes",mes),params.append("Ano",ano)}else if(filtros.ate){const[ano,mes]=filtros.ate.split("-");params.append("Mes",mes),params.append("Ano",ano)}if(!filtros.de&&!filtros.ate){const hoje=new Date;params.append("Mes",(hoje.getMonth()+1).toString().padStart(2,"0")),params.append("Ano",hoje.getFullYear().toString())}}else{if(filtros.de&&params.append("de",filtros.de),filtros.ate&&params.append("ate",filtros.ate),params.append("page",page.toString()),params.append("pageSize",pageSize.toString()),url="/api/bmp-531/account/statement",params.append("Conta.Agencia","0001"),params.append("Conta.AgenciaDigito","8"),params.append("Conta.Conta","159"),params.append("Conta.ContaDigito","4"),params.append("Conta.ContaPgto","00001594"),params.append("Conta.TipoConta",String("3")),params.append("Conta.ModeloConta",String("1")),params.append("NumeroBanco","531"),filtros.de){const[ano,mes,dia]=filtros.de.split("-");params.append("Mes",mes),params.append("Ano",ano),params.append("DiaInicial",dia)}if(filtros.ate){const[ano,mes,dia]=filtros.ate.split("-");params.append("DiaFinal",dia)}if(!filtros.de&&!filtros.ate){const hoje=new Date,mesesParaTras=Math.floor((page-1)/5),dataBusca=new Date(hoje);dataBusca.setMonth(hoje.getMonth()-mesesParaTras),params.append("Mes",(dataBusca.getMonth()+1).toString().padStart(2,"0")),params.append("Ano",dataBusca.getFullYear().toString())}}else{if("bitso"!==provider)throw new Error(`Provider inválido: ${provider}`);if(params.append("limit",Math.min(pageSize,1e3).toString()),page>1&&(null==paginationState?void 0:paginationState.markers[page])){const savedMarkers=paginationState.markers[page];(null==savedMarkers?void 0:savedMarkers.payInsMarker)&&params.append("payInsMarker",savedMarkers.payInsMarker),(null==savedMarkers?void 0:savedMarkers.payOutsMarker)&&params.append("payOutsMarker",savedMarkers.payOutsMarker)}params.append("page",page.toString()),filtros.de&&params.append("start_date",filtros.de),filtros.ate&&params.append("end_date",filtros.ate),filtros.de&&params.append("from_date",filtros.de),filtros.ate&&params.append("to_date",filtros.ate),params.append("order","desc"),params.append("sort","timestamp"),params.append("sort_by","date"),params.append("order_by","created_at"),url="/api/bitso/pix/extrato/conta"}const queryString=params.toString(),absoluteUrl=`${API_CONFIG.BASE_URL}${queryString?`${url}?${queryString}`:url}`,response=await fetch(absoluteUrl,{method:"GET",headers:{"Content-Type":"application/json",...localStorage.getItem("auth_token")&&{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}},signal:AbortSignal.timeout(3e4)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(`${provider.toUpperCase()} API Error: ${errorData.message||response.statusText}`)}const data=await response.json();let items=[],totalItems=0,totalPages=0,hasNextPage=!1,hasPrevPage=!1;if("bitso"===provider){let transacoesBitso=null;if(data.sucesso&&(null==(_a3=data.data)?void 0:_a3.transacoes)?transacoesBitso=data.data.transacoes:data.sucesso&&data.transacoes&&(transacoesBitso=data.transacoes),!transacoesBitso||!Array.isArray(transacoesBitso))throw new Error("Formato de resposta Bitso inválido - transações não encontradas");{if(filtros.de||filtros.ate){const dataInicio=filtros.de?new Date(filtros.de+"T00:00:00"):null,dataFim=filtros.ate?new Date(filtros.ate+"T23:59:59"):null;transacoesBitso=transacoesBitso.filter(transacao=>{if(!transacao.data)return!0;const dataTransacao=new Date(transacao.data);return!(dataInicio&&dataTransacao<dataInicio||dataFim&&dataTransacao>dataFim)})}items=transacoesBitso.map(formatarMovimentoBitso),totalItems=(null==(_b3=data.data)?void 0:_b3.totalItems)||(null==(_c2=data.data)?void 0:_c2.total)||data.totalItems||data.total||items.length,totalPages=(null==(_d2=data.data)?void 0:_d2.totalPages)||data.totalPages||Math.ceil(totalItems/pageSize),hasNextPage=(null==(_e3=data.data)?void 0:_e3.hasNextPage)||(null==(_f2=data.data)?void 0:_f2.hasMore)||data.hasNextPage||data.hasMore||!1,hasPrevPage=(null==(_g2=data.data)?void 0:_g2.hasPrevPage)||data.hasPrevPage||page>1;const nextMarkers=data.nextMarkers||(null==(_h2=data.data)?void 0:_h2.nextMarkers)||null;nextMarkers&&(nextMarkers.payInsMarker||nextMarkers.payOutsMarker)&&(null==setPaginationState||setPaginationState(prev=>({...prev,page:page,nextMarkers:nextMarkers,markers:{...prev.markers,[page+1]:nextMarkers}})))}}else if("bmp-531"===provider&&data.movimentos&&Array.isArray(data.movimentos))items=data.movimentos.map(item=>formatarMovimentoDoBackend(item,provider)),totalItems=data.movimentos.length;else if("bmp-531"===provider&&data.items&&Array.isArray(data.items))items=data.items.map(item=>formatarMovimentoDoBackend(item,provider)),totalItems=data.totalItems||data.total||items.length;else if("bmp"===provider&&data.movimentos&&Array.isArray(data.movimentos))items=data.movimentos.map(item=>formatarMovimentoDoBackend(item,provider)),totalItems=data.movimentos.length;else{if("bmp"!==provider||!data.items||!Array.isArray(data.items))throw new Error(`Formato de resposta ${provider.toUpperCase()} inválido - esperado: { movimentos: [...] } ou { items: [...] }`);items=data.items.map(item=>formatarMovimentoDoBackend(item,provider)),totalItems=data.total||data.totalItems||items.length}return totalPages||(totalPages=Math.ceil(totalItems/pageSize),hasNextPage=page<totalPages,hasPrevPage=page>1),{items:items,currentPage:page,totalPages:totalPages,totalItems:totalItems,hasNextPage:hasNextPage,hasPrevPage:hasPrevPage,pageSize:pageSize}})({provider:provider,filtros:filtros,page:currentPage,pageSize:pageSize,paginationState:paginationState,setPaginationState:setPaginationState}),enabled:enabled,staleTime:3e4,gcTime:6e4,refetchOnWindowFocus:!1,retry:1}),pageInfo=reactExports.useMemo(()=>{if(!queryResult.data)return null;const{currentPage:currentPage2,totalPages:totalPages,totalItems:totalItems,pageSize:pageSize2}=queryResult.data;return{startItem:(currentPage2-1)*pageSize2+1,endItem:Math.min(currentPage2*pageSize2,totalItems),totalItems:totalItems,currentPage:currentPage2,totalPages:totalPages,pageSize:pageSize2}},[queryResult.data]);return{data:(null==(_a3=queryResult.data)?void 0:_a3.items)||[],pageInfo:pageInfo,isLoading:queryResult.isLoading,error:queryResult.error,currentPage:currentPage,goToPage:page=>{var _a4;page>=1&&page<=((null==(_a4=queryResult.data)?void 0:_a4.totalPages)||1)&&setCurrentPage(page)},nextPage:()=>{var _a4;(null==(_a4=queryResult.data)?void 0:_a4.hasNextPage)&&setCurrentPage(prev=>prev+1)},prevPage:()=>{var _a4;(null==(_a4=queryResult.data)?void 0:_a4.hasPrevPage)&&setCurrentPage(prev=>prev-1)},firstPage:()=>{setCurrentPage(1)},lastPage:()=>{var _a4;(null==(_a4=queryResult.data)?void 0:_a4.totalPages)&&setCurrentPage(queryResult.data.totalPages)},refetch:queryResult.refetch,provider:provider}},validarIntervaloData=(dataInicial,dataFinal)=>{if(!dataInicial||!dataFinal)return!0;const inicio=new Date(dataInicial),fim=new Date(dataFinal);if(isNaN(inicio.getTime())||isNaN(fim.getTime()))return!1;if(inicio>fim)return!1;const diffTime=Math.abs(fim.getTime()-inicio.getTime());return Math.ceil(diffTime/864e5)<=31},formatarDataParaAPI=date2=>date2.toISOString().split("T")[0];var u=.999,m=/[\\\/_+.#"@\[\(\{&]/,B$1=/[\\\/_+.#"@\[\(\{&]/g,K$1=/[\s-]/,X=/[\s-]/g;function G(_2,C2,h2,P2,A2,f2,O2){if(f2===C2.length)return A2===_2.length?1:.99;var T2=`${A2},${f2}`;if(void 0!==O2[T2])return O2[T2];for(var E2,N2,R2,M2,L2=P2.charAt(f2),c2=h2.indexOf(L2,A2),S2=0;c2>=0;)(E2=G(_2,C2,h2,P2,c2+1,f2+1,O2))>S2&&(c2===A2?E2*=1:m.test(_2.charAt(c2-1))?(E2*=.8,(R2=_2.slice(A2,c2-1).match(B$1))&&A2>0&&(E2*=Math.pow(u,R2.length))):K$1.test(_2.charAt(c2-1))?(E2*=.9,(M2=_2.slice(A2,c2-1).match(X))&&A2>0&&(E2*=Math.pow(u,M2.length))):(E2*=.17,A2>0&&(E2*=Math.pow(u,c2-A2))),_2.charAt(c2)!==C2.charAt(f2)&&(E2*=.9999)),(E2<.1&&h2.charAt(c2-1)===P2.charAt(f2+1)||P2.charAt(f2+1)===P2.charAt(f2)&&h2.charAt(c2-1)!==P2.charAt(f2))&&(.1*(N2=G(_2,C2,h2,P2,c2+1,f2+2,O2))>E2&&(E2=.1*N2)),E2>S2&&(S2=E2),c2=h2.indexOf(L2,c2+1);return O2[T2]=S2,S2}function D(_2){return _2.toLowerCase().replace(X," ")}function W(_2,C2,h2){return G(_2=h2&&h2.length>0?""+(_2+" "+h2.join(" ")):_2,C2,D(_2),D(C2),0,0,{})}var N='[cmdk-group=""]',Y='[cmdk-group-items=""]',le='[cmdk-item=""]',ce=`${le}:not([aria-disabled="true"])`,Z="cmdk-item-select",T="data-value",Re=(r2,o2,n2)=>W(r2,o2,n2),ue=reactExports.createContext(void 0),K=()=>reactExports.useContext(ue),de=reactExports.createContext(void 0),ee=()=>reactExports.useContext(de),fe=reactExports.createContext(void 0),me=reactExports.forwardRef((r2,o2)=>{let n2=L(()=>{var e3,a2;return{search:"",value:null!=(a2=null!=(e3=r2.value)?e3:r2.defaultValue)?a2:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),u2=L(()=>new Set),c2=L(()=>new Map),d2=L(()=>new Map),f2=L(()=>new Set),p2=pe(r2),{label:b2,children:m2,value:R2,onValueChange:x2,filter:C2,shouldFilter:S2,loop:A2,disablePointerSelection:ge2=!1,vimBindings:j2=!0,...O2}=r2,$2=useId$1(),q2=useId$1(),_2=useId$1(),I2=reactExports.useRef(null),v2=ke();k(()=>{if(void 0!==R2){let e3=R2.trim();n2.current.value=e3,E2.emit()}},[R2]),k(()=>{v2(6,ne2)},[]);let E2=reactExports.useMemo(()=>({subscribe:e3=>(f2.current.add(e3),()=>f2.current.delete(e3)),snapshot:()=>n2.current,setState:(e3,a2,s2)=>{var i2,l2,g2,y2;if(!Object.is(n2.current[e3],a2)){if(n2.current[e3]=a2,"search"===e3)J2(),z2(),v2(1,W2);else if("value"===e3){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let h2=document.getElementById(_2);h2?h2.focus():null==(i2=document.getElementById($2))||i2.focus()}if(v2(7,()=>{var h2;n2.current.selectedItemId=null==(h2=M2())?void 0:h2.id,E2.emit()}),s2||v2(5,ne2),void 0!==(null==(l2=p2.current)?void 0:l2.value)){let h2=null!=a2?a2:"";return void(null==(y2=(g2=p2.current).onValueChange)||y2.call(g2,h2))}}E2.emit()}},emit:()=>{f2.current.forEach(e3=>e3())}}),[]),U2=reactExports.useMemo(()=>({value:(e3,a2,s2)=>{var i2;a2!==(null==(i2=d2.current.get(e3))?void 0:i2.value)&&(d2.current.set(e3,{value:a2,keywords:s2}),n2.current.filtered.items.set(e3,te2(a2,s2)),v2(2,()=>{z2(),E2.emit()}))},item:(e3,a2)=>(u2.current.add(e3),a2&&(c2.current.has(a2)?c2.current.get(a2).add(e3):c2.current.set(a2,new Set([e3]))),v2(3,()=>{J2(),z2(),n2.current.value||W2(),E2.emit()}),()=>{d2.current.delete(e3),u2.current.delete(e3),n2.current.filtered.items.delete(e3);let s2=M2();v2(4,()=>{J2(),(null==s2?void 0:s2.getAttribute("id"))===e3&&W2(),E2.emit()})}),group:e3=>(c2.current.has(e3)||c2.current.set(e3,new Set),()=>{d2.current.delete(e3),c2.current.delete(e3)}),filter:()=>p2.current.shouldFilter,label:b2||r2["aria-label"],getDisablePointerSelection:()=>p2.current.disablePointerSelection,listId:$2,inputId:_2,labelId:q2,listInnerRef:I2}),[]);function te2(e3,a2){var i2,l2;let s2=null!=(l2=null==(i2=p2.current)?void 0:i2.filter)?l2:Re;return e3?s2(e3,n2.current.search,a2):0}function z2(){if(!n2.current.search||!1===p2.current.shouldFilter)return;let e3=n2.current.filtered.items,a2=[];n2.current.filtered.groups.forEach(i2=>{let l2=c2.current.get(i2),g2=0;l2.forEach(y2=>{let h2=e3.get(y2);g2=Math.max(h2,g2)}),a2.push([i2,g2])});let s2=I2.current;V2().sort((i2,l2)=>{var h2,F2;let g2=i2.getAttribute("id"),y2=l2.getAttribute("id");return(null!=(h2=e3.get(y2))?h2:0)-(null!=(F2=e3.get(g2))?F2:0)}).forEach(i2=>{let l2=i2.closest(Y);l2?l2.appendChild(i2.parentElement===l2?i2:i2.closest(`${Y} > *`)):s2.appendChild(i2.parentElement===s2?i2:i2.closest(`${Y} > *`))}),a2.sort((i2,l2)=>l2[1]-i2[1]).forEach(i2=>{var g2;let l2=null==(g2=I2.current)?void 0:g2.querySelector(`${N}[${T}="${encodeURIComponent(i2[0])}"]`);null==l2||l2.parentElement.appendChild(l2)})}function W2(){let e3=V2().find(s2=>"true"!==s2.getAttribute("aria-disabled")),a2=null==e3?void 0:e3.getAttribute(T);E2.setState("value",a2||void 0)}function J2(){var a2,s2,i2,l2;if(!n2.current.search||!1===p2.current.shouldFilter)return void(n2.current.filtered.count=u2.current.size);n2.current.filtered.groups=new Set;let e3=0;for(let g2 of u2.current){let F2=te2(null!=(s2=null==(a2=d2.current.get(g2))?void 0:a2.value)?s2:"",null!=(l2=null==(i2=d2.current.get(g2))?void 0:i2.keywords)?l2:[]);n2.current.filtered.items.set(g2,F2),F2>0&&e3++}for(let[g2,y2]of c2.current)for(let h2 of y2)if(n2.current.filtered.items.get(h2)>0){n2.current.filtered.groups.add(g2);break}n2.current.filtered.count=e3}function ne2(){var a2,s2,i2;let e3=M2();e3&&((null==(a2=e3.parentElement)?void 0:a2.firstChild)===e3&&(null==(i2=null==(s2=e3.closest(N))?void 0:s2.querySelector('[cmdk-group-heading=""]'))||i2.scrollIntoView({block:"nearest"})),e3.scrollIntoView({block:"nearest"}))}function M2(){var e3;return null==(e3=I2.current)?void 0:e3.querySelector(`${le}[aria-selected="true"]`)}function V2(){var e3;return Array.from((null==(e3=I2.current)?void 0:e3.querySelectorAll(ce))||[])}function X2(e3){let s2=V2()[e3];s2&&E2.setState("value",s2.getAttribute(T))}function Q2(e3){var g2;let a2=M2(),s2=V2(),i2=s2.findIndex(y2=>y2===a2),l2=s2[i2+e3];null!=(g2=p2.current)&&g2.loop&&(l2=i2+e3<0?s2[s2.length-1]:i2+e3===s2.length?s2[0]:s2[i2+e3]),l2&&E2.setState("value",l2.getAttribute(T))}function re2(e3){let i2,a2=M2(),s2=null==a2?void 0:a2.closest(N);for(;s2&&!i2;)s2=e3>0?we(s2,N):De(s2,N),i2=null==s2?void 0:s2.querySelector(ce);i2?E2.setState("value",i2.getAttribute(T)):Q2(e3)}let oe2=()=>X2(V2().length-1),ie2=e3=>{e3.preventDefault(),e3.metaKey?oe2():e3.altKey?re2(1):Q2(1)},se2=e3=>{e3.preventDefault(),e3.metaKey?X2(0):e3.altKey?re2(-1):Q2(-1)};return reactExports.createElement(Primitive.div,{ref:o2,tabIndex:-1,...O2,"cmdk-root":"",onKeyDown:e3=>{var s2;null==(s2=O2.onKeyDown)||s2.call(O2,e3);let a2=e3.nativeEvent.isComposing||229===e3.keyCode;if(!e3.defaultPrevented&&!a2)switch(e3.key){case"n":case"j":j2&&e3.ctrlKey&&ie2(e3);break;case"ArrowDown":ie2(e3);break;case"p":case"k":j2&&e3.ctrlKey&&se2(e3);break;case"ArrowUp":se2(e3);break;case"Home":e3.preventDefault(),X2(0);break;case"End":e3.preventDefault(),oe2();break;case"Enter":{e3.preventDefault();let i2=M2();if(i2){let l2=new Event(Z);i2.dispatchEvent(l2)}}}}},reactExports.createElement("label",{"cmdk-label":"",htmlFor:U2.inputId,id:U2.labelId,style:Te},b2),B(r2,e3=>reactExports.createElement(de.Provider,{value:E2},reactExports.createElement(ue.Provider,{value:U2},e3))))}),he=reactExports.forwardRef((r2,o2)=>{var _2,I2;let n2=useId$1(),u2=reactExports.useRef(null),c2=reactExports.useContext(fe),d2=K(),f2=pe(r2),p2=null!=(I2=null==(_2=f2.current)?void 0:_2.forceMount)?I2:null==c2?void 0:c2.forceMount;k(()=>{if(!p2)return d2.item(n2,null==c2?void 0:c2.id)},[p2]);let b2=ve(n2,u2,[r2.value,r2.children,u2],r2.keywords),m2=ee(),R2=P(v2=>v2.value&&v2.value===b2.current),x2=P(v2=>!(!p2&&!1!==d2.filter())||(!v2.search||v2.filtered.items.get(n2)>0));function C2(){var v2,E2;S2(),null==(E2=(v2=f2.current).onSelect)||E2.call(v2,b2.current)}function S2(){m2.setState("value",b2.current,!0)}if(reactExports.useEffect(()=>{let v2=u2.current;if(v2&&!r2.disabled)return v2.addEventListener(Z,C2),()=>v2.removeEventListener(Z,C2)},[x2,r2.onSelect,r2.disabled]),!x2)return null;let{disabled:A2,value:ge2,onSelect:j2,forceMount:O2,keywords:$2,...q2}=r2;return reactExports.createElement(Primitive.div,{ref:composeRefs(u2,o2),...q2,id:n2,"cmdk-item":"",role:"option","aria-disabled":!!A2,"aria-selected":!!R2,"data-disabled":!!A2,"data-selected":!!R2,onPointerMove:A2||d2.getDisablePointerSelection()?void 0:S2,onClick:A2?void 0:C2},r2.children)}),Ee=reactExports.forwardRef((r2,o2)=>{let{heading:n2,children:u2,forceMount:c2,...d2}=r2,f2=useId$1(),p2=reactExports.useRef(null),b2=reactExports.useRef(null),m2=useId$1(),R2=K(),x2=P(S2=>!(!c2&&!1!==R2.filter())||(!S2.search||S2.filtered.groups.has(f2)));k(()=>R2.group(f2),[]),ve(f2,p2,[r2.value,r2.heading,b2]);let C2=reactExports.useMemo(()=>({id:f2,forceMount:c2}),[c2]);return reactExports.createElement(Primitive.div,{ref:composeRefs(p2,o2),...d2,"cmdk-group":"",role:"presentation",hidden:!x2||void 0},n2&&reactExports.createElement("div",{ref:b2,"cmdk-group-heading":"","aria-hidden":!0,id:m2},n2),B(r2,S2=>reactExports.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n2?m2:void 0},reactExports.createElement(fe.Provider,{value:C2},S2))))}),ye=reactExports.forwardRef((r2,o2)=>{let{alwaysRender:n2,...u2}=r2,c2=reactExports.useRef(null),d2=P(f2=>!f2.search);return n2||d2?reactExports.createElement(Primitive.div,{ref:composeRefs(c2,o2),...u2,"cmdk-separator":"",role:"separator"}):null}),Se=reactExports.forwardRef((r2,o2)=>{let{onValueChange:n2,...u2}=r2,c2=null!=r2.value,d2=ee(),f2=P(m2=>m2.search),p2=P(m2=>m2.selectedItemId),b2=K();return reactExports.useEffect(()=>{null!=r2.value&&d2.setState("search",r2.value)},[r2.value]),reactExports.createElement(Primitive.input,{ref:o2,...u2,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b2.listId,"aria-labelledby":b2.labelId,"aria-activedescendant":p2,id:b2.inputId,type:"text",value:c2?r2.value:f2,onChange:m2=>{c2||d2.setState("search",m2.target.value),null==n2||n2(m2.target.value)}})}),Ce=reactExports.forwardRef((r2,o2)=>{let{children:n2,label:u2="Suggestions",...c2}=r2,d2=reactExports.useRef(null),f2=reactExports.useRef(null),p2=P(m2=>m2.selectedItemId),b2=K();return reactExports.useEffect(()=>{if(f2.current&&d2.current){let x2,m2=f2.current,R2=d2.current,C2=new ResizeObserver(()=>{x2=requestAnimationFrame(()=>{let S2=m2.offsetHeight;R2.style.setProperty("--cmdk-list-height",S2.toFixed(1)+"px")})});return C2.observe(m2),()=>{cancelAnimationFrame(x2),C2.unobserve(m2)}}},[]),reactExports.createElement(Primitive.div,{ref:composeRefs(d2,o2),...c2,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":p2,"aria-label":u2,id:b2.listId},B(r2,m2=>reactExports.createElement("div",{ref:composeRefs(f2,b2.listInnerRef),"cmdk-list-sizer":""},m2)))}),xe=reactExports.forwardRef((r2,o2)=>{let{open:n2,onOpenChange:u2,overlayClassName:c2,contentClassName:d2,container:f2,...p2}=r2;return reactExports.createElement(Root$9,{open:n2,onOpenChange:u2},reactExports.createElement(Portal$3,{container:f2},reactExports.createElement(Overlay,{"cmdk-overlay":"",className:c2}),reactExports.createElement(Content$2,{"aria-label":r2.label,"cmdk-dialog":"",className:d2},reactExports.createElement(me,{ref:o2,...p2}))))}),Ie=reactExports.forwardRef((r2,o2)=>P(u2=>0===u2.filtered.count)?reactExports.createElement(Primitive.div,{ref:o2,...r2,"cmdk-empty":"",role:"presentation"}):null),Pe=reactExports.forwardRef((r2,o2)=>{let{progress:n2,children:u2,label:c2="Loading...",...d2}=r2;return reactExports.createElement(Primitive.div,{ref:o2,...d2,"cmdk-loading":"",role:"progressbar","aria-valuenow":n2,"aria-valuemin":0,"aria-valuemax":100,"aria-label":c2},B(r2,f2=>reactExports.createElement("div",{"aria-hidden":!0},f2)))}),_e=Object.assign(me,{List:Ce,Item:he,Input:Se,Group:Ee,Separator:ye,Dialog:xe,Empty:Ie,Loading:Pe});function we(r2,o2){let n2=r2.nextElementSibling;for(;n2;){if(n2.matches(o2))return n2;n2=n2.nextElementSibling}}function De(r2,o2){let n2=r2.previousElementSibling;for(;n2;){if(n2.matches(o2))return n2;n2=n2.previousElementSibling}}function pe(r2){let o2=reactExports.useRef(r2);return k(()=>{o2.current=r2}),o2}var k="undefined"==typeof window?reactExports.useEffect:reactExports.useLayoutEffect;function L(r2){let o2=reactExports.useRef();return void 0===o2.current&&(o2.current=r2()),o2}function P(r2){let o2=ee(),n2=()=>r2(o2.snapshot());return reactExports.useSyncExternalStore(o2.subscribe,n2,n2)}function ve(r2,o2,n2,u2=[]){let c2=reactExports.useRef(),d2=K();return k(()=>{var b2;let f2=(()=>{var m2;for(let R2 of n2){if("string"==typeof R2)return R2.trim();if("object"==typeof R2&&"current"in R2)return R2.current?null==(m2=R2.current.textContent)?void 0:m2.trim():c2.current}})(),p2=u2.map(m2=>m2.trim());d2.value(r2,f2,p2),null==(b2=o2.current)||b2.setAttribute(T,f2),c2.current=f2}),c2}var ke=()=>{let[r2,o2]=reactExports.useState(),n2=L(()=>new Map);return k(()=>{n2.current.forEach(u2=>u2()),n2.current=new Map},[r2]),(u2,c2)=>{n2.current.set(u2,c2),o2({})}};function B({asChild:r2,children:o2},n2){return r2&&reactExports.isValidElement(o2)?reactExports.cloneElement(function(r2){let o2=r2.type;return"function"==typeof o2?o2(r2.props):"render"in o2?o2.render(r2.props):r2}(o2),{ref:o2.ref},n2(o2.props.children)):n2(o2)}var Te={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Command=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(_e,{ref:ref,className:cn("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",className),...props}));Command.displayName=_e.displayName;const CommandInput=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[jsxRuntimeExports.jsx(Search,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),jsxRuntimeExports.jsx(_e.Input,{ref:ref,className:cn("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",className),...props})]}));CommandInput.displayName=_e.Input.displayName;const CommandList=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(_e.List,{ref:ref,className:cn("max-h-[300px] overflow-y-auto overflow-x-hidden",className),...props}));CommandList.displayName=_e.List.displayName;const CommandEmpty=reactExports.forwardRef((props,ref)=>jsxRuntimeExports.jsx(_e.Empty,{ref:ref,className:"py-6 text-center text-sm",...props}));CommandEmpty.displayName=_e.Empty.displayName;const CommandGroup=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(_e.Group,{ref:ref,className:cn("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",className),...props}));CommandGroup.displayName=_e.Group.displayName;reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(_e.Separator,{ref:ref,className:cn("-mx-1 h-px bg-border",className),...props})).displayName=_e.Separator.displayName;const CommandItem=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(_e.Item,{ref:ref,className:cn("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",className),...props}));CommandItem.displayName=_e.Item.displayName;const otcService=new class{async getClients(params={}){const searchParams=new URLSearchParams;void 0!==params.is_active&&searchParams.append("is_active",String(params.is_active)),params.search&&searchParams.append("search",params.search),params.page&&searchParams.append("page",String(params.page)),params.limit&&searchParams.append("limit",String(params.limit));return(await api.get("/api/otc/clients"+(searchParams.toString()?`?${searchParams.toString()}`:""))).data}async createClient(clientData){return(await api.post("/api/otc/clients",clientData)).data}async createCompleteClient(completeData){return(await api.post("/api/otc/clients/complete",completeData)).data}async getClient(id2){return(await api.get(`/api/otc/clients/${id2}`)).data}async getClientBalance(id2){return(await api.get(`/api/otc/clients/${id2}/balance`)).data}async getClientStatement(id2,params={}){const searchParams=new URLSearchParams;params.page&&searchParams.append("page",String(params.page)),params.limit&&searchParams.append("limit",String(params.limit)),params.dateFrom&&searchParams.append("dateFrom",params.dateFrom),params.dateTo&&searchParams.append("dateTo",params.dateTo);const hideReversals=!1!==params.hideReversals;searchParams.append("hideReversals",String(hideReversals));return(await api.get(`/api/otc/clients/${id2}/statement${searchParams.toString()?`?${searchParams.toString()}`:""}`)).data}async createOperation(operationData){return(await api.post("/api/otc/operations",operationData)).data}async bulkCreditOperations(bulkData){return(await api.post("/api/otc/operations/bulk",bulkData)).data.data}async checkDuplicate(provider,codigo){return(await api.get(`/api/otc/check-duplicate/${provider}/${codigo}`)).data}async checkExtractDuplicate(externalId,provider,code){const params=new URLSearchParams({external_id:externalId,provider:provider});code&&params.append("code",code);return(await api.get(`/api/otc/operations/check-duplicate?${params.toString()}`)).data}async getOperations(params={}){const searchParams=new URLSearchParams;params.otc_client_id&&searchParams.append("otc_client_id",String(params.otc_client_id)),params.operation_type&&searchParams.append("operation_type",params.operation_type),params.currency&&searchParams.append("currency",params.currency),params.dateFrom&&searchParams.append("dateFrom",params.dateFrom),params.dateTo&&searchParams.append("dateTo",params.dateTo),params.search&&searchParams.append("search",params.search),params.page&&searchParams.append("page",String(params.page)),params.limit&&searchParams.append("limit",String(params.limit));return(await api.get("/api/otc/operations"+(searchParams.toString()?`?${searchParams.toString()}`:""))).data}async reverseOperation(operationId,reason){return(await api.post(`/api/otc/operations/${operationId}/reverse`,{reason:reason})).data}async getStats(){return(await api.get("/api/otc/stats")).data}async getConversionHistory(clientId,params={}){const searchParams=new URLSearchParams;params.page&&searchParams.append("page",String(params.page)),params.limit&&searchParams.append("limit",String(params.limit)),params.dateFrom&&searchParams.append("dateFrom",params.dateFrom),params.dateTo&&searchParams.append("dateTo",params.dateTo);return(await api.get(`/api/otc/clients/${clientId}/conversions${searchParams.toString()?`?${searchParams.toString()}`:""}`)).data}validateConversionData(brlAmount,usdAmount,rate){if(isNaN(brlAmount)||isNaN(usdAmount)||isNaN(rate))return!1;if(brlAmount<=0||usdAmount<=0||rate<=0)return!1;if(rate<.1||rate>10)return!1;const expectedUsd=brlAmount/rate,tolerance=.01*expectedUsd;return!(Math.abs(usdAmount-expectedUsd)>tolerance)}async updateClient(id2,clientData){return(await api.put(`/api/otc/clients/${id2}`,clientData)).data}async toggleClientStatus(id2,isActive){return(await api.patch(`/api/otc/clients/${id2}/status`,{is_active:isActive})).data}validateDocument(document2){const cleanDocument=document2.replace(/[^\d]/g,"");return 11===cleanDocument.length?this.isValidCPF(cleanDocument):14===cleanDocument.length&&this.isValidCNPJ(cleanDocument)}isValidCPF(cpf){if(11!==cpf.length||/^(\d)\1+$/.test(cpf))return!1;let remainder,sum2=0;for(let i2=1;i2<=9;i2++)sum2+=parseInt(cpf.substring(i2-1,i2))*(11-i2);if(remainder=10*sum2%11,10!==remainder&&11!==remainder||(remainder=0),remainder!==parseInt(cpf.substring(9,10)))return!1;sum2=0;for(let i2=1;i2<=10;i2++)sum2+=parseInt(cpf.substring(i2-1,i2))*(12-i2);return remainder=10*sum2%11,10!==remainder&&11!==remainder||(remainder=0),remainder===parseInt(cpf.substring(10,11))}isValidCNPJ(cnpj){if(14!==cnpj.length||/^(\d)\1+$/.test(cnpj))return!1;let tamanho=cnpj.length-2,numeros=cnpj.substring(0,tamanho),digitos=cnpj.substring(tamanho),soma=0,pos=tamanho-7;for(let i2=tamanho;i2>=1;i2--)soma+=parseInt(numeros.charAt(tamanho-i2))*pos--,pos<2&&(pos=9);let resultado=soma%11<2?0:11-soma%11;if(resultado!==parseInt(digitos.charAt(0)))return!1;tamanho+=1,numeros=cnpj.substring(0,tamanho),soma=0,pos=tamanho-7;for(let i2=tamanho;i2>=1;i2--)soma+=parseInt(numeros.charAt(tamanho-i2))*pos--,pos<2&&(pos=9);return resultado=soma%11<2?0:11-soma%11,resultado===parseInt(digitos.charAt(1))}formatDocument(document2){const cleanDocument=document2.replace(/[^\d]/g,"");return 11===cleanDocument.length?cleanDocument.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"):14===cleanDocument.length?cleanDocument.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5"):document2}validatePixKey(pixKey,type){switch(type){case"cpf":return this.isValidCPF(pixKey.replace(/[^\d]/g,""));case"cnpj":return this.isValidCNPJ(pixKey.replace(/[^\d]/g,""));case"email":return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(pixKey);case"phone":return/^\+?5511\d{8,9}$/.test(pixKey.replace(/[^\d+]/g,""));case"random":return/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/i.test(pixKey);default:return!1}}async updateHistoryCheckStatus(clientId,historyId,checked){return(await api.put(`/api/otc/clients/${clientId}/history/${historyId}/check`,{checked:checked})).data}formatCurrency(value){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(value)}async getDailyAverageRate(){return(await api.get("/api/otc/daily-average-rate")).data}formatDate(date2){return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(date2))}};function useOTCClients(params={}){var _a3,_b3;const queryClient2=useQueryClient(),{data:clientsData,isLoading:isLoading,error:error,refetch:refetch}=useQuery({queryKey:["otc-clients",params],queryFn:()=>otcService.getClients(params),staleTime:3e4,cacheTime:3e5,refetchOnWindowFocus:!0,retry:2,onError:error2=>{ue$2.error("Erro ao carregar clientes OTC",{description:error2.message||"Falha na comunicação com o servidor"})}}),createClientMutation=useMutation({mutationFn:({clientData:clientData,isComplete:isComplete=!1})=>isComplete?otcService.createCompleteClient(clientData):otcService.createClient(clientData),onSuccess:data=>{var _a4;queryClient2.invalidateQueries({queryKey:["otc-clients"]}),ue$2.success("Cliente OTC criado com sucesso",{description:`Cliente ${(null==(_a4=data.data)?void 0:_a4.name)||"desconhecido"} foi adicionado ao sistema`})},onError:error2=>{var _a4,_b4;ue$2.error("Erro ao criar cliente OTC",{description:(null==(_b4=null==(_a4=error2.response)?void 0:_a4.data)?void 0:_b4.message)||error2.message||"Falha na operação"})}}),updateClientMutation=useMutation({mutationFn:({id:id2,clientData:clientData})=>otcService.updateClient(id2,clientData),onSuccess:data=>{var _a4;queryClient2.invalidateQueries({queryKey:["otc-clients"]}),ue$2.success("Cliente OTC atualizado com sucesso",{description:`Dados do cliente ${(null==(_a4=data.data)?void 0:_a4.name)||"desconhecido"} foram atualizados`})},onError:error2=>{var _a4,_b4;ue$2.error("Erro ao atualizar cliente OTC",{description:(null==(_b4=null==(_a4=error2.response)?void 0:_a4.data)?void 0:_b4.message)||error2.message||"Falha na operação"})}}),toggleStatusMutation=useMutation({mutationFn:({id:id2,isActive:isActive})=>otcService.toggleClientStatus(id2,isActive),onSuccess:(data,variables)=>{var _a4;queryClient2.invalidateQueries({queryKey:["otc-clients"]});const status=variables.isActive?"ativado":"desativado";ue$2.success(`Cliente ${status} com sucesso`,{description:`Cliente ${(null==(_a4=data.data)?void 0:_a4.name)||"desconhecido"} foi ${status}`})},onError:error2=>{var _a4,_b4;ue$2.error("Erro ao alterar status do cliente",{description:(null==(_b4=null==(_a4=error2.response)?void 0:_a4.data)?void 0:_b4.message)||error2.message||"Falha na operação"})}});return{clients:(null==(_a3=null==clientsData?void 0:clientsData.data)?void 0:_a3.clientes)||[],statistics:(null==(_b3=null==clientsData?void 0:clientsData.data)?void 0:_b3.estatisticas)||{total_clientes:0,clientes_ativos:0,clientes_inativos:0,total_saldo:0,total_transacoes:0},isLoading:isLoading,error:error,createClient:(clientData,isComplete)=>createClientMutation.mutate({clientData:clientData,isComplete:isComplete}),updateClient:updateClientMutation.mutate,toggleStatus:toggleStatusMutation.mutate,isCreating:createClientMutation.isLoading,isUpdating:updateClientMutation.isLoading,isToggling:toggleStatusMutation.isLoading,refetch:refetch,invalidateClients:()=>{queryClient2.invalidateQueries({queryKey:["otc-clients"]})}}}function useOTCOperations(params={}){const queryClient2=useQueryClient(),{data:operationsData,isLoading:isLoading,error:error,refetch:refetch}=useQuery({queryKey:["otc-operations",params],queryFn:()=>otcService.getOperations(params),staleTime:3e4,cacheTime:3e5,refetchOnWindowFocus:!0,retry:2,onError:error2=>{ue$2.error("Erro ao carregar operações OTC",{description:error2.message||"Falha na comunicação com o servidor"})}}),createOperationMutation=useMutation({mutationFn:operationData=>otcService.createOperation(operationData),onSuccess:data=>{var _a3,_b3;queryClient2.invalidateQueries({queryKey:["otc-operations"]}),queryClient2.invalidateQueries({queryKey:["otc-clients"]}),queryClient2.invalidateQueries({queryKey:["otc-client"]}),queryClient2.invalidateQueries({queryKey:["otc-statement"]}),queryClient2.invalidateQueries({queryKey:["otc-balance"]}),queryClient2.invalidateQueries({queryKey:["otc-conversions"]});const operationType=(null==(_a3=data.data)?void 0:_a3.operation_type)||"desconhecida";ue$2.success("Operação realizada com sucesso",{description:`${{credit:"Crédito",debit:"Débito",convert:"Conversão",lock:"Bloqueio",unlock:"Desbloqueio",note:"Anotação"}[operationType]||"Operação"} executada no cliente ${(null==(_b3=data.data)?void 0:_b3.client_name)||"desconhecido"}`})},onError:error2=>{var _a3,_b3;ue$2.error("Erro ao executar operação OTC",{description:(null==(_b3=null==(_a3=error2.response)?void 0:_a3.data)?void 0:_b3.message)||error2.message||"Falha na operação"})}});return{operations:(null==operationsData?void 0:operationsData.data)||[],isLoading:isLoading,error:error,createOperation:createOperationMutation.mutate,isCreating:createOperationMutation.isLoading,refetch:refetch,invalidateOperations:()=>{queryClient2.invalidateQueries({queryKey:["otc-operations"]})}}}function useBankFeatures(){const[featuresState,setFeaturesState]=reactExports.useState({provider:null,displayName:"",hasBalance:!1,hasStatement:!1,hasPixSend:!1,hasPixReceive:!1,hasPixKeys:!1,hasQrCodePayment:!1,hasTransfer:!1,hasBoleto:!1,hasWebhook:!1,features:[],isLoading:!0}),lastProviderRef=reactExports.useRef(""),lastDisplayNameRef=reactExports.useRef(""),updateFeatures=()=>{try{let activeAccount=null;try{activeAccount=unifiedBankingService.getActiveAccount()}catch(error){try{const apiRouter2=window.apiRouter;if(null==apiRouter2?void 0:apiRouter2.getCurrentAccount){const account=apiRouter2.getCurrentAccount();activeAccount={provider:account.provider,displayName:account.displayName}}}catch(apiError){}}if(!activeAccount)return void(""===lastProviderRef.current&&""===lastDisplayNameRef.current||(lastProviderRef.current="",lastDisplayNameRef.current="",setFeaturesState(prev=>({...prev,provider:null,displayName:"",isLoading:!1}))));const currentKey=`${activeAccount.provider}-${activeAccount.displayName}`;if(currentKey===`${lastProviderRef.current}-${lastDisplayNameRef.current}`)return;const bankInfo=bankConfigManager.getBankInfo(activeAccount.provider);if(!bankInfo)return lastProviderRef.current=activeAccount.provider,lastDisplayNameRef.current=activeAccount.displayName,void setFeaturesState(prev=>({...prev,provider:activeAccount.provider,displayName:activeAccount.displayName,isLoading:!1}));const features=bankInfo.features,hasQrCodePayment=features.includes(BankFeature.PIX_RECEIVE)&&activeAccount.provider!==BankProvider.BITSO,hasPixKeysManagement=features.includes(BankFeature.PIX_KEYS)&&activeAccount.provider!==BankProvider.BITSO;lastProviderRef.current=activeAccount.provider,lastDisplayNameRef.current=activeAccount.displayName,setFeaturesState({provider:activeAccount.provider,displayName:activeAccount.displayName,hasBalance:features.includes(BankFeature.BALANCE),hasStatement:features.includes(BankFeature.STATEMENT),hasPixSend:features.includes(BankFeature.PIX_SEND),hasPixReceive:features.includes(BankFeature.PIX_RECEIVE),hasPixKeys:hasPixKeysManagement,hasQrCodePayment:hasQrCodePayment,hasTransfer:features.includes(BankFeature.TRANSFER),hasBoleto:features.includes(BankFeature.BOLETO),hasWebhook:features.includes(BankFeature.WEBHOOK),features:features,isLoading:!1})}catch(error){setFeaturesState(prev=>({...prev,isLoading:!1}))}};return reactExports.useEffect(()=>{updateFeatures();const interval=setInterval(()=>{updateFeatures()},3e3);return()=>clearInterval(interval)},[]),featuresState}const CreditExtractToOTCModal=({isOpen:isOpen,onClose:onClose,extractRecord:extractRecord})=>{var _a3,_b3,_c2;const{clients:clients,isLoading:loadingClients}=useOTCClients(),{createOperation:createOperation,isCreating:isCreating}=useOTCOperations(),bankFeatures=useBankFeatures(),[selectedClient,setSelectedClient]=reactExports.useState(null),[customDescription,setCustomDescription]=reactExports.useState(""),[openClientSelect,setOpenClientSelect]=reactExports.useState(!1),[clientSearchValue,setClientSearchValue]=reactExports.useState(""),[showConfirmation,setShowConfirmation]=reactExports.useState(!1),[errors,setErrors]=reactExports.useState({}),[isDuplicateChecking,setIsDuplicateChecking]=reactExports.useState(!1),[duplicateInfo,setDuplicateInfo]=reactExports.useState(null),[verificationResult,setVerificationResult]=reactExports.useState({status:null,message:""});reactExports.useEffect(()=>{isOpen&&extractRecord?(setSelectedClient(null),setCustomDescription(generateDefaultDescription(extractRecord)),setClientSearchValue(""),setErrors({}),setShowConfirmation(!1),setDuplicateInfo(null),setVerificationResult({status:null,message:""}),checkForDuplicate()):isOpen||(setSelectedClient(null),setCustomDescription(""),setClientSearchValue(""),setErrors({}),setShowConfirmation(!1),setDuplicateInfo(null),setVerificationResult({status:null,message:""}))},[isOpen,extractRecord]);const detectProvider=()=>{var _a4,_b4,_c3,_d2,_e3,_f2,_g2,_h2,_i2,_j2;if(!extractRecord)return{provider:"bmp274",codigo:""};if(null==(_a4=extractRecord._original)?void 0:_a4.idEndToEnd)return{provider:"corpx",codigo:extractRecord._original.idEndToEnd};if(window.location.pathname.includes("/corpx")&&extractRecord._original){const idEndToEnd=(null==(_b4=extractRecord._original.originalItem)?void 0:_b4.idEndToEnd)||extractRecord._original.idEndToEnd;if(idEndToEnd)return{provider:"corpx",codigo:idEndToEnd}}if(extractRecord.bitsoData||(null==(_c3=extractRecord._original)?void 0:_c3.endToEndId))return{provider:"bitso",codigo:(null==(_d2=extractRecord._original)?void 0:_d2.endToEndId)||(null==(_f2=null==(_e3=extractRecord.bitsoData)?void 0:_e3.metadados)?void 0:_f2.end_to_end_id)||extractRecord.code};return"bmp-531"===(null==(_g2=bankFeatures.provider)?void 0:_g2.toLowerCase())||(null==(_h2=extractRecord._original)?void 0:_h2.descCliente)?{provider:"bmp531",codigo:(null==(_i2=extractRecord._original)?void 0:_i2.codigoTransacao)||extractRecord.code}:{provider:"bmp274",codigo:(null==(_j2=extractRecord._original)?void 0:_j2.codigoTransacao)||extractRecord.code}},checkForDuplicate=async()=>{var _a4,_b4,_c3,_d2,_e3,_f2,_g2;if(extractRecord){setIsDuplicateChecking(!0),setVerificationResult({status:"checking",message:"Verificando se esta transação já foi processada..."});try{const{provider:provider,codigo:codigo}=detectProvider(),result=await otcService.checkDuplicate(provider,codigo);if(!result)return void setVerificationResult({status:"error",message:"Erro na verificação. Prossiga com cautela."});const responseData=result.data||result;if(responseData.is_duplicate){const operation=responseData.operation,detalhes=null==(_a4=responseData.details)?void 0:_a4.detalhes;setDuplicateInfo({id:(null==operation?void 0:operation.id)||(null==detalhes?void 0:detalhes.operacao_id)||(null==detalhes?void 0:detalhes.transacao_id),amount:(null==operation?void 0:operation.amount)?parseFloat(operation.amount):null,description:(null==operation?void 0:operation.description)||responseData.message,created_at:(null==operation?void 0:operation.created_at)||(null==detalhes?void 0:detalhes.data_operacao)||(null==detalhes?void 0:detalhes.data_processamento)||(new Date).toISOString(),client:{id:(null==(_b4=null==operation?void 0:operation.client)?void 0:_b4.id)||0,name:(null==(_c3=null==operation?void 0:operation.client)?void 0:_c3.name)||(null==detalhes?void 0:detalhes.cliente_nome)||"Cliente não identificado",document:(null==(_d2=null==operation?void 0:operation.client)?void 0:_d2.document)||""},admin:{id:(null==(_e3=null==operation?void 0:operation.admin)?void 0:_e3.id)||(null==detalhes?void 0:detalhes.admin_user_id)||0,name:(null==(_f2=null==operation?void 0:operation.admin)?void 0:_f2.name)||"Sistema",email:(null==(_g2=null==operation?void 0:operation.admin)?void 0:_g2.email)||""}}),setVerificationResult({status:"duplicate",message:"⚠️ Esta transação já foi processada anteriormente!"})}else setVerificationResult({status:"success",message:"✅ Transação verificada - pode ser creditada com segurança!"})}catch(error){setVerificationResult({status:"error",message:"Erro na verificação. Você ainda pode prosseguir, mas verifique manualmente."})}finally{setIsDuplicateChecking(!1)}}},generateDefaultDescription=record=>{var _a4;const parts=[],providerName=(null==(_a4=bankFeatures.provider)?void 0:_a4.toUpperCase())||"BMP";parts.push(`Crédito via extrato ${providerName}`),record.client&&parts.push(`- Cliente: ${record.client}`),record.document&&parts.push(`- Doc: ${record.document}`),record.code&&parts.push(`- Código: ${record.code}`);const date2=new Date(record.dateTime).toLocaleDateString("pt-BR");return parts.push(`- Data: ${date2}`),parts.join(" ")},filteredClients=clients.filter(client2=>{var _a4,_b4;return client2.name.toLowerCase().includes(clientSearchValue.toLowerCase())||(null==(_a4=client2.document)?void 0:_a4.toLowerCase().includes(clientSearchValue.toLowerCase()))||(null==(_b4=client2.pix_key)?void 0:_b4.toLowerCase().includes(clientSearchValue.toLowerCase()))});if(!extractRecord)return null;const formatCurrency2=value=>value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"w-5 h-5 text-green-600"}),"Creditar Extrato para Cliente OTC"]}),jsxRuntimeExports.jsxs(DialogDescription,{children:["Converter registro do extrato ",(null==(_a3=bankFeatures.provider)?void 0:_a3.toUpperCase())||"BMP"," em operação de crédito OTC"]})]}),showConfirmation?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Alert,{className:"border-yellow-500/50 bg-yellow-500/10",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-yellow-600"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-foreground",children:[jsxRuntimeExports.jsx("strong",{children:"Confirmação Necessária"}),jsxRuntimeExports.jsx("br",{}),"Você está prestes a creditar um valor do extrato BMP para um cliente OTC. Esta ação criará uma operação manual que afetará o saldo do cliente."]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Resumo da Operação de Crédito"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Cliente OTC"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:null==selectedClient?void 0:selectedClient.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Valor do Crédito"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-green-500",children:formatCurrency2(extractRecord.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Saldo Atual"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:formatCurrency2((null==selectedClient?void 0:selectedClient.current_balance)||0)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Novo Saldo"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-green-500",children:formatCurrency2(((null==selectedClient?void 0:selectedClient.current_balance)||0)+extractRecord.value)})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Descrição"}),jsxRuntimeExports.jsx("p",{className:"text-sm bg-muted/20 rounded p-2 text-foreground",children:customDescription})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Label$1,{className:"text-sm font-medium text-muted-foreground",children:["Origem (Extrato ",(null==(_c2=bankFeatures.provider)?void 0:_c2.toUpperCase())||"BMP",")"]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:extractRecord.code})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>{setShowConfirmation(!1)},disabled:isCreating,children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{var _a4,_b4,_c3,_d2,_e3,_f2;if(selectedClient&&extractRecord)try{const{provider:provider}=detectProvider();let dados_extrato;if("corpx"===provider){const idEndToEnd=(null==(_a4=extractRecord._original)?void 0:_a4.idEndToEnd)||(null==(_c3=null==(_b4=extractRecord._original)?void 0:_b4.originalItem)?void 0:_c3.idEndToEnd),nrMovimento=(null==(_d2=extractRecord._original)?void 0:_d2.nrMovimento)||(null==(_e3=extractRecord._original)?void 0:_e3.id);dados_extrato=(null==(_f2=extractRecord._original)?void 0:_f2.originalItem)||extractRecord._original||{idEndToEnd:idEndToEnd||extractRecord.code,nrMovimento:nrMovimento||extractRecord.id,data:new Date(extractRecord.dateTime).toISOString().split("T")[0],hora:new Date(extractRecord.dateTime).toTimeString().split(" ")[0]}}else dados_extrato="bitso"===provider?extractRecord._original||{endToEndId:extractRecord.code,id:extractRecord.id,dateTime:extractRecord.dateTime}:extractRecord._original||{codigoTransacao:extractRecord.code,codigo:extractRecord.id,nsu:null,dtMovimento:extractRecord.dateTime};const operationData={otc_client_id:selectedClient.id,operation_type:"credit",amount:extractRecord.value,description:customDescription.trim(),dados_extrato:dados_extrato,provider:provider,reference_code:extractRecord.code,reference_external_id:extractRecord.id,reference_provider:provider,reference_date:extractRecord.dateTime};await createOperation(operationData),ue$2.success("Operação realizada com sucesso!",{description:`R$ ${extractRecord.value.toFixed(2)} creditados para ${selectedClient.name}`}),onClose(!0)}catch(error){error instanceof Error&&error.message.includes("já foi creditado")?ue$2.error("Registro já creditado",{description:error.message}):ue$2.error("Erro ao criar operação",{description:"Não foi possível processar a operação"}),setShowConfirmation(!1)}else ue$2.error("Dados insuficientes para a operação")},disabled:isCreating,className:"bg-red-600 hover:bg-red-700",children:isCreating?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Executando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4 mr-2"}),"Confirmar Operação"]})})]})]}):jsxRuntimeExports.jsxs("form",{onSubmit:async e3=>{e3.preventDefault(),(()=>{const newErrors={};return selectedClient||(newErrors.client="Selecione um cliente OTC"),customDescription.trim()?customDescription.length<10&&(newErrors.description="Descrição deve ter pelo menos 10 caracteres"):newErrors.description="Descrição é obrigatória",extractRecord&&"CRÉDITO"===extractRecord.type||(newErrors.record="Apenas registros de crédito podem ser processados"),extractRecord&&extractRecord.value<=0&&(newErrors.value="Valor deve ser positivo"),setErrors(newErrors),0===Object.keys(newErrors).length})()?setShowConfirmation(!0):ue$2.error("Por favor, corrija os erros no formulário")},className:"space-y-6",children:["checking"===verificationResult.status&&jsxRuntimeExports.jsx(Alert,{className:"border-blue-200 bg-blue-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3"}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-blue-800",children:verificationResult.message})]})}),"success"===verificationResult.status&&jsxRuntimeExports.jsx(Alert,{className:"border-green-200 bg-green-50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-4 bg-green-500 rounded-full mr-3 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"h-2 w-2 bg-white rounded-full"})}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-green-800 font-medium",children:verificationResult.message})]})}),"duplicate"===verificationResult.status&&jsxRuntimeExports.jsxs(Alert,{className:"border-red-200 bg-red-50",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-red-600"}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-red-800",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:verificationResult.message}),duplicateInfo&&jsxRuntimeExports.jsxs("div",{className:"text-sm space-y-1",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Cliente:"})," ",duplicateInfo.client.name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Valor:"})," R$ ",null==(_b3=duplicateInfo.amount)?void 0:_b3.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Data:"})," ",new Date(duplicateInfo.created_at).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Por:"})," ",duplicateInfo.admin.name]})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-xs text-red-600",children:"Para evitar duplicação, este modal será bloqueado."})]})})]}),"error"===verificationResult.status&&jsxRuntimeExports.jsxs(Alert,{className:"border-orange-200 bg-orange-50",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-orange-600"}),jsxRuntimeExports.jsx(AlertDescription,{className:"text-orange-800",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:"⚠️ Aviso sobre verificação"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:verificationResult.message})]}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",size:"sm",onClick:checkForDuplicate,disabled:isDuplicateChecking,className:"text-orange-700 border-orange-300 hover:bg-orange-100",children:isDuplicateChecking?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-orange-600 mr-2"}),"Verificando..."]}):"Tentar Novamente"})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"bg-muted/30 border-border",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-primary"}),"Registro do Extrato"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Valor"}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-500",children:formatCurrency2(extractRecord.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Data/Hora"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:new Date(extractRecord.dateTime).toLocaleString("pt-BR")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Cliente/Origem"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium",children:extractRecord.client||"Não identificado"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Documento"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-medium font-mono",children:extractRecord.document||"N/A"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Código da Transação"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-mono bg-background p-2 rounded border",children:extractRecord.code})]})]})]}),"CRÉDITO"!==extractRecord.type&&jsxRuntimeExports.jsxs(Alert,{className:"border-destructive/50 bg-destructive/10",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-destructive"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-destructive",children:[jsxRuntimeExports.jsx("strong",{children:"Aviso:"})," Apenas registros de CRÉDITO podem ser processados. Este registro é do tipo: ",jsxRuntimeExports.jsx("strong",{children:extractRecord.type})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),"Cliente OTC de Destino"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"client",children:"Selecionar Cliente *"}),jsxRuntimeExports.jsxs(Popover,{open:openClientSelect,onOpenChange:setOpenClientSelect,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",role:"combobox","aria-expanded":openClientSelect,className:cn("w-full justify-between",errors.client&&"border-red-500"),disabled:loadingClients,children:[selectedClient?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:selectedClient.name}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:selectedClient.document})]}):jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:loadingClients?"Carregando...":"Selecione um cliente..."}),jsxRuntimeExports.jsx(Search,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-full p-0",children:jsxRuntimeExports.jsxs(Command,{children:[jsxRuntimeExports.jsx(CommandInput,{placeholder:"Buscar cliente...",value:clientSearchValue,onValueChange:setClientSearchValue}),jsxRuntimeExports.jsx(CommandEmpty,{children:"Nenhum cliente encontrado."}),jsxRuntimeExports.jsx(CommandGroup,{className:"max-h-64 overflow-y-auto",children:filteredClients.map(client2=>jsxRuntimeExports.jsxs(CommandItem,{value:`${client2.name}-${client2.document}`,onSelect:()=>{setSelectedClient(client2),setOpenClientSelect(!1),setClientSearchValue(""),errors.client&&setErrors(prev=>({...prev,client:""}))},children:[jsxRuntimeExports.jsx(Check,{className:cn("mr-2 h-4 w-4",(null==selectedClient?void 0:selectedClient.id)===client2.id?"opacity-100":"opacity-0")}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:client2.name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:[client2.document," • ",client2.pix_key,jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"ml-2 text-xs",children:formatCurrency2(client2.current_balance||0)})]})]})]},client2.id))})]})})]}),errors.client&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.client}),selectedClient&&jsxRuntimeExports.jsx("div",{className:"mt-2 p-3 bg-muted/30 border border-border rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-foreground",children:[jsxRuntimeExports.jsx("strong",{children:"Cliente selecionado:"})," ",selectedClient.name,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Saldo atual:"})," ",formatCurrency2(selectedClient.current_balance||0),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Novo saldo:"})," ",jsxRuntimeExports.jsx("span",{className:"text-green-500 font-medium",children:formatCurrency2((selectedClient.current_balance||0)+extractRecord.value)})]})})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),"Descrição da Operação"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"description",children:"Descrição do Crédito *"}),jsxRuntimeExports.jsx(Textarea,{id:"description",value:customDescription,onChange:e3=>{setCustomDescription(e3.target.value),errors.description&&setErrors(prev=>({...prev,description:""}))},placeholder:"Descreva o motivo do crédito...",rows:4,className:errors.description?"border-red-500":""}),errors.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.description}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[customDescription.length,"/500 caracteres"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>onClose(),disabled:isCreating,children:"Cancelar"}),jsxRuntimeExports.jsxs(Button$1,{type:"submit",disabled:isCreating||"CRÉDITO"!==extractRecord.type||"duplicate"===verificationResult.status||"checking"===verificationResult.status,className:cn("transition-all","duplicate"===verificationResult.status||"checking"===verificationResult.status?"bg-gray-400 hover:bg-gray-400 cursor-not-allowed":"success"===verificationResult.status?"bg-green-600 hover:bg-green-700":"bg-yellow-600 hover:bg-yellow-700"),children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"duplicate"===verificationResult.status?"Já Creditado":"checking"===verificationResult.status?"Verificando...":"Continuar"]})]})]})]})})},BulkCreditOTCModal=({isOpen:isOpen,onClose:onClose,transactions:transactions})=>{const{clients:clients,isLoading:loadingClients}=useOTCClients(),[selectedClient,setSelectedClient]=reactExports.useState(null),[openClientSelect,setOpenClientSelect]=reactExports.useState(!1),[clientSearchValue,setClientSearchValue]=reactExports.useState(""),[showConfirmation,setShowConfirmation]=reactExports.useState(!1),[processing,setProcessing]=reactExports.useState(!1),[results,setResults]=reactExports.useState(null),[errors,setErrors]=reactExports.useState({});reactExports.useEffect(()=>{isOpen&&(setSelectedClient(null),setClientSearchValue(""),setErrors({}),setShowConfirmation(!1),setResults(null),setProcessing(!1))},[isOpen]);const totalAmount=transactions.reduce((sum2,t3)=>sum2+(t3.value||t3.amount||0),0),totalTransactions=transactions.length,formatCurrency2=value=>value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),formatDate=dateString=>{try{return new Date(dateString).toLocaleString("pt-BR")}catch{return dateString}},filteredClients=clients.filter(client2=>client2.name.toLowerCase().includes(clientSearchValue.toLowerCase())||client2.document.toLowerCase().includes(clientSearchValue.toLowerCase())),handleClose=()=>{if(results&&results.success>0){const successfulIds=results.details.filter(d2=>"success"===d2.status).map(d2=>d2.transaction_id);onClose(!0,successfulIds)}else onClose(!1)};return 0===transactions.length?null:jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:handleClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 text-green-600"}),"Creditar em Lote para Cliente OTC"]}),jsxRuntimeExports.jsxs(DialogDescription,{children:[totalTransactions," transações selecionadas • Total: ",jsxRuntimeExports.jsx("strong",{children:formatCurrency2(totalAmount)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),"Transações Selecionadas"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(ScrollArea,{className:"h-48",children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:transactions.map((t3,idx)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/30 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm truncate",children:t3.description||t3.client||t3.document||`Transação ${idx+1}`}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[formatDate(t3.dateTime||t3.date)," • ID: ",t3.id]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-600",children:formatCurrency2(t3.value||t3.amount||0)}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:"Bitso"})]})]},t3.id||idx))})}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-blue-900",children:"Total Geral:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-xl text-blue-900",children:formatCurrency2(totalAmount)})]})})]})]}),!showConfirmation&&!results&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"h-5 w-5"}),"Cliente OTC"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"client",children:"Selecionar Cliente *"}),jsxRuntimeExports.jsxs(Popover,{open:openClientSelect,onOpenChange:setOpenClientSelect,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",role:"combobox","aria-expanded":openClientSelect,className:cn("w-full justify-between",!selectedClient&&"text-muted-foreground",errors.client&&"border-red-500"),children:[selectedClient?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),selectedClient.name," (",selectedClient.document,")"]}):"Selecione um cliente...",jsxRuntimeExports.jsx(Search,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-full p-0",align:"start",children:jsxRuntimeExports.jsxs(Command,{children:[jsxRuntimeExports.jsx(CommandInput,{placeholder:"Buscar cliente...",value:clientSearchValue,onValueChange:setClientSearchValue}),jsxRuntimeExports.jsx(CommandEmpty,{children:loadingClients?"Carregando...":"Nenhum cliente encontrado"}),jsxRuntimeExports.jsx(CommandGroup,{className:"max-h-64 overflow-y-auto",children:filteredClients.map(client2=>jsxRuntimeExports.jsx(CommandItem,{value:`${client2.name} ${client2.document}`,onSelect:()=>{setSelectedClient(client2),setOpenClientSelect(!1),setClientSearchValue(""),setErrors(prev=>({...prev,client:""}))},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 w-full",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:client2.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:client2.document})]}),jsxRuntimeExports.jsx(Check,{className:cn("ml-auto h-4 w-4",(null==selectedClient?void 0:selectedClient.id)===client2.id?"opacity-100":"opacity-0")})]})},client2.id))})]})})]}),errors.client&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.client})]}),selectedClient&&jsxRuntimeExports.jsxs(Alert,{children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs(AlertDescription,{children:[jsxRuntimeExports.jsx("strong",{children:"Cliente selecionado:"})," ",selectedClient.name,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Documento:"})," ",selectedClient.document,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Será creditado:"})," ",formatCurrency2(totalAmount)]})]})]})]}),showConfirmation&&!results&&jsxRuntimeExports.jsxs(Card,{className:"border-orange-200 bg-orange-50",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2 text-orange-800",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-5 w-5"}),"Confirmar Operação em Lote"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Alert,{className:"border-orange-200",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-orange-800",children:[jsxRuntimeExports.jsx("strong",{children:"Atenção:"})," Esta operação irá creditar ",jsxRuntimeExports.jsxs("strong",{children:[totalTransactions," transações"]}),"no valor total de ",jsxRuntimeExports.jsx("strong",{children:formatCurrency2(totalAmount)})," para o cliente ",jsxRuntimeExports.jsx("strong",{children:null==selectedClient?void 0:selectedClient.name}),".",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("br",{}),"Esta ação não pode ser desfeita automaticamente."]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"p-3 bg-white rounded border",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-600",children:totalTransactions}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Transações"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-white rounded border",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:formatCurrency2(totalAmount)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Total"})]}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-white rounded border",children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-orange-600",children:"Bitso"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Provider"})]})]})]})]}),results&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Check,{className:"h-5 w-5 text-green-600"}),"Resultado do Processamento"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-green-600",children:results.success}),jsxRuntimeExports.jsx("p",{className:"text-sm text-green-800",children:"Sucesso"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg border border-red-200",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-red-600",children:results.failed}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-800",children:"Falhas"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg border border-yellow-200",children:[jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:results.duplicates}),jsxRuntimeExports.jsx("p",{className:"text-sm text-yellow-800",children:"Duplicadas"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium",children:"Detalhes por Transação:"}),jsxRuntimeExports.jsx(ScrollArea,{className:"h-40",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:results.details.map((detail,idx)=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 text-sm rounded border",children:["success"===detail.status&&jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-green-500 flex-shrink-0"}),"error"===detail.status&&jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),"duplicate"===detail.status&&jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-yellow-500 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:detail.transaction_id}),jsxRuntimeExports.jsx("span",{className:"flex-1",children:detail.message})]},idx))})})]})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"border-t pt-4",children:[!showConfirmation&&!results&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>onClose(!1),children:"Cancelar"}),jsxRuntimeExports.jsxs(Button$1,{onClick:async e3=>{e3.preventDefault(),(()=>{const newErrors={};return selectedClient||(newErrors.client="Selecione um cliente OTC"),0===transactions.length&&(newErrors.transactions="Nenhuma transação selecionada"),setErrors(newErrors),0===Object.keys(newErrors).length})()?setShowConfirmation(!0):ue$2.error("Por favor, corrija os erros no formulário")},disabled:!selectedClient||0===totalTransactions,className:"bg-green-600 hover:bg-green-700",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Continuar"]})]}),showConfirmation&&!results&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{setShowConfirmation(!1)},children:"Voltar"}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(selectedClient){setProcessing(!0);try{const payload={otc_client_id:selectedClient.id,transactions:transactions.map(t3=>({provider:"bitso",transaction_id:t3.id,amount:t3.value||t3.amount||0,reference_code:t3.code||t3.id,reference_date:t3.dateTime||t3.date,dados_extrato:t3._original||t3}))},response=await otcService.bulkCreditOperations(payload);if(setResults(response),0===response.failed&&0===response.duplicates){ue$2.success(`🎉 ${response.success} transações creditadas com sucesso!`,{description:`Total creditado: ${formatCurrency2(totalAmount)}`});const successfulIds=response.details.filter(d2=>"success"===d2.status).map(d2=>d2.transaction_id);onClose(!0,successfulIds)}else ue$2.warning("Processamento concluído com ressalvas",{description:`${response.success} sucesso • ${response.failed} falhas • ${response.duplicates} duplicadas`})}catch(error){ue$2.error("Erro ao processar lote",{description:"Não foi possível processar as transações"})}finally{setProcessing(!1)}}else ue$2.error("Cliente não selecionado")},disabled:processing,className:"bg-orange-600 hover:bg-orange-700",children:processing?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}),"Processando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"}),"Confirmar Crédito em Lote"]})})]}),results&&jsxRuntimeExports.jsxs(Button$1,{onClick:handleClose,className:"bg-blue-600 hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 mr-2"}),"Concluir"]})]})]})})};class CompensationService{static async createCompensation(data){try{const response=await fetch(this.API_URL,{method:"POST",headers:{"Content-Type":"application/json",xPassRouteTCR:this.AUTH_HEADER},body:JSON.stringify(data)});let responseData,responseText="";try{responseText=await response.text(),responseData=responseText?JSON.parse(responseText):{}}catch(parseError){responseData={erro:`Resposta inválida da API: ${responseText}`}}if(!response.ok){let errorMessage="Erro desconhecido na API";throw responseData&&(errorMessage=responseData.erro||responseData.mensagem||responseData.error||responseData.message||`Erro HTTP ${response.status}: ${response.statusText}`),new Error(errorMessage)}return responseData}catch(error){throw error}}static validateCompensationData(data){const errors=[];return data.id_usuario||errors.push("ID do usuário é obrigatório"),(!data.quantia||data.quantia<=0)&&errors.push("Quantia deve ser maior que zero"),data.id_tipo_movimentacao||errors.push("Tipo de movimentação é obrigatório"),data.id_status||errors.push("Status é obrigatório"),data.id_moeda||errors.push("Moeda é obrigatória"),data.quantia&&data.quantia>1e6&&errors.push("Quantia não pode ser maior que R$ 1.000.000,00"),{valid:0===errors.length,errors:errors}}static getDefaultValues(){return{id_tipo_movimentacao:1,id_status:1,id_moeda:2,data_movimentacao:Date.now(),hash:"compensacao_manual_531"}}}__publicField(CompensationService,"API_URL","https://vps80270.cloudpublic.com.br:8081/compensa_depositos_movimentacoes"),__publicField(CompensationService,"AUTH_HEADER","ISRVdeWTZ5jYFKJQytjH9ZylF1ZrwhTdrrdKY4uFqXm041XIL3aVjCwojSH1EeYbUOQjPx0aO");const BRBTC_API_CONFIG$1_baseUrl="https://vps80270.cloudpublic.com.br:8081",BRBTC_API_CONFIG$1_endpoint="/BRBTC/compensacao-manual",extrairIdUsuario=extractRecord=>{if(!extractRecord)return 0;const textoParaPesquisar=extractRecord.descCliente||"";if(textoParaPesquisar){const matchUsuario=textoParaPesquisar.match(/Usuario\s+(\d+)/i);if(matchUsuario)return parseInt(matchUsuario[1],10);const matchXU=textoParaPesquisar.match(/xU(\d+)/i);if(matchXU)return parseInt(matchXU[1],10)}if(extractRecord.descricaoOperacao){const matchOp=extractRecord.descricaoOperacao.match(/Usuario\s+(\d+)|xU(\d+)|U(\d+)/i);if(matchOp){const id2=matchOp[1]||matchOp[2]||matchOp[3];if(id2)return parseInt(id2,10)}}const allText=[extractRecord.client,extractRecord.descCliente,extractRecord.descricaoOperacao].filter(Boolean).join(" ");if(allText){const match2=allText.match(/(?:usuario|user)\s*(\d+)/i);if(match2)return parseInt(match2[1],10)}return 0},realizarCompensacaoBRBTC=async(extractRecord,observacoes)=>{try{if(!extractRecord)throw new Error("Registro do extrato é obrigatório");if(!extrairIdUsuario(extractRecord))throw new Error("Não foi possível extrair o ID do usuário do registro");const token=TOKEN_STORAGE.get();if(!token)throw new Error("Usuário não autenticado. Faça login novamente.");const requestData=((extractRecord,observacoes)=>{const idUsuario=extrairIdUsuario(extractRecord),provider=(extractRecord=>{var _a3;return extractRecord?extractRecord.bitsoData?"bitso":(null==(_a3=extractRecord.descCliente)?void 0:_a3.includes("caas436344x"))?"bmp 531 tcr":"bmp tcr":"unknown"})(extractRecord),endtoend=(extractRecord=>{var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2,_j2;return(null==(_a3=extractRecord._original)?void 0:_a3.idEndToEnd)||(null==(_b3=extractRecord._original)?void 0:_b3.endToEndId)||(null==(_c2=extractRecord._original)?void 0:_c2.e2eId)||(null==(_d2=extractRecord._original)?void 0:_d2.endtoend)||(null==(_e3=extractRecord._original)?void 0:_e3.end_to_end_id)||(null==(_f2=extractRecord._original)?void 0:_f2.identificadorOperacao)||(null==(_g2=extractRecord._original)?void 0:_g2.EndToEndId)||(null==(_h2=extractRecord._original)?void 0:_h2.codigoTransacao)||((null==(_j2=null==(_i2=extractRecord.bitsoData)?void 0:_i2.metadados)?void 0:_j2.end_to_end_id)?extractRecord.bitsoData.metadados.end_to_end_id:extractRecord.code?extractRecord.code:extractRecord.id)})(extractRecord),dataHoraDeposito=new Date(extractRecord.dateTime).toISOString();return{valor_deposito:Math.abs(extractRecord.value),id_usuario:idUsuario,id_transacao:endtoend,data_hora_deposito:dataHoraDeposito,nome_depositante:extractRecord.client||"Não informado",provider:provider,observacoes:observacoes||null}})(extractRecord,observacoes),response=await fetch(`${BRBTC_API_CONFIG$1_baseUrl}${BRBTC_API_CONFIG$1_endpoint}`,{method:"POST",headers:{Authorization:`Bearer ${token}`,"Content-Type":"application/json"},body:JSON.stringify(requestData)});let responseData,responseText="";try{responseText=await response.text(),responseData=responseText?JSON.parse(responseText):{}}catch(parseError){responseData={error:`Resposta inválida da API: ${responseText}`}}if(!response.ok){let errorMessage="Erro desconhecido na API";throw responseData&&(errorMessage=responseData.error||responseData.message||responseData.msg||responseData.detail||responseData.details||responseData.data&&responseData.data.error||responseData.data&&responseData.data.message,!errorMessage&&responseData.errors&&Array.isArray(responseData.errors)&&(errorMessage=responseData.errors.map(err2=>"string"==typeof err2?err2:err2.message||err2.msg||JSON.stringify(err2)).join("; ")),errorMessage||(errorMessage=`Erro HTTP ${response.status}: ${response.statusText}`)),new Error(errorMessage)}return ue$2.success("Compensação BRBTC realizada com sucesso!",{description:`Valor: R$ ${requestData.valor_deposito.toFixed(2)} | Usuário: ${requestData.id_usuario}`}),!0}catch(error){let errorMessage="Erro desconhecido",errorDetails="";return error instanceof Error?(errorMessage=error.message,errorMessage.includes("saldo insuficiente")?errorDetails="Verifique o saldo disponível na conta.":errorMessage.includes("não autenticado")||errorMessage.includes("token")?errorDetails="Faça login novamente.":errorMessage.includes("usuário não encontrado")?errorDetails="Verifique se o ID do usuário está correto.":errorMessage.includes("valor inválido")?errorDetails="Verifique se o valor da transação está correto.":errorMessage.includes("transação já processada")?errorDetails="Esta compensação pode já ter sido realizada.":errorMessage.includes("limite")?errorDetails="Valor pode ter excedido os limites permitidos.":errorMessage.includes("network")||errorMessage.includes("fetch")?errorDetails="Verifique sua conexão com a internet.":errorMessage.includes("timeout")&&(errorDetails="Tente novamente em alguns instantes.")):errorMessage=String(error),ue$2.error("Erro na Compensação Saldo Real",{description:`${errorMessage}${errorDetails?` ${errorDetails}`:""}`,duration:6e3}),!1}},validarElegibilidadeBRBTC=extractRecord=>{const motivos=[];if(!extractRecord)return motivos.push("Registro do extrato não fornecido"),{elegivel:!1,motivos:motivos};"CRÉDITO"!==extractRecord.type&&motivos.push("Apenas registros de crédito (depósitos) são elegíveis"),extractRecord.value<=0&&motivos.push("Valor deve ser positivo");return extrairIdUsuario(extractRecord)||motivos.push("Não foi possível identificar o ID do usuário no registro"),extractRecord.id||motivos.push("ID da transação não encontrado"),{elegivel:0===motivos.length,motivos:motivos}},BASE_URL="https://vps80270.cloudpublic.com.br:8081",AUTH_HEADER="ISRVdeWTZ5jYFKJQytjH9ZylF1ZrwhTdrrdKY4uFqXm041XIL3aVjCwojSH1EeYbUOQjPx0aO";class TcrSaldosService{static async listarUsuariosSaldos(params={}){try{const searchParams=new URLSearchParams;searchParams.append("pagina",String(params.pagina||1)),searchParams.append("por_pagina",String(params.por_pagina||50)),params.nome&&params.nome.trim()&&searchParams.append("nome",params.nome.trim()),params.id_usuario&&params.id_usuario>0&&searchParams.append("id_usuario",String(params.id_usuario)),params.id_whitelabel&&params.id_whitelabel>0&&searchParams.append("id_whitelabel",String(params.id_whitelabel));const queryString=searchParams.toString(),fullUrl=queryString?`${BASE_URL}/v1/usuarios/saldos-publico?${queryString}`:`${BASE_URL}/v1/usuarios/saldos-publico`,response=await fetch(fullUrl,{method:"GET",headers:{"Content-Type":"application/json",xPassRouteTCR:AUTH_HEADER},signal:AbortSignal.timeout(3e4)}),data=await response.json();if(!response.ok)throw new Error((null==data?void 0:data.erro)||(null==data?void 0:data.mensagem)||`Erro HTTP ${response.status}`);return data}catch(error){throw error}}static async consultarSaldoBrbtc(contaBRBTC){if(!contaBRBTC){const msg="Conta BRBTC (id_brasil_bitcoin) não informada";throw ue$2.error("Conferência inválida",{description:msg}),new Error(msg)}try{const response=await fetch(`${BASE_URL}/brbtc/v1/saldo-publico`,{method:"GET",headers:{"Content-Type":"application/json",xPassRouteTCR:AUTH_HEADER,"brbtc-from-account":contaBRBTC},signal:AbortSignal.timeout(3e4)}),data=await response.json();if(!response.ok)throw new Error((null==data?void 0:data.erro)||(null==data?void 0:data.mensagem)||`Erro HTTP ${response.status}`);return data}catch(error){throw error}}}const compararSaldos=(usuario,externo)=>{var _a3,_b3,_c2,_d2,_e3,_f2;const toFixedNum=(n2,decimals)=>Number(n2.toFixed(decimals)),localBRL=Number((null==(_a3=usuario.saldos)?void 0:_a3.BRL)||0),localUSDT=Number((null==(_b3=usuario.saldos)?void 0:_b3.USDT)||0),externoBRL=Number((null==(_c2=null==externo?void 0:externo.BRL)?void 0:_c2.available)??(null==(_d2=null==externo?void 0:externo.BRL)?void 0:_d2.total)??0),externoUSDT=Number((null==(_e3=null==externo?void 0:externo.USDT)?void 0:_e3.available)??(null==(_f2=null==externo?void 0:externo.USDT)?void 0:_f2.total)??0),brlDiff=toFixedNum(localBRL-externoBRL,2),usdtDiff=toFixedNum(localUSDT-externoUSDT,8);return{brl:{local:toFixedNum(localBRL,2),externo:toFixedNum(externoBRL,2),diferenca:brlDiff},usdt:{local:toFixedNum(localUSDT,8),externo:toFixedNum(externoUSDT,8),diferenca:usdtDiff}}},formatarDuplicataParaUI=duplicata=>{var _a3,_b3,_c2;const moedaSimbolo=(null==(_a3=duplicata.moeda)?void 0:_a3.simbolo)||"R$",valorNumerico=parseFloat(duplicata.quantia||"0"),transacoes=duplicata.movimentacoes_transacoes||[],nomeColaborador=duplicata.nome_bb_colaborador||duplicata.nome_colaborador||duplicata.colaborador||duplicata.nome_bb||duplicata.bb_colaborador||"N/A";return{id:duplicata.id,dataFormatada:new Date(duplicata.created_at).toLocaleString("pt-BR"),quantiaFormatada:`${moedaSimbolo} ${valorNumerico.toFixed(2)}`,tipo:(null==(_b3=duplicata.movimentacoes_tipo)?void 0:_b3.nome)||"N/A",status:(null==(_c2=duplicata.movimentacoes_status)?void 0:_c2.nome)||"N/A",nomeColaborador:nomeColaborador,transacoesCount:transacoes.length,temTransacoes:transacoes.length>0,moeda:moedaSimbolo,valorNumerico:valorNumerico}};function DuplicataManagerModal({isOpen:isOpen,onClose:onClose,transacao:transacao,idUsuario:idUsuario,onDuplicataExcluida:onDuplicataExcluida,todasTransacoes:todasTransacoes=[]}){const[duplicatas,setDuplicatas]=reactExports.useState([]),[isLoading,setIsLoading]=reactExports.useState(!1),[isExcluindo,setIsExcluindo]=reactExports.useState(null),[error,setError]=reactExports.useState(null),handleBuscarDuplicatas=async()=>{var _a3;if(transacao&&idUsuario){setIsLoading(!0),setError(null),setDuplicatas([]);try{const request={id_usuario:idUsuario,quantia:Math.abs(transacao.value)},response=await(async request=>{var _b3;try{const response=await fetch("https://vps80270.cloudpublic.com.br:8081/api/duplicatas/buscar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(request)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.mensagem||`Erro HTTP: ${response.status}`)}const data=await response.json();return(null==(_b3=data.dados)?void 0:_b3[0])&&data.dados[0],data}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido ao buscar duplicatas";throw ue$2.error(`Erro ao buscar duplicatas: ${errorMessage}`),error}})(request);setDuplicatas(response.dados||[]);new Date(transacao.dateTime).toLocaleDateString("pt-BR"),Math.abs(transacao.value);0===(null==(_a3=response.dados)?void 0:_a3.length)?ue$2.info("Nenhuma duplicata encontrada para esta transação"):ue$2.success(`${response.dados.length} duplicata(s) encontrada(s)`)}catch(error2){const errorMessage=error2 instanceof Error?error2.message:"Erro desconhecido";setError(errorMessage)}finally{setIsLoading(!1)}}},handleExcluirDuplicata=async duplicata=>{if(window.confirm(`⚠️ Tem certeza que deseja excluir esta movimentação?\n\nID: ${duplicata.id}\nValor: ${formatarDuplicataParaUI(duplicata).quantiaFormatada}\nData: ${formatarDuplicataParaUI(duplicata).dataFormatada}\n\nEsta ação não pode ser desfeita!`)){setIsExcluindo(duplicata.id);try{await(async idMovimentacao=>{try{const response=await fetch(`https://vps80270.cloudpublic.com.br:8081/api/duplicatas/excluir/${idMovimentacao}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.mensagem||`Erro HTTP: ${response.status}`)}const data=await response.json();return ue$2.success(data.mensagem||"Movimentação excluída com sucesso!"),data}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido ao excluir movimentação";throw ue$2.error(`Erro ao excluir movimentação: ${errorMessage}`),error}})(duplicata.id),setDuplicatas(prev=>prev.filter(item=>item.id!==duplicata.id)),null==onDuplicataExcluida||onDuplicataExcluida(duplicata.id),ue$2.success(`Movimentação ${duplicata.id} excluída com sucesso!`)}catch(error2){}finally{setIsExcluindo(null)}}};reactExports.useEffect(()=>{isOpen&&transacao&&idUsuario&&handleBuscarDuplicatas()},[isOpen,null==transacao?void 0:transacao.id,idUsuario]);const handleClose=()=>{setDuplicatas([]),setError(null),setIsExcluindo(null),onClose()};return jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:handleClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsx(DialogHeader,{className:"pb-4 border-b",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-blue-100",children:jsxRuntimeExports.jsx(Search,{className:"h-5 w-5 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(DialogTitle,{className:"text-xl font-bold",children:"Gerenciar Duplicatas"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Buscar e excluir movimentações duplicadas"})]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:handleClose,className:"text-muted-foreground hover:text-foreground",children:jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4"})})]})}),jsxRuntimeExports.jsx(Card,{className:"bg-gray-100 border-gray-300 shadow-sm",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-gray-600 font-medium",children:"Valor da Transação"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-gray-800 bg-white px-2 py-1 rounded border",children:(value=transacao.value,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(value)))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-gray-600 font-medium",children:"Data/Hora"}),jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800 bg-white px-2 py-1 rounded border break-words",children:transacao.dateTime})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-gray-600 font-medium",children:"Cliente"}),jsxRuntimeExports.jsx("p",{className:"font-medium text-gray-800 bg-white px-2 py-1 rounded border break-words",children:transacao.client||"Não informado"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-gray-600 font-medium",children:"Tipo"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-gray-800 bg-white px-2 py-1 rounded border",children:transacao.type})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-gray-600 font-medium",children:"ID do Usuário"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-sm font-bold text-gray-800 bg-white px-2 py-1 rounded border",children:idUsuario})]}),jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsxs(Button$1,{onClick:handleBuscarDuplicatas,disabled:isLoading,size:"sm",className:"bg-blue-500 hover:bg-blue-600 text-white w-full",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(Search,{className:"h-4 w-4 mr-2"}),isLoading?"Buscando...":"Buscar Novamente"]})})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto",children:[isLoading&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin mx-auto text-blue-500 mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Buscando duplicatas..."})]})}),error&&!isLoading&&jsxRuntimeExports.jsx(Card,{className:"border-red-200 bg-red-50",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-red-700",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-5 w-5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:"Erro ao buscar duplicatas"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1",children:error})]})]})})}),!isLoading&&!error&&0===duplicatas.length&&jsxRuntimeExports.jsx(Card,{className:"border-green-200 bg-green-50",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6 text-center",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-12 w-12 text-green-500 mx-auto mb-3"}),jsxRuntimeExports.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Nenhuma duplicata encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-green-600 text-sm",children:"Esta transação não possui duplicatas no sistema."})]})}),!isLoading&&duplicatas.length>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 py-2",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-5 w-5 text-orange-500"}),jsxRuntimeExports.jsxs("h3",{className:"font-semibold",children:[duplicatas.length," Duplicata(s) Encontrada(s)"]}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Requer atenção"})]}),duplicatas.map(duplicata=>{const formatted=formatarDuplicataParaUI(duplicata),isExcluindoEsta=isExcluindo===duplicata.id;return jsxRuntimeExports.jsx(Card,{className:"border-l-4 border-l-orange-400",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[jsxRuntimeExports.jsx(Hash$2,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:"ID"})]}),jsxRuntimeExports.jsx("p",{className:"font-mono font-semibold",children:duplicata.id})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:"Valor"})]}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-600",children:formatted.quantiaFormatada})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[jsxRuntimeExports.jsx(Clock,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:"Data"})]}),jsxRuntimeExports.jsx("p",{children:formatted.dataFormatada})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-1",children:[jsxRuntimeExports.jsx(Info,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{children:"Colaborador BB"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:formatted.tipo}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:formatted.nomeColaborador})]})]})]}),formatted.temTransacoes&&jsxRuntimeExports.jsx("div",{className:"mt-3 p-2 bg-muted/50 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:[jsxRuntimeExports.jsx("strong",{children:formatted.transacoesCount})," transação(ões) associada(s)"]})})]}),jsxRuntimeExports.jsx("div",{className:"ml-4",children:jsxRuntimeExports.jsx(Button$1,{variant:"destructive",size:"sm",onClick:()=>handleExcluirDuplicata(duplicata),disabled:isExcluindoEsta||null!==isExcluindo,className:"min-w-[100px]",children:isExcluindoEsta?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),"Excluindo..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4 mr-2"}),"Excluir"]})})})]})})},duplicata.id)})]})]}),!isLoading&&jsxRuntimeExports.jsx("div",{className:"border-t pt-4 flex justify-end gap-3",children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:handleClose,children:"Fechar"})})]})});var value}function CompensationModalInteligente({isOpen:isOpen,onClose:onClose,extractRecord:extractRecord}){var _a3,_b3,_c2;useNavigate();const[formData,setFormData]=reactExports.useState({}),[quantiaInput,setQuantiaInput]=reactExports.useState(""),[isLoading,setIsLoading]=reactExports.useState(!1),[activeTab,setActiveTab]=reactExports.useState("diagnostico"),[showManualForm,setShowManualForm]=reactExports.useState(!1),[manualDepositId,setManualDepositId]=reactExports.useState(""),[useManualId,setUseManualId]=reactExports.useState(!1),[versaoSimplificada,setVersaoSimplificada]=reactExports.useState(!0),{createCompensation:createCompensation}={createCompensation:async data=>{try{const validation=CompensationService.validateCompensationData(data);return validation.valid?(await CompensationService.createCompensation(data),!0):(ue$2.error("Dados inválidos para compensação",{description:validation.errors.join(", "),duration:4e3}),!1)}catch(error){let errorMessage="Erro desconhecido",errorDetails="";return error instanceof Error?(errorMessage=error.message,errorMessage.includes("usuário não encontrado")||errorMessage.includes("ID do usuário")?errorDetails="Verifique se o ID do usuário está correto.":errorMessage.includes("quantia")||errorMessage.includes("valor")?errorDetails="Verifique se o valor está correto e dentro dos limites.":errorMessage.includes("saldo insuficiente")?errorDetails="Saldo insuficiente na conta para processar a compensação.":errorMessage.includes("limite")?errorDetails="Valor pode ter excedido os limites permitidos.":errorMessage.includes("duplicad")||errorMessage.includes("já processad")?errorDetails="Esta compensação pode já ter sido realizada.":errorMessage.includes("autenticação")||errorMessage.includes("token")?errorDetails="Problema de autenticação. Faça login novamente.":errorMessage.includes("network")||errorMessage.includes("fetch")?errorDetails="Verifique sua conexão com a internet.":errorMessage.includes("timeout")&&(errorDetails="Tente novamente em alguns instantes.")):errorMessage=String(error),ue$2.error("Erro na Compensação Saldo Visual",{description:`${errorMessage}${errorDetails?` ${errorDetails}`:""}`,duration:6e3}),!1}}},{executarCompensacao:executarCompensacaoBRBTC,isLoading:isLoadingBRBTC}=(()=>{const[isLoading,setIsLoading]=React$1.useState(!1);return{executarCompensacao:async(extractRecord,observacoes)=>{setIsLoading(!0);try{return await realizarCompensacaoBRBTC(extractRecord,observacoes)}finally{setIsLoading(!1)}},isLoading:isLoading}})(),[duplicataModalOpen,setDuplicataModalOpen]=reactExports.useState(!1),[selectedDuplicataRecord,setSelectedDuplicataRecord]=reactExports.useState(null),[showConfirmModal,setShowConfirmModal]=reactExports.useState(!1),[confirmAction,setConfirmAction]=reactExports.useState(null),[isCheckingSaldo,setIsCheckingSaldo]=reactExports.useState(!1),[saldoComparacao,setSaldoComparacao]=reactExports.useState(null),[isLoadingDepositos,setIsLoadingDepositos]=reactExports.useState(!1),[depositosInternos,setDepositosInternos]=reactExports.useState(null),[idUsuarioManual,setIdUsuarioManual]=reactExports.useState(""),[usarIdManual,setUsarIdManual]=reactExports.useState(!1);reactExports.useEffect(()=>{if(isOpen&&extractRecord){const defaultValues=CompensationService.getDefaultValues(),idUsuarioExtraido=extractRecord.descCliente?extrairIdUsuario2(extractRecord.descCliente):0;setFormData({...defaultValues,quantia:extractRecord.value,documento_depositante:"—"!==extractRecord.document?extractRecord.document:"",nome_depositante:extractRecord.client||"",data_movimentacao:new Date(extractRecord.dateTime).getTime(),id_usuario:idUsuarioExtraido||void 0}),setQuantiaInput(extractRecord.value.toString()),setActiveTab("diagnostico"),setShowManualForm(!1),setManualDepositId(""),setUseManualId(!1),setVersaoSimplificada(!0),setDuplicataModalOpen(!1),setSelectedDuplicataRecord(null),setShowConfirmModal(!1),setConfirmAction(null),setSaldoComparacao(null),setIsCheckingSaldo(!1),setDepositosInternos(null),setIsLoadingDepositos(!1),setIdUsuarioManual(""),setUsarIdManual(!1)}},[isOpen,extractRecord]);const handleManualSubmit=async e3=>{e3.preventDefault();const quantia=parseFloat(quantiaInput);if(!formData.id_usuario||!quantia||quantia<=0)return void ue$2.error("Dados incompletos",{description:"Preencha todos os campos obrigatórios e verifique se a quantia é válida"});setIsLoading(!0);const finalData={...formData,quantia:quantia},success=await createCompensation(finalData);setIsLoading(!1),success&&ue$2.success("Compensação Saldo Visual realizada com sucesso!",{description:`Valor: ${formatCurrency2(quantia)} creditado para usuário ${formData.id_usuario}. Modal permanece aberto para outras ações.`})},handleClose=()=>{setFormData({}),setQuantiaInput(""),setActiveTab("diagnostico"),setShowManualForm(!1),setManualDepositId(""),setUseManualId(!1),setVersaoSimplificada(!0),setDuplicataModalOpen(!1),setSelectedDuplicataRecord(null),setShowConfirmModal(!1),setConfirmAction(null),setSaldoComparacao(null),setIsCheckingSaldo(!1),setDepositosInternos(null),setIsLoadingDepositos(!1),onClose(!1)},formatCurrency2=value=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(value),CurrencyValue=({amount:amount,currency:currency,className:className=""})=>{const colorClass="BRL"===currency?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400";return jsxRuntimeExports.jsx("span",{className:`font-mono text-sm ${colorClass} ${className}`,children:"BRL"===currency?`R$ ${amount.toFixed(2)}`:`${amount.toFixed(8)} USDT`})},DifferenceIndicator=({diferenca:diferenca,currency:currency})=>{if(0===diferenca)return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"OK"})]});const isPositive=diferenca>0,Icon2=isPositive?TrendingUp:TrendingDown,colorClass=isPositive?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400";return jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 ${colorClass}`,children:[jsxRuntimeExports.jsx(Icon2,{className:"h-3 w-3"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium",children:[isPositive?"+":"","BRL"===currency?diferenca.toFixed(2):diferenca.toFixed(8)]})]})},extrairIdUsuario2=descCliente=>{if(!descCliente)return 0;const matchUsuario=descCliente.match(/Usuario\s+(\d+)/i);if(matchUsuario)return parseInt(matchUsuario[1],10);const matchXU=descCliente.match(/xU(\d+)/i);return matchXU?parseInt(matchXU[1],10):0},obterIdUsuario=()=>{if(usarIdManual&&idUsuarioManual){const idManual=parseInt(idUsuarioManual,10);return isNaN(idManual)?0:idManual}return(null==extractRecord?void 0:extractRecord.descCliente)?extrairIdUsuario2(extractRecord.descCliente):0};return(()=>{if(!extractRecord)return null;if(extractRecord.code){const match2=extractRecord.code.match(/\d+/);if(match2)return parseInt(match2[0])}if(extractRecord.descricaoOperacao){const match2=extractRecord.descricaoOperacao.match(/U(\d+)/);if(match2)return parseInt(match2[1])}if(extractRecord.descCliente){const match2=extractRecord.descCliente.match(/U(\d+)/);if(match2)return parseInt(match2[1])}const allText=[extractRecord.client,extractRecord.descCliente].filter(Boolean).join(" ");if(allText){const match2=allText.match(/(?:dep[óo]sito|deposit).*?(\d+)/i);if(match2)return parseInt(match2[1])}})(),jsxRuntimeExports.jsxs(Dialog,{open:isOpen,onOpenChange:handleClose,children:[jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] w-[95vw] sm:w-[90vw] md:w-[85vw] lg:w-[80vw] overflow-hidden flex flex-col",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Brain,{className:"h-5 w-5 text-primary"}),"Sistema Inteligente de Compensação - BMP-531"]}),jsxRuntimeExports.jsx(DialogDescription,{children:versaoSimplificada?"Diagnóstico simplificado + Transparência total + Controle manual":"Diagnóstico automático + Ações inteligentes + Compensação manual (se necessário)"})]}),extractRecord&&jsxRuntimeExports.jsx(Card,{className:"bg-muted/30",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Valor do Registro"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-600",children:formatCurrency2(extractRecord.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Data/Hora"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-xs",children:extractRecord.dateTime})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Cliente"}),jsxRuntimeExports.jsx("p",{className:"truncate",children:extractRecord.client||"Não informado"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Documento"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-xs",children:extractRecord.document||"Não informado"})]}),extractRecord.descricaoOperacao&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Descrição da Operação"}),jsxRuntimeExports.jsx("p",{className:"text-xs",children:extractRecord.descricaoOperacao})]})]})})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto",children:jsxRuntimeExports.jsxs(Tabs,{value:activeTab,onValueChange:setActiveTab,className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-2",children:jsxRuntimeExports.jsxs(TabsList,{className:"grid grid-cols-2 flex-1 mr-4",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"diagnostico",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-4 w-4"}),"1. Gerenciar Duplicatas"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"manual",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4"}),"2. Compensação Manual"]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"diagnostico",className:"space-y-4",children:extractRecord?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"bg-muted/30",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Valor para busca"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-600",children:formatCurrency2(extractRecord.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"ID do Usuário"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-xs",children:(()=>{const id2=obterIdUsuario();return id2>0?jsxRuntimeExports.jsxs("span",{className:"text-green-600 font-medium",children:[id2," ",usarIdManual?"(manual)":"(automático)"]}):"Não identificado"})()})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-xs text-muted-foreground",children:"Descrição do Cliente"}),jsxRuntimeExports.jsx("p",{className:"text-xs",children:extractRecord.descCliente||"Não informado"})]})]})})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{extractRecord&&(setSelectedDuplicataRecord(extractRecord),setDuplicataModalOpen(!0))},className:"bg-blue-500 hover:bg-blue-600 text-white",disabled:0===obterIdUsuario(),children:[jsxRuntimeExports.jsx(Search,{className:"h-4 w-4 mr-2"}),"Buscar e Gerenciar Duplicatas"]}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(!extractRecord)return void ue$2.error("Nenhum registro selecionado");const idUsuarioExtraido=obterIdUsuario();if(idUsuarioExtraido){setIsCheckingSaldo(!0),setSaldoComparacao(null);try{const usuarioTcr=(await TcrSaldosService.listarUsuariosSaldos({id_usuario:idUsuarioExtraido,pagina:1,por_pagina:1})).response.usuarios[0];if(!usuarioTcr)throw new Error(`Usuário ${idUsuarioExtraido} não encontrado no TCR`);if(!usuarioTcr.id_brasil_bitcoin)throw new Error(`Usuário ${idUsuarioExtraido} não possui conta Brasil Bitcoin configurada`);const saldoBrbtc=(await TcrSaldosService.consultarSaldoBrbtc(usuarioTcr.id_brasil_bitcoin)).response.data,comparacao=compararSaldos(usuarioTcr,saldoBrbtc);setSaldoComparacao(comparacao);const brlMsg=0===comparacao.brl.diferenca?"BRL OK":`BRL diferença ${comparacao.brl.diferenca}`,usdtMsg=0===comparacao.usdt.diferenca?"USDT OK":`USDT diferença ${comparacao.usdt.diferenca}`;0===comparacao.brl.diferenca&&0===comparacao.usdt.diferenca?ue$2.success("Conferência OK!",{description:`Usuário ${idUsuarioExtraido}: Todos os saldos estão corretos`}):ue$2.warning("Diferenças encontradas",{description:`Usuário ${idUsuarioExtraido}: ${brlMsg} | ${usdtMsg}`})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";ue$2.error("Erro na conferência de saldo",{description:errorMessage,duration:6e3}),setSaldoComparacao(null)}finally{setIsCheckingSaldo(!1)}}else ue$2.error("ID do usuário necessário",{description:"Informe o ID do usuário manualmente para usar esta funcionalidade"})},variant:"outline",className:"border-green-200 text-green-700 hover:bg-green-50",disabled:0===obterIdUsuario()||isCheckingSaldo,children:isCheckingSaldo?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Verificando..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 mr-2"}),"Conferir Saldo do Usuário"]})}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(!extractRecord)return void ue$2.error("Nenhum registro selecionado");const idUsuarioExtraido=obterIdUsuario();if(idUsuarioExtraido){setIsLoadingDepositos(!0),setDepositosInternos(null);try{const token=TOKEN_STORAGE.get();if(!token)throw new Error("Usuário não autenticado. Faça login novamente.");const searchParams=new URLSearchParams;searchParams.append("id_usuario",idUsuarioExtraido.toString()),searchParams.append("limit","100"),searchParams.append("order","desc");const apiUrl=`https://vps80270.cloudpublic.com.br:8081/BRBTC/depositos-internos?${searchParams.toString()}`,response=await fetch(apiUrl,{method:"GET",headers:{Authorization:`Bearer ${token}`,"Content-Type":"application/json"},signal:AbortSignal.timeout(3e4)});let responseData,responseText="";try{responseText=await response.text(),responseData=responseText?JSON.parse(responseText):{}}catch(parseError){responseData={error:`Resposta inválida da API: ${responseText}`}}if(!response.ok){let errorMessage="Erro desconhecido na API";throw responseData&&(errorMessage=responseData.error||responseData.message||responseData.erro||responseData.mensagem||`Erro HTTP ${response.status}: ${response.statusText}`),new Error(errorMessage)}let depositos=[];responseData.dados&&responseData.dados.depositos&&Array.isArray(responseData.dados.depositos)?depositos=responseData.dados.depositos:responseData.dados&&Array.isArray(responseData.dados)?depositos=responseData.dados:responseData.data&&responseData.data.depositos&&Array.isArray(responseData.data.depositos)?depositos=responseData.data.depositos:responseData.data&&Array.isArray(responseData.data)?depositos=responseData.data:responseData.depositos&&Array.isArray(responseData.depositos)?depositos=responseData.depositos:responseData.response&&responseData.response.data&&Array.isArray(responseData.response.data)?depositos=responseData.response.data:responseData.response&&Array.isArray(responseData.response)?depositos=responseData.response:Array.isArray(responseData)?depositos=responseData:Object.keys(responseData).forEach(key=>{Array.isArray(responseData[key])&&0===depositos.length&&(depositos=responseData[key])}),setDepositosInternos(depositos),Array.isArray(depositos)?depositos.length>0?ue$2.success(`${depositos.length} depósito(s) interno(s) encontrado(s)`,{description:`Usuário ${idUsuarioExtraido}: Dados carregados com sucesso`}):ue$2.info("Nenhum depósito interno encontrado",{description:`Usuário ${idUsuarioExtraido}: Sem registros na faixa consultada`}):ue$2.warning("Estrutura de dados inesperada",{description:`Usuário ${idUsuarioExtraido}: Dados recebidos mas em formato não reconhecido`})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";let errorDetails="";errorMessage.includes("não autenticado")||errorMessage.includes("token")?errorDetails="Faça login novamente.":errorMessage.includes("usuário não encontrado")?errorDetails="Verifique se o ID do usuário está correto.":errorMessage.includes("não autorizado")?errorDetails="Você não tem permissão para acessar estes dados.":errorMessage.includes("network")||errorMessage.includes("fetch")?errorDetails="Verifique sua conexão com a internet.":errorMessage.includes("timeout")&&(errorDetails="Tente novamente em alguns instantes."),ue$2.error("Erro ao buscar depósitos internos",{description:`${errorMessage}${errorDetails?` ${errorDetails}`:""}`,duration:6e3}),setDepositosInternos(null)}finally{setIsLoadingDepositos(!1)}}else ue$2.error("ID do usuário necessário",{description:"Informe o ID do usuário manualmente para usar esta funcionalidade"})},variant:"outline",className:"border-purple-200 text-purple-700 hover:bg-purple-50",disabled:0===obterIdUsuario()||isLoadingDepositos,children:isLoadingDepositos?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Buscando..."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4 mr-2"}),"Depósitos Internos BRBTC"]})})]}),0===obterIdUsuario()&&jsxRuntimeExports.jsx(Card,{className:"bg-amber-50 border-amber-200",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-amber-600"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-amber-800",children:"ID do usuário não identificado"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-amber-700 mb-3",children:"Informe o ID do usuário manualmente para acessar todas as funcionalidades:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"number",placeholder:"Ex: 1122",value:idUsuarioManual,onChange:e3=>setIdUsuarioManual(e3.target.value),className:"flex-1",min:"1"}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{const id2=parseInt(idUsuarioManual,10);isNaN(id2)||id2<=0?ue$2.error("ID inválido",{description:"Informe um número válido maior que zero"}):(setUsarIdManual(!0),ue$2.success(`ID ${id2} confirmado`,{description:"Agora todas as funcionalidades estão disponíveis"}))},disabled:!idUsuarioManual,size:"sm",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 mr-1"}),"Confirmar"]})]})]})}),saldoComparacao&&jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-green-50 to-blue-50 border-green-200",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600"}),jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-green-800",children:"Resultado da Conferência de Saldo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Saldo BRL (TCR):"}),jsxRuntimeExports.jsx(CurrencyValue,{amount:saldoComparacao.brl.local,currency:"BRL"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Saldo BRL (BRBTC):"}),jsxRuntimeExports.jsx(CurrencyValue,{amount:saldoComparacao.brl.externo,currency:"BRL"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:"Diferença:"}),jsxRuntimeExports.jsx(DifferenceIndicator,{diferenca:saldoComparacao.brl.diferenca,currency:"BRL"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Saldo USDT (TCR):"}),jsxRuntimeExports.jsx(CurrencyValue,{amount:saldoComparacao.usdt.local,currency:"USDT"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Saldo USDT (BRBTC):"}),jsxRuntimeExports.jsx(CurrencyValue,{amount:saldoComparacao.usdt.externo,currency:"USDT"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between border-t pt-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-800",children:"Diferença:"}),jsxRuntimeExports.jsx(DifferenceIndicator,{diferenca:saldoComparacao.usdt.diferenca,currency:"USDT"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 rounded-lg bg-white border",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:0===saldoComparacao.brl.diferenca&&0===saldoComparacao.usdt.diferenca?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-600"}),jsxRuntimeExports.jsx("span",{className:"text-green-800 font-medium",children:"✅ Saldos conferem"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-orange-600"}),jsxRuntimeExports.jsx("span",{className:"text-orange-800 font-medium",children:"⚠️ Diferenças encontradas"})]})})})]})}),null!==depositosInternos&&jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-purple-50 to-indigo-50 border-purple-200",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-purple-600"}),jsxRuntimeExports.jsxs("h4",{className:"text-sm font-semibold text-purple-800",children:["Depósitos Internos BRBTC (",Array.isArray(depositosInternos)?depositosInternos.length:0," encontrados)"]})]}),Array.isArray(depositosInternos)&&depositosInternos.length>0?jsxRuntimeExports.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[depositosInternos.slice(0,10).map((deposito,index)=>jsxRuntimeExports.jsx("div",{className:"bg-white p-3 rounded-lg border border-purple-100",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[deposito.amount&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Valor:"}),jsxRuntimeExports.jsxs("span",{className:"font-mono text-purple-700 font-medium",children:["R$ ",Number(deposito.amount).toFixed(2)]})]}),deposito.timestamp&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Data:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-800 text-xs",children:new Date(1e3*deposito.timestamp).toLocaleString("pt-BR")})]}),deposito.id&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"ID:"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-gray-600",children:deposito.id})]}),deposito.coin&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600",children:"Moeda:"}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs uppercase",children:deposito.coin})]}),(deposito.fromUserDocument||deposito.toUserDocument)&&jsxRuntimeExports.jsx("div",{className:"col-span-1 sm:col-span-2",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[deposito.fromUserDocument&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 text-xs",children:"De:"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-gray-700",children:deposito.fromUserDocument})]}),deposito.toUserDocument&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-600 text-xs",children:"Para:"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-gray-700",children:deposito.toUserDocument})]})]})}),Object.keys(deposito).filter(key=>!["amount","timestamp","id","coin","fromUserDocument","toUserDocument"].includes(key)).slice(0,2).map(key=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-gray-600 capitalize text-xs",children:[key,":"]}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-700 break-words max-w-32",children:"object"==typeof deposito[key]?JSON.stringify(deposito[key]):String(deposito[key])})]},key))]})},index)),Array.isArray(depositosInternos)&&depositosInternos.length>10&&jsxRuntimeExports.jsx("div",{className:"text-center p-2 bg-white rounded border border-purple-100",children:jsxRuntimeExports.jsxs("span",{className:"text-xs text-purple-600",children:["... e mais ",Array.isArray(depositosInternos)?depositosInternos.length-10:0," depósito(s). Mostrando os 10 mais recentes."]})})]}):jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-white rounded border border-purple-100",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-8 w-8 text-purple-300 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-purple-600",children:"Nenhum depósito interno encontrado"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-purple-500 mt-1",children:"Este usuário não possui depósitos internos registrados no período consultado."})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>setActiveTab("manual"),className:"w-full",children:"Prosseguir para compensação manual →"})})]}):jsxRuntimeExports.jsxs(Alert,{className:"border-yellow-200 bg-yellow-50",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-yellow-600"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-yellow-800",children:[jsxRuntimeExports.jsx("strong",{children:"Dados do registro não disponíveis."}),jsxRuntimeExports.jsx("br",{}),"Não é possível gerenciar duplicatas sem os dados da transação selecionada."]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"manual",className:"space-y-4",children:jsxRuntimeExports.jsxs("form",{onSubmit:handleManualSubmit,className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$1,{htmlFor:"id_usuario",className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(User,{className:"h-3 w-3"}),"ID do Usuário *"]}),jsxRuntimeExports.jsx(Input,{id:"id_usuario",type:"number",placeholder:"Ex: 106",value:formData.id_usuario||"",onChange:e3=>setFormData(prev=>({...prev,id_usuario:parseInt(e3.target.value)||0})),required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$1,{htmlFor:"quantia",className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3"}),"Quantia *"]}),jsxRuntimeExports.jsx(Input,{id:"quantia",type:"text",placeholder:"Ex: 0.02",value:quantiaInput,onChange:e3=>{const value=e3.target.value;/^\d*\.?\d*$/.test(value)&&setQuantiaInput(value)},required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Tipo Movimentação *"}),jsxRuntimeExports.jsxs(Select,{value:null==(_a3=formData.id_tipo_movimentacao)?void 0:_a3.toString(),onValueChange:value=>setFormData(prev=>({...prev,id_tipo_movimentacao:parseInt(value)})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecionar"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:"Depósito (1)"}),jsxRuntimeExports.jsx(SelectItem,{value:"2",children:"Saque (2)"}),jsxRuntimeExports.jsx(SelectItem,{value:"3",children:"Transferência (3)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Status *"}),jsxRuntimeExports.jsxs(Select,{value:null==(_b3=formData.id_status)?void 0:_b3.toString(),onValueChange:value=>setFormData(prev=>({...prev,id_status:parseInt(value)})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecionar"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:"Processado (1)"}),jsxRuntimeExports.jsx(SelectItem,{value:"2",children:"Pendente (2)"}),jsxRuntimeExports.jsx(SelectItem,{value:"3",children:"Cancelado (3)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Moeda *"}),jsxRuntimeExports.jsxs(Select,{value:null==(_c2=formData.id_moeda)?void 0:_c2.toString(),onValueChange:value=>setFormData(prev=>({...prev,id_moeda:parseInt(value)})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecionar"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"2",children:"BRL (2)"}),jsxRuntimeExports.jsx(SelectItem,{value:"1",children:"USD (1)"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"documento_depositante",children:"Documento Depositante"}),jsxRuntimeExports.jsx(Input,{id:"documento_depositante",placeholder:"CPF ou CNPJ",value:formData.documento_depositante||"",onChange:e3=>setFormData(prev=>({...prev,documento_depositante:e3.target.value}))})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"nome_depositante",children:"Nome Depositante"}),jsxRuntimeExports.jsx(Input,{id:"nome_depositante",placeholder:"Nome completo",value:formData.nome_depositante||"",onChange:e3=>setFormData(prev=>({...prev,nome_depositante:e3.target.value}))})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$1,{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(Calendar$1,{className:"h-3 w-3"}),"Data da Movimentação"]}),jsxRuntimeExports.jsx(Input,{type:"datetime-local",value:formData.data_movimentacao?new Date(formData.data_movimentacao).toISOString().slice(0,16):"",onChange:e3=>setFormData(prev=>({...prev,data_movimentacao:new Date(e3.target.value).getTime()}))})]})]})})]})}),jsxRuntimeExports.jsxs(DialogFooter,{className:"mt-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:handleClose,disabled:isLoading||isLoadingBRBTC,children:"Fechar"}),obterIdUsuario()>0&&jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{const idUsuario=obterIdUsuario();if(!idUsuario)return void ue$2.error("ID do usuário necessário",{description:"Informe o ID do usuário para acessar a análise detalhada"});const url=`/analise-usuario/${idUsuario}`;window.open(url,"_blank"),ue$2.success("Abrindo análise detalhada...",{description:`Redirecionando para análise do usuário ${idUsuario}`})},disabled:isLoading||isLoadingBRBTC,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-4 w-4 mr-2"}),"Analisar Usuário"]}),"manual"===activeTab&&extractRecord&&(obterIdUsuario()>0||validarElegibilidadeBRBTC(extractRecord).elegivel)&&jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{if(!extractRecord)return void ue$2.error("Nenhum registro selecionado");const idUsuario=obterIdUsuario();if(!idUsuario)return void ue$2.error("ID do usuário necessário",{description:"Informe o ID do usuário para realizar a compensação BRBTC"});const extractRecordComId={...extractRecord,descCliente:`Usuario ${idUsuario}; ${extractRecord.descCliente||""}`,_original:extractRecord._original},validacao=validarElegibilidadeBRBTC(extractRecordComId);validacao.elegivel?(setConfirmAction(()=>async()=>{await executarCompensacaoBRBTC(extractRecordComId)&&ue$2.success("Compensação Saldo Real realizada com sucesso!",{description:"Modal permanece aberto para outras ações"}),setShowConfirmModal(!1)}),setShowConfirmModal(!0)):ue$2.error("Registro não elegível para compensação BRBTC",{description:validacao.motivos.join(", ")})},disabled:isLoading||isLoadingBRBTC||0===obterIdUsuario(),className:"bg-green-600 hover:bg-green-700 text-white",children:[isLoadingBRBTC?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 mr-2"}),isLoadingBRBTC?"Processando...":"Compensação Saldo Real"]}),"manual"===activeTab&&jsxRuntimeExports.jsxs(Button$1,{onClick:handleManualSubmit,disabled:isLoading||isLoadingBRBTC||!formData.id_usuario||!quantiaInput||parseFloat(quantiaInput)<=0,className:"bg-red-600 hover:bg-red-700",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 mr-2"}),isLoading?"Processando...":"Compensação Saldo Visual"]})]})]}),jsxRuntimeExports.jsx(Dialog,{open:showConfirmModal,onOpenChange:setShowConfirmModal,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-md",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-5 w-5 text-orange-500"}),"Confirmar Compensação Saldo Real"]}),jsxRuntimeExports.jsx(DialogDescription,{children:"Esta ação irá processar o depósito via API BRBTC"})]}),extractRecord&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Alert,{className:"border-orange-200 bg-orange-50",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-orange-600"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-orange-800",children:[jsxRuntimeExports.jsx("strong",{children:"⚠️ Atenção:"})," Esta ação creditará automaticamente o saldo do usuário."]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-600",children:"Valor:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",Math.abs(extractRecord.value).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-600",children:"Cliente:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-800",children:extractRecord.client})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-gray-600",children:"Transação:"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-gray-600",children:extractRecord.id})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>setShowConfirmModal(!1),disabled:isLoadingBRBTC,children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>confirmAction&&confirmAction(),disabled:isLoadingBRBTC,className:"bg-green-600 hover:bg-green-700 text-white",children:isLoadingBRBTC?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 mr-2"}),"Confirmar Compensação"]})})]})]})}),selectedDuplicataRecord&&jsxRuntimeExports.jsx(DuplicataManagerModal,{isOpen:duplicataModalOpen,onClose:()=>setDuplicataModalOpen(!1),transacao:{id:selectedDuplicataRecord.id,value:selectedDuplicataRecord.value,client:selectedDuplicataRecord.client,dateTime:selectedDuplicataRecord.dateTime,type:selectedDuplicataRecord.type},idUsuario:obterIdUsuario(),onDuplicataExcluida:()=>{ue$2.success("Duplicata excluída com sucesso!")}})]})}function ExtractTable(){const[selectedTransaction,setSelectedTransaction]=reactExports.useState(null),[isModalOpen,setIsModalOpen]=reactExports.useState(!1),[dateFrom,setDateFrom]=reactExports.useState(),[dateTo,setDateTo]=reactExports.useState(),[filtrosAtivos,setFiltrosAtivos]=reactExports.useState({}),[creditedRecords,setCreditedRecords]=reactExports.useState(new Set),[searchName,setSearchName]=reactExports.useState(""),[searchValue,setSearchValue]=reactExports.useState(""),[searchDescCliente,setSearchDescCliente]=reactExports.useState(""),[sortOrder,setSortOrder]=reactExports.useState("desc"),[sortBy2,setSortBy]=reactExports.useState("date"),[creditOTCModalOpen,setCreditOTCModalOpen]=reactExports.useState(!1),[selectedExtractRecord,setSelectedExtractRecord]=reactExports.useState(null),[bulkMode,setBulkMode]=reactExports.useState(!1),[selectedTransactions,setSelectedTransactions]=reactExports.useState(new Set),[bulkOTCModalOpen,setBulkOTCModalOpen]=reactExports.useState(!1),[compensationModalOpen,setCompensationModalOpen]=reactExports.useState(!1),[selectedCompensationRecord,setSelectedCompensationRecord]=reactExports.useState(null),bankFeatures=useBankFeatures(),{data:extratoItems,pageInfo:pageInfo,isLoading:isLoading,error:error,currentPage:currentPage,goToPage:goToPage,nextPage:nextPage,prevPage:prevPage,firstPage:firstPage,lastPage:lastPage,refetch:refetch,provider:provider}=useExtratoPaginado({filtros:{de:filtrosAtivos.de,ate:filtrosAtivos.ate,provider:bankFeatures.provider},enabled:!0,pageSize:1e3}),transactions=extratoItems||[];reactExports.useEffect(()=>{},[error]),reactExports.useEffect(()=>{},[filtrosAtivos]);const displayTransactions=reactExports.useMemo(()=>{let filtered=[...transactions];if(searchName.trim()){const searchTerm=searchName.toLowerCase().trim();filtered=filtered.filter(transaction=>{var _a3,_b3;return(null==(_a3=transaction.client)?void 0:_a3.toLowerCase().includes(searchTerm))||(null==(_b3=transaction.document)?void 0:_b3.toLowerCase().includes(searchTerm))})}if(searchValue.trim()){const searchAmount=parseFloat(searchValue.replace(/[^\d,.-]/g,"").replace(",","."));isNaN(searchAmount)||(filtered=filtered.filter(transaction=>Math.abs(transaction.value-searchAmount)<.01))}if(searchDescCliente.trim()){const searchTerm=searchDescCliente.toLowerCase().trim();filtered=filtered.filter(transaction=>{var _a3;return null==(_a3=transaction.descCliente)?void 0:_a3.toLowerCase().includes(searchTerm)})}return"none"!==sortBy2&&"none"!==sortOrder&&filtered.sort((a2,b2)=>{let valueA,valueB;return"value"===sortBy2?(valueA=a2.value,valueB=b2.value):"date"===sortBy2&&(valueA=new Date(a2.dateTime).getTime(),valueB=new Date(b2.dateTime).getTime()),"asc"===sortOrder?valueA-valueB:valueB-valueA}),filtered},[transactions,searchName,searchValue,searchDescCliente,sortBy2,sortOrder]),handleRowClick=transaction=>{setSelectedTransaction(transaction),setIsModalOpen(!0)},handleCopyCode=(code,event)=>{event.stopPropagation(),navigator.clipboard.writeText(code),ue$2.success("Código copiado!")},isRecordCredited=transaction=>{const recordKey=`${bankFeatures.provider}-${transaction.id}`;return creditedRecords.has(recordKey)},handleCreditToOTC=async(transaction,event)=>{event.stopPropagation(),isRecordCredited(transaction)?ue$2.error("Registro já creditado",{description:"Este registro do extrato já foi creditado para um cliente OTC"}):(setSelectedExtractRecord(transaction),setCreditOTCModalOpen(!0))},toggleTransactionSelection=transactionId=>{setSelectedTransactions(prev=>{const newSet=new Set(prev);return newSet.has(transactionId)?newSet.delete(transactionId):newSet.add(transactionId),newSet})},selectAllVisibleCredits=()=>{const creditTransactions=displayTransactions.filter(t3=>"CRÉDITO"===t3.type&&!isRecordCredited(t3)).map(t3=>t3.id);setSelectedTransactions(new Set(creditTransactions)),ue$2.success(`${creditTransactions.length} transações selecionadas`)},clearSelection=()=>{setSelectedTransactions(new Set)},formatCurrency2=value=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(value)),formatDate=dateString=>{if(dateString.includes("/"))return dateString;try{return new Date(dateString).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return dateString}},getTypeConfig=type=>{switch(type){case"DÉBITO":return{className:"bg-tcr-red/20 text-tcr-red border-tcr-red/30",color:"text-tcr-red"};case"CRÉDITO":return{className:"bg-tcr-green/20 text-tcr-green border-tcr-green/30",color:"text-tcr-green"};default:return{className:"bg-muted/20 text-muted-foreground border-border",color:"text-muted-foreground"}}};return displayTransactions.filter(t3=>"DÉBITO"===t3.type).length,displayTransactions.filter(t3=>"CRÉDITO"===t3.type).length,jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-card-foreground",children:"Filtros de Pesquisa"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Personalize sua consulta de extratos"})]})]})})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Data inicial"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",disabled:isLoading,className:"w-full h-12 justify-start text-left font-normal rounded-xl border-border hover:border-blue-500 transition-colors bg-input "+(dateFrom?"":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateFrom?format(dateFrom,"PPP",{locale:ptBR}):"Selecionar data"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 rounded-xl bg-popover",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateFrom,onSelect:setDateFrom,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Data final"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",disabled:isLoading,className:"w-full h-12 justify-start text-left font-normal rounded-xl border-border hover:border-blue-500 transition-colors bg-input "+(dateTo?"":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateTo?format(dateTo,"PPP",{locale:ptBR}):"Selecionar data"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 rounded-xl bg-popover",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateTo,onSelect:setDateTo,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ação"}),jsxRuntimeExports.jsxs(Button$1,{onClick:async()=>{var _a3;if(dateFrom&&dateTo&&!validarIntervaloData(formatarDataParaAPI(dateFrom),formatarDataParaAPI(dateTo)))return void ue$2.error("Intervalo de datas inválido",{description:"Verifique se a data inicial é menor que a final e o intervalo não passa de 31 dias",duration:4e3});const novosFiltros={...dateFrom&&dateTo&&{de:formatarDataParaAPI(dateFrom),ate:formatarDataParaAPI(dateTo)}};setFiltrosAtivos(novosFiltros),ue$2.success("🚀 Filtros aplicados no servidor!",{description:`Buscando ${null==(_a3=bankFeatures.provider)?void 0:_a3.toUpperCase()} com filtros de data`,duration:3e3})},disabled:isLoading,className:"w-full h-12 rounded-xl bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white border-0",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4 mr-2"}),"Buscar Transações"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Limpar"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:async()=>{setDateFrom(void 0),setDateTo(void 0),setSearchName(""),setSearchValue(""),setSearchDescCliente(""),setSortBy("none"),setSortOrder("none"),setFiltrosAtivos({}),ue$2.success("🧹 Filtros limpos!",{description:"Recarregando dados mais recentes",duration:3e3})},disabled:isLoading,className:"w-full h-12 rounded-xl border-border hover:border-blue-500 transition-colors",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por nome"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Nome do cliente ou documento",value:searchName,onChange:e3=>setSearchName(e3.target.value),className:"pl-10 h-12 rounded-xl border-border hover:border-blue-500 transition-colors"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por valor"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-sm text-muted-foreground",children:"R$"}),jsxRuntimeExports.jsx(Input,{placeholder:"Ex: 100,50",value:searchValue,onChange:e3=>setSearchValue(e3.target.value),className:"pl-10 h-12 rounded-xl border-border hover:border-blue-500 transition-colors"})]})]}),"bmp-531"===bankFeatures.provider&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por descCliente"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Ex: Id Conc.: caas436344xU31",value:searchDescCliente,onChange:e3=>setSearchDescCliente(e3.target.value),className:"pl-10 h-12 rounded-xl border-border hover:border-blue-500 transition-colors"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ordenar por"}),jsxRuntimeExports.jsxs(Select,{value:sortBy2,onValueChange:value=>setSortBy(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecionar ordenação"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Sem ordenação"}),jsxRuntimeExports.jsx(SelectItem,{value:"value",children:"Valor"}),jsxRuntimeExports.jsx(SelectItem,{value:"date",children:"Data"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ordem"}),jsxRuntimeExports.jsxs(Select,{value:sortOrder,onValueChange:value=>setSortOrder(value),disabled:"none"===sortBy2,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecionar ordem"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"asc",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowUp,{className:"h-4 w-4"}),"Crescente"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"desc",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowDown,{className:"h-4 w-4"}),"Decrescente"]})})]})]})]})]})]})]}),error&&jsxRuntimeExports.jsx(Card,{className:"border-destructive bg-destructive/5",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-destructive"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-destructive",children:"Erro ao carregar extrato"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:error.message})]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{refetch()},className:"ml-auto",children:"Tentar novamente"})]})})}),jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden w-full",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-tcr-orange to-primary shadow-lg",children:jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl font-bold text-card-foreground flex items-center gap-2",children:["Extrato de Transações","bitso"===bankFeatures.provider?jsxRuntimeExports.jsx(Badge,{className:"bg-orange-100 text-orange-800 border-orange-200 text-xs font-medium",children:"Bitso"}):"bmp"===bankFeatures.provider?jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"BMP"}):"bmp-531"===bankFeatures.provider?jsxRuntimeExports.jsx(Badge,{className:"bg-indigo-100 text-indigo-800 border-indigo-200 text-xs font-medium",children:"BMP-531"}):null,"bitso"===provider?jsxRuntimeExports.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Bitso: Filtros funcionais ✅"}):jsxRuntimeExports.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded",children:"Paginação Tradicional 📄"})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[displayTransactions.length," registros na página • ",displayTransactions.filter(t3=>"DÉBITO"===t3.type).length," débitos • ",displayTransactions.filter(t3=>"CRÉDITO"===t3.type).length," créditos",pageInfo&&pageInfo.totalPages>1&&jsxRuntimeExports.jsxs("span",{className:"text-blue-500",children:[" • ",pageInfo.totalPages," páginas total"]}),(searchName||searchValue||searchDescCliente||"none"!==sortBy2)&&jsxRuntimeExports.jsx("span",{className:"text-amber-500",children:" • Filtros ativos"})]})]})]})})}),jsxRuntimeExports.jsx("div",{className:cn("px-6 py-4 border-b border-border transition-all",bulkMode?"bg-blue-50 dark:bg-blue-950/20":"bg-muted/30"),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{variant:bulkMode?"default":"outline",onClick:()=>{const newBulkMode=!bulkMode;setBulkMode(newBulkMode),newBulkMode?ue$2.info("Modo seleção ativado - clique nas transações para selecioná-las"):clearSelection()},className:bulkMode?"bg-blue-600 hover:bg-blue-700":"",children:[jsxRuntimeExports.jsx(SquareCheckBig,{className:"h-4 w-4 mr-2"}),bulkMode?"Sair do Modo Lote":"Modo Seleção em Lote"]}),bulkMode&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-sm px-3 py-1",children:[selectedTransactions.size," selecionada",1!==selectedTransactions.size?"s":""]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:selectAllVisibleCredits,disabled:0===displayTransactions.filter(t3=>"CRÉDITO"===t3.type&&!isRecordCredited(t3)).length,children:"Selecionar Todas Visíveis"}),jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:clearSelection,disabled:0===selectedTransactions.size,children:[jsxRuntimeExports.jsx(X$2,{className:"h-3 w-3 mr-1"}),"Limpar Seleção"]})]})]}),bulkMode&&selectedTransactions.size>0&&jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{0!==selectedTransactions.size?setBulkOTCModalOpen(!0):ue$2.error("Selecione pelo menos uma transação")},className:"bg-green-600 hover:bg-green-700 text-white",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Creditar ",selectedTransactions.size," em Lote"]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:isLoading?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center p-12",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-500"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Carregando extrato..."})]})}):0===displayTransactions.length?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center p-12",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"h-8 w-8 mx-auto mb-4 text-muted-foreground"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Nenhuma transação encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground/60 mt-1",children:"Tente ajustar os filtros de data"})]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:block",children:[jsxRuntimeExports.jsx("div",{className:"max-h-[75vh] overflow-y-auto scrollbar-thin",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{className:"sticky top-0 bg-muted/40 backdrop-blur-sm z-10",children:jsxRuntimeExports.jsxs(TableRow,{className:"border-b border-border hover:bg-transparent",children:[bulkMode&&jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[50px] text-center",children:jsxRuntimeExports.jsx(Checkbox,{checked:selectedTransactions.size>0&&selectedTransactions.size===displayTransactions.filter(t3=>"CRÉDITO"===t3.type&&!isRecordCredited(t3)).length,onCheckedChange:checked=>{checked?selectAllVisibleCredits():clearSelection()},className:"h-4 w-4"})}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px]",children:"Tipo"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 min-w-[200px]",children:"Cliente/Banco"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[160px]",children:"Documento"}),"bmp-531"===bankFeatures.provider&&jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[200px]",children:"descCliente"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px]",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Código"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[120px] text-center",children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:displayTransactions.map(transaction=>{const typeConfig=getTypeConfig(transaction.type);return jsxRuntimeExports.jsxs(TableRow,{onClick:e3=>{bulkMode&&"CRÉDITO"===transaction.type&&!isRecordCredited(transaction)?(e3.stopPropagation(),toggleTransactionSelection(transaction.id)):bulkMode||handleRowClick(transaction)},className:cn("transition-all duration-200 border-b border-border",bulkMode&&selectedTransactions.has(transaction.id)?"bg-blue-40/40 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800 cursor-pointer hover:bg-blue-100/60 dark:hover:bg-blue-900/30":bulkMode&&"CRÉDITO"===transaction.type&&!isRecordCredited(transaction)?"cursor-pointer hover:bg-muted/30":bulkMode?"cursor-default opacity-60":"cursor-pointer hover:bg-muted/20"),children:[bulkMode&&jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-center",children:"CRÉDITO"!==transaction.type||isRecordCredited(transaction)?jsxRuntimeExports.jsx("div",{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Checkbox,{checked:selectedTransactions.has(transaction.id),onCheckedChange:()=>toggleTransactionSelection(transaction.id),className:"h-4 w-4",onClick:e3=>e3.stopPropagation()})}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium text-card-foreground py-3 text-xs",children:formatDate(transaction.dateTime)}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("span",{className:"font-bold text-sm font-mono "+("DÉBITO"===transaction.type?"text-tcr-red":"text-tcr-green"),children:["DÉBITO"===transaction.type?"-":"+",formatCurrency2(transaction.value)]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsx(Badge,{className:`${typeConfig.className} rounded-full px-2 py-1 text-xs font-semibold`,children:transaction.type})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground break-words",children:transaction.bitsoData?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-card-foreground",children:transaction.document||"—"}),"CRÉDITO"===transaction.type&&transaction.bitsoData.pagador&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-600",children:["De: ",transaction.bitsoData.pagador.banco||transaction.bitsoData.pagador.chave||"N/A",transaction.bitsoData.pagador.conta&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:["Conta: ",transaction.bitsoData.pagador.conta]})]}),"DÉBITO"===transaction.type&&transaction.bitsoData.destinatario&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-orange-600",children:["Para: ",transaction.bitsoData.destinatario.banco||transaction.bitsoData.destinatario.chave||"N/A",transaction.bitsoData.destinatario.conta&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:["Conta: ",transaction.bitsoData.destinatario.conta]})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-card-foreground",children:transaction.client||"Cliente não identificado"}),transaction.document&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-600",children:["Doc: ",transaction.document]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"BMP - Banco Master Pagamentos"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground truncate max-w-[160px]",children:transaction.bitsoData?transaction.client||"—":transaction.document||"—"}),"bmp-531"===bankFeatures.provider&&jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground break-words max-w-[200px]",children:transaction.descCliente?jsxRuntimeExports.jsx("span",{title:transaction.descCliente,children:transaction.descCliente}):jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"—"})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[transaction.identified?jsxRuntimeExports.jsx(Badge,{className:"bg-tcr-green/20 text-tcr-green border-tcr-green/30 rounded-full px-2 py-1 text-xs font-semibold",children:"✓"}):jsxRuntimeExports.jsx(Badge,{className:"bg-amber-500/20 text-amber-400 border-amber-500/30 rounded-full px-2 py-1 text-xs font-semibold",children:"?"}),transaction.bitsoData&&jsxRuntimeExports.jsx(Badge,{className:"bg-orange-50 text-orange-700 border-orange-200 rounded-full px-2 py-1 text-xs font-semibold",children:"Bitso"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-muted-foreground truncate max-w-[100px]",children:transaction.code}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:e3=>handleCopyCode(transaction.code,e3),className:"h-6 w-6 p-0 flex-shrink-0 rounded-lg hover:bg-muted hover:text-card-foreground transition-all duration-200",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-1",children:!bulkMode&&"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCreditToOTC(transaction,e3),disabled:isRecordCredited(transaction),className:cn("h-7 px-2 text-xs transition-all",isRecordCredited(transaction)?"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed":"bg-green-50 hover:bg-green-100 text-green-700 border-green-200 hover:border-green-300"),title:isRecordCredited(transaction)?"Já creditado para cliente OTC":"Creditar para cliente OTC",children:isRecordCredited(transaction)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Creditado"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),"OTC"]})})})})]},transaction.id)})})]})}),pageInfo&&pageInfo.totalPages>1&&jsxRuntimeExports.jsx("div",{className:"mt-6 p-4 border-t border-border bg-muted/10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(null==pageInfo?void 0:pageInfo.startItem)||1," a ",(null==pageInfo?void 0:pageInfo.endItem)||displayTransactions.length," de ",(null==pageInfo?void 0:pageInfo.totalItems)||displayTransactions.length," registros",jsxRuntimeExports.jsxs("span",{className:"text-primary",children:[" • Página ",(null==pageInfo?void 0:pageInfo.currentPage)||currentPage," de ",(null==pageInfo?void 0:pageInfo.totalPages)||"?"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:firstPage,disabled:1===currentPage,variant:"outline",size:"sm",className:"h-9 px-3",children:"⏮️"}),jsxRuntimeExports.jsx(Button$1,{onClick:prevPage,disabled:1===currentPage,variant:"outline",size:"sm",className:"h-9 px-3",children:"← Anterior"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,(null==pageInfo?void 0:pageInfo.totalPages)||5)},(_2,i2)=>{let pageNum;const totalPages=(null==pageInfo?void 0:pageInfo.totalPages)||5;return pageNum=totalPages<=5||currentPage<=3?i2+1:currentPage>=totalPages-2?totalPages-4+i2:currentPage-2+i2,jsxRuntimeExports.jsx(Button$1,{onClick:()=>goToPage(pageNum),variant:pageNum===currentPage?"default":"outline",size:"sm",className:"h-9 w-9 p-0",children:pageNum},pageNum)})}),jsxRuntimeExports.jsx(Button$1,{onClick:nextPage,disabled:currentPage===((null==pageInfo?void 0:pageInfo.totalPages)||1),variant:"outline",size:"sm",className:"h-9 px-3",children:"Próxima →"}),jsxRuntimeExports.jsx(Button$1,{onClick:lastPage,disabled:currentPage===((null==pageInfo?void 0:pageInfo.totalPages)||1),variant:"outline",size:"sm",className:"h-9 px-3",children:"⏭️"})]})]})}),pageInfo&&jsxRuntimeExports.jsx("div",{className:"text-center text-xs text-muted-foreground mt-4 p-4 bg-muted/20 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[jsxRuntimeExports.jsxs("span",{children:["📄 Página ",(null==pageInfo?void 0:pageInfo.currentPage)||currentPage," de ",(null==pageInfo?void 0:pageInfo.totalPages)||"?"]}),jsxRuntimeExports.jsxs("span",{children:["📊 Total: ",(null==pageInfo?void 0:pageInfo.totalItems)||displayTransactions.length," registros"]}),jsxRuntimeExports.jsxs("span",{children:["📋 Mostrando: ",(null==pageInfo?void 0:pageInfo.pageSize)||1e3," por página"]}),jsxRuntimeExports.jsxs("span",{className:"text-blue-600",children:["💾 ",null==provider?void 0:provider.toUpperCase()," Provider"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden space-y-3 p-4",children:[displayTransactions.map(transaction=>{const typeConfig=getTypeConfig(transaction.type);return jsxRuntimeExports.jsx(Card,{className:"bg-muted/10 border border-border cursor-pointer hover:bg-muted/20 transition-all duration-200",onClick:()=>handleRowClick(transaction),children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:formatDate(transaction.dateTime)}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Badge,{className:`${typeConfig.className} rounded-full px-2 py-1 text-xs font-semibold`,children:transaction.type}),transaction.bitsoData&&jsxRuntimeExports.jsx(Badge,{className:"bg-orange-50 text-orange-700 border-orange-200 rounded-full px-2 py-1 text-xs font-semibold",children:"Bitso"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold text-xl font-mono "+("DÉBITO"===transaction.type?"text-tcr-red":"text-tcr-green"),children:["DÉBITO"===transaction.type?"-":"+",formatCurrency2(transaction.value)]}),transaction.bitsoData?jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:["Cliente: ",transaction.document||"—"]}):jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-1",children:["Cliente: ",transaction.client||"Cliente não identificado"]}),transaction.bitsoData&&jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1",children:[transaction.document&&jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-card-foreground",children:transaction.document}),"CRÉDITO"===transaction.type&&transaction.bitsoData.pagador&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-600",children:[jsxRuntimeExports.jsxs("p",{children:["De: ",transaction.bitsoData.pagador.banco||transaction.bitsoData.pagador.chave||"N/A"]}),transaction.bitsoData.pagador.conta&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Conta: ",transaction.bitsoData.pagador.conta]})]}),"DÉBITO"===transaction.type&&transaction.bitsoData.destinatario&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-orange-600",children:[jsxRuntimeExports.jsxs("p",{children:["Para: ",transaction.bitsoData.destinatario.banco||transaction.bitsoData.destinatario.chave||"N/A"]}),transaction.bitsoData.destinatario.conta&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Conta: ",transaction.bitsoData.destinatario.conta]})]})]}),!transaction.bitsoData&&jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1",children:[transaction.document&&jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-card-foreground",children:["Doc: ",transaction.document]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"BMP - Banco Master Pagamentos"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:["CRÉDITO"===transaction.type&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCreditToOTC(transaction,e3),disabled:isRecordCredited(transaction),className:cn("h-8 px-2 text-xs transition-all",isRecordCredited(transaction)?"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed":"bg-green-50 hover:bg-green-100 text-green-700 border-green-200"),title:isRecordCredited(transaction)?"Já creditado para cliente OTC":"Creditar para cliente OTC",children:isRecordCredited(transaction)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Creditado"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),"OTC"]})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:e3=>handleCopyCode(transaction.code,e3),className:"h-8 w-8 p-0 rounded-lg hover:bg-muted flex-shrink-0",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground truncate flex-1",children:transaction.client||"—"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[transaction.identified?jsxRuntimeExports.jsx("span",{className:"text-tcr-green",children:"✓ Identificado"}):jsxRuntimeExports.jsx("span",{className:"text-amber-400",children:"? Flutuante"}),jsxRuntimeExports.jsx("span",{className:"font-mono text-muted-foreground",children:transaction.code.slice(-8)})]})]})]})},transaction.id)}),pageInfo&&pageInfo.totalPages>1&&jsxRuntimeExports.jsxs("div",{className:"mt-6 p-4 border-t border-border bg-muted/10",children:[jsxRuntimeExports.jsxs("div",{className:"text-center text-sm text-muted-foreground mb-4",children:["Mostrando ",pageInfo.startItem," a ",pageInfo.endItem," de ",pageInfo.totalItems," registros",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("span",{className:"text-primary",children:["Página ",pageInfo.currentPage," de ",pageInfo.totalPages]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:firstPage,disabled:1===currentPage,variant:"outline",size:"sm",children:"⏮️ Primeira"}),jsxRuntimeExports.jsx(Button$1,{onClick:prevPage,disabled:1===currentPage,variant:"outline",size:"sm",children:"← Anterior"}),jsxRuntimeExports.jsx(Button$1,{onClick:nextPage,disabled:currentPage===pageInfo.totalPages,variant:"outline",size:"sm",children:"Próxima →"}),jsxRuntimeExports.jsx(Button$1,{onClick:lastPage,disabled:currentPage===pageInfo.totalPages,variant:"outline",size:"sm",children:"Última ⏭️"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center gap-1",children:Array.from({length:Math.min(3,pageInfo.totalPages)},(_2,i2)=>{let pageNum;return pageNum=pageInfo.totalPages<=3||currentPage<=2?i2+1:currentPage>=pageInfo.totalPages-1?pageInfo.totalPages-2+i2:currentPage-1+i2,jsxRuntimeExports.jsx(Button$1,{onClick:()=>goToPage(pageNum),variant:pageNum===currentPage?"default":"outline",size:"sm",className:"h-9 w-12 p-0",children:pageNum},pageNum)})})]})]}),pageInfo&&jsxRuntimeExports.jsx("div",{className:"text-center text-xs text-muted-foreground mt-4 p-4 bg-muted/20 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{children:["📄 Página ",pageInfo.currentPage," de ",pageInfo.totalPages]}),jsxRuntimeExports.jsxs("div",{children:["📊 Total: ",pageInfo.totalItems," registros • 📋 ",pageInfo.pageSize," por página"]}),jsxRuntimeExports.jsxs("div",{className:"text-blue-600",children:["💾 ",null==provider?void 0:provider.toUpperCase()," Provider"]})]})})]})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:isModalOpen,onOpenChange:setIsModalOpen,children:jsxRuntimeExports.jsxs(DialogContent,{className:"w-[95vw] max-w-2xl max-h-[90vh] overflow-y-auto rounded-2xl bg-card border border-border p-0",children:[jsxRuntimeExports.jsxs(DialogHeader,{className:"relative p-4 sm:p-6 border-b border-border",children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"text-lg sm:text-xl font-bold text-card-foreground flex items-center gap-2 pr-8",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 flex-shrink-0"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:"Detalhes da Transação"})]}),jsxRuntimeExports.jsxs(DialogClose,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Fechar"})]})]}),selectedTransaction&&jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-r from-muted/20 to-muted/10 border border-border",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4 sm:p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-2 sm:space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(Badge,{className:`${getTypeConfig(selectedTransaction.type).className} px-3 py-1 text-sm font-semibold`,children:selectedTransaction.type}),selectedTransaction.identified?jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-700 dark:bg-green-900/50 dark:text-green-300 px-3 py-1 text-sm",children:"✓ Identificado"}):jsxRuntimeExports.jsx(Badge,{className:"bg-amber-100 text-amber-700 dark:bg-amber-900/50 dark:text-amber-300 px-3 py-1 text-sm",children:"? Flutuante"})]}),jsxRuntimeExports.jsxs("div",{className:"text-3xl sm:text-4xl font-bold font-mono "+("DÉBITO"===selectedTransaction.type?"text-red-600 dark:text-red-400":"text-green-600 dark:text-green-400"),children:["DÉBITO"===selectedTransaction.type?"-":"+",formatCurrency2(selectedTransaction.value)]}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:formatDate(selectedTransaction.dateTime)})]})})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"bg-muted/10 border border-border",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 sm:p-5",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-card-foreground mb-3 sm:mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),"Informações Básicas"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"ID da Transação:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-card-foreground font-mono break-all",children:selectedTransaction.id}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:e3=>handleCopyCode(selectedTransaction.id,{}),className:"h-6 w-6 p-0 rounded flex-shrink-0 hover:bg-muted",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Código de Referência:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-card-foreground font-mono",children:selectedTransaction.code}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:e3=>handleCopyCode(selectedTransaction.code,{}),className:"h-6 w-6 p-0 rounded flex-shrink-0 hover:bg-muted",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Data e Hora:"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-card-foreground font-mono",children:selectedTransaction.dateTime})]})]})]})}),jsxRuntimeExports.jsx(Card,{className:"bg-muted/10 border border-border",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 sm:p-5",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-card-foreground mb-3 sm:mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Detalhes da Transação",selectedTransaction.bitsoData&&jsxRuntimeExports.jsx(Badge,{className:"bg-orange-50 text-orange-700 border-orange-200 ml-2",children:"Bitso PIX"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Documento:"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-card-foreground bg-muted/30 rounded-lg p-2 break-words",children:selectedTransaction.bitsoData?selectedTransaction.client:selectedTransaction.document})]}),(selectedTransaction.bitsoData&&selectedTransaction.document||!selectedTransaction.bitsoData&&selectedTransaction.client)&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Cliente:"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-card-foreground bg-muted/30 rounded-lg p-2 break-words",children:selectedTransaction.bitsoData?selectedTransaction.document:selectedTransaction.client})]}),selectedTransaction.bitsoData&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[selectedTransaction.bitsoData.pagador&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:["Pagador ","CRÉDITO"===selectedTransaction.type?"(Quem enviou)":"(Nossa conta)",":"]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-card-foreground bg-blue-500/10 border border-blue-500/20 rounded-lg p-3 space-y-1",children:[selectedTransaction.bitsoData.pagador.nome&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Nome:"})," ",selectedTransaction.bitsoData.pagador.nome]}),selectedTransaction.bitsoData.pagador.documento&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Documento:"})," ",selectedTransaction.bitsoData.pagador.documento]}),selectedTransaction.bitsoData.pagador.chave&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Chave PIX:"})," ",selectedTransaction.bitsoData.pagador.chave,selectedTransaction.bitsoData.pagador.tipo_chave&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs bg-blue-500/20 text-blue-700 dark:text-blue-300 px-2 py-1 rounded",children:selectedTransaction.bitsoData.pagador.tipo_chave})]}),selectedTransaction.bitsoData.pagador.banco&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Banco:"})," ",selectedTransaction.bitsoData.pagador.banco]}),selectedTransaction.bitsoData.pagador.agencia&&selectedTransaction.bitsoData.pagador.conta&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Conta:"})," Ag: ",selectedTransaction.bitsoData.pagador.agencia," | Conta: ",selectedTransaction.bitsoData.pagador.conta]})]})]}),selectedTransaction.bitsoData.destinatario&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:["Destinatário ","DÉBITO"===selectedTransaction.type?"(Quem recebeu)":"(Nossa conta)",":"]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-card-foreground bg-orange-500/10 border border-orange-500/20 rounded-lg p-3 space-y-1",children:[selectedTransaction.bitsoData.destinatario.nome&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Nome:"})," ",selectedTransaction.bitsoData.destinatario.nome]}),selectedTransaction.bitsoData.destinatario.documento&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Documento:"})," ",selectedTransaction.bitsoData.destinatario.documento]}),selectedTransaction.bitsoData.destinatario.chave&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Chave PIX:"})," ",selectedTransaction.bitsoData.destinatario.chave,selectedTransaction.bitsoData.destinatario.tipo_chave&&jsxRuntimeExports.jsx("span",{className:"ml-2 text-xs bg-orange-500/20 text-orange-700 dark:text-orange-300 px-2 py-1 rounded",children:selectedTransaction.bitsoData.destinatario.tipo_chave})]}),selectedTransaction.bitsoData.destinatario.banco&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Banco:"})," ",selectedTransaction.bitsoData.destinatario.banco]}),selectedTransaction.bitsoData.destinatario.agencia&&selectedTransaction.bitsoData.destinatario.conta&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Conta:"})," Ag: ",selectedTransaction.bitsoData.destinatario.agencia," | Conta: ",selectedTransaction.bitsoData.destinatario.conta]})]})]}),selectedTransaction.bitsoData.metadados&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Informações Técnicas:"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-card-foreground bg-muted/30 border border-border rounded-lg p-3 space-y-1",children:[selectedTransaction.bitsoData.metadados.end_to_end_id&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"End-to-End ID:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 font-mono text-xs bg-muted/50 px-2 py-1 rounded",children:selectedTransaction.bitsoData.metadados.end_to_end_id})]}),selectedTransaction.bitsoData.metadados.protocolo&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Protocolo:"})," ",selectedTransaction.bitsoData.metadados.protocolo]}),selectedTransaction.bitsoData.metadados.integration&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Integração:"})," ",selectedTransaction.bitsoData.metadados.integration]}),selectedTransaction.bitsoData.metadados.origin_id&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Origin ID:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 font-mono text-xs bg-muted/50 px-2 py-1 rounded",children:selectedTransaction.bitsoData.metadados.origin_id})]}),selectedTransaction.bitsoData.metadados.referencia&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Referência:"})," ",selectedTransaction.bitsoData.metadados.referencia]}),void 0!==selectedTransaction.bitsoData.metadados.taxa&&selectedTransaction.bitsoData.metadados.taxa>0&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Taxa:"})," R$ ",selectedTransaction.bitsoData.metadados.taxa.toFixed(2)]}),selectedTransaction.bitsoData.metadados.observacoes&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Observações:"})," ",selectedTransaction.bitsoData.metadados.observacoes]}),selectedTransaction.bitsoData.metadados.motivo_falha&&jsxRuntimeExports.jsxs("div",{className:"text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx("strong",{children:"Motivo da Falha:"})," ",selectedTransaction.bitsoData.metadados.motivo_falha]})]})]})]})]})]})}),jsxRuntimeExports.jsx(Card,{className:"bg-muted/10 border border-border",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4 sm:p-5",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-card-foreground mb-3 sm:mb-4 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Dados Completos (JSON)"]}),jsxRuntimeExports.jsx("div",{className:"bg-slate-900 dark:bg-slate-950 rounded-lg p-3 sm:p-4 border border-border overflow-hidden",children:jsxRuntimeExports.jsx("pre",{className:"text-xs sm:text-sm overflow-auto text-green-400 leading-relaxed max-h-32 sm:max-h-60 whitespace-pre-wrap break-words",children:JSON.stringify(selectedTransaction,null,2)})}),jsxRuntimeExports.jsx("div",{className:"mt-3 flex justify-end",children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCopyCode(JSON.stringify(selectedTransaction,null,2),{}),className:"text-xs",children:[jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"}),"Copiar JSON"]})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3 pt-2 border-t border-border",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>setIsModalOpen(!1),className:"w-full sm:w-auto order-2 sm:order-1",children:"Fechar"}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>handleCopyCode(selectedTransaction.code,{}),className:"w-full sm:w-auto order-1 sm:order-2 bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90",children:[jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"}),"Copiar Código"]})]})]})]})}),jsxRuntimeExports.jsx(CreditExtractToOTCModal,{isOpen:creditOTCModalOpen,onClose:wasSuccessful=>{if(wasSuccessful&&selectedExtractRecord){const recordKey=`${bankFeatures.provider}-${selectedExtractRecord.id}`;setCreditedRecords(prev=>new Set(prev).add(recordKey))}setCreditOTCModalOpen(!1),setSelectedExtractRecord(null)},extractRecord:selectedExtractRecord}),jsxRuntimeExports.jsx(BulkCreditOTCModal,{isOpen:bulkOTCModalOpen,onClose:(wasSuccessful,successfulIds)=>{wasSuccessful&&successfulIds&&successfulIds.length>0&&(setCreditedRecords(prev=>{const newSet=new Set(prev);return successfulIds.forEach(id2=>newSet.add(`${bankFeatures.provider}-${id2}`)),newSet}),clearSelection()),setBulkOTCModalOpen(!1)},transactions:displayTransactions.filter(t3=>selectedTransactions.has(t3.id))}),jsxRuntimeExports.jsx(CompensationModalInteligente,{isOpen:compensationModalOpen,onClose:wasSuccessful=>{wasSuccessful&&ue$2.success("Compensação processada com sucesso!"),setCompensationModalOpen(!1),setSelectedCompensationRecord(null)},extractRecord:selectedCompensationRecord})]})}function SimpleProviderIndicator(){const bankFeatures=useBankFeatures();return bankFeatures.provider?jsxRuntimeExports.jsx("div",{className:"bg-green-100 border border-green-300 rounded-lg p-3 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-green-800 text-sm font-medium",children:"✅ Provider ativo:"}),jsxRuntimeExports.jsx(Badge,{className:""+("bitso"===bankFeatures.provider?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:bankFeatures.provider.toUpperCase()}),jsxRuntimeExports.jsxs("span",{className:"text-green-700 text-xs",children:["(",bankFeatures.displayName,")"]})]})}):jsxRuntimeExports.jsx("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-red-800 text-sm font-medium",children:"⚠️ Nenhum provider detectado"})})}function PaymentsPage(){const[activeAccount,setActiveAccount]=reactExports.useState(null),bankFeatures=useBankFeatures();reactExports.useEffect(()=>{const checkActiveAccount=()=>{try{const apiRouter2=window.apiRouter;if(null==apiRouter2?void 0:apiRouter2.getCurrentAccount){const account=apiRouter2.getCurrentAccount();setActiveAccount(account)}}catch(error){}};checkActiveAccount();const interval=setInterval(checkActiveAccount,2e3);return()=>clearInterval(interval)},[]),null==activeAccount||activeAccount.provider;const getProviderBadge=()=>"bitso"===bankFeatures.provider?jsxRuntimeExports.jsx(Badge,{className:"bg-orange-100 text-orange-800 border-orange-200 text-xs font-medium",children:"Bitso"}):"bmp"===bankFeatures.provider?jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"BMP"}):null;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsx(TopBarPayments,{}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8",children:[jsxRuntimeExports.jsx(SimpleProviderIndicator,{}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"extract",className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs(TabsList,{className:"grid grid-cols-3 w-fit bg-muted/30 p-1 h-auto",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"extract",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Extrato"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"actions",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Ações PIX"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"keys",disabled:!bankFeatures.hasPixKeys,className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Chaves PIX"}),bankFeatures.hasPixKeys?jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"ml-2 text-xs px-2 py-0",children:"2"}):jsxRuntimeExports.jsx(Ban,{className:"h-3 w-3 ml-2 text-muted-foreground"})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"extract",className:"mt-0",children:jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsx(ExtractTable,{})})}),jsxRuntimeExports.jsx(TabsContent,{value:"actions",className:"mt-0",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-5 w-5 text-blue-600"})}),"Enviar PIX",getProviderBadge()]}),jsxRuntimeExports.jsx(CardDescription,{children:"Transferência por chave PIX"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsx(SendByKeyForm,{})})]}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 via-transparent to-green-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 text-green-600"})}),"Pagar QR Code",getProviderBadge(),!bankFeatures.hasQrCodePayment&&jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-red-100 text-red-700 border-red-200",children:"Indisponível"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Pagamento via código QR"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:bankFeatures.hasQrCodePayment?jsxRuntimeExports.jsx(PayQRForm,{}):jsxRuntimeExports.jsxs(Alert,{className:"border-amber-200 bg-amber-50",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-amber-600"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-amber-800",children:[jsxRuntimeExports.jsxs("strong",{children:["Funcionalidade não disponível para ",bankFeatures.displayName]}),jsxRuntimeExports.jsx("br",{}),'Esta conta suporta apenas envio PIX por chave. Use "Enviar PIX" ao lado.']})]})})]})]})})}),jsxRuntimeExports.jsx(TabsContent,{value:"keys",className:"mt-0",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:bankFeatures.hasPixKeys?jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-transparent to-purple-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 text-purple-600"})}),"Criar Chave PIX",getProviderBadge()]}),jsxRuntimeExports.jsx(CardDescription,{children:"Registrar nova chave PIX"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsx(CreatePixKeyForm,{})})]}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-transparent to-amber-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:jsxRuntimeExports.jsx(Key,{className:"h-5 w-5 text-amber-600"})}),"Minhas Chaves PIX",getProviderBadge()]}),jsxRuntimeExports.jsx(CardDescription,{children:"Chaves registradas na conta"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsx(ListPixKeysForm,{})})]})]}):jsxRuntimeExports.jsx(Card,{className:"border-amber-200 bg-amber-50",children:jsxRuntimeExports.jsx(CardContent,{className:"p-8 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-4 rounded-full bg-amber-100",children:jsxRuntimeExports.jsx(Ban,{className:"h-8 w-8 text-amber-600"})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-amber-800",children:"Gerenciamento de Chaves PIX não disponível"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[jsxRuntimeExports.jsx("span",{className:"text-amber-700",children:"para conta"}),getProviderBadge()]}),jsxRuntimeExports.jsxs("p",{className:"text-amber-700 max-w-md",children:["A conta ",jsxRuntimeExports.jsx("strong",{children:bankFeatures.displayName})," não suporta criação e gerenciamento de chaves PIX através desta interface."]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-600 mt-4",children:'Para enviar PIX, use a aba "Ações PIX" → "Enviar PIX"'})]})]})})})})})]})]})]})}const exchangeLogos={BINANCE:"/binance-logo.png",BRASIL_BITCOIN:"/placeholder.svg",FOXBIT:"/foxbit-logo.png",SMARTPAY:"/smartpay-logo.png",MERCADO_BITCOIN:"/placeholder.svg",BITSO:"/placeholder.svg",NOVADAX:"/placeholder.svg"},getExchangeLogo=exchangeName=>exchangeLogos[exchangeName]||"/placeholder.svg",useDebounce=(value,delay)=>{const[debouncedValue,setDebouncedValue]=reactExports.useState(value);return reactExports.useEffect(()=>{const handler=setTimeout(()=>{setDebouncedValue(value)},delay);return()=>{clearTimeout(handler)}},[value,delay]),debouncedValue};function Cotacoes(){var _a3;const[crypto,setCrypto]=reactExports.useState("USDT"),[amount,setAmount]=reactExports.useState(100),[autoRefresh,setAutoRefresh]=reactExports.useState(!0),[lastUpdateTime,setLastUpdateTime]=reactExports.useState(null),debouncedCrypto=useDebounce(crypto,800),debouncedAmount=useDebounce(amount,800),{data:cotacaoData,isLoading:isLoading,isError:isError,error:error,refetch:refetch,isFetching:isFetching,isSuccess:isSuccess}=useQuery({queryKey:["cotacao",debouncedCrypto,debouncedAmount],queryFn:()=>(async(crypto,amount)=>{const controller=new AbortController,timeoutId=setTimeout(()=>controller.abort(),8e3);try{const response=await fetch(`https://vps80270.cloudpublic.com.br:8081/trades/usuario/melhorCotacao?crypto=${crypto}&amount=${amount}`,{signal:controller.signal,headers:{Accept:"application/json","Content-Type":"application/json"}});if(clearTimeout(timeoutId),!response.ok)throw new Error(`Erro HTTP: ${response.status}`);return response.json()}catch(error){throw clearTimeout(timeoutId),error}})(debouncedCrypto,debouncedAmount),refetchInterval:!!autoRefresh&&5e3,refetchIntervalInBackground:!1,staleTime:4e3,gcTime:6e5,retry:2,retryDelay:attemptIndex=>Math.min(1e3*2**attemptIndex,5e3),refetchOnWindowFocus:!1,refetchOnMount:!0,refetchOnReconnect:!0});reactExports.useEffect(()=>{isSuccess&&cotacaoData&&setLastUpdateTime(new Date)},[isSuccess,cotacaoData]);const toggleAutoRefresh=reactExports.useCallback(()=>{setAutoRefresh(prev=>{const newValue=!prev;return ue$2.info(newValue?"Atualização automática habilitada (5s)":"Atualização automática desabilitada"),newValue})},[]),handleRefresh=reactExports.useCallback(()=>{refetch(),ue$2.info("Atualizando cotações...")},[refetch]),getOrderedExchanges=exchanges=>{const exchangeOrder=["BINANCE","BRASIL_BITCOIN","FOXBIT","SMARTPAY","MERCADO_BITCOIN","BITSO","NOVADAX"],orderedEntries=[];return exchangeOrder.forEach(exchangeName=>{exchanges[exchangeName]?orderedEntries.push([exchangeName,exchanges[exchangeName]]):"FOXBIT"===exchangeName&&orderedEntries.push([exchangeName,{preco_compra:"0.0000",preco_venda:"0.0000",preco_compra_original:"0.0000",preco_venda_original:"0.0000"}])}),Object.entries(exchanges).forEach(([name,data])=>{exchangeOrder.includes(name)||orderedEntries.push([name,data])}),orderedEntries},exchangesToRender=(null==(_a3=null==cotacaoData?void 0:cotacaoData.response)?void 0:_a3.cotacoes_por_exchange)||{};return jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-8 w-8 text-blue-500"}),"Cotações em Tempo Real",autoRefresh&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"ml-2 animate-pulse",children:[jsxRuntimeExports.jsx(Wifi,{className:"h-3 w-3 mr-1"}),"LIVE"]})]}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:["Consulte cotações de criptomoedas das principais exchanges - Com e Sem Taxa",lastUpdateTime&&jsxRuntimeExports.jsxs("span",{className:"ml-2 text-xs",children:["• Última atualização: ",(date2=>{if(!date2)return"";const now2=new Date,diff=Math.floor((now2.getTime()-date2.getTime())/1e3);return diff<60?`${diff}s atrás`:diff<3600?`${Math.floor(diff/60)}m atrás`:`${Math.floor(diff/3600)}h atrás`})(lastUpdateTime)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{variant:autoRefresh?"default":"outline",size:"sm",onClick:toggleAutoRefresh,className:"flex items-center gap-2",children:[autoRefresh?jsxRuntimeExports.jsx(Wifi,{className:"h-4 w-4 animate-pulse"}):jsxRuntimeExports.jsx(WifiOff,{className:"h-4 w-4"}),autoRefresh?"Auto (5s)":"Manual"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:handleRefresh,disabled:isFetching,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 "+(isFetching?"animate-spin":"")}),"Atualizar"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Configurações"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Criptomoeda"}),jsxRuntimeExports.jsx(Input,{value:crypto,onChange:e3=>setCrypto(e3.target.value.toUpperCase()),placeholder:"Ex: USDT, BTC, ETH",maxLength:10,disabled:isFetching}),crypto!==debouncedCrypto&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando digitação..."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium",children:"Quantidade"}),jsxRuntimeExports.jsx(Input,{type:"number",value:amount,onChange:e3=>setAmount(Number(e3.target.value)),min:"1",step:"1",disabled:isFetching}),amount!==debouncedAmount&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Aguardando digitação..."})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 flex items-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:handleRefresh,className:"w-full",disabled:isFetching,children:isFetching?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"Consultando..."]}):"Consultar Cotação"})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[isLoading&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"h-4 w-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Carregando cotação..."})]}),isError&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsxs("span",{className:"text-red-500",children:["Erro: ",error instanceof Error?error.message:"Erro desconhecido"]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:handleRefresh,className:"ml-2",children:"Tentar novamente"})]}),isSuccess&&"OK"===(null==cotacaoData?void 0:cotacaoData.mensagem)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheck,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsxs("span",{className:"text-green-500",children:["Cotação obtida para ",debouncedCrypto]}),autoRefresh&&jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"• Próxima atualização em 5s"})]})]}),isSuccess&&"OK"===(null==cotacaoData?void 0:cotacaoData.mensagem)&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:["Melhores Cotações - ",debouncedCrypto]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-green-600",children:"Melhor Compra"}),jsxRuntimeExports.jsxs("div",{className:"bg-green-50 dark:bg-green-950 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("img",{src:getExchangeLogo(cotacaoData.response.exchange_menor_valor_compra),alt:cotacaoData.response.exchange_menor_valor_compra,className:"w-8 h-8 rounded-full object-contain bg-white p-1",loading:"lazy",onError:e3=>{e3.target.src="/placeholder.svg"}}),jsxRuntimeExports.jsx("span",{className:"text-sm text-green-600 dark:text-green-400 font-medium",children:cotacaoData.response.exchange_menor_valor_compra})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:["R$ ",parseFloat(cotacaoData.response.menor_valor_compra).toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:"(Valor com taxa incluída)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-red-600",children:"Melhor Venda"}),jsxRuntimeExports.jsxs("div",{className:"bg-red-50 dark:bg-red-950 p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[jsxRuntimeExports.jsx("img",{src:getExchangeLogo(cotacaoData.response.exchange_maior_valor_venda),alt:cotacaoData.response.exchange_maior_valor_venda,className:"w-8 h-8 rounded-full object-contain bg-white p-1",loading:"lazy",onError:e3=>{e3.target.src="/placeholder.svg"}}),jsxRuntimeExports.jsx("span",{className:"text-sm text-red-600 dark:text-red-400 font-medium",children:cotacaoData.response.exchange_maior_valor_venda})]}),jsxRuntimeExports.jsxs("p",{className:"text-2xl font-bold text-red-700 dark:text-red-300",children:["R$ ",parseFloat(cotacaoData.response.maior_valor_venda).toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"(Valor com taxa incluída)"})]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Cotações Detalhadas por Exchange"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Valores com taxa incluem as taxas da exchange. Valores sem taxa são os preços originais."})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Exchange"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-green-600",children:"Compra (Com Taxa)"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-green-500",children:"Compra (Sem Taxa)"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-red-600",children:"Venda (Com Taxa)"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-red-500",children:"Venda (Sem Taxa)"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Spread"})]})}),jsxRuntimeExports.jsx(TableBody,{children:getOrderedExchanges(exchangesToRender).map(([exchange,data])=>{const compraComTaxa=parseFloat(data.preco_compra),compraSemTaxa=parseFloat(data.preco_compra_original),vendaComTaxa=parseFloat(data.preco_venda),vendaSemTaxa=parseFloat(data.preco_venda_original),spread=(compraComTaxa-vendaComTaxa)/vendaComTaxa*100,isEmptyFoxbit="FOXBIT"===exchange&&(0===compraComTaxa||0===vendaComTaxa);return jsxRuntimeExports.jsxs(TableRow,{className:isEmptyFoxbit?"opacity-50":"",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:getExchangeLogo(exchange),alt:exchange,className:"w-6 h-6 rounded-full object-contain bg-white p-0.5",loading:"lazy",onError:e3=>{e3.target.src="/placeholder.svg"}}),exchange,isEmptyFoxbit&&jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"(aguardando...)"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right text-green-600 dark:text-green-400 font-semibold",children:isEmptyFoxbit?jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"--"}):`R$ ${compraComTaxa.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`}),jsxRuntimeExports.jsx(TableCell,{className:"text-right text-green-500 dark:text-green-300",children:isEmptyFoxbit?jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"--"}):`R$ ${compraSemTaxa.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`}),jsxRuntimeExports.jsx(TableCell,{className:"text-right text-red-600 dark:text-red-400 font-semibold",children:isEmptyFoxbit?jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"--"}):`R$ ${vendaComTaxa.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`}),jsxRuntimeExports.jsx(TableCell,{className:"text-right text-red-500 dark:text-red-300",children:isEmptyFoxbit?jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"--"}):`R$ ${vendaSemTaxa.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:isEmptyFoxbit?jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"--"}):jsxRuntimeExports.jsxs(Badge,{variant:spread<1?"default":spread<2?"secondary":"destructive",children:[spread.toFixed(2),"%"]})})]},exchange)})})]})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden space-y-4",children:getOrderedExchanges(exchangesToRender).map(([exchange,data])=>{const compraComTaxa=parseFloat(data.preco_compra),compraSemTaxa=parseFloat(data.preco_compra_original),vendaComTaxa=parseFloat(data.preco_venda),vendaSemTaxa=parseFloat(data.preco_venda_original),spread=(compraComTaxa-vendaComTaxa)/vendaComTaxa*100,isEmptyFoxbit="FOXBIT"===exchange&&(0===compraComTaxa||0===vendaComTaxa);return jsxRuntimeExports.jsx(Card,{className:"border-2 "+(isEmptyFoxbit?"opacity-50":""),children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[jsxRuntimeExports.jsx("img",{src:getExchangeLogo(exchange),alt:exchange,className:"w-8 h-8 rounded-full object-contain bg-white p-1",loading:"lazy",onError:e3=>{e3.target.src="/placeholder.svg"}}),jsxRuntimeExports.jsx("h3",{className:"font-bold text-lg",children:exchange}),isEmptyFoxbit&&jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"(aguardando...)"})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-green-700 dark:text-green-300 text-center",children:"💰 COMPRA"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-center bg-green-100 dark:bg-green-950 p-3 rounded-lg border-2 border-green-300 dark:border-green-700",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-green-700 dark:text-green-300 mb-1",children:"Com Taxa"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-green-600 dark:text-green-400",children:isEmptyFoxbit?jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"--"}):`R$ ${compraComTaxa.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`})]}),jsxRuntimeExports.jsxs("div",{className:"text-center bg-green-50 dark:bg-green-900/50 p-3 rounded-lg border border-green-200 dark:border-green-600",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-green-600 dark:text-green-400 mb-1",children:"Sem Taxa"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-green-500 dark:text-green-300",children:isEmptyFoxbit?jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"--"}):`R$ ${compraSemTaxa.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-red-700 dark:text-red-300 text-center",children:"💸 VENDA"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-center bg-red-100 dark:bg-red-950 p-3 rounded-lg border-2 border-red-300 dark:border-red-700",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-red-700 dark:text-red-300 mb-1",children:"Com Taxa"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-red-600 dark:text-red-400",children:isEmptyFoxbit?jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"--"}):`R$ ${vendaComTaxa.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`})]}),jsxRuntimeExports.jsxs("div",{className:"text-center bg-red-50 dark:bg-red-900/50 p-3 rounded-lg border border-red-200 dark:border-red-600",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-1",children:"Sem Taxa"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-red-500 dark:text-red-300",children:isEmptyFoxbit?jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"--"}):`R$ ${vendaSemTaxa.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center pt-2 border-t",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Spread"}),isEmptyFoxbit?jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"--"}):jsxRuntimeExports.jsxs(Badge,{variant:spread<1?"default":spread<2?"secondary":"destructive",children:[spread.toFixed(2),"%"]})]})]})})},exchange)})})]})]})]})]})}let usersCacheData=null,usersCacheTimestamp=0;function GrupoTcrSaldos(){const[loading,setLoading]=reactExports.useState(!1),[allUsers,setAllUsers]=reactExports.useState([]),[list,setList]=reactExports.useState([]),[paginacao,setPaginacao]=reactExports.useState({pagina_atual:1,por_pagina:50,total_usuarios:0,total_paginas:0}),[nomeFiltro,setNomeFiltro]=reactExports.useState(""),[checkingId,setCheckingId]=reactExports.useState(null),[comparacoes,setComparacoes]=reactExports.useState({}),[isLoadingAll,setIsLoadingAll]=reactExports.useState(!1),[ordenacao,setOrdenacao]=reactExports.useState("nome"),loadAllUsers=async(forceRefresh=!1)=>{const now2=Date.now();if(!forceRefresh&&usersCacheData&&now2-usersCacheTimestamp<3e5)return setAllUsers(usersCacheData),void applyFilterAndSort(usersCacheData,nomeFiltro,ordenacao);setIsLoadingAll(!0),setLoading(!0);try{let allUsersList=[],currentPage=1,hasMorePages=!0;for(;hasMorePages;){const params={pagina:currentPage,por_pagina:100},data=await TcrSaldosService.listarUsuariosSaldos(params),usuarios=(data.response.usuarios||[]).filter(u2=>1!==u2.id_usuario);if(allUsersList=[...allUsersList,...usuarios],data.response.paginacao?(hasMorePages=currentPage<data.response.paginacao.total_paginas,currentPage++):hasMorePages=!1,currentPage>50)break}usersCacheData=allUsersList,usersCacheTimestamp=now2,setAllUsers(allUsersList),applyFilterAndSort(allUsersList,nomeFiltro,ordenacao)}catch(e3){ue$2.error("Erro ao carregar usuários",{description:(null==e3?void 0:e3.message)||"Tente novamente"})}finally{setIsLoadingAll(!1),setLoading(!1)}},applyFilterAndSort=(users,filtro,sort)=>{let filteredUsers=users;if(filtro&&filtro.trim()){const searchTerm=filtro.trim().toLowerCase();filteredUsers=users.filter(user=>user.nome.toLowerCase().includes(searchTerm)||user.id_usuario.toString().includes(searchTerm)||user.id_brasil_bitcoin&&user.id_brasil_bitcoin.toLowerCase().includes(searchTerm))}filteredUsers.sort((a2,b2)=>{var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2;switch(sort){case"nome":return a2.nome.localeCompare(b2.nome);case"brl_desc":return((null==(_a3=b2.saldos)?void 0:_a3.BRL)||0)-((null==(_b3=a2.saldos)?void 0:_b3.BRL)||0);case"brl_asc":return((null==(_c2=a2.saldos)?void 0:_c2.BRL)||0)-((null==(_d2=b2.saldos)?void 0:_d2.BRL)||0);case"usdt_desc":return((null==(_e3=b2.saldos)?void 0:_e3.USDT)||0)-((null==(_f2=a2.saldos)?void 0:_f2.USDT)||0);case"usdt_asc":return((null==(_g2=a2.saldos)?void 0:_g2.USDT)||0)-((null==(_h2=b2.saldos)?void 0:_h2.USDT)||0);default:return 0}}),setList(filteredUsers),setPaginacao({pagina_atual:1,por_pagina:filteredUsers.length,total_usuarios:filteredUsers.length,total_paginas:1})};reactExports.useEffect(()=>{loadAllUsers()},[]),reactExports.useEffect(()=>{allUsers.length>0&&applyFilterAndSort(allUsers,nomeFiltro,ordenacao)},[nomeFiltro,ordenacao,allUsers]);const rows=reactExports.useMemo(()=>list,[list]),CurrencyValue=({amount:amount,currency:currency,className:className=""})=>{const colorClass="BRL"===currency?"text-green-600 dark:text-green-400":"text-blue-600 dark:text-blue-400";return jsxRuntimeExports.jsx("span",{className:cn("font-mono text-sm",colorClass,className),children:"BRL"===currency?`R$ ${amount.toFixed(2)}`:`${amount.toFixed(8)} USDT`})},DifferenceIndicator=({diferenca:diferenca,currency:currency})=>{if(0===diferenca)return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-green-600 dark:text-green-400",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium",children:"OK"})]});const isPositive=diferenca>0,Icon2=isPositive?TrendingUp:TrendingDown,colorClass=isPositive?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400";return jsxRuntimeExports.jsxs("div",{className:cn("flex items-center gap-1",colorClass),children:[jsxRuntimeExports.jsx(Icon2,{className:"h-3 w-3"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium",children:[isPositive?"+":"","BRL"===currency?diferenca.toFixed(2):diferenca.toFixed(8)]})]})},ConferenceStatus=({contaBRBTC:contaBRBTC})=>{const comparacao=comparacoes[contaBRBTC];if(!comparacao)return jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Não conferido"});const isOk=0===comparacao.brl.diferenca&&0===comparacao.usdt.diferenca;return jsxRuntimeExports.jsx(Badge,{variant:isOk?"default":"destructive",className:"text-xs",children:isOk?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3 mr-1"})," Confere"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-3 w-3 mr-1"})," Diferenças"]})})},stats=reactExports.useMemo(()=>({total:rows.length,conferidos:Object.keys(comparacoes).length,comDiferenca:Object.values(comparacoes).filter(c2=>0!==c2.brl.diferenca||0!==c2.usdt.diferenca).length,totalBRL:rows.reduce((sum2,u2)=>{var _a3;return sum2+((null==(_a3=u2.saldos)?void 0:_a3.BRL)??0)},0),totalUSDT:rows.reduce((sum2,u2)=>{var _a3;return sum2+((null==(_a3=u2.saldos)?void 0:_a3.USDT)??0)},0)}),[rows,comparacoes]);return jsxRuntimeExports.jsxs("div",{className:"p-4 md:p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Grupo TCR - Saldos de Usuários"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mt-1",children:"Comparação de saldos entre TCR e Brasil Bitcoin"})]}),jsxRuntimeExports.jsx(Button$1,{size:"sm",onClick:()=>loadAllUsers(!0),disabled:loading,children:loading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:stats.total}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Usuários"})]})}),jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:stats.conferidos}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Conferidos"})]})}),jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-orange-600",children:stats.comDiferenca}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Com Diferenças"})]})}),jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-green-600",children:["R$ ",stats.totalBRL.toFixed(2)]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Total BRL"})]})}),jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[stats.totalUSDT.toFixed(2)," USDT"]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Total USDT"})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"p-3 md:p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1 max-w-sm",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{value:nomeFiltro,onChange:e3=>setNomeFiltro(e3.target.value),placeholder:"Buscar por nome, ID ou conta BRBTC...",className:"pl-8",disabled:isLoadingAll})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowUpDown,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsxs(Select,{value:ordenacao,onValueChange:value=>setOrdenacao(value),disabled:isLoadingAll,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-[180px]",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Ordenar por..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"nome",children:"Nome (A-Z)"}),jsxRuntimeExports.jsx(SelectItem,{value:"brl_desc",children:"BRL (Maior → Menor)"}),jsxRuntimeExports.jsx(SelectItem,{value:"brl_asc",children:"BRL (Menor → Maior)"}),jsxRuntimeExports.jsx(SelectItem,{value:"usdt_desc",children:"USDT (Maior → Menor)"}),jsxRuntimeExports.jsx(SelectItem,{value:"usdt_asc",children:"USDT (Menor → Maior)"})]})]})]}),nomeFiltro&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>setNomeFiltro(""),disabled:loading,children:"Limpar"})]}),isLoadingAll&&jsxRuntimeExports.jsx("div",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400",children:"🔄 Carregando todos os usuários... Isso pode levar alguns segundos."}),!isLoadingAll&&allUsers.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm text-muted-foreground",children:[nomeFiltro?jsxRuntimeExports.jsxs("span",{children:["🔍 Filtrando ",jsxRuntimeExports.jsx("strong",{children:list.length})," de ",jsxRuntimeExports.jsx("strong",{children:allUsers.length})," usuários"]}):jsxRuntimeExports.jsxs("span",{children:["📋 Exibindo ",jsxRuntimeExports.jsx("strong",{children:list.length})," usuários"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs",children:["📋 Cache: ",usersCacheData?"Ativo (5min)":"Vazio"]})]})]}),jsxRuntimeExports.jsx(Card,{className:"p-0 overflow-auto",children:jsxRuntimeExports.jsxs(Table,{className:"text-sm",children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"bg-muted/50",children:[jsxRuntimeExports.jsx(TableHead,{className:"w-[180px] font-semibold",children:"Usuário"}),jsxRuntimeExports.jsx(TableHead,{className:"w-[140px] font-semibold",children:"Conta BRBTC"}),jsxRuntimeExports.jsx(TableHead,{className:"w-[120px] text-center font-semibold",children:"Local (TCR)"}),jsxRuntimeExports.jsx(TableHead,{className:"w-[120px] text-center font-semibold",children:"Brasil Bitcoin"}),jsxRuntimeExports.jsx(TableHead,{className:"w-[100px] text-center font-semibold",children:"Diferenças"}),jsxRuntimeExports.jsx(TableHead,{className:"w-[100px] text-center font-semibold",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"w-[120px] text-center font-semibold",children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:rows.map(u2=>{var _a3,_b3;const comparacao=comparacoes[u2.id_brasil_bitcoin];return jsxRuntimeExports.jsxs(TableRow,{className:"hover:bg-muted/30",children:[jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-sm",children:u2.nome}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",u2.id_usuario]})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsx("span",{className:"font-mono text-xs bg-muted px-2 py-1 rounded",children:u2.id_brasil_bitcoin||"—"})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(CurrencyValue,{amount:(null==(_a3=u2.saldos)?void 0:_a3.BRL)??0,currency:"BRL"}),jsxRuntimeExports.jsx(CurrencyValue,{amount:(null==(_b3=u2.saldos)?void 0:_b3.USDT)??0,currency:"USDT"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-center",children:comparacao?jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(CurrencyValue,{amount:comparacao.brl.externo,currency:"BRL"}),jsxRuntimeExports.jsx(CurrencyValue,{amount:comparacao.usdt.externo,currency:"USDT"})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"Não conferido"})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-center",children:comparacao?jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx(DifferenceIndicator,{diferenca:comparacao.brl.diferenca,currency:"BRL"}),jsxRuntimeExports.jsx(DifferenceIndicator,{diferenca:comparacao.usdt.diferenca,currency:"USDT"})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"—"})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-center",children:jsxRuntimeExports.jsx(ConferenceStatus,{contaBRBTC:u2.id_brasil_bitcoin})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-center",children:jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:comparacao?"outline":"secondary",className:"text-xs px-3 py-1",onClick:()=>(async u2=>{try{setCheckingId(u2.id_brasil_bitcoin);const ext=await TcrSaldosService.consultarSaldoBrbtc(u2.id_brasil_bitcoin),cmp=compararSaldos(u2,ext.response.data);setComparacoes(prev=>({...prev,[u2.id_brasil_bitcoin]:cmp}));const brlMsg=0===cmp.brl.diferenca?"BRL OK":`BRL diferença ${cmp.brl.diferenca}`,usdtMsg=0===cmp.usdt.diferenca?"USDT OK":`USDT diferença ${cmp.usdt.diferenca}`;0===cmp.brl.diferenca&&0===cmp.usdt.diferenca?ue$2.success("Conferência OK!",{description:"Todos os saldos estão corretos"}):ue$2.warning("Diferenças encontradas",{description:`${brlMsg} | ${usdtMsg}`})}catch(e3){ue$2.error("Erro na conferência",{description:(null==e3?void 0:e3.message)||"Falha ao consultar saldo externo"})}finally{setCheckingId(null)}})(u2),disabled:!u2.id_brasil_bitcoin||checkingId===u2.id_brasil_bitcoin,children:checkingId===u2.id_brasil_bitcoin?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Conferindo..."})]}):comparacao?"Reconferir":"Conferir"})})]},`${u2.id_usuario}-${u2.id_brasil_bitcoin}`)})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-sm",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 text-muted-foreground",children:nomeFiltro?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{children:['🔍 Resultados da busca: "',nomeFiltro,'"']}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsxs("span",{children:["Exibindo: ",list.length," de ",allUsers.length," usuários"]}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsxs("span",{children:["Conferidos: ",stats.conferidos]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("span",{children:["Total: ",allUsers.length," usuários carregados"]}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsxs("span",{children:["Exibindo: ",list.length]}),jsxRuntimeExports.jsx("span",{children:"•"}),jsxRuntimeExports.jsxs("span",{children:["Conferidos: ",stats.conferidos]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"BRL"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"USDT"})]})]})]})]})}function TopBarBmp531(){const[saldoData,setSaldoData]=reactExports.useState(null),[isLoadingSaldo,setIsLoadingSaldo]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),loadSaldoBmp531=async()=>{setIsLoadingSaldo(!0),setError(null);try{const data=await Bmp531Service.getSaldo();setSaldoData(data)}catch(error2){setError(error2.message||"Erro ao carregar saldo"),ue$2.error("Erro ao carregar saldo",{description:"Falha ao consultar saldo da conta BMP 531",duration:3e3})}finally{setIsLoadingSaldo(!1)}};reactExports.useEffect(()=>{loadSaldoBmp531()},[]);return jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 bg-tcr-dark/95 backdrop-blur-xl border-b border-border h-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-blue-600 to-blue-800 shadow-xl",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"BMP 531 TCR"}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"Banco Master"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Central de transferências PIX"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:async()=>{await loadSaldoBmp531(),ue$2.success("Saldo atualizado!",{description:"BMP 531 - Saldo atualizado",duration:3e3})},disabled:isLoadingSaldo,className:"hover:bg-muted rounded-xl",children:[isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"}):jsxRuntimeExports.jsx(RefreshCcw,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:isLoadingSaldo?"Atualizando...":"Atualizar"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-emerald-500/20",children:jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-emerald-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo disponível"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 "+(error?"text-destructive":"text-foreground"),children:(()=>{if(isLoadingSaldo)return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Carregando..."})]});if(error)return"Erro ao carregar";if(!saldoData)return"R$ 0,00";if(saldoData&&"number"==typeof saldoData.saldoDisponivel){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(saldoData.saldoDisponivel)}if(saldoData&&"number"==typeof saldoData.saldoDisponivel){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(saldoData.saldoDisponivel)}return"R$ 0,00"})()}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Endpoint Saldo"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-red-500/20",children:jsxRuntimeExports.jsx(Lock,{className:"h-5 w-5 text-red-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo bloqueado"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 text-foreground",children:(()=>{if(isLoadingSaldo)return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Carregando..."})]});const valor=(null==saldoData?void 0:saldoData.saldoBloqueado)||0;return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(valor)})()}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Do Extrato"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-blue-500/20",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-blue-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo total"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 text-foreground",children:(()=>{if(isLoadingSaldo)return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Carregando..."})]});const valor=((null==saldoData?void 0:saldoData.saldoDisponivel)||0)-((null==saldoData?void 0:saldoData.saldoBloqueado)||0);return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(valor)})()}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Disponível - Bloqueado"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:(null==saldoData?void 0:saldoData.dadosConta)?jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[jsxRuntimeExports.jsxs("span",{children:["Banco ",saldoData.dadosConta.banco||"270"]}),jsxRuntimeExports.jsx("span",{className:"mx-1",children:"•"}),jsxRuntimeExports.jsxs("span",{children:["Ag: ",saldoData.dadosConta.agencia||"****"]}),jsxRuntimeExports.jsx("span",{className:"mx-1",children:"•"}),jsxRuntimeExports.jsxs("span",{children:["Conta: ",saldoData.dadosConta.conta||"******","-",saldoData.dadosConta.contaDigito||"*"]})]}):jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[jsxRuntimeExports.jsx("span",{children:"BMP 531"}),jsxRuntimeExports.jsx("span",{className:"mx-1",children:"•"}),jsxRuntimeExports.jsx("span",{children:(null==saldoData?void 0:saldoData.moeda)||"BRL"}),jsxRuntimeExports.jsx("span",{className:"mx-1",children:"•"}),jsxRuntimeExports.jsx("span",{children:(new Date).toLocaleTimeString()})]})})]})]})}const keyTransferSchema=objectType({keyType:enumType(["CPF","CNPJ","EMAIL","PHONE","EVP"],{required_error:"Selecione o tipo de chave"}),pixKey:stringType().min(1,"Chave Pix é obrigatória"),value:stringType().min(1,"Valor é obrigatório").refine(val=>!isNaN(parseFloat(val))&&parseFloat(val)>0,"Valor deve ser maior que zero"),description:stringType().optional()});function SendByKeyFormBmp531(){var _a3;const[isLoading,setIsLoading]=reactExports.useState(!1),[isConsultingKey,setIsConsultingKey]=reactExports.useState(!1),[keyConsultData,setKeyConsultData]=reactExports.useState(null),[apiResponse,setApiResponse]=reactExports.useState(null),form=useForm({resolver:t(keyTransferSchema),defaultValues:{keyType:void 0,pixKey:"",value:"",description:""}});reactExports.useEffect(()=>{const chave=form.watch("pixKey"),tipoChave=form.watch("keyType");if(!chave||!tipoChave||chave.length<5)return void setKeyConsultData(null);const timer=setTimeout(()=>{consultarChaveAutomaticamente(chave)},1e3);return()=>clearTimeout(timer)},[form.watch("pixKey"),form.watch("keyType")]);const consultarChaveAutomaticamente=async chave=>{var _a4;if(chave&&!isConsultingKey){setIsConsultingKey(!0);try{const data=await Bmp531Service.consultarChave({chave:chave});data.sucesso&&data.dadosChave?(setKeyConsultData(data.dadosChave),ue$2.success("Chave PIX encontrada!",{description:`${data.dadosChave.nomeCorrentista} - ${(null==(_a4=data.dadosChave.banco)?void 0:_a4.descricao)||"Banco"}`,duration:3e3})):(setKeyConsultData(null),ue$2.warning("Chave PIX não encontrada",{description:"Verifique se a chave está correta",duration:3e3}))}catch(error){setKeyConsultData(null),ue$2.error("Erro ao consultar chave PIX",{description:error.message||"Erro inesperado",duration:3e3})}finally{setIsConsultingKey(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsxs("form",{onSubmit:form.handleSubmit(async data=>{try{setIsLoading(!0),setApiResponse(null);const tipoChaveParaValidacao={CPF:"cpf",CNPJ:"cnpj",EMAIL:"email",PHONE:"telefone",EVP:"aleatoria"}[data.keyType];if(!validarChavePix(data.pixKey,tipoChaveParaValidacao||data.keyType))return void ue$2.error(`Formato de ${data.keyType} inválido!`,{description:"Verifique se a chave está no formato correto"});const requestData={chave:data.pixKey,valor:parseFloat(data.value),descricao:data.description||"Transferência PIX"},result=await Bmp531Service.enviarPix(requestData);setApiResponse(result),result.sucesso?(ue$2.success("PIX enviado com sucesso!",{description:"Verifique os detalhes abaixo",duration:4e3,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}),form.reset(),setKeyConsultData(null)):ue$2.error("Falha ao enviar PIX",{description:result.mensagem||"Erro desconhecido",duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro inesperado";setApiResponse({sucesso:!1,mensagem:errorMessage}),ue$2.error("Erro ao enviar PIX",{description:"Verifique os detalhes do erro abaixo",duration:4e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}finally{setIsLoading(!1)}}),className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{control:form.control,name:"keyType",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Tipo de Chave PIX"}),jsxRuntimeExports.jsxs(Select,{onValueChange:field.onChange,defaultValue:field.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"CPF",children:"CPF"}),jsxRuntimeExports.jsx(SelectItem,{value:"CNPJ",children:"CNPJ"}),jsxRuntimeExports.jsx(SelectItem,{value:"EMAIL",children:"E-mail"}),jsxRuntimeExports.jsx(SelectItem,{value:"PHONE",children:"Telefone"}),jsxRuntimeExports.jsx(SelectItem,{value:"EVP",children:"Chave Aleatória"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"pixKey",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsxs(FormLabel,{className:"flex items-center gap-2",children:["Chave PIX",isConsultingKey&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:"Consultando..."})]})]}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Digite a chave PIX",...field,onChange:e3=>{field.onChange(e3),(value=>{const formatted=formatarChavePix(value,form.watch("keyType"));form.setValue("pixKey",formatted)})(e3.target.value)}})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),keyConsultData&&jsxRuntimeExports.jsx(Card,{className:"border-green-200 bg-green-50",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-green-100",children:jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-green-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 space-y-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-green-800",children:"Chave PIX Encontrada"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Nome:"})," ",keyConsultData.nomeCorrentista]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Documento:"})," ",keyConsultData.documentoFederal]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Banco:"})," ",(null==(_a3=keyConsultData.banco)?void 0:_a3.descricao)||"N/A"]}),keyConsultData.conta&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Conta:"})," Ag: ",keyConsultData.conta.agencia," | Conta: ",keyConsultData.conta.conta]})]})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Verificada"})]})})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"value",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Valor (R$)"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(DollarSign,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"0,00",className:"pl-10",...field,type:"number",step:"0.01",min:"0.01"})]})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"description",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Descrição (opcional)"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Motivo da transferência",...field})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(Button$1,{type:"submit",className:"w-full",disabled:isLoading||isConsultingKey,children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando PIX..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"mr-2 h-4 w-4"}),"Enviar PIX"]})})]})}),apiResponse&&jsxRuntimeExports.jsx(Card,{className:"border-2 "+(apiResponse.sucesso?"border-green-500 bg-green-50":"border-red-500 bg-red-50"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg "+(apiResponse.sucesso?"bg-green-100":"bg-red-100"),children:apiResponse.sucesso?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-red-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold "+(apiResponse.sucesso?"text-green-800":"text-red-800"),children:apiResponse.sucesso?"PIX Enviado com Sucesso!":"Falha no Envio do PIX"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1 "+(apiResponse.sucesso?"text-green-700":"text-red-700"),children:apiResponse.mensagem}),apiResponse.codigoTransacao&&jsxRuntimeExports.jsx("div",{className:"mt-3 p-3 bg-white rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"CÓDIGO DA TRANSAÇÃO"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-sm font-semibold",children:apiResponse.codigoTransacao})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{return code=apiResponse.codigoTransacao,navigator.clipboard.writeText(code),void ue$2.success("Código copiado para a área de transferência!");var code},children:jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})})]})})]})]})})}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"Transações via BMP 531"})})]})}const qrCodeSchema=objectType({emv:stringType().min(1,"Código QR é obrigatório").min(10,"Código QR deve ter pelo menos 10 caracteres"),valor:stringType().optional().refine(val=>!val||!isNaN(parseFloat(val))&&parseFloat(val)>0,"Valor deve ser maior que zero"),descricao:stringType().optional()});function PayQRFormBmp531(){const[isLoading,setIsLoading]=reactExports.useState(!1),[apiResponse,setApiResponse]=reactExports.useState(null),form=useForm({resolver:t(qrCodeSchema),defaultValues:{emv:"",valor:"",descricao:""}}),handlePasteQRCode=async()=>{try{const text2=await navigator.clipboard.readText();text2&&text2.length>10?(form.setValue("emv",text2),ue$2.success("Código QR colado!",{description:"Código obtido da área de transferência"})):ue$2.warning("Nenhum código QR válido encontrado na área de transferência")}catch(error){ue$2.error("Erro ao acessar área de transferência",{description:"Verifique as permissões do navegador"})}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsxs("form",{onSubmit:form.handleSubmit(async data=>{try{setIsLoading(!0),setApiResponse(null);const requestData={emv:data.emv.trim(),valor:data.valor?parseFloat(data.valor):void 0,descricao:data.descricao||"Pagamento via QR Code"},result=await Bmp531Service.pagarQrCode(requestData);setApiResponse(result),result.sucesso?(ue$2.success("QR Code pago com sucesso!",{description:"Verifique os detalhes abaixo",duration:4e3,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}),form.reset()):ue$2.error("Falha ao pagar QR Code",{description:result.mensagem||"Erro desconhecido",duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro inesperado";setApiResponse({sucesso:!1,mensagem:errorMessage}),ue$2.error("Erro ao pagar QR Code",{description:"Verifique os detalhes do erro abaixo",duration:4e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}finally{setIsLoading(!1)}}),className:"space-y-4",children:[jsxRuntimeExports.jsx(FormField,{control:form.control,name:"emv",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsxs(FormLabel,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(QrCode,{className:"h-4 w-4"}),"Código QR (Copia e Cola)"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Textarea,{placeholder:"Cole aqui o código PIX copiado do QR Code...",className:"min-h-[100px] font-mono text-xs",...field})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{type:"button",variant:"outline",size:"sm",onClick:handlePasteQRCode,className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Upload,{className:"h-3 w-3"}),"Colar"]}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",size:"sm",onClick:()=>form.setValue("emv",""),disabled:!field.value,children:"Limpar"})]})]}),jsxRuntimeExports.jsx(FormMessage,{}),field.value&&field.value.length>10&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-600 flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3"}),"Código QR detectado (",field.value.length," caracteres)"]})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"valor",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Valor (R$) - Opcional"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"0,00 - deixe vazio para usar valor do QR",...field,type:"number",step:"0.01",min:"0.01"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Se não informado, será usado o valor original do QR Code"}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(FormField,{control:form.control,name:"descricao",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{children:"Descrição (opcional)"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{placeholder:"Motivo do pagamento",...field})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),jsxRuntimeExports.jsx(Button$1,{type:"submit",className:"w-full",disabled:isLoading||!form.watch("emv"),children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando Pagamento..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ScanLine,{className:"mr-2 h-4 w-4"}),"Pagar QR Code"]})})]})}),apiResponse&&jsxRuntimeExports.jsx(Card,{className:"border-2 "+(apiResponse.sucesso?"border-green-500 bg-green-50":"border-red-500 bg-red-50"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg "+(apiResponse.sucesso?"bg-green-100":"bg-red-100"),children:apiResponse.sucesso?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-red-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold "+(apiResponse.sucesso?"text-green-800":"text-red-800"),children:apiResponse.sucesso?"QR Code Pago com Sucesso!":"Falha no Pagamento do QR Code"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-1 "+(apiResponse.sucesso?"text-green-700":"text-red-700"),children:apiResponse.mensagem}),apiResponse.codigoTransacao&&jsxRuntimeExports.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"CÓDIGO DA TRANSAÇÃO"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-sm font-semibold",children:apiResponse.codigoTransacao})]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{return code=apiResponse.codigoTransacao,navigator.clipboard.writeText(code),void ue$2.success("Código copiado para a área de transferência!");var code},children:jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})})]}),apiResponse.status&&jsxRuntimeExports.jsxs("div",{className:"mt-2 pt-2 border-t",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"STATUS"}),jsxRuntimeExports.jsx(Badge,{variant:"default",className:"mt-1",children:apiResponse.status})]})]})]})]})})}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"Pagamentos QR Code via BMP 531"})})]})}const createKeySchema=objectType({tipoChave:enumType(["cpf","cnpj","email","telefone","aleatoria"],{required_error:"Selecione o tipo de chave"}),chave:stringType().optional(),codigoMfa:stringType().optional()});function CreatePixKeyFormBmp531(){const[isLoading,setIsLoading]=reactExports.useState(!1),[apiResponse,setApiResponse]=reactExports.useState(null),[codigoAutenticacao,setCodigoAutenticacao]=reactExports.useState(null),[etapaAtual,setEtapaAtual]=reactExports.useState("INICIAL"),form=useForm({resolver:t(createKeySchema),defaultValues:{tipoChave:void 0,chave:"",codigoMfa:""}}),watchedTipoChave=form.watch("tipoChave");form.watch("chave");const reiniciarFluxo=()=>{setEtapaAtual("INICIAL"),setCodigoAutenticacao(null),setApiResponse(null),form.reset()},getPlaceholder=tipoChave=>{switch(tipoChave){case"cpf":return"XXX.XXX.XXX-XX";case"cnpj":return"XX.XXX.XXX/XXXX-XX";case"email":return"exemplo@email.com";case"telefone":return"+55 (XX) XXXXX-XXXX";default:return"Selecione o tipo primeiro"}};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:["INICIAL"===etapaAtual&&jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsxs("form",{onSubmit:form.handleSubmit(async data=>{try{setIsLoading(!0),setApiResponse(null);let requestData={tipo:{cpf:"CPF",cnpj:"CNPJ",email:"EMAIL",telefone:"PHONE",aleatoria:"EVP"}[data.tipoChave]};if("aleatoria"!==data.tipoChave){if(!data.chave||""===data.chave.trim())return void ue$2.error("Chave obrigatória",{description:"Informe o valor da chave PIX",duration:4e3});if(!validarChavePix(data.chave,data.tipoChave))return void ue$2.error(`Formato de ${data.tipoChave.toUpperCase()} inválido!`,{description:"Verifique se a chave está no formato correto",duration:4e3});requestData.chave=data.chave}const result=await Bmp531Service.criarChave(requestData);setApiResponse(result),result.sucesso?"AGUARDANDO_MFA"===result.etapa?(setEtapaAtual("AGUARDANDO_MFA"),setCodigoAutenticacao(result.codigoAutenticacao||null),ue$2.info("Código MFA necessário",{description:"Verifique seu celular/email para o código de confirmação",duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})):"CONCLUIDO"===result.etapa&&(setEtapaAtual("CONCLUIDO"),ue$2.success("Chave PIX criada com sucesso!",{description:`Chave: ${result.chave||"Criada com sucesso"}`,duration:6e3,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}),form.reset()):ue$2.error("Falha ao criar chave PIX",{description:result.mensagem||"Erro desconhecido",duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";ue$2.error("Erro ao criar chave PIX",{description:errorMessage,duration:6e3,icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4"})}),setApiResponse({sucesso:!1,etapa:"ERRO",mensagem:errorMessage})}finally{setIsLoading(!1)}}),className:"space-y-6",children:[jsxRuntimeExports.jsx(FormField,{control:form.control,name:"tipoChave",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-foreground font-semibold",children:"Tipo de Chave PIX"}),jsxRuntimeExports.jsxs(Select,{onValueChange:field.onChange,value:field.value,children:[jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo de chave"})})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"cpf",children:"CPF"}),jsxRuntimeExports.jsx(SelectItem,{value:"cnpj",children:"CNPJ"}),jsxRuntimeExports.jsx(SelectItem,{value:"email",children:"E-mail"}),jsxRuntimeExports.jsx(SelectItem,{value:"telefone",children:"Telefone"}),jsxRuntimeExports.jsx(SelectItem,{value:"aleatoria",children:"Chave Aleatória"})]})]}),jsxRuntimeExports.jsx(FormMessage,{})]})}),watchedTipoChave&&"aleatoria"!==watchedTipoChave&&jsxRuntimeExports.jsx(FormField,{control:form.control,name:"chave",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-foreground font-semibold",children:"Valor da Chave"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{...field,placeholder:getPlaceholder(watchedTipoChave),onChange:e3=>{field.onChange(e3),((value,tipoChave)=>{const chaveFormatada=formatarChavePix(value,tipoChave);form.setValue("chave",chaveFormatada)})(e3.target.value,watchedTipoChave)},className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input"})}),jsxRuntimeExports.jsx(FormMessage,{})]})}),"aleatoria"===watchedTipoChave&&jsxRuntimeExports.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Key,{className:"h-5 w-5 text-blue-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-900",children:"Chave Aleatória"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"O sistema gerará uma chave única automaticamente"})]})]})}),jsxRuntimeExports.jsxs(Button$1,{type:"submit",disabled:isLoading||!watchedTipoChave,className:"w-full h-12 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),isLoading?"Criando...":"Criar Chave PIX"]})]})}),"AGUARDANDO_MFA"===etapaAtual&&jsxRuntimeExports.jsx(Card,{className:"border-amber-200 bg-amber-50",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-amber-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-amber-900",children:"Confirmação Necessária"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-700",children:"Digite o código recebido para confirmar"})]})]}),jsxRuntimeExports.jsx(Form,{...form,children:jsxRuntimeExports.jsx(FormField,{control:form.control,name:"codigoMfa",render:({field:field})=>jsxRuntimeExports.jsxs(FormItem,{children:[jsxRuntimeExports.jsx(FormLabel,{className:"text-foreground font-semibold",children:"Código de Confirmação"}),jsxRuntimeExports.jsx(FormControl,{children:jsxRuntimeExports.jsx(Input,{...field,placeholder:"Digite o código recebido",className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input",maxLength:6})}),jsxRuntimeExports.jsx(FormMessage,{})]})})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:async()=>{try{if(setIsLoading(!0),!form.getValues("codigoMfa"))return void ue$2.error("Código MFA obrigatório",{description:"Informe o código recebido",duration:4e3});if(!codigoAutenticacao)return void ue$2.error("Código de autenticação não encontrado",{description:"Tente criar a chave novamente",duration:4e3});form.getValues("codigoMfa");const result={sucesso:!1,mensagem:"Função de confirmação MFA não implementada ainda no BMP-531",etapa:"ERRO"};setApiResponse(result),result.sucesso?(setEtapaAtual("CONCLUIDO"),ue$2.success("Chave PIX criada com sucesso!",{description:`Chave: ${result.chave||"Código confirmado"}`,duration:6e3,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4"})}),form.reset(),setCodigoAutenticacao(null)):ue$2.error("Falha na confirmação MFA",{description:result.mensagem||"Código inválido",duration:6e3})}catch(error){ue$2.error("Erro ao confirmar código",{description:error instanceof Error?error.message:"Erro desconhecido",duration:6e3})}finally{setIsLoading(!1)}},disabled:isLoading,className:"flex-1 h-12 bg-green-600 hover:bg-green-700 text-white rounded-xl font-semibold",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 mr-2"}),"Confirmar"]}),jsxRuntimeExports.jsx(Button$1,{onClick:reiniciarFluxo,variant:"outline",className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors",children:"Cancelar"})]})]})})}),apiResponse&&jsxRuntimeExports.jsx(Card,{className:"border "+(apiResponse.sucesso?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg "+(apiResponse.sucesso?"bg-green-500/10":"bg-red-500/10"),children:apiResponse.sucesso?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-red-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold "+(apiResponse.sucesso?"text-green-900":"text-red-900"),children:apiResponse.sucesso?"Sucesso":"Erro"}),jsxRuntimeExports.jsx("p",{className:"text-sm "+(apiResponse.sucesso?"text-green-700":"text-red-700"),children:apiResponse.mensagem})]})]}),apiResponse.chave&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-foreground",children:"Chave PIX Criada:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-lg",children:[jsxRuntimeExports.jsx("code",{className:"flex-1 text-sm font-mono",children:apiResponse.chave}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>{return apiResponse.chave&&(codigo=apiResponse.chave,navigator.clipboard.writeText(codigo),void ue$2.success("Código copiado!",{description:"O código foi copiado para sua área de transferência",duration:2e3}));var codigo},className:"rounded-lg",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})]}),("CONCLUIDO"===etapaAtual||!apiResponse.sucesso)&&jsxRuntimeExports.jsx(Button$1,{onClick:reiniciarFluxo,variant:"outline",className:"w-full h-10 rounded-xl border-border hover:border-blue-500 transition-colors",children:"Nova Chave"})]})})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"🏦 Usando dados bancários BMP 531 TCR"})})]})}function ListPixKeysFormBmp531(){const[responseData,setResponseData]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),pixKeys=(null==responseData?void 0:responseData.chaves)||[],loadPixKeys=async()=>{var _a3,_b3,_c2;try{setIsLoading(!0),setError(null);const result=await Bmp531Service.listarChaves();result&&"object"==typeof result?(result.estatisticas||(result.estatisticas={totalChaves:(null==(_a3=result.chaves)?void 0:_a3.length)||0,ativas:(null==(_b3=result.chaves)?void 0:_b3.filter(c2=>{var _a4;return"ativa"===(null==(_a4=c2.situacao)?void 0:_a4.toLowerCase())}).length)||0,inativas:(null==(_c2=result.chaves)?void 0:_c2.filter(c2=>{var _a4;return"ativa"!==(null==(_a4=c2.situacao)?void 0:_a4.toLowerCase())}).length)||0}),setResponseData(result),result.sucesso||setError(result.mensagem||"Erro ao carregar chaves")):setError("Resposta da API em formato inesperado")}catch(error2){const errorMessage=error2 instanceof Error?error2.message:"Erro desconhecido";setError(errorMessage),ue$2.error("Erro ao carregar chaves PIX",{description:errorMessage,duration:6e3})}finally{setIsLoading(!1)}};reactExports.useEffect(()=>{loadPixKeys()},[]);const handleRefresh=()=>{loadPixKeys(),ue$2.info("Atualizando lista de chaves...")},getKeyTypeIcon=codigo=>{switch(codigo){case 0:return jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-white"});case 1:return jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4 text-white"});case 2:return jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4 text-white"});case 3:return jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4 text-white"});case 4:return jsxRuntimeExports.jsx(Hash$2,{className:"h-4 w-4 text-white"});default:return jsxRuntimeExports.jsx(Key,{className:"h-4 w-4 text-white"})}},getKeyTypeColor=codigo=>{switch(codigo){case 0:return"bg-blue-500";case 1:return"bg-green-500";case 2:return"bg-purple-500";case 3:return"bg-orange-500";case 4:return"bg-gray-500";default:return"bg-gray-400"}},getKeyTypeLabel=codigo=>{switch(codigo){case 0:return"CPF";case 1:return"CNPJ";case 2:return"Telefone";case 3:return"E-mail";case 4:return"Aleatória";default:return"Desconhecido"}},getStatusColor=situacao=>{switch(null==situacao?void 0:situacao.toLowerCase()){case"ativa":case"active":return"bg-green-100 text-green-800 border-green-200";case"inativa":case"inactive":return"bg-red-100 text-red-800 border-red-200";case"pendente":case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return error?jsxRuntimeExports.jsx(Card,{className:"border-red-200 bg-red-50",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-red-900",children:"Erro ao carregar chaves PIX"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700 mt-1",children:error})]})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:handleRefresh,variant:"outline",className:"mt-4 border-red-200 hover:border-red-300",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Tentar Novamente"]})]})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[responseData&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Minhas Chaves PIX"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[responseData.estatisticas.totalChaves," chave(s) cadastrada(s)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"🏦 BMP 531 TCR"}),jsxRuntimeExports.jsxs(Button$1,{onClick:handleRefresh,disabled:isLoading,variant:"outline",size:"sm",className:"rounded-lg border-border hover:border-blue-500 transition-colors",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Atualizar"]})]})]}),isLoading?jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mr-3"}),jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Carregando chaves PIX..."})]})})}):0===pixKeys.length?jsxRuntimeExports.jsx(Card,{className:"border-dashed",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-full bg-muted/50 w-12 h-12 mx-auto flex items-center justify-center",children:jsxRuntimeExports.jsx(Key,{className:"h-6 w-6 text-muted-foreground"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-foreground",children:"Nenhuma chave PIX encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Crie sua primeira chave PIX para começar a receber transferências"})]})]})})}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:pixKeys.map((key,index)=>{var _a3;return jsxRuntimeExports.jsx(Card,{className:"hover:shadow-md transition-shadow",children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg ${getKeyTypeColor(key.codigo)}`,children:getKeyTypeIcon(key.codigo)}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-foreground",children:getKeyTypeLabel(key.codigo)}),jsxRuntimeExports.jsx(Badge,{className:`text-xs font-medium ${getStatusColor(key.situacao)}`,children:key.situacao})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("code",{className:"text-sm font-mono bg-muted px-2 py-1 rounded",children:key.chave}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{return chave=key.chave,tipo=key.tipo,navigator.clipboard.writeText(chave),void ue$2.success(`Chave ${tipo} copiada!`,{description:"A chave foi copiada para sua área de transferência",duration:3e3});var chave,tipo},className:"h-7 w-7 p-0 rounded-md hover:bg-muted",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Criada em: ",new Date(key.dataHoraCriacao).toLocaleString("pt-BR")]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center",children:"ativa"===(null==(_a3=key.situacao)?void 0:_a3.toLowerCase())?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-500"}):jsxRuntimeExports.jsx(Shield,{className:"h-5 w-5 text-yellow-500"})})]})})},index)})}),responseData&&responseData.estatisticas&&jsxRuntimeExports.jsxs(Card,{className:"bg-muted/30",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-4",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-base flex items-center gap-2",children:[jsxRuntimeExports.jsx(Shield,{className:"h-4 w-4"}),"Estatísticas"]})}),jsxRuntimeExports.jsx(CardContent,{className:"pt-0",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-foreground",children:responseData.estatisticas.totalChaves}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-600",children:responseData.estatisticas.ativas}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Ativas"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-red-600",children:responseData.estatisticas.inativas||0}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Inativas"})]})]})})]})]})}function ExtractTableBmp531({accountType:accountType="ttf"}){const[selectedTransaction,setSelectedTransaction]=reactExports.useState(null),[isModalOpen,setIsModalOpen]=reactExports.useState(!1),[dateFrom,setDateFrom]=reactExports.useState(),[dateTo,setDateTo]=reactExports.useState(),[filtrosAtivos,setFiltrosAtivos]=reactExports.useState({}),[extratoData,setExtratoData]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[currentPage,setCurrentPage]=reactExports.useState(1),[allTransactions,setAllTransactions]=reactExports.useState([]),[isLoadingMore,setIsLoadingMore]=reactExports.useState(!1),[totalLoaded,setTotalLoaded]=reactExports.useState(0),[searchName,setSearchName]=reactExports.useState(""),[searchValue,setSearchValue]=reactExports.useState(""),[searchDescCliente,setSearchDescCliente]=reactExports.useState(""),[sortOrder,setSortOrder]=reactExports.useState("desc"),[sortBy2,setSortBy]=reactExports.useState("date"),[transactionTypeFilter,setTransactionTypeFilter]=reactExports.useState("todos"),[compensationModalOpen,setCompensationModalOpen]=reactExports.useState(!1),[selectedCompensationRecord,setSelectedCompensationRecord]=reactExports.useState(null),[creditOTCModalOpen,setCreditOTCModalOpen]=reactExports.useState(!1),[selectedExtractRecord,setSelectedExtractRecord]=reactExports.useState(null),[creditedRecords,setCreditedRecords]=reactExports.useState(new Set),[duplicataModalOpen,setDuplicataModalOpen]=reactExports.useState(!1),[selectedDuplicataRecord,setSelectedDuplicataRecord]=reactExports.useState(null),convertBmp531ToMovimentoExtrato=movimento=>{var _a3,_b3;const valor=parseFloat((null==(_a3=movimento.vlrMovimento)?void 0:_a3.toString())||(null==(_b3=movimento.valor)?void 0:_b3.toString())||"0"),valorAbsoluto=Math.abs(valor);let tipo="CRÉDITO";const tipoLancamentoAPI=movimento.tipoLancamento,descricaoOperacaoAPI=movimento.descricaoOperacao,descClienteAPI=movimento.descCliente;if("D"===tipoLancamentoAPI)tipo="DÉBITO";else if("C"===tipoLancamentoAPI)tipo="CRÉDITO";else if(descricaoOperacaoAPI){const descOp=descricaoOperacaoAPI.toUpperCase();descOp.includes("ENVIO PIX")||descOp.includes("TRANSFERENCIA")||descOp.includes("PAGAMENTO")||descOp.includes("TARIFA")?tipo="DÉBITO":(descOp.includes("RECEBIMENTO PIX")||descOp.includes("DEPOSITO")||descOp.includes("CREDITO"))&&(tipo="CRÉDITO")}else"D"===movimento.tipoMovimento?tipo="DÉBITO":"C"===movimento.tipoMovimento&&(tipo="CRÉDITO");let clienteFormatado="";const nomeCliente=movimento.nome||movimento.nomeCliente||movimento.nomePagador||movimento.nomeRecebedor||movimento.nomeContraparte;if(nomeCliente&&nomeCliente.trim())clienteFormatado=nomeCliente.trim();else if(movimento.complemento&&movimento.complemento.includes(" - ")){clienteFormatado=movimento.complemento.split(" - ").slice(1).join(" - ")}else if(movimento.cliente&&movimento.cliente.trim())clienteFormatado=movimento.cliente.trim();else if(descricaoOperacaoAPI&&descricaoOperacaoAPI.includes(" - ")){const partes=descricaoOperacaoAPI.split(" - ");partes.length>1&&(clienteFormatado=partes[1].trim())}else clienteFormatado="";let documentoFormatado="";const documentoCliente=movimento.documentoFederal||movimento.cpfCnpj||movimento.documentoPagador||movimento.documentoRecebedor||movimento.documento;if(documentoCliente&&documentoCliente.trim())documentoFormatado=documentoCliente.trim();else if(movimento.complemento&&movimento.complemento.includes("***")){const partes=movimento.complemento.split(" - ");partes[0]&&(documentoFormatado=partes[0])}else documentoFormatado="";let descClienteFormatado="";descClienteAPI&&""!==descClienteAPI.trim()&&(descClienteFormatado=descClienteAPI.trim());if(!(clienteFormatado||documentoFormatado||descClienteFormatado||descricaoOperacaoAPI&&descricaoOperacaoAPI.includes("PIX")))return null;return{id:movimento.codigo||movimento.codigoTransacao||movimento.id||Math.random().toString(36),dateTime:movimento.dtMovimento||movimento.dtLancamento||movimento.dataHora||(new Date).toLocaleString("pt-BR"),value:valorAbsoluto,type:tipo,document:documentoFormatado||"—",client:clienteFormatado||"Cliente não identificado",identified:!!(nomeCliente||documentoCliente||descClienteFormatado),code:movimento.identificadorOperacao||movimento.codigoTransacao||movimento.codigo||Math.random().toString(36).substr(2,9).toUpperCase(),descCliente:descClienteFormatado||void 0,descricaoOperacao:descricaoOperacaoAPI||movimento.descricao||void 0,_original:movimento}},loadAllTransactionsBmp531=async()=>{setIsLoading(!0),setError(null),setAllTransactions([]),setTotalLoaded(0);try{let allTransactionsList=[],currentCursor2=0,hasMorePages=!0,pageCount=1;for(;hasMorePages;){const params={cursor:currentCursor2},data=await Bmp531Service.getExtrato(params,accountType),transactions2=(null==data?void 0:data.movimentos)||[];if(allTransactionsList=[...allTransactionsList,...transactions2],(null==data?void 0:data.hasMore)&&(null==data?void 0:data.cursor)&&data.cursor>currentCursor2?(hasMorePages=!0,currentCursor2=data.cursor,pageCount++):hasMorePages=!1,pageCount>50)break;setAllTransactions([...allTransactionsList]),setTotalLoaded(allTransactionsList.length)}setAllTransactions(allTransactionsList),setTotalLoaded(allTransactionsList.length),allTransactionsList.sort((a2,b2)=>{const dateA=new Date(a2.dtLancamento||a2.dtMovimento||a2.dataHora||"1970-01-01").getTime();return new Date(b2.dtLancamento||b2.dtMovimento||b2.dataHora||"1970-01-01").getTime()-dateA}),setExtratoData({sucesso:!0,mensagem:"Extrato carregado com sucesso",items:allTransactionsList,totalRegistros:allTransactionsList.length,hasMore:!1,cursor:currentCursor2})}catch(error2){setError(error2.message||"Erro ao carregar extrato"),ue$2.error("Erro ao carregar extrato",{description:"Falha ao consultar extrato da conta BMP 531",duration:3e3})}finally{setIsLoading(!1)}},refetch=()=>{loadAllTransactionsBmp531()};reactExports.useEffect(()=>{loadAllTransactionsBmp531()},[]);const transactions=allTransactions.length>0?allTransactions:(null==extratoData?void 0:extratoData.movimentos)||[],hasMore=(null==extratoData?void 0:extratoData.hasMore)||!1;null==extratoData||extratoData.cursor;const convertedTransactions=reactExports.useMemo(()=>transactions.map(convertBmp531ToMovimentoExtrato).filter(transaction=>null!==transaction),[transactions]),filteredAndSortedTransactions=reactExports.useMemo(()=>{let filtered=convertedTransactions;return filtered=filtered.filter(transaction=>{var _a3,_b3,_c2,_d2,_e3;const matchesName=!searchName||(null==(_a3=transaction.client)?void 0:_a3.toLowerCase().includes(searchName.toLowerCase()))||(null==(_b3=transaction.document)?void 0:_b3.toLowerCase().includes(searchName.toLowerCase())),matchesValue=!searchValue||Math.abs(transaction.value).toString().includes(searchValue),matchesDescCliente=!searchDescCliente||(null==(_c2=transaction.descCliente)?void 0:_c2.toLowerCase().includes(searchDescCliente.toLowerCase()))||(null==(_d2=transaction.descricaoOperacao)?void 0:_d2.toLowerCase().includes(searchDescCliente.toLowerCase()))||(null==(_e3=transaction.client)?void 0:_e3.toLowerCase().includes(searchDescCliente.toLowerCase())),matchesType="todos"===transactionTypeFilter||"debito"===transactionTypeFilter&&"DÉBITO"===transaction.type||"credito"===transactionTypeFilter&&"CRÉDITO"===transaction.type;let matchesDate=!0;if(dateFrom&&dateTo){const transactionDate=new Date(transaction.dateTime),fromDate=new Date(dateFrom),toDate2=new Date(dateTo);fromDate.setHours(0,0,0,0),toDate2.setHours(23,59,59,999),matchesDate=transactionDate>=fromDate&&transactionDate<=toDate2}return matchesName&&matchesValue&&matchesDescCliente&&matchesType&&matchesDate}),"none"!==sortBy2&&"none"!==sortOrder&&filtered.sort((a2,b2)=>{let aValue,bValue;if("value"===sortBy2)aValue=Math.abs(a2.value),bValue=Math.abs(b2.value);else{if("date"!==sortBy2)return 0;aValue=new Date(a2.dateTime).getTime(),bValue=new Date(b2.dateTime).getTime()}return"asc"===sortOrder?aValue-bValue:bValue-aValue}),filtered},[convertedTransactions,searchName,searchValue,searchDescCliente,transactionTypeFilter,dateFrom,dateTo,sortBy2,sortOrder]),totalPages=Math.ceil(filteredAndSortedTransactions.length/200),startIndex=200*(currentPage-1),endIndex=startIndex+200,displayTransactions=filteredAndSortedTransactions.slice(startIndex,endIndex),handleRowClick=transaction=>{setSelectedTransaction(transaction),setIsModalOpen(!0)},handleCopyCode=(code,event)=>{event.stopPropagation(),code?(navigator.clipboard.writeText(code),ue$2.success("Código copiado!")):ue$2.error("Código não disponível")},handleCompensation=(transaction,event)=>{event.stopPropagation(),setSelectedCompensationRecord(transaction),setCompensationModalOpen(!0)},isRecordCredited=transaction=>{const recordKey=`bmp-531-${transaction.id}`;return creditedRecords.has(recordKey)},handleCreditToOTC=async(transaction,event)=>{event.stopPropagation(),isRecordCredited(transaction)?ue$2.error("Registro já creditado",{description:"Este registro do extrato já foi creditado para um cliente OTC"}):(setSelectedExtractRecord(transaction),setCreditOTCModalOpen(!0))},handleGerenciarDuplicatas=(record,event)=>{event.stopPropagation(),setSelectedDuplicataRecord(record),setDuplicataModalOpen(!0)},formatCurrency2=value=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(value)),formatDate=dateString=>{if(!dateString)return"Data inválida";if(dateString.includes("/"))return dateString;try{const date2=new Date(dateString);return isNaN(date2.getTime())?dateString:date2.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return dateString||"Data inválida"}},getTypeConfig=type=>{switch(type){case"DÉBITO":return{className:"bg-tcr-red/20 text-tcr-red border-tcr-red/30",color:"text-tcr-red"};case"CRÉDITO":return{className:"bg-tcr-green/20 text-tcr-green border-tcr-green/30",color:"text-tcr-green"};default:return{className:"bg-muted/20 text-muted-foreground border-border",color:"text-muted-foreground"}}},debitCount=displayTransactions.filter(t3=>"DÉBITO"===t3.type).length,creditCount=displayTransactions.filter(t3=>"CRÉDITO"===t3.type).length,totalDebito=filteredAndSortedTransactions.filter(t3=>"DÉBITO"===t3.type).reduce((sum2,t3)=>sum2+t3.value,0),totalCredito=filteredAndSortedTransactions.filter(t3=>"CRÉDITO"===t3.type).reduce((sum2,t3)=>sum2+t3.value,0);return error?jsxRuntimeExports.jsx(Card,{className:"border-destructive",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 text-destructive",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Erro ao carregar extrato"}),jsxRuntimeExports.jsx("p",{className:"text-sm opacity-90",children:error||"Erro desconhecido"})]})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>refetch(),className:"mt-4",variant:"outline",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]})}):jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg",children:jsxRuntimeExports.jsx(Filter,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-card-foreground",children:"Filtros de Pesquisa - BMP 531"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Personalize sua consulta de extratos"})]})]}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"BMP 531"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Data inicial"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",disabled:isLoading,className:"w-full h-12 justify-start text-left font-normal rounded-xl border-border hover:border-blue-500 transition-colors bg-input "+(dateFrom?"":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateFrom?format(dateFrom,"PPP",{locale:ptBR}):"Selecionar data"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 rounded-xl bg-popover",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateFrom,onSelect:setDateFrom,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Data final"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",disabled:isLoading,className:"w-full h-12 justify-start text-left font-normal rounded-xl border-border hover:border-blue-500 transition-colors bg-input "+(dateTo?"":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateTo?format(dateTo,"PPP",{locale:ptBR}):"Selecionar data"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 rounded-xl bg-popover",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateTo,onSelect:setDateTo,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por nome"}),jsxRuntimeExports.jsx(Input,{placeholder:"Nome do cliente ou documento...",value:searchName,onChange:e3=>setSearchName(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por valor"}),jsxRuntimeExports.jsx(Input,{placeholder:"Ex: 100,50",value:searchValue,onChange:e3=>setSearchValue(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Descrição do cliente (BMP-531)"}),jsxRuntimeExports.jsx(Input,{placeholder:"Descrição específica...",value:searchDescCliente,onChange:e3=>setSearchDescCliente(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Tipo de transação"}),jsxRuntimeExports.jsxs(Select,{value:transactionTypeFilter,onValueChange:value=>setTransactionTypeFilter(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Todos"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"todos",children:"Todos"}),jsxRuntimeExports.jsx(SelectItem,{value:"debito",children:"Apenas Débitos"}),jsxRuntimeExports.jsx(SelectItem,{value:"credito",children:"Apenas Créditos"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ordenar por"}),jsxRuntimeExports.jsxs(Select,{value:sortBy2,onValueChange:value=>setSortBy(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Sem ordenação"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Sem ordenação"}),jsxRuntimeExports.jsx(SelectItem,{value:"date",children:"Data"}),jsxRuntimeExports.jsx(SelectItem,{value:"value",children:"Valor"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ordem"}),jsxRuntimeExports.jsxs(Select,{value:sortOrder,onValueChange:value=>setSortOrder(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-blue-500 transition-colors bg-input",disabled:"none"===sortBy2,children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Padrão"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"asc",children:"Crescente"}),jsxRuntimeExports.jsx(SelectItem,{value:"desc",children:"Decrescente"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:async()=>{if(dateFrom&&dateTo&&!validarIntervaloData(formatarDataParaAPI(dateFrom),formatarDataParaAPI(dateTo)))ue$2.error("Intervalo de datas inválido",{description:"Verifique se a data inicial é menor que a final e o intervalo não passa de 31 dias",duration:4e3});else{setIsLoading(!0),setError(null),setAllTransactions([]),setTotalLoaded(0),setCurrentPage(1);try{let allTransactionsList=[],currentCursor2=0,hasMorePages=!0,pageCount=1;const filtros=dateFrom&&dateTo?{de:formatarDataParaAPI(dateFrom),ate:formatarDataParaAPI(dateTo)}:void 0;for(;hasMorePages;){const params={cursor:currentCursor2,...filtros},data=await Bmp531Service.getExtrato(params,accountType),transactions2=(null==data?void 0:data.movimentos)||[];if(allTransactionsList=[...allTransactionsList,...transactions2],(null==data?void 0:data.hasMore)&&(null==data?void 0:data.cursor)&&data.cursor>currentCursor2?(currentCursor2=data.cursor,pageCount++):hasMorePages=!1,pageCount>50)break}setAllTransactions(allTransactionsList),setTotalLoaded(allTransactionsList.length),ue$2.success("Filtros aplicados!",{description:`${allTransactionsList.length} transações encontradas`,duration:2e3}),setFiltrosAtivos({de:dateFrom?formatarDataParaAPI(dateFrom):void 0,ate:dateTo?formatarDataParaAPI(dateTo):void 0})}catch(error2){setError(error2.message),ue$2.error("Erro ao aplicar filtros")}finally{setIsLoading(!1)}}},disabled:isLoading,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl px-6 py-3 font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4 mr-2"}),"Aplicar Filtros"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:async()=>{setDateFrom(void 0),setDateTo(void 0),setSearchName(""),setSearchValue(""),setSearchDescCliente(""),setTransactionTypeFilter("todos"),setSortBy("date"),setSortOrder("desc"),setCurrentPage(1),setFiltrosAtivos({}),await loadAllTransactionsBmp531(),ue$2.success("Filtros limpos!",{description:"Todos os filtros foram removidos",duration:2e3})},variant:"outline",disabled:isLoading,className:"rounded-xl px-6 py-3 font-semibold border-border hover:border-blue-500 transition-colors",children:[jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4 mr-2"}),"Limpar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{setCurrentPage(1),refetch()},variant:"outline",disabled:isLoading,className:"rounded-xl px-6 py-3 font-semibold border-border hover:border-blue-500 transition-colors",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),isLoading?"Carregando...":"Atualizar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{if(0===filteredAndSortedTransactions.length)return void ue$2.error("Nenhuma transação para exportar",{description:"Aplique filtros ou aguarde o carregamento dos dados",duration:3e3});const csvData=filteredAndSortedTransactions.map(transaction=>[transaction.dateTime,transaction.type,`R$ ${transaction.value.toFixed(2).replace(".",",")}`,transaction.client||"N/A",transaction.document||"N/A",transaction.code||"N/A",transaction.descCliente||"N/A",transaction.identified?"Identificado":"Não Identificado"]),csvContent=[["Data/Hora","Tipo","Valor (R$)","Cliente/Banco","Documento","Código","Descrição Cliente","Status"].join(";"),...csvData.map(row=>row.join(";"))].join("\n"),blob=new Blob([csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a");if(void 0!==link.download){const url=URL.createObjectURL(blob);link.setAttribute("href",url);const nomeArquivo=`extrato-bmp531-${(new Date).toISOString().split("T")[0]}.csv`;link.setAttribute("download",nomeArquivo),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link),ue$2.success("CSV exportado com sucesso!",{description:`${filteredAndSortedTransactions.length} transações exportadas`,duration:3e3})}},variant:"outline",disabled:isLoading||0===filteredAndSortedTransactions.length,className:"rounded-xl px-6 py-3 font-semibold border-green-200 hover:border-green-500 text-green-700 hover:text-green-800 transition-colors bg-green-50 hover:bg-green-100",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Exportar CSV (",filteredAndSortedTransactions.length,")"]})]})]})]}),!1,jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg",children:jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-card-foreground",children:"Extrato de Transações BMP 531"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[filteredAndSortedTransactions.length," registros encontrados • ",debitCount," débitos • ",creditCount," créditos",totalLoaded>0&&totalLoaded!==filteredAndSortedTransactions.length&&jsxRuntimeExports.jsxs("span",{className:"text-blue-600",children:[" • ",totalLoaded," total carregados"]})]})}),(totalDebito>0||totalCredito>0)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[totalDebito>0&&jsxRuntimeExports.jsxs("span",{className:"text-red-600 font-medium",children:["Total Débitos: R$ ",totalDebito.toFixed(2).replace(".",",")]}),totalCredito>0&&jsxRuntimeExports.jsxs("span",{className:"text-green-600 font-medium",children:["Total Créditos: R$ ",totalCredito.toFixed(2).replace(".",",")]}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:["Saldo: R$ ",(totalCredito-totalDebito).toFixed(2).replace(".",",")]})]})]})]}),jsxRuntimeExports.jsxs(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:[filteredAndSortedTransactions.length," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-8",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mr-2"}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("span",{children:"Carregando transações BMP 531..."}),totalLoaded>0&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:[totalLoaded," registros carregados"]})]})]}):0===displayTransactions.length?jsxRuntimeExports.jsxs("div",{className:"text-center p-8",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-2",children:"Nenhuma transação encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros de data ou busca"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block",children:jsxRuntimeExports.jsx("div",{className:"max-h-[75vh] overflow-y-auto scrollbar-thin",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{className:"sticky top-0 bg-muted/40 backdrop-blur-sm z-10",children:jsxRuntimeExports.jsxs(TableRow,{className:"border-b border-border hover:bg-transparent",children:[jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px]",children:"Tipo"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 min-w-[200px]",children:"Cliente/Banco"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[160px]",children:"Documento"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[200px]",children:"descCliente"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px]",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Código"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[120px] text-center",children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:displayTransactions.map(transaction=>{const typeConfig=getTypeConfig(transaction.type);return jsxRuntimeExports.jsxs(TableRow,{onClick:()=>handleRowClick(transaction),className:"cursor-pointer hover:bg-muted/20 transition-all duration-200 border-b border-border",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium text-card-foreground py-3 text-xs",children:formatDate(transaction.dateTime)}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("span",{className:"font-bold text-sm font-mono "+("DÉBITO"===transaction.type?"text-tcr-red":"text-tcr-green"),children:["DÉBITO"===transaction.type?"-":"+",formatCurrency2(transaction.value)]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsx(Badge,{className:`${typeConfig.className} rounded-full px-2 py-1 text-xs font-semibold`,children:transaction.type})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground break-words",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-card-foreground",children:transaction.client||"Cliente não identificado"}),transaction.document&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-600",children:["Doc: ",transaction.document]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"BMP 531 - Banco Master"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground truncate max-w-[160px]",children:transaction.document||"—"}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground break-words max-w-[200px]",children:transaction.descCliente?jsxRuntimeExports.jsx("span",{title:transaction.descCliente,children:transaction.descCliente}):jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"—"})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[transaction.identified?jsxRuntimeExports.jsx(Badge,{className:"bg-tcr-green/20 text-tcr-green border-tcr-green/30 rounded-full px-2 py-1 text-xs font-semibold",children:"✓"}):jsxRuntimeExports.jsx(Badge,{className:"bg-amber-500/20 text-amber-400 border-amber-500/30 rounded-full px-2 py-1 text-xs font-semibold",children:"?"}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-50 text-blue-700 border-blue-200 rounded-full px-2 py-1 text-xs font-semibold",children:"BMP 531"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-muted-foreground truncate max-w-[100px]",children:transaction.code}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:e3=>handleCopyCode(transaction.code,e3),className:"h-6 w-6 p-0 flex-shrink-0 rounded-lg hover:bg-muted hover:text-card-foreground transition-all duration-200",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:["ttf"===accountType&&"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCreditToOTC(transaction,e3),disabled:isRecordCredited(transaction),className:cn("h-7 px-2 text-xs transition-all",isRecordCredited(transaction)?"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed":"bg-green-50 hover:bg-green-100 text-green-700 border-green-200 hover:border-green-300"),title:isRecordCredited(transaction)?"Já creditado para cliente OTC":"Creditar para cliente OTC",children:isRecordCredited(transaction)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Creditado"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),"OTC"]})}),"tcr"===accountType&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["DÉBITO"===transaction.type&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleGerenciarDuplicatas(transaction,e3),className:"h-7 px-2 text-xs bg-red-50 hover:bg-red-100 text-red-700 border-red-200 hover:border-red-300",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3 mr-1"}),"Duplicatas"]}),"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCompensation(transaction,e3),className:"h-7 px-2 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 hover:border-blue-300",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3 mr-1"}),"Verificar"]})]})]})})]},transaction.id)})})]})})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden space-y-4 p-4",children:displayTransactions.map(transaction=>{const typeConfig=getTypeConfig(transaction.type);return jsxRuntimeExports.jsx(Card,{onClick:()=>handleRowClick(transaction),className:"cursor-pointer hover:shadow-md transition-all duration-200 border border-border",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx(Badge,{className:`${typeConfig.className} rounded-full px-2 py-1 text-xs font-semibold`,children:transaction.type}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:formatDate(transaction.dateTime)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg font-mono "+("DÉBITO"===transaction.type?"text-tcr-red":"text-tcr-green"),children:["DÉBITO"===transaction.type?"-":"+",formatCurrency2(transaction.value)]}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-50 text-blue-700 border-blue-200 rounded-full px-2 py-1 text-xs font-semibold",children:"BMP 531"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-card-foreground",children:transaction.client||"Cliente não identificado"}),transaction.document&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:["Doc: ",transaction.document]}),transaction.descCliente&&jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:transaction.descCliente})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-3",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:transaction.code}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:["ttf"===accountType&&"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCreditToOTC(transaction,e3),disabled:isRecordCredited(transaction),className:cn("h-7 px-2 text-xs transition-all",isRecordCredited(transaction)?"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed":"bg-green-50 hover:bg-green-100 text-green-700 border-green-200"),title:isRecordCredited(transaction)?"Já creditado para cliente OTC":"Creditar para cliente OTC",children:isRecordCredited(transaction)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Creditado"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),"OTC"]})}),"tcr"===accountType&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["DÉBITO"===transaction.type&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleGerenciarDuplicatas(transaction,e3),className:"h-7 px-2 text-xs bg-red-50 hover:bg-red-100 text-red-700 border-red-200",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3 mr-1"}),"Duplicatas"]}),"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCompensation(transaction,e3),className:"h-7 px-2 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3 mr-1"}),"Verificar"]})]})]})]})]})},transaction.id)})}),jsxRuntimeExports.jsxs("div",{className:"border-t border-border bg-muted/20",children:[totalPages>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",startIndex+1," a ",Math.min(endIndex,filteredAndSortedTransactions.length)," de ",filteredAndSortedTransactions.length," transações",totalLoaded>filteredAndSortedTransactions.length&&jsxRuntimeExports.jsxs("span",{className:"text-blue-600",children:[" (de ",totalLoaded," carregadas)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>{currentPage>1&&setCurrentPage(prev=>prev-1)},disabled:1===currentPage,className:"rounded-lg",children:"Anterior"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium px-3",children:["Página ",currentPage," de ",totalPages]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>{currentPage<totalPages&&setCurrentPage(prev=>prev+1)},disabled:currentPage===totalPages,className:"rounded-lg",children:"Próxima"})]})]}),hasMore&&!isLoading&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center px-6 py-4 border-t border-border",children:jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(!isLoadingMore&&(null==extratoData?void 0:extratoData.hasMore)){setIsLoadingMore(!0);try{const params={cursor:extratoData.cursor},data=await Bmp531Service.getExtrato(params,accountType),newTransactions=(null==data?void 0:data.movimentos)||[],updatedTransactions=[...allTransactions,...newTransactions];updatedTransactions.sort((a2,b2)=>{const dateA=new Date(a2.dtLancamento||a2.dtMovimento||a2.dataHora||"1970-01-01").getTime();return new Date(b2.dtLancamento||b2.dtMovimento||b2.dataHora||"1970-01-01").getTime()-dateA}),setAllTransactions(updatedTransactions),setTotalLoaded(updatedTransactions.length),setExtratoData({...data,items:updatedTransactions})}catch(error2){ue$2.error("Erro ao carregar mais registros")}finally{setIsLoadingMore(!1)}}},disabled:isLoadingMore,className:"bg-blue-500 hover:bg-blue-600 text-white",children:isLoadingMore?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}),"Carregando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Carregar Mais Registros"]})})})]})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:isModalOpen,onOpenChange:setIsModalOpen,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Detalhes da Transação BMP 531"}),jsxRuntimeExports.jsx(DialogClose,{})]}),selectedTransaction&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"font-semibold",children:"Data/Hora:"}),jsxRuntimeExports.jsx("p",{children:formatDate(selectedTransaction.dateTime)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"font-semibold",children:"Valor:"}),jsxRuntimeExports.jsxs("p",{className:"font-bold "+("DÉBITO"===selectedTransaction.type?"text-tcr-red":"text-tcr-green"),children:["DÉBITO"===selectedTransaction.type?"-":"+",formatCurrency2(selectedTransaction.value)]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"font-semibold",children:"Cliente:"}),jsxRuntimeExports.jsx("p",{children:selectedTransaction.client||"N/A"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"font-semibold",children:"Documento:"}),jsxRuntimeExports.jsx("p",{children:selectedTransaction.document||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold",children:"Descrição do Cliente (BMP-531):"}),jsxRuntimeExports.jsx("p",{children:selectedTransaction.descCliente||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold",children:"Descrição da Operação:"}),jsxRuntimeExports.jsx("p",{children:selectedTransaction.descricaoOperacao||"N/A"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[selectedTransaction.id&&jsxRuntimeExports.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold",children:"ID da transação:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("code",{className:"bg-background px-2 py-1 rounded",children:selectedTransaction.id}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>handleCopyCode(selectedTransaction.id,new MouseEvent("click")),children:jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})})]})]}),selectedTransaction.code&&jsxRuntimeExports.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[jsxRuntimeExports.jsx("label",{className:"font-semibold",children:"Código da transação:"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("code",{className:"bg-background px-2 py-1 rounded",children:selectedTransaction.code}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>handleCopyCode(selectedTransaction.code,new MouseEvent("click")),children:jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-sm font-medium",children:"Transação BMP 531"})})]})]})}),compensationModalOpen&&selectedCompensationRecord&&jsxRuntimeExports.jsx(CompensationModalInteligente,{isOpen:compensationModalOpen,onClose:()=>(setCompensationModalOpen(!1),void setSelectedCompensationRecord(null)),extractRecord:selectedCompensationRecord}),"ttf"===accountType&&jsxRuntimeExports.jsx(CreditExtractToOTCModal,{isOpen:creditOTCModalOpen,onClose:wasSuccessful=>{if(wasSuccessful&&selectedExtractRecord){const recordKey=`bmp-531-${selectedExtractRecord.id}`;setCreditedRecords(prev=>new Set(prev).add(recordKey))}setCreditOTCModalOpen(!1),setSelectedExtractRecord(null)},extractRecord:selectedExtractRecord}),"tcr"===accountType&&selectedDuplicataRecord&&jsxRuntimeExports.jsx(DuplicataManagerModal,{isOpen:duplicataModalOpen,onClose:()=>setDuplicataModalOpen(!1),transacao:{id:selectedDuplicataRecord.id,value:selectedDuplicataRecord.value,client:selectedDuplicataRecord.client,dateTime:selectedDuplicataRecord.dateTime,type:selectedDuplicataRecord.type},idUsuario:parseInt((descCliente=>{const match2=null==descCliente?void 0:descCliente.match(/xU(\d+)/i);return match2?match2[1]:""})(selectedDuplicataRecord.descCliente||""))||0,onDuplicataExcluida:()=>{loadAllTransactionsBmp531(),ue$2.success("Duplicata excluída com sucesso!")}})]})}function Bmp531Page(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsx(TopBarBmp531,{}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"extract",className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs(TabsList,{className:"grid grid-cols-3 w-fit bg-muted/30 p-1 h-auto",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"extract",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Extrato"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"actions",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Ações PIX"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"keys",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Chaves PIX"}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"ml-2 text-xs px-2 py-0",children:"2"})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"extract",className:"mt-0",children:jsxRuntimeExports.jsx("div",{className:"w-full",children:jsxRuntimeExports.jsx(ExtractTableBmp531,{accountType:"tcr"})})}),jsxRuntimeExports.jsx(TabsContent,{value:"actions",className:"mt-0",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-5 w-5 text-blue-600"})}),"Enviar PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"BMP 531"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Transferência por chave PIX"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsx(SendByKeyFormBmp531,{})})]}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 via-transparent to-green-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 text-green-600"})}),"Pagar QR Code",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"BMP 531"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Pagamento via código QR"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsx(PayQRFormBmp531,{})})]})]})})}),jsxRuntimeExports.jsx(TabsContent,{value:"keys",className:"mt-0",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-transparent to-purple-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 text-purple-600"})}),"Criar Chave PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"BMP 531"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Registrar nova chave PIX"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsx(CreatePixKeyFormBmp531,{})})]}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-transparent to-amber-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:jsxRuntimeExports.jsx(Key,{className:"h-5 w-5 text-amber-600"})}),"Minhas Chaves PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"BMP 531"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Chaves registradas na conta"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsx(ListPixKeysFormBmp531,{})})]})]})})})]})})]})}const CORPX_CONFIG_endpoints={consultarSaldo:"/api/corpx/account/saldo",consultarExtrato:"/api/corpx/account/extrato",criarConta:"/api/corpx/account/criar",listarChavesPix:"/api/corpx/pix/chaves",criarChavePix:"/api/corpx/pix/chave",cancelarChavePix:"/api/corpx/pix/chave",criarTransferenciaPix:"/api/corpx/pix/transferencia",confirmarTransferenciaPix:"/api/corpx/pix/transferencia/confirmar",gerarQRCodePix:"/api/corpx/pix/qrcode"};async function consultarSaldoCorpX(cnpj){try{const tokenStatus=await async function(){try{const{TOKEN_STORAGE:TOKEN_STORAGE2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3}},void 0),token=TOKEN_STORAGE2.get();if(!token)return{isValid:!1,isExpired:!0,timeToExpiry:0,details:{error:"No token found"}};const payload=JSON.parse(atob(token.split(".")[1])),now2=Math.floor(Date.now()/1e3),isExpired=payload.exp<now2;return{isValid:!isExpired,isExpired:isExpired,timeToExpiry:payload.exp-now2,details:{userId:payload.sub||payload.id||payload.user_id,exp:payload.exp,iat:payload.iat,currentTime:now2,tokenLength:token.length}}}catch(error){return{isValid:!1,isExpired:!0,timeToExpiry:0,details:{error:error.message}}}}();if(!tokenStatus.isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.consultarSaldo}?tax_document=${cnpj}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const backendResponse=await response.json();return!1===backendResponse.error&&backendResponse.data?{erro:!1,saldo:backendResponse.data.globalBalance||backendResponse.data.saldo||0,saldoDisponivel:backendResponse.data.globalBalance||backendResponse.data.saldo||0,limite:0,limiteBloqueado:0}:{erro:!0,saldo:0,saldoDisponivel:0,limite:0,limiteBloqueado:0}}catch(error){return{erro:!0,saldo:0,saldoDisponivel:0,limite:0,limiteBloqueado:0}}}async function consultarExtratoCorpX(params){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestBody={tax_document:params.cnpj,itensporpagina:500,page:params.page||1,...params.dataInicio&&{dataini:params.dataInicio},...params.dataFim&&{datafim:params.dataFim}},response=await fetch(`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.consultarExtrato}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(requestBody)});if(!response.ok){let errorDetails;try{const errorText=await response.text();try{errorDetails=JSON.parse(errorText)}catch{errorDetails={message:errorText}}}catch(readError){errorDetails={message:"Erro ao ler resposta do servidor"}}throw new Error(`HTTP error! status: ${response.status} - ${JSON.stringify(errorDetails)}`)}const responseData=await response.json(),backendResponse=responseData;if(!1===backendResponse.error&&backendResponse.data){let rawTransactions=[];rawTransactions=Array.isArray(backendResponse.data)?backendResponse.data:backendResponse.data.extrato&&Array.isArray(backendResponse.data.extrato)?backendResponse.data.extrato:backendResponse.data.transactions&&Array.isArray(backendResponse.data.transactions)?backendResponse.data.transactions:backendResponse.data.items&&Array.isArray(backendResponse.data.items)?backendResponse.data.items:[];const transactions=rawTransactions.map((item,index)=>{if("Saldo Atual"===item.data||"Saldo Atual"===item.descricao)return null;const valorString=item.valor||"0",valor=parseFloat(valorString.toString()),dataHora=item.data&&item.hora?`${item.data} ${item.hora}`:item.data;return{id:item.nrMovimento||item.idEndToEnd||index.toString(),date:dataHora||(new Date).toISOString().split("T")[0],description:item.descricao||"Transação",amount:Math.abs(valor),type:"C"===item.tipo?"credit":"debit",balance:0,idEndToEnd:item.idEndToEnd,nrMovimento:item.nrMovimento,originalItem:item}}).filter(t3=>null!==t3);return{erro:!1,page:1,totalPages:1,transactions:transactions}}if(responseData&&(Array.isArray(responseData)||responseData.length>0)){const directData=Array.isArray(responseData)?responseData:[responseData];return{erro:!1,page:1,totalPages:1,transactions:directData.map((item,index)=>({id:item.id||index.toString(),date:item.date||item.data||(new Date).toISOString().split("T")[0],description:item.description||item.descricao||"Transação",amount:parseFloat(item.amount||item.valor||"0"),type:"credit"===item.type||"C"===item.tipo?"credit":"debit",balance:parseFloat(item.balance||item.saldo||"0")}))}}return{erro:!0,page:1,totalPages:1,transactions:[]}}catch(error){return{erro:!0,page:1,totalPages:1,transactions:[]}}}async function criarContaCorpX(dados){var _a3;try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestBody={nome_completo:dados.name,tax_document:dados.tax_document},response=await fetch(`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.criarConta}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(requestBody)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();return!1===backendResponse.error?{erro:!1,message:backendResponse.message,account_id:(null==(_a3=backendResponse.data)?void 0:_a3.id)||null}:{erro:!0,message:backendResponse.message}}catch(error){return null}}async function listarChavesPixCorpX(cnpj){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.listarChavesPix}?tax_document=${cnpj}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`}});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();if(!1===backendResponse.error&&backendResponse.data){return{erro:!1,chaves:backendResponse.data.map((item,index)=>({id:item.keypix||item.id||item.chave||index.toString(),key:item.keypix||item.chave||item.key||"",type:item.tipo||item.type||"RANDOM",status:item.status||"ACTIVE",created_at:item.criado||item.created_at||item.dataCriacao||(new Date).toISOString()}))}}return{erro:!0,chaves:[]}}catch(error){return null}}async function criarChavePixCorpX(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.criarChavePix}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();return!1===backendResponse.error?{erro:!1,message:backendResponse.message}:{erro:!0,message:backendResponse.message}}catch(error){return null}}async function cancelarChavePixCorpX(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.cancelarChavePix}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();return!1===backendResponse.error?{erro:!1,message:backendResponse.message}:{erro:!0,message:backendResponse.message}}catch(error){return null}}async function criarTransferenciaPixCorpX(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.criarTransferenciaPix}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();if(!1===backendResponse.error&&backendResponse.data){const data=backendResponse.data;return{erro:!1,type:data.type||"PIX",key:dados.key,branch:data.branch||data.agencia||"",number:data.number||data.conta||"",account_type:data.account_type||"PAYMENT",tax_document:data.tax_document||data.cpf_cnpj||"",nome:data.nome||data.recebedorNome||"",ispb:data.ispb||"",compe:data.compe||"",banco:data.banco||data.bancoNome||"",endtoend:data.endtoend||data.endToEnd||data.id||"",Valor:dados.valor.toString()}}return{erro:!0,type:"",key:dados.key,branch:"",number:"",account_type:"",tax_document:"",nome:"",ispb:"",compe:"",banco:"",endtoend:"",Valor:dados.valor.toString()}}catch(error){return null}}async function confirmarTransferenciaPixCorpX(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const url=`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.confirmarTransferenciaPix}?endtoend=${dados.endtoend}&tax_document=${dados.tax_document}`,response=await fetch(url,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`}});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();if(!1===backendResponse.error&&backendResponse.data){const data=backendResponse.data;return{message:backendResponse.message,endtoend:dados.endtoend,erro:!1,id:data.id||data.transactionId||"",idEndToEnd:data.idEndToEnd||data.endtoend||dados.endtoend,transactionDate:data.transactionDate||(new Date).toISOString(),transactionCode:data.transactionCode||"",status:data.status||"created",amount:parseFloat(data.amount||data.valor||"0"),"Tipo de transação":"Transferência Pix",Data:data.transactionDate||(new Date).toISOString(),Valor:`R$ ${parseFloat(data.amount||data.valor||"0").toFixed(2).replace(".",",")}`,"Código da transação":data.idEndToEnd||dados.endtoend,De:data.pagadorNome||"Conta CorpX","CPF/CNPJ":data.recebedorDocument||"***",Para:data.recebedorNome||"Beneficiário","Descrição":data.descricao||""}}return null}catch(error){return null}}async function gerarQRCodePixCorpX(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${CORPX_CONFIG_endpoints.gerarQRCodePix}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return await response.json()}catch(error){return null}}async function enviarPixCompletoCorpX(dadosTransferencia){try{const criacao=await criarTransferenciaPixCorpX(dadosTransferencia);if(!criacao||criacao.erro)throw new Error("Erro ao criar transferência");const confirmacao=await confirmarTransferenciaPixCorpX({endtoend:criacao.endtoend,tax_document:dadosTransferencia.tax_document});if(!confirmacao||confirmacao.erro)throw new Error("Erro ao confirmar transferência");return{criacao:criacao,confirmacao:confirmacao}}catch(error){return null}}function formatarValorCorpX(valor){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(valor)}function validarCNPJCorpX(cnpj){return 14===cnpj.replace(/\D/g,"").length}function formatarChavePixCorpX(chave,tipo){switch(tipo){case 2:return chave.startsWith("+55")?chave:`+55${chave}`;case 3:return chave.toLowerCase();case 1:return chave.replace(/\D/g,"");default:return chave}}function tratarErroCorpX(error){var _a3;if(error.response)switch(error.response.status){case 400:return"Dados inválidos. Verifique os campos.";case 401:return"Chave PIX não encontrada.";case 402:return"Conta não aprovada ou saldo insuficiente.";case 422:return"Erro de validação dos dados.";case 500:return"Erro interno. Tente novamente.";default:return(null==(_a3=error.response.data)?void 0:_a3.message)||"Erro na operação. Tente novamente."}return"Erro de conexão. Verifique sua internet."}const CorpXService={consultarSaldo:consultarSaldoCorpX,consultarExtrato:consultarExtratoCorpX,criarConta:criarContaCorpX,listarChavesPix:listarChavesPixCorpX,criarChavePix:criarChavePixCorpX,cancelarChavePix:cancelarChavePixCorpX,criarTransferenciaPix:criarTransferenciaPixCorpX,confirmarTransferenciaPix:confirmarTransferenciaPixCorpX,enviarPixCompleto:enviarPixCompletoCorpX,gerarQRCodePix:gerarQRCodePixCorpX,formatarValor:formatarValorCorpX,validarCNPJ:validarCNPJCorpX,formatarChavePix:formatarChavePixCorpX,tratarErro:tratarErroCorpX},corpx=Object.freeze(Object.defineProperty({__proto__:null,CorpXService:CorpXService,cancelarChavePixCorpX:cancelarChavePixCorpX,confirmarTransferenciaPixCorpX:confirmarTransferenciaPixCorpX,consultarExtratoCorpX:consultarExtratoCorpX,consultarSaldoCorpX:consultarSaldoCorpX,criarChavePixCorpX:criarChavePixCorpX,criarContaCorpX:criarContaCorpX,criarTransferenciaPixCorpX:criarTransferenciaPixCorpX,enviarPixCompletoCorpX:enviarPixCompletoCorpX,executarTransferenciaCompletaCorpX:async function(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}/api/corpx/pix/transferencia-completa`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return await response.json()}catch(error){return null}},executarTransferenciaCompletaProgramadaCorpX:async function(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}/api/corpx/pix/transferencia-completa-programada`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return await response.json()}catch(error){return null}},formatarChavePixCorpX:formatarChavePixCorpX,formatarValorCorpX:formatarValorCorpX,gerarQRCodePixCorpX:gerarQRCodePixCorpX,listarChavesPixCorpX:listarChavesPixCorpX,tratarErroCorpX:tratarErroCorpX,validarCNPJCorpX:validarCNPJCorpX},Symbol.toStringTag,{value:"Module"}));const CORPX_ACCOUNTS=[{id:"1",razaoSocial:"TTF SERVICOS DIGITAIS LTDA",cnpj:"14283885000198"},{id:"2",razaoSocial:"NEXUS COMERCIO E IMPORTACAO LTDA",cnpj:"62804797000137"},{id:"3",razaoSocial:"FATTOR INCORPORACOES LTDA",cnpj:"49741299000124"},{id:"4",razaoSocial:"TRKBIT TECNOLOGIA E INFORMACAO LTDA",cnpj:"41586874000150"}],CorpXContext=reactExports.createContext(void 0);function CorpXProvider({children:children}){const[selectedAccount,setSelectedAccount]=reactExports.useState(CORPX_ACCOUNTS[0]);return jsxRuntimeExports.jsx(CorpXContext.Provider,{value:{selectedAccount:selectedAccount,setSelectedAccount:setSelectedAccount,taxDocument:selectedAccount.cnpj,setTaxDocument:taxDocument=>{const account=CORPX_ACCOUNTS.find(acc=>acc.cnpj===taxDocument);account&&setSelectedAccount(account)}},children:children})}function useCorpX(){const context=reactExports.useContext(CorpXContext);if(void 0===context)throw new Error("useCorpX deve ser usado dentro de um CorpXProvider");return context}function TopBarCorpX(){const{taxDocument:taxDocument}=useCorpX(),cnpjNumerico=taxDocument.replace(/\D/g,""),{saldo:saldoData,isLoading:isLoadingSaldo,error:errorSaldo,refresh:handleRefresh,lastUpdated:lastUpdated}=function({cnpj:cnpj,autoRefresh:autoRefresh=!1,refreshInterval:refreshInterval=3e4}){const[saldo,setSaldo]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[lastUpdated,setLastUpdated]=reactExports.useState(null),fetchSaldo=reactExports.useCallback(async()=>{if(cnpj){setIsLoading(!0),setError(null);try{const response=await CorpXService.consultarSaldo(cnpj);(null==response?void 0:response.erro)?(setError("Erro ao consultar saldo CORPX"),setSaldo(null)):(setSaldo(response),setLastUpdated(new Date))}catch(err2){setError(CorpXService.tratarErro(err2)),setSaldo(null)}finally{setIsLoading(!1)}}},[cnpj]),refresh=reactExports.useCallback(async()=>{await fetchSaldo()},[fetchSaldo]);return reactExports.useEffect(()=>{cnpj&&fetchSaldo()},[cnpj,fetchSaldo]),reactExports.useEffect(()=>{if(!autoRefresh||!cnpj||refreshInterval<=0)return;const intervalId=setInterval(()=>{fetchSaldo()},refreshInterval);return()=>{clearInterval(intervalId)}},[autoRefresh,cnpj,refreshInterval,fetchSaldo]),{saldo:saldo,isLoading:isLoading,error:error,refresh:refresh,lastUpdated:lastUpdated}}({cnpj:cnpjNumerico,autoRefresh:!1});reactExports.useEffect(()=>{cnpjNumerico&&14===cnpjNumerico.length&&(handleRefresh(),ue$2.info("Atualizando saldo para nova conta..."))},[cnpjNumerico,handleRefresh]);const formatCurrency2=value=>CorpXService.formatarValor(value);return jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 bg-tcr-dark/95 backdrop-blur-xl border-b border-border h-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-purple-600 to-purple-800 shadow-xl",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"CORPX"}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"Banking"}),isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-blue-500"}):errorSaldo||(null==saldoData?void 0:saldoData.erro)?jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Central de transferências PIX"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:handleRefresh,disabled:isLoadingSaldo,className:"hover:bg-muted rounded-xl",children:[isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"}):jsxRuntimeExports.jsx(RefreshCcw,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:isLoadingSaldo?"Atualizando...":"Atualizar"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[errorSaldo&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-red-700 text-sm",children:errorSaldo})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-emerald-500/20",children:jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-emerald-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo principal"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 "+(errorSaldo||(null==saldoData?void 0:saldoData.erro)?"text-destructive":"text-foreground"),children:isLoadingSaldo?"Carregando...":errorSaldo?"Erro ao consultar saldo CORPX":(null==saldoData?void 0:saldoData.erro)?"Erro na API CORPX":formatCurrency2((null==saldoData?void 0:saldoData.saldo)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Saldo total"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-blue-500/20",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-blue-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo disponível"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 "+(errorSaldo||(null==saldoData?void 0:saldoData.erro)?"text-destructive":"text-foreground"),children:isLoadingSaldo?"Carregando...":errorSaldo||(null==saldoData?void 0:saldoData.erro)?"Erro":formatCurrency2((null==saldoData?void 0:saldoData.saldoDisponivel)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Para transferências"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-orange-500/20",children:jsxRuntimeExports.jsx(Lock,{className:"h-5 w-5 text-orange-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Limite bloqueado"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 text-foreground",children:isLoadingSaldo?"Carregando...":errorSaldo||(null==saldoData?void 0:saldoData.erro)?"Erro":formatCurrency2((null==saldoData?void 0:saldoData.limiteBloqueado)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Reservado"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:(()=>{const{selectedAccount:selectedAccount}=useCorpX();return jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:jsxRuntimeExports.jsxs("span",{children:[selectedAccount.razaoSocial," • CORPX • BRL • ",lastUpdated?lastUpdated.toLocaleTimeString("pt-BR"):"Nunca atualizado"]})})})()})]})]})}function ExtractTabCorpX(){const{selectedAccount:selectedAccount,taxDocument:taxDocument}=useCorpX(),[isLoading,setIsLoading]=reactExports.useState(!1),[allTransactions,setAllTransactions]=reactExports.useState([]),[error,setError]=reactExports.useState(""),getDefaultDates=()=>{const hoje=new Date,doisDiasAtras=new Date;return doisDiasAtras.setDate(hoje.getDate()-2),{dateFrom:doisDiasAtras,dateTo:hoje}},defaultDates=getDefaultDates(),[dateFrom,setDateFrom]=reactExports.useState(defaultDates.dateFrom),[dateTo,setDateTo]=reactExports.useState(defaultDates.dateTo),[searchName,setSearchName]=reactExports.useState(""),[searchValue,setSearchValue]=reactExports.useState(""),[searchDescCliente,setSearchDescCliente]=reactExports.useState(""),[transactionTypeFilter,setTransactionTypeFilter]=reactExports.useState("todos"),[sortOrder,setSortOrder]=reactExports.useState("desc"),[sortBy2,setSortBy]=reactExports.useState("date"),[currentPage,setCurrentPage]=reactExports.useState(1),[totalPages,setTotalPages]=reactExports.useState(1),[hasMorePages,setHasMorePages]=reactExports.useState(!0),[selectedTransaction,setSelectedTransaction]=reactExports.useState(null),[isModalOpen,setIsModalOpen]=reactExports.useState(!1),[creditOTCModalOpen,setCreditOTCModalOpen]=reactExports.useState(!1),[selectedExtractRecord,setSelectedExtractRecord]=reactExports.useState(null),[creditedRecords,setCreditedRecords]=reactExports.useState(new Set),convertCorpXToStandardFormat=transaction=>{const descricao=transaction.description||"",cliente=descricao.includes(" - ")&&descricao.split(" - ")[1]||"Cliente não identificado";return{id:transaction.id||Date.now().toString(),dateTime:transaction.date||(new Date).toISOString(),value:transaction.amount||0,type:"credit"===transaction.type?"CRÉDITO":"DÉBITO",client:cliente,document:"",code:transaction.id||"",descCliente:descricao,identified:!0,descricaoOperacao:descricao,_original:transaction}},filteredAndSortedTransactions=reactExports.useMemo(()=>{let filtered=allTransactions.map(convertCorpXToStandardFormat);return filtered=filtered.filter(transaction=>{var _a3,_b3,_c2,_d2;const matchesName=!searchName||(null==(_a3=transaction.client)?void 0:_a3.toLowerCase().includes(searchName.toLowerCase()))||(null==(_b3=transaction.document)?void 0:_b3.toLowerCase().includes(searchName.toLowerCase())),matchesValue=!searchValue||Math.abs(transaction.value).toString().includes(searchValue),matchesDescCliente=!searchDescCliente||(null==(_c2=transaction.descCliente)?void 0:_c2.toLowerCase().includes(searchDescCliente.toLowerCase()))||(null==(_d2=transaction.client)?void 0:_d2.toLowerCase().includes(searchDescCliente.toLowerCase())),matchesType="todos"===transactionTypeFilter||"debito"===transactionTypeFilter&&"DÉBITO"===transaction.type||"credito"===transactionTypeFilter&&"CRÉDITO"===transaction.type;let matchesDate=!0;if(dateFrom&&dateTo)try{const transactionDate=new Date(transaction.dateTime),fromDate=new Date(dateFrom),toDate2=new Date(dateTo);fromDate.setHours(0,0,0,0),toDate2.setHours(23,59,59,999),matchesDate=transactionDate>=fromDate&&transactionDate<=toDate2}catch(error2){matchesDate=!0}return matchesName&&matchesValue&&matchesDescCliente&&matchesType&&matchesDate}),"date"===sortBy2&&"none"!==sortOrder?filtered.sort((a2,b2)=>{const dateA=new Date(a2.dateTime),dateB=new Date(b2.dateTime);return"asc"===sortOrder?dateA.getTime()-dateB.getTime():dateB.getTime()-dateA.getTime()}):"value"===sortBy2&&"none"!==sortOrder&&filtered.sort((a2,b2)=>"asc"===sortOrder?a2.value-b2.value:b2.value-a2.value),filtered},[allTransactions,searchName,searchValue,searchDescCliente,transactionTypeFilter,dateFrom,dateTo,sortBy2,sortOrder]),displayTransactions=filteredAndSortedTransactions,debitCount=filteredAndSortedTransactions.filter(t3=>"DÉBITO"===t3.type).length,creditCount=filteredAndSortedTransactions.filter(t3=>"CRÉDITO"===t3.type).length,totalDebito=filteredAndSortedTransactions.filter(t3=>"DÉBITO"===t3.type).reduce((sum2,t3)=>sum2+t3.value,0),totalCredito=filteredAndSortedTransactions.filter(t3=>"CRÉDITO"===t3.type).reduce((sum2,t3)=>sum2+t3.value,0),loadCorpXTransactions=async(customDateFrom,customDateTo,page=1)=>{try{setIsLoading(!0),setError("");const cnpj=taxDocument.replace(/\D/g,"");let dataInicio,dataFim;if(customDateFrom&&customDateTo)dataInicio=customDateFrom.toISOString().split("T")[0],dataFim=customDateTo.toISOString().split("T")[0];else if(dateFrom&&dateTo)dataInicio=dateFrom.toISOString().split("T")[0],dataFim=dateTo.toISOString().split("T")[0];else{const hoje=new Date,doisDiasAtras=new Date;doisDiasAtras.setDate(hoje.getDate()-2),dataInicio=doisDiasAtras.toISOString().split("T")[0],dataFim=hoje.toISOString().split("T")[0]}const params={cnpj:cnpj,dataInicio:dataInicio,dataFim:dataFim,page:page},{consultarExtratoCorpX:consultarExtratoCorpX2}=await __vitePreload(async()=>{const{consultarExtratoCorpX:consultarExtratoCorpX3}=await Promise.resolve().then(()=>corpx);return{consultarExtratoCorpX:consultarExtratoCorpX3}},void 0),resultado=await consultarExtratoCorpX2(params);if(resultado&&!resultado.erro&&resultado.transactions){const transacoesReais=resultado.transactions.filter(t3=>{const original=t3.originalItem||t3._original||t3;return"Saldo Atual"!==original.data&&"Saldo Atual"!==original.descricao});setAllTransactions(transacoesReais);const hasFullPage=resultado.transactions.length>=100;setHasMorePages(hasFullPage),setTotalPages(page+(hasFullPage?1:0)),ue$2.success(`Página ${page}: ${transacoesReais.length} transações`,{description:"Extrato CORPX carregado",duration:1500})}else setAllTransactions([]),ue$2.info("Nenhuma transação encontrada",{description:"Tente ajustar os filtros de data",duration:3e3})}catch(err2){setError(err2.message||"Erro ao carregar extrato"),setAllTransactions([]),ue$2.error("Erro ao carregar extrato",{description:err2.message||"Tente novamente em alguns instantes",duration:4e3})}finally{setIsLoading(!1)}},handlePageChange=async newPage=>{newPage>=1&&newPage<=totalPages&&(setCurrentPage(newPage),await loadCorpXTransactions(dateFrom,dateTo,newPage))},formatCurrency2=value=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(value)),formatDate=dateString=>{if(!dateString)return"Data inválida";try{const date2=new Date(dateString);return isNaN(date2.getTime())?dateString:date2.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(error2){return dateString}},isRecordCredited=transaction=>{const recordKey=`corpx-${transaction.id}`;return creditedRecords.has(recordKey)},handleCreditToOTC=async(transaction,event)=>{event.stopPropagation(),isRecordCredited(transaction)?ue$2.error("Registro já creditado",{description:"Este registro do extrato já foi creditado para um cliente OTC"}):(setSelectedExtractRecord(transaction),setCreditOTCModalOpen(!0))};return reactExports.useEffect(()=>{loadCorpXTransactions(dateFrom,dateTo,1)},[]),reactExports.useEffect(()=>{const cnpjNumerico=taxDocument.replace(/\D/g,"");cnpjNumerico&&14===cnpjNumerico.length&&(setCurrentPage(1),loadCorpXTransactions(dateFrom,dateTo,1),ue$2.info("Atualizando extrato para nova conta..."))},[taxDocument,dateFrom,dateTo]),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Card,{className:"bg-card border border-border",children:jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(Building2,{className:"h-5 w-5 text-blue-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-foreground",children:["Consultando extrato de: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:selectedAccount.razaoSocial})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["CNPJ: ",selectedAccount.cnpj.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")]})]}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs",children:"Ativa"})]})})}),jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-lg",children:jsxRuntimeExports.jsx(Filter,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-card-foreground",children:"Filtros de Pesquisa - CorpX"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Personalize sua consulta de extratos"})]})]}),jsxRuntimeExports.jsx(Badge,{className:"bg-purple-100 text-purple-800 border-purple-200 text-xs font-medium",children:"CORPX"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Data inicial"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",disabled:isLoading,className:"w-full h-12 justify-start text-left font-normal rounded-xl border-border hover:border-purple-500 transition-colors bg-input "+(dateFrom?"":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateFrom?format(dateFrom,"PPP",{locale:ptBR}):"Selecionar data"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 rounded-xl bg-popover",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateFrom,onSelect:setDateFrom,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Data final"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",disabled:isLoading,className:"w-full h-12 justify-start text-left font-normal rounded-xl border-border hover:border-purple-500 transition-colors bg-input "+(dateTo?"":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateTo?format(dateTo,"PPP",{locale:ptBR}):"Selecionar data"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 rounded-xl bg-popover",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateTo,onSelect:setDateTo,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por nome"}),jsxRuntimeExports.jsx(Input,{placeholder:"Nome do cliente ou documento...",value:searchName,onChange:e3=>setSearchName(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-purple-500 transition-colors bg-input"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por valor"}),jsxRuntimeExports.jsx(Input,{placeholder:"Ex: 100,50",value:searchValue,onChange:e3=>setSearchValue(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-purple-500 transition-colors bg-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Descrição"}),jsxRuntimeExports.jsx(Input,{placeholder:"Descrição da transação...",value:searchDescCliente,onChange:e3=>setSearchDescCliente(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-purple-500 transition-colors bg-input"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Tipo de transação"}),jsxRuntimeExports.jsxs(Select,{value:transactionTypeFilter,onValueChange:value=>setTransactionTypeFilter(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-purple-500 transition-colors bg-input",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Todos"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"todos",children:"Todos"}),jsxRuntimeExports.jsx(SelectItem,{value:"debito",children:"Apenas Débitos"}),jsxRuntimeExports.jsx(SelectItem,{value:"credito",children:"Apenas Créditos"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ordenar por"}),jsxRuntimeExports.jsxs(Select,{value:sortBy2,onValueChange:value=>setSortBy(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-purple-500 transition-colors bg-input",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Sem ordenação"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Sem ordenação"}),jsxRuntimeExports.jsx(SelectItem,{value:"date",children:"Data"}),jsxRuntimeExports.jsx(SelectItem,{value:"value",children:"Valor"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ordem"}),jsxRuntimeExports.jsxs(Select,{value:sortOrder,onValueChange:value=>setSortOrder(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-purple-500 transition-colors bg-input",disabled:"none"===sortBy2,children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Padrão"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"asc",children:"Crescente"}),jsxRuntimeExports.jsx(SelectItem,{value:"desc",children:"Decrescente"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{if(setCurrentPage(1),dateFrom&&dateTo){if(dateFrom>dateTo)return void ue$2.error("Data inicial não pode ser maior que data final",{description:"Verifique as datas selecionadas",duration:3e3});loadCorpXTransactions(dateFrom,dateTo,1)}else dateFrom||dateTo?ue$2.error("Selecione ambas as datas",{description:"Data inicial e final são obrigatórias para filtro por período",duration:3e3}):loadCorpXTransactions(void 0,void 0,1)},disabled:isLoading,className:"bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-xl px-6 py-3 font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4 mr-2"}),"Aplicar Filtros"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{const defaultDates2=getDefaultDates();setDateFrom(defaultDates2.dateFrom),setDateTo(defaultDates2.dateTo),setSearchName(""),setSearchValue(""),setSearchDescCliente(""),setTransactionTypeFilter("todos"),setSortBy("date"),setSortOrder("desc"),setCurrentPage(1),loadCorpXTransactions(void 0,void 0,1),ue$2.success("Filtros limpos!",{description:"Retornado ao período padrão de 3 dias",duration:2e3})},variant:"outline",disabled:isLoading,className:"rounded-xl px-6 py-3 font-semibold border-border hover:border-purple-500 transition-colors",children:[jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4 mr-2"}),"Limpar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>loadCorpXTransactions(dateFrom,dateTo,currentPage),variant:"outline",disabled:isLoading,className:"rounded-xl px-6 py-3 font-semibold border-border hover:border-purple-500 transition-colors",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),isLoading?"Carregando...":"Atualizar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{try{const headers=["Data/Hora","Valor","Tipo","Cliente","Documento","Descrição","Código","Provedor"],csvData=filteredAndSortedTransactions.map(transaction=>[formatDate(transaction.dateTime),`${"DÉBITO"===transaction.type?"-":"+"}${formatCurrency2(transaction.value)}`,transaction.type,transaction.client||"",transaction.document||"",transaction.descCliente||"",transaction.code||"","CORPX"]),csvContent=[headers.join(","),...csvData.map(row=>row.map(field=>"string"==typeof field&&(field.includes(",")||field.includes('"')||field.includes("\n"))?`"${field.replace(/"/g,'""')}"`:field).join(","))].join("\n"),blob=new Blob(["\ufeff"+csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a"),nomeArquivo=`extrato_corpx_${(new Date).toISOString().split("T")[0]}.csv`;if(void 0!==link.download){const url=URL.createObjectURL(blob);link.setAttribute("href",url),link.setAttribute("download",nomeArquivo),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link),URL.revokeObjectURL(url)}ue$2.success("CSV exportado com sucesso!",{description:`${filteredAndSortedTransactions.length} registros exportados para ${nomeArquivo}`,duration:3e3})}catch(error2){ue$2.error("Erro ao exportar CSV",{description:"Não foi possível gerar o arquivo de exportação",duration:4e3})}},variant:"outline",disabled:isLoading||0===filteredAndSortedTransactions.length,className:"rounded-xl px-6 py-3 font-semibold border-border hover:border-green-500 hover:text-green-600 transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-lg",children:jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-card-foreground",children:"Extrato de Transações CORPX"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[filteredAndSortedTransactions.length," registros encontrados • ",debitCount," débitos • ",creditCount," créditos"]}),(totalDebito>0||totalCredito>0)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[totalDebito>0&&jsxRuntimeExports.jsxs("span",{className:"text-red-600 font-medium",children:["Total Débitos: ",formatCurrency2(totalDebito)]}),totalCredito>0&&jsxRuntimeExports.jsxs("span",{className:"text-green-600 font-medium",children:["Total Créditos: ",formatCurrency2(totalCredito)]}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:["Saldo: ",formatCurrency2(totalCredito-totalDebito)]})]})]})]}),jsxRuntimeExports.jsxs(Badge,{className:"bg-purple-100 text-purple-800 border-purple-200 text-xs font-medium",children:[filteredAndSortedTransactions.length," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-8",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mr-2"}),jsxRuntimeExports.jsx("span",{children:"Carregando transações CORPX..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"text-center p-8",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-2",children:"Erro ao carregar extrato"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:error}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>loadCorpXTransactions(dateFrom,dateTo,1),variant:"outline",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]}):0===displayTransactions.length?jsxRuntimeExports.jsxs("div",{className:"text-center p-8",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-2",children:"Nenhuma transação encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros de data ou busca"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block",children:jsxRuntimeExports.jsx("div",{className:"max-h-[75vh] overflow-y-auto scrollbar-thin",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{className:"sticky top-0 bg-muted/40 backdrop-blur-sm z-10",children:jsxRuntimeExports.jsxs(TableRow,{className:"border-b border-border hover:bg-transparent",children:[jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px]",children:"Tipo"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 min-w-[200px]",children:"Cliente"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[160px]",children:"Documento"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[200px]",children:"Descrição"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px]",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Código"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px] text-center",children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:displayTransactions.map(transaction=>jsxRuntimeExports.jsxs(TableRow,{onClick:()=>{setSelectedTransaction(transaction),setIsModalOpen(!0)},className:"cursor-pointer hover:bg-muted/20 transition-all duration-200 border-b border-border",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium text-card-foreground py-3 text-xs",children:formatDate(transaction.dateTime)}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("span",{className:"font-bold text-sm font-mono "+("DÉBITO"===transaction.type?"text-red-600":"text-green-600"),children:["DÉBITO"===transaction.type?"-":"+",formatCurrency2(transaction.value)]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsx(Badge,{className:("DÉBITO"===transaction.type?"bg-red-100 text-red-800 border-red-200":"bg-green-100 text-green-800 border-green-200")+" rounded-full px-2 py-1 text-xs font-semibold",children:transaction.type})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground break-words",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-card-foreground",children:transaction.client}),transaction.document&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-purple-600",children:["Doc: ",transaction.document]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"CORPX"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground truncate max-w-[160px]",children:transaction.document||"—"}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground break-words max-w-[200px]",children:transaction.descCliente?jsxRuntimeExports.jsx("span",{title:transaction.descCliente,children:transaction.descCliente}):jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"—"})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 rounded-full px-2 py-1 text-xs font-semibold",children:"✓"}),jsxRuntimeExports.jsx(Badge,{className:"bg-purple-50 text-purple-700 border-purple-200 rounded-full px-2 py-1 text-xs font-semibold",children:"CORPX"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-muted-foreground truncate max-w-[100px]",children:transaction.code}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:e3=>{e3.stopPropagation(),navigator.clipboard.writeText(transaction.code),ue$2.success("Código copiado!",{description:"O código foi copiado para a área de transferência",duration:1500})},className:"h-6 w-6 p-0 flex-shrink-0 rounded-lg hover:bg-muted hover:text-card-foreground transition-all duration-200",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCreditToOTC(transaction,e3),disabled:isRecordCredited(transaction),className:cn("h-7 px-2 text-xs transition-all",isRecordCredited(transaction)?"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed":"bg-green-50 hover:bg-green-100 text-green-700 border-green-200 hover:border-green-300"),title:isRecordCredited(transaction)?"Já creditado para cliente OTC":"Creditar para cliente OTC",children:isRecordCredited(transaction)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Creditado"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),"OTC"]})})})})]},transaction.id))})]})})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden space-y-4 p-4",children:displayTransactions.map(transaction=>jsxRuntimeExports.jsx(Card,{onClick:()=>{setSelectedTransaction(transaction),setIsModalOpen(!0)},className:"cursor-pointer hover:shadow-md transition-all duration-200 border border-border",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx(Badge,{className:("DÉBITO"===transaction.type?"bg-red-100 text-red-800 border-red-200":"bg-green-100 text-green-800 border-green-200")+" rounded-full px-2 py-1 text-xs font-semibold",children:transaction.type}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:formatDate(transaction.dateTime)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg font-mono "+("DÉBITO"===transaction.type?"text-red-600":"text-green-600"),children:["DÉBITO"===transaction.type?"-":"+",formatCurrency2(transaction.value)]}),jsxRuntimeExports.jsx(Badge,{className:"bg-purple-50 text-purple-700 border-purple-200 rounded-full px-2 py-1 text-xs font-semibold",children:"CORPX"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-card-foreground",children:transaction.client}),transaction.document&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:["Doc: ",transaction.document]}),transaction.descCliente&&jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:transaction.descCliente})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-3",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:transaction.code}),"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleCreditToOTC(transaction,e3),disabled:isRecordCredited(transaction),className:cn("h-7 px-2 text-xs transition-all",isRecordCredited(transaction)?"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed":"bg-green-50 hover:bg-green-100 text-green-700 border-green-200"),title:isRecordCredited(transaction)?"Já creditado para cliente OTC":"Creditar para cliente OTC",children:isRecordCredited(transaction)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Creditado"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),"OTC"]})})]})]})},transaction.id))}),(totalPages>1||hasMorePages)&&jsxRuntimeExports.jsx("div",{className:"border-t border-border bg-muted/20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",currentPage,": ",filteredAndSortedTransactions.length," transações",hasMorePages?" (+ páginas disponíveis)":""]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>handlePageChange(currentPage-1),disabled:1===currentPage||isLoading,className:"rounded-lg",children:"Anterior"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium px-3",children:["Página ",currentPage," de ",totalPages,hasMorePages&&"+"]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>handlePageChange(currentPage+1),disabled:!hasMorePages||isLoading,className:"rounded-lg",children:"Próxima"})]})]})})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:isModalOpen,onOpenChange:setIsModalOpen,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),"Detalhes da Transação CORPX"]})}),selectedTransaction&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Data/Hora"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold",children:formatDate(selectedTransaction.dateTime)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valor"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-bold "+("DÉBITO"===selectedTransaction.type?"text-red-600":"text-green-600"),children:["DÉBITO"===selectedTransaction.type?"-":"+",formatCurrency2(selectedTransaction.value)]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tipo"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.type})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Código"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:selectedTransaction.code})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cliente"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.client})]}),selectedTransaction.document&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Documento"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.document})]}),selectedTransaction.descCliente&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Descrição"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.descCliente})]})]})})]})}),jsxRuntimeExports.jsx(CreditExtractToOTCModal,{isOpen:creditOTCModalOpen,onClose:wasSuccessful=>{if(wasSuccessful&&selectedExtractRecord){const recordKey=`corpx-${selectedExtractRecord.id}`;setCreditedRecords(prev=>new Set(prev).add(recordKey))}setCreditOTCModalOpen(!1),setSelectedExtractRecord(null)},extractRecord:selectedExtractRecord})]})}function PixNormalComponent(){const{selectedAccount:selectedAccount}=useCorpX(),[isLoading,setIsLoading]=reactExports.useState(!1),[formData,setFormData]=reactExports.useState({key:"",tipo:"2",valor:"",nome:"",description:""});return jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-5 w-5 text-blue-600"})}),"Enviar PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"CORPX"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Transferência instantânea por chave PIX"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"relative space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:selectedAccount.razaoSocial}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["CNPJ: ",selectedAccount.cnpj.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"pix-key",children:"Chave PIX Destinatário"}),jsxRuntimeExports.jsx(Input,{id:"pix-key",value:formData.key,onChange:e3=>setFormData(prev=>({...prev,key:e3.target.value})),placeholder:"email@exemplo.com, CPF, CNPJ, celular ou chave aleatória"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"pix-tipo",children:"Tipo de Transferência"}),jsxRuntimeExports.jsxs(Select,{value:formData.tipo,onValueChange:value=>setFormData(prev=>({...prev,tipo:value})),children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"pix-tipo",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:"Interna"}),jsxRuntimeExports.jsx(SelectItem,{value:"2",children:"PIX"}),jsxRuntimeExports.jsx(SelectItem,{value:"3",children:"Copia e Cola"}),jsxRuntimeExports.jsx(SelectItem,{value:"5",children:"PIX com Dados"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"pix-valor",children:"Valor"}),jsxRuntimeExports.jsx(Input,{id:"pix-valor",value:formData.valor,onChange:e3=>{const formattedValue=(value=>{const numbers2=value.replace(/\D/g,"");return(parseFloat(numbers2)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})(e3.target.value.replace(/\D/g,""));setFormData(prev=>({...prev,valor:formattedValue}))},placeholder:"R$ 0,00"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"pix-nome",children:"Nome Destinatário (Opcional)"}),jsxRuntimeExports.jsx(Input,{id:"pix-nome",value:formData.nome,onChange:e3=>setFormData(prev=>({...prev,nome:e3.target.value})),placeholder:"Nome do destinatário"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"pix-desc",children:"Descrição (Opcional)"}),jsxRuntimeExports.jsx(Input,{id:"pix-desc",value:formData.description,onChange:e3=>setFormData(prev=>({...prev,description:e3.target.value})),placeholder:"Descrição da transferência"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(formData.key&&formData.valor){setIsLoading(!0);try{const valorNumerico=parseFloat(formData.valor.replace(/[^\d,]/g,"").replace(",",".")),payload={tax_document:(valor=selectedAccount.cnpj,valor?valor.replace(/\D/g,""):""),key:formData.key,tipo:parseInt(formData.tipo),valor:valorNumerico,nome:formData.nome||void 0,description:formData.description||void 0},{executarTransferenciaCompletaCorpX:executarTransferenciaCompletaCorpX2}=await __vitePreload(async()=>{const{executarTransferenciaCompletaCorpX:executarTransferenciaCompletaCorpX3}=await Promise.resolve().then(()=>corpx);return{executarTransferenciaCompletaCorpX:executarTransferenciaCompletaCorpX3}},void 0),result=await executarTransferenciaCompletaCorpX2(payload);if(!result||result.error)return void ue$2.error((null==result?void 0:result.message)||"Erro ao executar PIX");ue$2.success("PIX executado com sucesso!"),setFormData({key:"",tipo:"2",valor:"",nome:"",description:""})}catch(error){ue$2.error("Erro ao executar PIX")}finally{setIsLoading(!1)}var valor}else ue$2.error("Chave PIX e valor são obrigatórios")},disabled:isLoading,className:"w-full",children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}),"Executando PIX..."]}):"Executar PIX"})]})]})}function PixProgressModal({isOpen:isOpen,onClose:onClose,progressData:progressData}){const progressPercentage=Math.round(progressData.current/progressData.total*100);return jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-5 w-5 "+("processing"===progressData.status?"animate-spin text-blue-500":"text-green-500")}),"PIX Programado em Execução"]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Progresso Geral"}),jsxRuntimeExports.jsxs("span",{children:[progressData.current," de ",progressData.total," transações"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-300",style:{width:`${progressPercentage}%`}})}),jsxRuntimeExports.jsxs("div",{className:"text-center text-lg font-bold text-blue-600",children:[progressPercentage,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:progressData.current}),jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-800",children:"Processadas"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:progressData.totalProcessed.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsx("div",{className:"text-sm text-green-800",children:"Total Enviado"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-orange-600",children:progressData.total-progressData.current}),jsxRuntimeExports.jsx("div",{className:"text-sm text-orange-800",children:"Restantes"})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Transações:"}),progressData.transactions.map(transaction=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full "+("success"===transaction.status?"bg-green-500":"error"===transaction.status?"bg-red-500":"processing"===transaction.status?"bg-blue-500 animate-pulse":"bg-gray-300")}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Transação #",transaction.id]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-mono",children:transaction.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),"processing"===transaction.status&&jsxRuntimeExports.jsx(LoaderCircle,{className:"h-3 w-3 animate-spin"}),"success"===transaction.status&&jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 text-green-500"}),"error"===transaction.status&&jsxRuntimeExports.jsx(X$2,{className:"h-3 w-3 text-red-500"})]})]},transaction.id))]}),"processing"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-blue-500"}),jsxRuntimeExports.jsxs("span",{className:"text-blue-700",children:["Processando transação ",progressData.current+1," de ",progressData.total,"..."]})]}),"completed"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-green-700",children:"Todas as transações foram processadas com sucesso!"})]}),"error"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-red-50 rounded-lg",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-red-700",children:"Erro durante o processamento. Verifique as transações acima."})]})]}),"processing"!==progressData.status&&jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:onClose,children:"Fechar"})})]})})}function PixProgramadoComponent(){const{selectedAccount:selectedAccount}=useCorpX(),[isLoading,setIsLoading]=reactExports.useState(!1),[showProgressModal,setShowProgressModal]=reactExports.useState(!1),[progressData,setProgressData]=reactExports.useState({current:0,total:0,currentValue:0,totalProcessed:0,status:"processing",transactions:[]}),[formData,setFormData]=reactExports.useState({chave_destino:"",tipo:"2",montante:"",valor:"",intervalo:"5000",nome:"",description:""}),formatCurrency2=value=>{const numbers2=value.replace(/\D/g,"");return(parseFloat(numbers2)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})};return jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-transparent to-purple-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:jsxRuntimeExports.jsx(RefreshCw,{className:"h-5 w-5 text-purple-600"})}),"PIX Programado",jsxRuntimeExports.jsx(Badge,{className:"bg-purple-100 text-purple-800 border-purple-200 text-xs font-medium",children:"CORPX"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Múltiplas transferências automatizadas"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"relative space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:selectedAccount.razaoSocial}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["CNPJ: ",selectedAccount.cnpj.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"prog-key",children:"Chave PIX Destinatário"}),jsxRuntimeExports.jsx(Input,{id:"prog-key",value:formData.chave_destino,onChange:e3=>setFormData(prev=>({...prev,chave_destino:e3.target.value})),placeholder:"email@exemplo.com, CPF, CNPJ, celular ou chave aleatória"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"prog-montante",children:"Montante Total"}),jsxRuntimeExports.jsx(Input,{id:"prog-montante",value:formData.montante,onChange:e3=>{const value=e3.target.value.replace(/\D/g,""),formattedValue=formatCurrency2(value);setFormData(prev=>({...prev,montante:formattedValue}))},placeholder:"R$ 0,00"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"prog-valor",children:"Valor por Transação"}),jsxRuntimeExports.jsx(Input,{id:"prog-valor",value:formData.valor,onChange:e3=>{const value=e3.target.value.replace(/\D/g,""),formattedValue=formatCurrency2(value);setFormData(prev=>({...prev,valor:formattedValue}))},placeholder:"R$ 0,00"})]})]}),formData.montante&&formData.valor&&jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-50 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-800",children:[jsxRuntimeExports.jsxs("strong",{children:[(()=>{const montanteNum=parseFloat(formData.montante.replace(/[^\d,]/g,"").replace(",","."))||0,valorNum=parseFloat(formData.valor.replace(/[^\d,]/g,"").replace(",","."))||0;return 0===valorNum?0:Math.ceil(montanteNum/valorNum)})()," transações"]})," serão executadas"]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"prog-tipo",children:"Tipo"}),jsxRuntimeExports.jsxs(Select,{value:formData.tipo,onValueChange:value=>setFormData(prev=>({...prev,tipo:value})),children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"prog-tipo",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:"Interna"}),jsxRuntimeExports.jsx(SelectItem,{value:"2",children:"PIX"}),jsxRuntimeExports.jsx(SelectItem,{value:"3",children:"Copia e Cola"}),jsxRuntimeExports.jsx(SelectItem,{value:"5",children:"PIX com Dados"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"prog-intervalo",children:"Intervalo (ms)"}),jsxRuntimeExports.jsx(Input,{id:"prog-intervalo",value:formData.intervalo,onChange:e3=>setFormData(prev=>({...prev,intervalo:e3.target.value})),placeholder:"5000",type:"number"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"prog-nome",children:"Nome Destinatário (Opcional)"}),jsxRuntimeExports.jsx(Input,{id:"prog-nome",value:formData.nome,onChange:e3=>setFormData(prev=>({...prev,nome:e3.target.value})),placeholder:"Nome do destinatário"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"prog-desc",children:"Descrição (Opcional)"}),jsxRuntimeExports.jsx(Input,{id:"prog-desc",value:formData.description,onChange:e3=>setFormData(prev=>({...prev,description:e3.target.value})),placeholder:"Descrição das transferências"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(!formData.chave_destino||!formData.montante||!formData.valor)return void ue$2.error("Chave PIX, montante e valor são obrigatórios");const montanteNumerico=parseFloat(formData.montante.replace(/[^\d,]/g,"").replace(",",".")),valorNumerico=parseFloat(formData.valor.replace(/[^\d,]/g,"").replace(",","."));if(valorNumerico>montanteNumerico)return void ue$2.error("Valor por transação não pode ser maior que o montante total");const totalTransactions=Math.ceil(montanteNumerico/valorNumerico),intervalo=parseInt(formData.intervalo);setIsLoading(!0);try{const payload={tax_document:(valor=selectedAccount.cnpj,valor?valor.replace(/\D/g,""):""),chave_destino:formData.chave_destino,tipo:parseInt(formData.tipo),montante:montanteNumerico,valor:valorNumerico,intervalo:intervalo,nome:formData.nome||void 0,description:formData.description||void 0};(async(totalTransactions,valorPorTransacao,intervalo)=>{const transactions=Array.from({length:totalTransactions},(_2,i2)=>({id:i2+1,status:"pending",value:valorPorTransacao,message:""}));setProgressData({current:0,total:totalTransactions,currentValue:valorPorTransacao,totalProcessed:0,status:"processing",transactions:transactions}),setShowProgressModal(!0);for(let i2=0;i2<totalTransactions;i2++){setProgressData(prev=>({...prev,transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:"processing"}:t3)})),await new Promise(resolve=>setTimeout(resolve,Math.max(intervalo,1e3)));const isSuccess=Math.random()>.05;setProgressData(prev=>({...prev,current:i2+1,totalProcessed:prev.totalProcessed+(isSuccess?valorPorTransacao:0),transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:isSuccess?"success":"error",message:isSuccess?"Transação processada com sucesso":"Erro no processamento"}:t3)}))}setProgressData(prev=>({...prev,status:"completed"}))})(totalTransactions,valorNumerico,intervalo);const{executarTransferenciaCompletaProgramadaCorpX:executarTransferenciaCompletaProgramadaCorpX2}=await __vitePreload(async()=>{const{executarTransferenciaCompletaProgramadaCorpX:executarTransferenciaCompletaProgramadaCorpX3}=await Promise.resolve().then(()=>corpx);return{executarTransferenciaCompletaProgramadaCorpX:executarTransferenciaCompletaProgramadaCorpX3}},void 0);executarTransferenciaCompletaProgramadaCorpX2(payload).then(result=>{result&&!result.error||setProgressData(prev=>({...prev,status:"error"}))}).catch(error=>{setProgressData(prev=>({...prev,status:"error"}))}),setFormData({chave_destino:"",tipo:"2",montante:"",valor:"",intervalo:"5000",nome:"",description:""})}catch(error){ue$2.error("Erro ao executar PIX programado"),setShowProgressModal(!1)}finally{setIsLoading(!1)}var valor},disabled:isLoading,className:"w-full",children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}),"Executando PIX Programado..."]}):"Executar PIX Programado"})]}),jsxRuntimeExports.jsx(PixProgressModal,{isOpen:showProgressModal,onClose:()=>setShowProgressModal(!1),progressData:progressData})]})}function PixActionsTabCorpX(){return jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsx(PixNormalComponent,{}),jsxRuntimeExports.jsx(PixProgramadoComponent,{})]})})}function CriarChavePixCorpX({onChaveCriada:onChaveCriada}){const{selectedAccount:selectedAccount,taxDocument:taxDocument}=useCorpX(),[tipoChave,setTipoChave]=React$1.useState(""),[valorChave,setValorChave]=React$1.useState(""),[isCreating,setIsCreating]=React$1.useState(!1),resetarFormulario=()=>{setTipoChave(""),setValorChave("")};return jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500/5 via-transparent to-purple-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 text-purple-600"})}),"Criar Chave PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-purple-100 text-purple-800 border-purple-200 text-xs font-medium",children:"CORPX"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Registrar nova chave PIX na conta"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"relative space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:selectedAccount.razaoSocial}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["CNPJ: ",selectedAccount.cnpj.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5")]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"tipo-chave",children:"Tipo da Chave PIX"}),jsxRuntimeExports.jsxs(Select,{value:tipoChave,onValueChange:setTipoChave,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🆔"}),jsxRuntimeExports.jsx("span",{children:"CPF"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🏢"}),jsxRuntimeExports.jsx("span",{children:"CNPJ"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📱"}),jsxRuntimeExports.jsx("span",{children:"Celular"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📧"}),jsxRuntimeExports.jsx("span",{children:"E-mail"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🎲"}),jsxRuntimeExports.jsx("span",{children:"Aleatória"})]})})]})]})]}),tipoChave&&"5"!==tipoChave&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$1,{htmlFor:"valor-chave",children:["Valor da Chave ",(tipo=tipoChave,{1:"CPF",2:"CNPJ",3:"Celular",4:"E-mail",5:"Aleatória"}[tipo])]}),jsxRuntimeExports.jsx(Input,{id:"valor-chave",type:"text",value:valorChave,onChange:e3=>setValorChave(e3.target.value),placeholder:(tipo=>({1:"000.000.000-00",2:"00.000.000/0000-00",3:"+554399991234",4:"seuemail@exemplo.com",5:"Será gerada automaticamente"}[tipo]))(tipoChave),disabled:isCreating})]}),"5"===tipoChave&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Chave Aleatória:"})," Será gerada automaticamente uma chave única (UUID) para sua conta."]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{try{if(!tipoChave)return void ue$2.error("Selecione o tipo da chave PIX");const erroValidacao=((tipo,valor)=>{if("5"===tipo)return null;if(!valor.trim())return"Valor da chave é obrigatório";switch(tipo){case"1":if(!/^\d{11}$/.test(valor.replace(/\D/g,"")))return"CPF deve ter 11 dígitos";break;case"2":if(!/^\d{14}$/.test(valor.replace(/\D/g,"")))return"CNPJ deve ter 14 dígitos";break;case"3":break;case"4":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(valor))return"Email inválido"}return null})(tipoChave,valorChave);if(erroValidacao)return void ue$2.error(erroValidacao);setIsCreating(!0);const cnpj=taxDocument.replace(/\D/g,""),{criarChavePixCorpX:criarChavePixCorpX2}=await __vitePreload(async()=>{const{criarChavePixCorpX:criarChavePixCorpX3}=await Promise.resolve().then(()=>corpx);return{criarChavePixCorpX:criarChavePixCorpX3}},void 0),dadosRequisicao={tax_document:cnpj,tipo:parseInt(tipoChave)};"5"!==tipoChave&&valorChave.trim()&&(dadosRequisicao.key=valorChave.replace(/\D/g,""));const resultado=await criarChavePixCorpX2(dadosRequisicao);resultado&&!resultado.erro?(ue$2.success("Chave PIX criada com sucesso!",{description:resultado.message||"Nova chave registrada na conta",duration:3e3}),resetarFormulario(),onChaveCriada()):ue$2.error("Erro ao criar chave PIX",{description:(null==resultado?void 0:resultado.message)||"Tente novamente",duration:4e3})}catch(err2){ue$2.error("Erro ao criar chave PIX",{description:err2.message||"Verifique os dados e tente novamente",duration:4e3})}finally{setIsCreating(!1)}},disabled:!tipoChave||isCreating,className:"flex-1",children:isCreating?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Criando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Criar Chave"]})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:resetarFormulario,disabled:isCreating,children:"Limpar"})]})]})]});var tipo}function PixKeysTabCorpX(){const{taxDocument:taxDocument}=useCorpX(),[chaves,setChaves]=React$1.useState([]),[isLoading,setIsLoading]=React$1.useState(!1),[error,setError]=React$1.useState(""),carregarChaves=async()=>{try{setIsLoading(!0),setError("");const cnpj=taxDocument.replace(/\D/g,""),{listarChavesPixCorpX:listarChavesPixCorpX2}=await __vitePreload(async()=>{const{listarChavesPixCorpX:listarChavesPixCorpX3}=await Promise.resolve().then(()=>corpx);return{listarChavesPixCorpX:listarChavesPixCorpX3}},void 0),resultado=await listarChavesPixCorpX2(cnpj);if(resultado&&!resultado.erro&&resultado.chaves){const chavesMapeadas=resultado.chaves.map((chave,index)=>{return{...chave,type:(tipoNumerico=chave.type,{1:"CNPJ",2:"PHONE",3:"EMAIL",4:"RANDOM",5:"RANDOM"}[String(tipoNumerico)]||"RANDOM"),_original:chave};var tipoNumerico});setChaves(chavesMapeadas)}else setChaves([])}catch(err2){setError(err2.message||"Erro ao carregar chaves PIX"),setChaves([])}finally{setIsLoading(!1)}};React$1.useEffect(()=>{carregarChaves()},[]),React$1.useEffect(()=>{const cnpjNumerico=taxDocument.replace(/\D/g,"");cnpjNumerico&&14===cnpjNumerico.length&&(carregarChaves(),ue$2.info("Atualizando chaves PIX para nova conta..."))},[taxDocument]);const formatarChave=(key,type)=>{if(!key||null==key||""===key)return"Chave inválida";const keyStr=String(key);if("PHONE"===type)return keyStr.replace(/(\+55)(\d{2})(\d{4,5})(\d{4})/,"$1 ($2) $3-****");if("EMAIL"===type){const[local,domain]=keyStr.split("@");return`${local[0]}***@${domain}`}return"CNPJ"===type?keyStr.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-**"):"RANDOM"===type?(36===keyStr.length&&keyStr.includes("-"),keyStr):keyStr};return jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsx(CriarChavePixCorpX,{onChaveCriada:carregarChaves}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-transparent to-amber-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:jsxRuntimeExports.jsx(Key,{className:"h-5 w-5 text-amber-600"})}),"Minhas Chaves PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-purple-100 text-purple-800 border-purple-200 text-xs font-medium",children:"CORPX"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Chaves registradas na conta"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-muted-foreground",children:"Carregando chaves..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"p-4 border border-red-200 bg-red-50 rounded-lg text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-red-600",children:["❌ ",error]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:carregarChaves,className:"mt-3",children:"Tentar novamente"})]}):0===chaves.length?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[jsxRuntimeExports.jsx(Key,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma chave PIX registrada"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Crie sua primeira chave PIX usando o painel ao lado"})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"w-full justify-center",children:"0 chaves registradas"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[chaves.length," chave",1!==chaves.length?"s":""," registrada",1!==chaves.length?"s":""]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:carregarChaves,disabled:isLoading,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-3 w-3 mr-1"}),"Atualizar"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:chaves.map(chave=>{return jsxRuntimeExports.jsx("div",{className:"p-4 border rounded-lg hover:bg-muted/20 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:(type=chave.type,{CNPJ:"CNPJ",PHONE:"Celular",EMAIL:"E-mail",RANDOM:"Aleatória"}[type]||type)}),jsxRuntimeExports.jsx(Badge,{variant:"ACTIVE"===chave.status?"default":"secondary",className:"text-xs",children:"ACTIVE"===chave.status?"Ativa":"Inativa"})]}),jsxRuntimeExports.jsx("p",{className:"font-mono text-sm font-medium",children:formatarChave(chave.key,chave.type)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Criada em: ",new Date(chave.created_at).toLocaleDateString("pt-BR")]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{const chaveParaCopiar=chave.key||chave.keypix||"";chaveParaCopiar?(navigator.clipboard.writeText(chaveParaCopiar),ue$2.success("Chave PIX copiada!",{description:`Chave: ${chaveParaCopiar.substring(0,20)}...`,duration:3e3})):ue$2.error("Erro ao copiar chave!",{description:"Chave não encontrada ou inválida",duration:3e3})},className:"h-8 w-8 p-0",title:"Copiar chave PIX",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",disabled:!0,children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})]})},chave.id);var type})})]})})]})]})})}function AccountSelector(){const{selectedAccount:selectedAccount,setSelectedAccount:setSelectedAccount}=useCorpX(),formatCNPJ=cnpj=>cnpj.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5");return jsxRuntimeExports.jsxs(Card,{className:"mb-6",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"h-5 w-5"}),"Seleção da Conta CORPX"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Selecione a conta que deseja consultar"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"account-select",children:"Conta"}),jsxRuntimeExports.jsxs(Select,{value:selectedAccount.id,onValueChange:accountId=>{const account=CORPX_ACCOUNTS.find(acc=>acc.id===accountId);account&&(setSelectedAccount(account),ue$2.success(`Conta alterada para: ${account.razaoSocial}`))},children:[jsxRuntimeExports.jsx(SelectTrigger,{id:"account-select",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:CORPX_ACCOUNTS.map(account=>jsxRuntimeExports.jsx(SelectItem,{value:account.id,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:account.razaoSocial}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-mono",children:formatCNPJ(account.cnpj)})]})},account.id))})]})]}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-sm",children:selectedAccount.razaoSocial}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["CNPJ: ",formatCNPJ(selectedAccount.cnpj)]})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"text-xs",children:"Ativa"})]})})]})})]})}function CorpXContent(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsx(TopBarCorpX,{}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8",children:[jsxRuntimeExports.jsx(AccountSelector,{}),jsxRuntimeExports.jsxs(Tabs,{defaultValue:"extract",className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs(TabsList,{className:"grid grid-cols-3 w-fit bg-muted/30 p-1 h-auto",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"extract",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Extrato"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"actions",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Ações PIX"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"keys",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Chaves PIX"}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"ml-2 text-xs px-2 py-0",children:"0"})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"extract",className:"mt-0",children:jsxRuntimeExports.jsx(ExtractTabCorpX,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"actions",className:"mt-0",children:jsxRuntimeExports.jsx(PixActionsTabCorpX,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"keys",className:"mt-0",children:jsxRuntimeExports.jsx(PixKeysTabCorpX,{})})]})]})]})}function CorpXPage(){return jsxRuntimeExports.jsx(CorpXProvider,{children:jsxRuntimeExports.jsx(CorpXContent,{})})}const TCR_CONFIG_endpoints={consultarSaldo:"/api/corpx/account/saldo",consultarExtrato:"/api/corpx/account/extrato",criarConta:"/api/corpx/account/criar",listarChavesPix:"/api/corpx/pix/chaves",criarChavePix:"/api/corpx/pix/chave",cancelarChavePix:"/api/corpx/pix/chave",criarTransferenciaPix:"/api/corpx/pix/transferencia",confirmarTransferenciaPix:"/api/corpx/pix/transferencia/confirmar",gerarQRCodePix:"/api/corpx/pix/qrcode",pixProgramadoComQR:"/api/corpx/pix/programado-qr"};async function consultarSaldoTCR(cnpj){try{const tokenStatus=await async function(){try{const{TOKEN_STORAGE:TOKEN_STORAGE2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3}},void 0),token=TOKEN_STORAGE2.get();if(!token)return{isValid:!1,isExpired:!0,timeToExpiry:0,details:{error:"No token found"}};const payload=JSON.parse(atob(token.split(".")[1])),now2=Math.floor(Date.now()/1e3),isExpired=payload.exp<now2;return{isValid:!isExpired,isExpired:isExpired,timeToExpiry:payload.exp-now2,details:{userId:payload.sub||payload.id||payload.user_id,exp:payload.exp,iat:payload.iat,currentTime:now2,tokenLength:token.length}}}catch(error){return{isValid:!1,isExpired:!0,timeToExpiry:0,details:{error:error.message}}}}();if(!tokenStatus.isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.consultarSaldo}?tax_document=${cnpj}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const backendResponse=await response.json();return!1===backendResponse.error&&backendResponse.data?{erro:!1,saldo:backendResponse.data.globalBalance||backendResponse.data.saldo||0,saldoDisponivel:backendResponse.data.globalBalance||backendResponse.data.saldo||0,limite:0,limiteBloqueado:0}:{erro:!0,saldo:0,saldoDisponivel:0,limite:0,limiteBloqueado:0}}catch(error){return{erro:!0,saldo:0,saldoDisponivel:0,limite:0,limiteBloqueado:0}}}async function consultarExtratoTCR(params){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestBody={tax_document:params.cnpj,page:params.page||1},queryParams=new URLSearchParams;queryParams.append("itensporpagina","500"),params.dataInicio&&queryParams.append("dataini",params.dataInicio),params.dataFim&&queryParams.append("datafim",params.dataFim);const urlWithParams=`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.consultarExtrato}?${queryParams.toString()}`,response=await fetch(urlWithParams,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(requestBody)});if(!response.ok){let errorDetails;try{const errorText=await response.text();try{errorDetails=JSON.parse(errorText)}catch{errorDetails={message:errorText}}}catch(readError){errorDetails={message:"Erro ao ler resposta do servidor"}}throw new Error(`HTTP error! status: ${response.status} - ${JSON.stringify(errorDetails)}`)}const responseData=await response.json(),backendResponse=responseData;if(!1===backendResponse.error&&backendResponse.data){let rawTransactions=[];rawTransactions=Array.isArray(backendResponse.data)?backendResponse.data:backendResponse.data.extrato&&Array.isArray(backendResponse.data.extrato)?backendResponse.data.extrato:backendResponse.data.transactions&&Array.isArray(backendResponse.data.transactions)?backendResponse.data.transactions:backendResponse.data.items&&Array.isArray(backendResponse.data.items)?backendResponse.data.items:[];const transactions=rawTransactions.map((item,index)=>{var _a3,_b3,_c2,_d2;if("Saldo Atual"===item.data||"Saldo Atual"===item.descricao)return null;const valorString=item.valor||"0",valor=parseFloat(valorString.toString()),dataHora=item.data&&item.hora?`${item.data} ${item.hora}`:item.data;return{id:item.nrMovimento||item.idEndToEnd||index.toString(),date:dataHora||(new Date).toISOString().split("T")[0],description:item.descricao||"Transação",amount:Math.abs(valor),type:"C"===item.tipo?"credit":"debit",balance:0,_original:{...item,endToEndId:item.idEndToEnd,e2eId:item.idEndToEnd,payerDocument:null==(_a3=item.payer)?void 0:_a3.document,payerName:null==(_b3=item.payer)?void 0:_b3.fullName,beneficiaryDocument:null==(_c2=item.beneficiary)?void 0:_c2.document,beneficiaryPixKey:null==(_d2=item.beneficiary)?void 0:_d2.pixKey,nrMovimento:item.nrMovimento,valor:item.valor,tipo:item.tipo,data:item.data,hora:item.hora}}}).filter(t3=>null!==t3);return{erro:!1,page:1,totalPages:1,transactions:transactions}}if(responseData&&(Array.isArray(responseData)||responseData.length>0)){const directData=Array.isArray(responseData)?responseData:[responseData];return{erro:!1,page:1,totalPages:1,transactions:directData.map((item,index)=>({id:item.id||index.toString(),date:item.date||item.data||(new Date).toISOString().split("T")[0],description:item.description||item.descricao||"Transação",amount:parseFloat(item.amount||item.valor||"0"),type:"credit"===item.type||"C"===item.tipo?"credit":"debit",balance:parseFloat(item.balance||item.saldo||"0")}))}}return{erro:!0,page:1,totalPages:1,transactions:[]}}catch(error){return{erro:!0,page:1,totalPages:1,transactions:[]}}}async function criarContaTCR(dados){var _a3;try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestBody={nome_completo:dados.name,tax_document:dados.tax_document},response=await fetch(`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.criarConta}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(requestBody)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();return!1===backendResponse.error?{erro:!1,message:backendResponse.message,account_id:(null==(_a3=backendResponse.data)?void 0:_a3.id)||null}:{erro:!0,message:backendResponse.message}}catch(error){return null}}async function listarChavesPixTCR(cnpj){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.listarChavesPix}?tax_document=${cnpj}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`}});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();if(!1===backendResponse.error&&backendResponse.data){return{erro:!1,chaves:backendResponse.data.map((item,index)=>({id:item.keypix||item.id||item.chave||index.toString(),key:item.keypix||item.chave||item.key||"",type:item.tipo||item.type||"RANDOM",status:item.status||"ACTIVE",created_at:item.criado||item.created_at||item.dataCriacao||(new Date).toISOString()}))}}return{erro:!0,chaves:[]}}catch(error){return null}}async function criarChavePixTCR(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.criarChavePix}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();return!1===backendResponse.error?{erro:!1,message:backendResponse.message}:{erro:!0,message:backendResponse.message}}catch(error){return null}}async function cancelarChavePixTCR(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.cancelarChavePix}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();return!1===backendResponse.error?{erro:!1,message:backendResponse.message}:{erro:!0,message:backendResponse.message}}catch(error){return null}}async function criarTransferenciaPixTCR(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.criarTransferenciaPix}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();if(!1===backendResponse.error&&backendResponse.data){const data=backendResponse.data;return{erro:!1,type:data.type||"PIX",key:dados.key,branch:data.branch||data.agencia||"",number:data.number||data.conta||"",account_type:data.account_type||"PAYMENT",tax_document:data.tax_document||data.cpf_cnpj||"",nome:data.nome||data.recebedorNome||"",ispb:data.ispb||"",compe:data.compe||"",banco:data.banco||data.bancoNome||"",endtoend:data.endtoend||data.endToEnd||data.id||"",Valor:dados.valor.toString()}}return{erro:!0,type:"",key:dados.key,branch:"",number:"",account_type:"",tax_document:"",nome:"",ispb:"",compe:"",banco:"",endtoend:"",Valor:dados.valor.toString()}}catch(error){return null}}async function confirmarTransferenciaPixTCR(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const url=`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.confirmarTransferenciaPix}?endtoend=${dados.endtoend}&tax_document=${dados.tax_document}`,response=await fetch(url,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`}});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);const backendResponse=await response.json();if(!1===backendResponse.error&&backendResponse.data){const data=backendResponse.data;return{message:backendResponse.message,endtoend:dados.endtoend,erro:!1,id:data.id||data.transactionId||"",idEndToEnd:data.idEndToEnd||data.endtoend||dados.endtoend,transactionDate:data.transactionDate||(new Date).toISOString(),transactionCode:data.transactionCode||"",status:data.status||"created",amount:parseFloat(data.amount||data.valor||"0"),"Tipo de transação":"Transferência Pix",Data:data.transactionDate||(new Date).toISOString(),Valor:`R$ ${parseFloat(data.amount||data.valor||"0").toFixed(2).replace(".",",")}`,"Código da transação":data.idEndToEnd||dados.endtoend,De:data.pagadorNome||"Conta TCR","CPF/CNPJ":data.recebedorDocument||"***",Para:data.recebedorNome||"Beneficiário","Descrição":data.descricao||""}}return null}catch(error){return null}}async function gerarQRCodePixTCR(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.gerarQRCodePix}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return await response.json()}catch(error){return null}}async function enviarPixCompletoTCR(dadosTransferencia){try{const criacao=await criarTransferenciaPixTCR(dadosTransferencia);if(!criacao||criacao.erro)throw new Error("Erro ao criar transferência");const confirmacao=await confirmarTransferenciaPixTCR({endtoend:criacao.endtoend,tax_document:dadosTransferencia.tax_document});if(!confirmacao||confirmacao.erro)throw new Error("Erro ao confirmar transferência");return{criacao:criacao,confirmacao:confirmacao}}catch(error){return null}}function formatarValorTCR(valor){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(valor)}function validarCNPJTCR(cnpj){return 14===cnpj.replace(/\D/g,"").length}function formatarChavePixTCR(chave,tipo){switch(tipo){case 2:return chave.startsWith("+55")?chave:`+55${chave}`;case 3:return chave.toLowerCase();case 1:return chave.replace(/\D/g,"");default:return chave}}function tratarErroTCR(error){var _a3;if(error.response)switch(error.response.status){case 400:return"Dados inválidos. Verifique os campos.";case 401:return"Chave PIX não encontrada.";case 402:return"Conta não aprovada ou saldo insuficiente.";case 422:return"Erro de validação dos dados.";case 500:return"Erro interno. Tente novamente.";default:return(null==(_a3=error.response.data)?void 0:_a3.message)||"Erro na operação. Tente novamente."}return"Erro de conexão. Verifique sua internet."}async function executarPixProgramadoComQRTCR(dados){try{const{TOKEN_STORAGE:TOKEN_STORAGE2,API_CONFIG:API_CONFIG2}=await __vitePreload(async()=>{const{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}=await Promise.resolve().then(()=>api$1);return{TOKEN_STORAGE:TOKEN_STORAGE3,API_CONFIG:API_CONFIG3}},void 0),userToken=TOKEN_STORAGE2.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const response=await fetch(`${API_CONFIG2.BASE_URL}${TCR_CONFIG_endpoints.pixProgramadoComQR}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`},body:JSON.stringify(dados)});if(!response.ok)throw new Error(`HTTP error! status: ${response.status}`);return await response.json()}catch(error){return null}}const TCRService={consultarSaldo:consultarSaldoTCR,consultarExtrato:consultarExtratoTCR,criarConta:criarContaTCR,listarChavesPix:listarChavesPixTCR,criarChavePix:criarChavePixTCR,cancelarChavePix:cancelarChavePixTCR,criarTransferenciaPix:criarTransferenciaPixTCR,confirmarTransferenciaPix:confirmarTransferenciaPixTCR,enviarPixCompleto:enviarPixCompletoTCR,gerarQRCodePix:gerarQRCodePixTCR,executarPixProgramadoComQR:executarPixProgramadoComQRTCR,formatarValor:formatarValorTCR,validarCNPJ:validarCNPJTCR,formatarChavePix:formatarChavePixTCR,tratarErro:tratarErroTCR},tcr=Object.freeze(Object.defineProperty({__proto__:null,TCRService:TCRService,cancelarChavePixTCR:cancelarChavePixTCR,confirmarTransferenciaPixTCR:confirmarTransferenciaPixTCR,consultarExtratoTCR:consultarExtratoTCR,consultarSaldoTCR:consultarSaldoTCR,criarChavePixTCR:criarChavePixTCR,criarContaTCR:criarContaTCR,criarTransferenciaPixTCR:criarTransferenciaPixTCR,enviarPixCompletoTCR:enviarPixCompletoTCR,executarPixProgramadoComQRTCR:executarPixProgramadoComQRTCR,formatarChavePixTCR:formatarChavePixTCR,formatarValorTCR:formatarValorTCR,gerarQRCodePixTCR:gerarQRCodePixTCR,listarChavesPixTCR:listarChavesPixTCR,tratarErroTCR:tratarErroTCR,validarCNPJTCR:validarCNPJTCR},Symbol.toStringTag,{value:"Module"}));function TopBarTCR(){const{saldo:saldoData,isLoading:isLoadingSaldo,error:errorSaldo,refresh:handleRefresh,lastUpdated:lastUpdated}=function({cnpj:cnpj,autoRefresh:autoRefresh=!1,refreshInterval:refreshInterval=3e4}){const[saldo,setSaldo]=reactExports.useState(null),[isLoading,setIsLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),[lastUpdated,setLastUpdated]=reactExports.useState(null),intervalRef=reactExports.useRef(null),isFirstLoad=reactExports.useRef(!0),fetchSaldo=reactExports.useCallback(async()=>{!isFirstLoad.current&&autoRefresh||setIsLoading(!0),setError(null);try{const resultado=await consultarSaldoTCR(cnpj);resultado?resultado.erro?(setError("Erro ao consultar saldo TCR"),setSaldo(null)):(setSaldo(resultado),setLastUpdated(new Date)):(setError("Erro de comunicação com a API"),setSaldo(null))}catch(err2){setError(err2.message||"Erro ao consultar saldo"),setSaldo(null)}finally{setIsLoading(!1),isFirstLoad.current=!1}},[cnpj,autoRefresh]),refresh=reactExports.useCallback(async()=>{isFirstLoad.current=!0,await fetchSaldo()},[fetchSaldo]);return reactExports.useEffect(()=>{if(autoRefresh&&refreshInterval>0)return intervalRef.current&&clearInterval(intervalRef.current),intervalRef.current=setInterval(()=>{fetchSaldo()},refreshInterval),()=>{intervalRef.current&&(clearInterval(intervalRef.current),intervalRef.current=null)}},[autoRefresh,refreshInterval,fetchSaldo]),reactExports.useEffect(()=>{fetchSaldo()},[fetchSaldo]),reactExports.useEffect(()=>()=>{intervalRef.current&&clearInterval(intervalRef.current)},[]),{saldo:saldo,isLoading:isLoading,error:error,refresh:refresh,lastUpdated:lastUpdated}}({cnpj:"53781325000115",autoRefresh:!1}),formatCurrency2=value=>TCRService.formatarValor(value);return jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 bg-tcr-dark/95 backdrop-blur-xl border-b border-border h-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-green-600 to-green-800 shadow-xl",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"TCR"}),jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:"Banking"}),isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-blue-500"}):errorSaldo||(null==saldoData?void 0:saldoData.erro)?jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Central de transferências PIX"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:handleRefresh,disabled:isLoadingSaldo,className:"hover:bg-muted rounded-xl",children:[isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"}):jsxRuntimeExports.jsx(RefreshCcw,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:isLoadingSaldo?"Atualizando...":"Atualizar"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[errorSaldo&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-red-700 text-sm",children:errorSaldo})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-emerald-500/20",children:jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-emerald-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo principal"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 "+(errorSaldo||(null==saldoData?void 0:saldoData.erro)?"text-destructive":"text-foreground"),children:isLoadingSaldo?"Carregando...":errorSaldo?"Erro ao consultar saldo TCR":(null==saldoData?void 0:saldoData.erro)?"Erro na API TCR":formatCurrency2((null==saldoData?void 0:saldoData.saldo)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Saldo total"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-blue-500/20",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-blue-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo disponível"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 "+(errorSaldo||(null==saldoData?void 0:saldoData.erro)?"text-destructive":"text-foreground"),children:isLoadingSaldo?"Carregando...":errorSaldo||(null==saldoData?void 0:saldoData.erro)?"Erro":formatCurrency2((null==saldoData?void 0:saldoData.saldoDisponivel)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Para transferências"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-orange-500/20",children:jsxRuntimeExports.jsx(Lock,{className:"h-5 w-5 text-orange-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Limite bloqueado"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 text-foreground",children:isLoadingSaldo?"Carregando...":errorSaldo||(null==saldoData?void 0:saldoData.erro)?"Erro":formatCurrency2((null==saldoData?void 0:saldoData.limiteBloqueado)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Reservado"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:jsxRuntimeExports.jsxs("span",{children:["TCR • BRL • ",lastUpdated?lastUpdated.toLocaleTimeString("pt-BR"):"Nunca atualizado"]})})})]})]})}const TCR_VERIFICACAO_CONFIG_baseUrl=PUBLIC_ENV.DIAGNOSTICO_API_URL,TCR_VERIFICACAO_CONFIG_endpoints={buscarUsuarioPorEndToEnd:"/brbtc/buscar-usuario-por-endtoend"},TCR_VERIFICACAO_CONFIG_timeout=15e3;function validarEndToEnd(endtoend){if(!endtoend||"string"!=typeof endtoend)return!1;return endtoend.trim().length>=10}async function makeRequest(endpoint,options={}){const url=`${TCR_VERIFICACAO_CONFIG_baseUrl}${endpoint}`,headers={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${localStorage.getItem("jwt_token")||sessionStorage.getItem("jwt_token")}`},config2={...options,headers:{...headers,...options.headers||{}},signal:AbortSignal.timeout(TCR_VERIFICACAO_CONFIG_timeout)};try{const response=await fetch(url,config2);if(!response.ok){await response.text();throw new Error(`Erro ${response.status}: ${response.statusText}`)}return await response.json()}catch(error){if(error instanceof Error){if("AbortError"===error.name)throw new Error("Timeout: A requisição demorou muito para responder");throw error}throw new Error("Erro desconhecido na requisição")}}async function buscarUsuarioPorEndToEnd(endtoend){var _a3;if(!validarEndToEnd(endtoend)){return{sucesso:!1,erro:"EndToEnd inválido ou muito curto"}}try{const request={endtoend:endtoend.trim()},queryParams=new URLSearchParams({endtoend:request.endtoend}),response=await makeRequest(`${TCR_VERIFICACAO_CONFIG_endpoints.buscarUsuarioPorEndToEnd}?${queryParams}`,{method:"GET"});if(response.sucesso&&(null==(_a3=response.dados)?void 0:_a3.id_usuario))return{sucesso:!0,id_usuario:response.dados.id_usuario,usuario:{id:response.dados.id_usuario},message:response.mensagem||"Usuário encontrado com sucesso"};return{sucesso:!1,erro:response.mensagem||response.message||response.erro||"Usuário não encontrado para este EndToEnd"}}catch(error){return{sucesso:!1,erro:`Erro na busca do usuário: ${error instanceof Error?error.message:"Erro desconhecido"}`}}}const TCRVerificacaoService={buscarUsuarioPorEndToEnd:buscarUsuarioPorEndToEnd,verificarTransacaoTCR:async function(transaction){var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2;let endtoend="";if(endtoend=(null==(_a3=transaction._original)?void 0:_a3.idEndToEnd)||(null==(_b3=transaction._original)?void 0:_b3.endToEndId)||(null==(_c2=transaction._original)?void 0:_c2.e2eId)||(null==(_d2=transaction._original)?void 0:_d2.endtoend)||(null==(_e3=transaction._original)?void 0:_e3.end_to_end)||(null==(_f2=transaction._original)?void 0:_f2.transaction_id)||(null==(_g2=transaction._original)?void 0:_g2.pixId)||(null==(_h2=transaction._original)?void 0:_h2.referenceId)||"",!endtoend&&transaction.descCliente){const endtoendMatch=transaction.descCliente.match(/E[0-9]+[A-Z0-9]+/i);endtoendMatch&&(endtoend=endtoendMatch[0])}if(endtoend||(endtoend=transaction.code||transaction.id||""),!endtoend){return{encontrou:!1,erro:"EndToEnd não encontrado na transação. Será necessário informar o ID do usuário manualmente."}}const resultadoBusca=await buscarUsuarioPorEndToEnd(endtoend);return resultadoBusca.sucesso&&resultadoBusca.id_usuario?{encontrou:!0,id_usuario:resultadoBusca.id_usuario,usuario:resultadoBusca.usuario}:{encontrou:!1,erro:resultadoBusca.erro||"Usuário não encontrado. Será necessário informar o ID do usuário manualmente."}},validarEndToEnd:validarEndToEnd};function ExtractTabTCR(){const[isLoading,setIsLoading]=reactExports.useState(!1),[allTransactions,setAllTransactions]=reactExports.useState([]),[error,setError]=reactExports.useState(""),getDefaultDates=()=>{const hoje=new Date,doisDiasAtras=new Date;return doisDiasAtras.setDate(hoje.getDate()-2),{dateFrom:doisDiasAtras,dateTo:hoje}},defaultDates=getDefaultDates(),[dateFrom,setDateFrom]=reactExports.useState(defaultDates.dateFrom),[dateTo,setDateTo]=reactExports.useState(defaultDates.dateTo),[searchName,setSearchName]=reactExports.useState(""),[searchValue,setSearchValue]=reactExports.useState(""),[searchDescCliente,setSearchDescCliente]=reactExports.useState(""),[transactionTypeFilter,setTransactionTypeFilter]=reactExports.useState("todos"),[sortOrder,setSortOrder]=reactExports.useState("desc"),[sortBy2,setSortBy]=reactExports.useState("date"),[currentPage,setCurrentPage]=reactExports.useState(1),[totalPages,setTotalPages]=reactExports.useState(1),[hasMorePages,setHasMorePages]=reactExports.useState(!0),[selectedTransaction,setSelectedTransaction]=reactExports.useState(null),[isModalOpen,setIsModalOpen]=reactExports.useState(!1),[compensationModalOpen,setCompensationModalOpen]=reactExports.useState(!1),[selectedCompensationRecord,setSelectedCompensationRecord]=reactExports.useState(null),convertTCRToStandardFormat=transaction=>{var _a3,_b3,_c2,_d2;const descricao=transaction.description||"";let cliente=descricao.includes(" - ")&&descricao.split(" - ")[1]||"Cliente não identificado";(null==(_a3=transaction._original)?void 0:_a3.payerName)&&(cliente=transaction._original.payerName);return{id:transaction.id||Date.now().toString(),dateTime:transaction.date||(new Date).toISOString(),value:transaction.amount||0,type:"credit"===transaction.type?"CRÉDITO":"DÉBITO",client:cliente,document:(null==(_b3=transaction._original)?void 0:_b3.payerDocument)||"",code:(null==(_c2=transaction._original)?void 0:_c2.idEndToEnd)||(null==(_d2=transaction._original)?void 0:_d2.nrMovimento)||transaction.id||"",descCliente:descricao,identified:!0,descricaoOperacao:descricao,_original:transaction._original||transaction}},filteredAndSortedTransactions=reactExports.useMemo(()=>{let filtered=allTransactions.map(convertTCRToStandardFormat);return filtered=filtered.filter(transaction=>{var _a3,_b3,_c2,_d2;const matchesName=!searchName||(null==(_a3=transaction.client)?void 0:_a3.toLowerCase().includes(searchName.toLowerCase()))||(null==(_b3=transaction.document)?void 0:_b3.toLowerCase().includes(searchName.toLowerCase())),matchesValue=!searchValue||Math.abs(transaction.value).toString().includes(searchValue),matchesDescCliente=!searchDescCliente||(null==(_c2=transaction.descCliente)?void 0:_c2.toLowerCase().includes(searchDescCliente.toLowerCase()))||(null==(_d2=transaction.client)?void 0:_d2.toLowerCase().includes(searchDescCliente.toLowerCase())),matchesType="todos"===transactionTypeFilter||"debito"===transactionTypeFilter&&"DÉBITO"===transaction.type||"credito"===transactionTypeFilter&&"CRÉDITO"===transaction.type;let matchesDate=!0;if(dateFrom&&dateTo)try{const transactionDate=new Date(transaction.dateTime),fromDate=new Date(dateFrom),toDate2=new Date(dateTo);fromDate.setHours(0,0,0,0),toDate2.setHours(23,59,59,999),matchesDate=transactionDate>=fromDate&&transactionDate<=toDate2}catch(error2){matchesDate=!0}return matchesName&&matchesValue&&matchesDescCliente&&matchesType&&matchesDate}),"date"===sortBy2&&"none"!==sortOrder?filtered.sort((a2,b2)=>{const dateA=new Date(a2.dateTime),dateB=new Date(b2.dateTime);return"asc"===sortOrder?dateA.getTime()-dateB.getTime():dateB.getTime()-dateA.getTime()}):"value"===sortBy2&&"none"!==sortOrder&&filtered.sort((a2,b2)=>"asc"===sortOrder?a2.value-b2.value:b2.value-a2.value),filtered},[allTransactions,searchName,searchValue,searchDescCliente,transactionTypeFilter,dateFrom,dateTo,sortBy2,sortOrder]),displayTransactions=filteredAndSortedTransactions,debitCount=filteredAndSortedTransactions.filter(t3=>"DÉBITO"===t3.type).length,creditCount=filteredAndSortedTransactions.filter(t3=>"CRÉDITO"===t3.type).length,totalDebito=filteredAndSortedTransactions.filter(t3=>"DÉBITO"===t3.type).reduce((sum2,t3)=>sum2+t3.value,0),totalCredito=filteredAndSortedTransactions.filter(t3=>"CRÉDITO"===t3.type).reduce((sum2,t3)=>sum2+t3.value,0),loadTCRTransactions=async(customDateFrom,customDateTo,page=1)=>{try{setIsLoading(!0),setError("");const cnpj="53781325000115";let dataInicio,dataFim;if(customDateFrom&&customDateTo)dataInicio=customDateFrom.toISOString().split("T")[0],dataFim=customDateTo.toISOString().split("T")[0];else if(dateFrom&&dateTo)dataInicio=dateFrom.toISOString().split("T")[0],dataFim=dateTo.toISOString().split("T")[0];else{const hoje=new Date,doisDiasAtras=new Date;doisDiasAtras.setDate(hoje.getDate()-2),dataInicio=doisDiasAtras.toISOString().split("T")[0],dataFim=hoje.toISOString().split("T")[0]}const params={cnpj:cnpj,dataInicio:dataInicio,dataFim:dataFim,page:page},{consultarExtratoTCR:consultarExtratoTCR2}=await __vitePreload(async()=>{const{consultarExtratoTCR:consultarExtratoTCR3}=await Promise.resolve().then(()=>tcr);return{consultarExtratoTCR:consultarExtratoTCR3}},void 0),resultado=await consultarExtratoTCR2(params);if(resultado&&!resultado.erro&&resultado.transactions){const transacoesReais=resultado.transactions.filter(t3=>{const original=t3.originalItem||t3._original||t3;return"Saldo Atual"!==original.data&&"Saldo Atual"!==original.descricao});setAllTransactions(transacoesReais);const hasFullPage=resultado.transactions.length>=100;setHasMorePages(hasFullPage),setTotalPages(page+(hasFullPage?1:0)),ue$2.success(`Página ${page}: ${transacoesReais.length} transações`,{description:"Extrato TCR carregado",duration:1500})}else setAllTransactions([]),ue$2.info("Nenhuma transação encontrada",{description:"Tente ajustar os filtros de data",duration:3e3})}catch(err2){setError(err2.message||"Erro ao carregar extrato"),setAllTransactions([]),ue$2.error("Erro ao carregar extrato",{description:err2.message||"Tente novamente em alguns instantes",duration:4e3})}finally{setIsLoading(!1)}},handlePageChange=async newPage=>{newPage>=1&&newPage<=totalPages&&(setCurrentPage(newPage),await loadTCRTransactions(dateFrom,dateTo,newPage))},formatCurrency2=value=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(Math.abs(value)),formatDate=dateString=>{if(!dateString)return"Data inválida";try{const date2=new Date(dateString);return isNaN(date2.getTime())?dateString:date2.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch(error2){return dateString}},handleGerenciarDuplicatas=(transaction,event)=>{event.stopPropagation();const extractRecord={id:transaction.id,dateTime:transaction.dateTime,value:transaction.value,type:transaction.type,client:transaction.client,document:transaction.document||"",code:transaction.code,descCliente:transaction.descCliente,identified:transaction.identified||!0,descricaoOperacao:transaction.descricaoOperacao||transaction.descCliente};setSelectedCompensationRecord(extractRecord),setCompensationModalOpen(!0)},handleVerificarTransacao=async(transaction,event)=>{event.stopPropagation();let extractRecord={id:transaction.id,dateTime:transaction.dateTime,value:transaction.value,type:transaction.type,client:transaction.client,document:transaction.document||"",code:transaction.code,descCliente:transaction.descCliente,identified:transaction.identified||!0,descricaoOperacao:transaction.descricaoOperacao||transaction.descCliente};try{ue$2.info("Buscando usuário...",{description:"Verificando endtoend da transação via API"});const resultado=await TCRVerificacaoService.verificarTransacaoTCR(transaction);resultado.encontrou&&resultado.id_usuario?(extractRecord.descCliente=`Usuario ${resultado.id_usuario}; ${extractRecord.descCliente}`,ue$2.success(`Usuário encontrado: ID ${resultado.id_usuario}`,{description:"Abrindo modal com todas as funcionalidades"})):ue$2.warning("Usuário não encontrado automaticamente",{description:"Modal aberto - você pode informar o ID manualmente"})}catch(error2){ue$2.error("Erro na verificação automática",{description:"Modal aberto - você pode informar o ID manualmente"})}setSelectedCompensationRecord(extractRecord),setCompensationModalOpen(!0)};return reactExports.useEffect(()=>{loadTCRTransactions(dateFrom,dateTo,1)},[]),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-green-500 to-green-600 shadow-lg",children:jsxRuntimeExports.jsx(Filter,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-card-foreground",children:"Filtros de Pesquisa - TCR"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Personalize sua consulta de extratos"})]})]}),jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:"TCR"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Data inicial"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",disabled:isLoading,className:"w-full h-12 justify-start text-left font-normal rounded-xl border-border hover:border-green-500 transition-colors bg-input "+(dateFrom?"":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateFrom?format(dateFrom,"PPP",{locale:ptBR}):"Selecionar data"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 rounded-xl bg-popover",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateFrom,onSelect:setDateFrom,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Data final"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",disabled:isLoading,className:"w-full h-12 justify-start text-left font-normal rounded-xl border-border hover:border-green-500 transition-colors bg-input "+(dateTo?"":"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateTo?format(dateTo,"PPP",{locale:ptBR}):"Selecionar data"]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0 rounded-xl bg-popover",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateTo,onSelect:setDateTo,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por nome"}),jsxRuntimeExports.jsx(Input,{placeholder:"Nome do cliente ou documento...",value:searchName,onChange:e3=>setSearchName(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-green-500 transition-colors bg-input"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Buscar por valor"}),jsxRuntimeExports.jsx(Input,{placeholder:"Ex: 100,50",value:searchValue,onChange:e3=>setSearchValue(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-green-500 transition-colors bg-input"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Descrição"}),jsxRuntimeExports.jsx(Input,{placeholder:"Descrição da transação...",value:searchDescCliente,onChange:e3=>setSearchDescCliente(e3.target.value),disabled:isLoading,className:"h-12 rounded-xl border-border hover:border-green-500 transition-colors bg-input"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Tipo de transação"}),jsxRuntimeExports.jsxs(Select,{value:transactionTypeFilter,onValueChange:value=>setTransactionTypeFilter(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-green-500 transition-colors bg-input",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Todos"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"todos",children:"Todos"}),jsxRuntimeExports.jsx(SelectItem,{value:"debito",children:"Apenas Débitos"}),jsxRuntimeExports.jsx(SelectItem,{value:"credito",children:"Apenas Créditos"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ordenar por"}),jsxRuntimeExports.jsxs(Select,{value:sortBy2,onValueChange:value=>setSortBy(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-green-500 transition-colors bg-input",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Sem ordenação"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Sem ordenação"}),jsxRuntimeExports.jsx(SelectItem,{value:"date",children:"Data"}),jsxRuntimeExports.jsx(SelectItem,{value:"value",children:"Valor"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-card-foreground",children:"Ordem"}),jsxRuntimeExports.jsxs(Select,{value:sortOrder,onValueChange:value=>setSortOrder(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"h-12 rounded-xl border-border hover:border-green-500 transition-colors bg-input",disabled:"none"===sortBy2,children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Padrão"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"asc",children:"Crescente"}),jsxRuntimeExports.jsx(SelectItem,{value:"desc",children:"Decrescente"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{if(setCurrentPage(1),dateFrom&&dateTo){if(dateFrom>dateTo)return void ue$2.error("Data inicial não pode ser maior que data final",{description:"Verifique as datas selecionadas",duration:3e3});loadTCRTransactions(dateFrom,dateTo,1)}else dateFrom||dateTo?ue$2.error("Selecione ambas as datas",{description:"Data inicial e final são obrigatórias para filtro por período",duration:3e3}):loadTCRTransactions(void 0,void 0,1)},disabled:isLoading,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-xl px-6 py-3 font-semibold shadow-lg hover:shadow-xl transition-all duration-200",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4 mr-2"}),"Aplicar Filtros"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{const defaultDates2=getDefaultDates();setDateFrom(defaultDates2.dateFrom),setDateTo(defaultDates2.dateTo),setSearchName(""),setSearchValue(""),setSearchDescCliente(""),setTransactionTypeFilter("todos"),setSortBy("date"),setSortOrder("desc"),setCurrentPage(1),loadTCRTransactions(void 0,void 0,1),ue$2.success("Filtros limpos!",{description:"Retornado ao período padrão de 3 dias",duration:2e3})},variant:"outline",disabled:isLoading,className:"rounded-xl px-6 py-3 font-semibold border-border hover:border-green-500 transition-colors",children:[jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4 mr-2"}),"Limpar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>loadTCRTransactions(dateFrom,dateTo,currentPage),variant:"outline",disabled:isLoading,className:"rounded-xl px-6 py-3 font-semibold border-border hover:border-green-500 transition-colors",children:[isLoading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 mr-2 animate-spin"}):jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),isLoading?"Carregando...":"Atualizar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{try{const headers=["Data/Hora","Valor","Tipo","Cliente","Documento","Descrição","Código","Provedor"],csvData=filteredAndSortedTransactions.map(transaction=>[formatDate(transaction.dateTime),`${"DÉBITO"===transaction.type?"-":"+"}${formatCurrency2(transaction.value)}`,transaction.type,transaction.client||"",transaction.document||"",transaction.descCliente||"",transaction.code||"","TCR"]),csvContent=[headers.join(","),...csvData.map(row=>row.map(field=>"string"==typeof field&&(field.includes(",")||field.includes('"')||field.includes("\n"))?`"${field.replace(/"/g,'""')}"`:field).join(","))].join("\n"),blob=new Blob(["\ufeff"+csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a"),nomeArquivo=`extrato_tcr_${(new Date).toISOString().split("T")[0]}.csv`;if(void 0!==link.download){const url=URL.createObjectURL(blob);link.setAttribute("href",url),link.setAttribute("download",nomeArquivo),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link),URL.revokeObjectURL(url)}ue$2.success("CSV exportado com sucesso!",{description:`${filteredAndSortedTransactions.length} registros exportados para ${nomeArquivo}`,duration:3e3})}catch(error2){ue$2.error("Erro ao exportar CSV",{description:"Não foi possível gerar o arquivo de exportação",duration:4e3})}},variant:"outline",disabled:isLoading||0===filteredAndSortedTransactions.length,className:"rounded-xl px-6 py-3 font-semibold border-border hover:border-green-500 hover:text-green-600 transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-green-500 to-green-600 shadow-lg",children:jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-card-foreground",children:"Extrato de Transações TCR"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[filteredAndSortedTransactions.length," registros encontrados • ",debitCount," débitos • ",creditCount," créditos"]}),(totalDebito>0||totalCredito>0)&&jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[totalDebito>0&&jsxRuntimeExports.jsxs("span",{className:"text-red-600 font-medium",children:["Total Débitos: ",formatCurrency2(totalDebito)]}),totalCredito>0&&jsxRuntimeExports.jsxs("span",{className:"text-green-600 font-medium",children:["Total Créditos: ",formatCurrency2(totalCredito)]}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground",children:["Saldo: ",formatCurrency2(totalCredito-totalDebito)]})]})]})]}),jsxRuntimeExports.jsxs(Badge,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:[filteredAndSortedTransactions.length," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-8",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin mr-2"}),jsxRuntimeExports.jsx("span",{children:"Carregando transações TCR..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"text-center p-8",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-2",children:"Erro ao carregar extrato"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:error}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>loadTCRTransactions(dateFrom,dateTo,1),variant:"outline",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]}):0===displayTransactions.length?jsxRuntimeExports.jsxs("div",{className:"text-center p-8",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-card-foreground mb-2",children:"Nenhuma transação encontrada"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros de data ou busca"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block",children:jsxRuntimeExports.jsx("div",{className:"max-h-[75vh] overflow-y-auto scrollbar-thin",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{className:"sticky top-0 bg-muted/40 backdrop-blur-sm z-10",children:jsxRuntimeExports.jsxs(TableRow,{className:"border-b border-border hover:bg-transparent",children:[jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px]",children:"Tipo"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 min-w-[200px]",children:"Cliente"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[160px]",children:"Documento"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[200px]",children:"Descrição"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px]",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[140px]",children:"Código"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-card-foreground py-3 w-[100px] text-center",children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:displayTransactions.map(transaction=>jsxRuntimeExports.jsxs(TableRow,{onClick:()=>{setSelectedTransaction(transaction),setIsModalOpen(!0)},className:"cursor-pointer hover:bg-muted/20 transition-all duration-200 border-b border-border",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium text-card-foreground py-3 text-xs",children:formatDate(transaction.dateTime)}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("span",{className:"font-bold text-sm font-mono "+("DÉBITO"===transaction.type?"text-red-600":"text-green-600"),children:["DÉBITO"===transaction.type?"-":"+",formatCurrency2(transaction.value)]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsx(Badge,{className:("DÉBITO"===transaction.type?"bg-red-100 text-red-800 border-red-200":"bg-green-100 text-green-800 border-green-200")+" rounded-full px-2 py-1 text-xs font-semibold",children:transaction.type})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground break-words",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-card-foreground",children:transaction.client}),transaction.document&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-green-600",children:["Doc: ",transaction.document]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"TCR"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground truncate max-w-[160px]",children:transaction.document||"—"}),jsxRuntimeExports.jsx(TableCell,{className:"py-3 text-xs text-muted-foreground break-words max-w-[200px]",children:transaction.descCliente?jsxRuntimeExports.jsx("span",{title:transaction.descCliente,children:transaction.descCliente}):jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"—"})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 rounded-full px-2 py-1 text-xs font-semibold",children:"✓"}),jsxRuntimeExports.jsx(Badge,{className:"bg-green-50 text-green-700 border-green-200 rounded-full px-2 py-1 text-xs font-semibold",children:"TCR"})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-muted-foreground truncate max-w-[100px]",children:transaction.code}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:e3=>{e3.stopPropagation(),navigator.clipboard.writeText(transaction.code),ue$2.success("Código copiado!",{description:"O código foi copiado para a área de transferência",duration:1500})},className:"h-6 w-6 p-0 flex-shrink-0 rounded-lg hover:bg-muted hover:text-card-foreground transition-all duration-200",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})}),jsxRuntimeExports.jsx(TableCell,{className:"py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:["DÉBITO"===transaction.type&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleGerenciarDuplicatas(transaction,e3),className:"h-7 px-2 text-xs bg-red-50 hover:bg-red-100 text-red-700 border-red-200 hover:border-red-300",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3 mr-1"}),"Duplicatas"]}),"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleVerificarTransacao(transaction,e3),className:"h-7 px-2 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200 hover:border-blue-300",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3 mr-1"}),"Verificar"]})]})})]},transaction.id))})]})})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden space-y-4 p-4",children:displayTransactions.map(transaction=>jsxRuntimeExports.jsx(Card,{onClick:()=>{setSelectedTransaction(transaction),setIsModalOpen(!0)},className:"cursor-pointer hover:shadow-md transition-all duration-200 border border-border",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx(Badge,{className:("DÉBITO"===transaction.type?"bg-red-100 text-red-800 border-red-200":"bg-green-100 text-green-800 border-green-200")+" rounded-full px-2 py-1 text-xs font-semibold",children:transaction.type}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:formatDate(transaction.dateTime)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg font-mono "+("DÉBITO"===transaction.type?"text-red-600":"text-green-600"),children:["DÉBITO"===transaction.type?"-":"+",formatCurrency2(transaction.value)]}),jsxRuntimeExports.jsx(Badge,{className:"bg-green-50 text-green-700 border-green-200 rounded-full px-2 py-1 text-xs font-semibold",children:"TCR"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-card-foreground",children:transaction.client}),transaction.document&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:["Doc: ",transaction.document]}),transaction.descCliente&&jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:transaction.descCliente})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-3",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:transaction.code}),jsxRuntimeExports.jsxs("div",{className:"flex gap-1 mt-2",children:["DÉBITO"===transaction.type&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleGerenciarDuplicatas(transaction,e3),className:"h-7 px-2 text-xs bg-red-50 hover:bg-red-100 text-red-700 border-red-200",children:[jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3 mr-1"}),"Duplicatas"]}),"CRÉDITO"===transaction.type&&jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleVerificarTransacao(transaction,e3),className:"h-7 px-2 text-xs bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3 mr-1"}),"Verificar"]})]})]})]})},transaction.id))}),(totalPages>1||hasMorePages)&&jsxRuntimeExports.jsx("div",{className:"border-t border-border bg-muted/20",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",currentPage,": ",filteredAndSortedTransactions.length," transações",hasMorePages?" (+ páginas disponíveis)":""]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>handlePageChange(currentPage-1),disabled:1===currentPage||isLoading,className:"rounded-lg",children:"Anterior"}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-medium px-3",children:["Página ",currentPage," de ",totalPages,hasMorePages&&"+"]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>handlePageChange(currentPage+1),disabled:!hasMorePages||isLoading,className:"rounded-lg",children:"Próxima"})]})]})})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:isModalOpen,onOpenChange:setIsModalOpen,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),"Detalhes da Transação TCR"]})}),selectedTransaction&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Data/Hora"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold",children:formatDate(selectedTransaction.dateTime)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valor"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-bold "+("DÉBITO"===selectedTransaction.type?"text-red-600":"text-green-600"),children:["DÉBITO"===selectedTransaction.type?"-":"+",formatCurrency2(selectedTransaction.value)]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tipo"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.type})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Código"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:selectedTransaction.code})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cliente"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.client})]}),selectedTransaction.document&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Documento"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.document})]}),selectedTransaction.descCliente&&jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Descrição"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.descCliente})]})]})})]})}),jsxRuntimeExports.jsx(CompensationModalInteligente,{isOpen:compensationModalOpen,onClose:()=>setCompensationModalOpen(!1),extractRecord:selectedCompensationRecord})]})}function PixQRProgressModal$1({isOpen:isOpen,onClose:onClose,progressData:progressData}){const progressPercentage=Math.round(progressData.current/progressData.total*100),getStatusIcon=status=>{switch(status){case"pending":default:return jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"});case"qr_generating":return jsxRuntimeExports.jsx(QrCode,{className:"w-3 h-3 text-blue-500 animate-pulse"});case"qr_generated":return jsxRuntimeExports.jsx(QrCode,{className:"w-3 h-3 text-green-500"});case"paying":return jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 text-blue-500 animate-spin"});case"success":return jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500"});case"error":return jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3 text-red-500"})}},getStatusText=status=>{switch(status){case"pending":default:return"Pendente";case"qr_generating":return"Gerando QR...";case"qr_generated":return"QR Gerado";case"paying":return"Pagando...";case"success":return"Pago";case"error":return"Erro"}};return jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 "+("processing"===progressData.status?"animate-pulse text-blue-500":"text-green-500")}),"PIX Programado com QR Codes"]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Progresso Geral"}),jsxRuntimeExports.jsxs("span",{children:[progressData.current," de ",progressData.total," transações"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-300",style:{width:`${progressPercentage}%`}})}),jsxRuntimeExports.jsxs("div",{className:"text-center text-lg font-bold text-green-600",children:[progressPercentage,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:progressData.current}),jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-800",children:"Processadas"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:progressData.totalProcessed.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsx("div",{className:"text-sm text-green-800",children:"Total Pago"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-orange-600",children:progressData.total-progressData.current}),jsxRuntimeExports.jsx("div",{className:"text-sm text-orange-800",children:"Restantes"})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Transações QR:"}),progressData.transactions.map(transaction=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[getStatusIcon(transaction.status),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["QR #",transaction.id]}),transaction.custom_id&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",transaction.custom_id]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-mono",children:transaction.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:getStatusText(transaction.status)})]})})]},transaction.id))]}),"processing"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-blue-500"}),jsxRuntimeExports.jsxs("span",{className:"text-blue-700",children:["Processando QR ",progressData.current+1," de ",progressData.total,"..."]})]}),"completed"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-green-700",children:"Todos os QR codes foram processados e pagos!"})]}),"error"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-red-50 rounded-lg",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-red-700",children:"Erro durante o processamento. Verifique as transações acima."})]})]}),"processing"!==progressData.status&&jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:onClose,children:"Fechar"})})]})})}function PixProgramadoQRComponent$1(){const[isLoading,setIsLoading]=React$1.useState(!1),[showProgressModal,setShowProgressModal]=React$1.useState(!1),[progressData,setProgressData]=React$1.useState({current:0,total:0,currentValue:0,totalProcessed:0,status:"processing",transactions:[]}),[formData,setFormData]=React$1.useState({custom_id:"",montante:"",valor:"",intervalo:"5000"}),formatCurrency2=value=>{const numbers2=value.replace(/\D/g,"");return(parseFloat(numbers2)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})};return jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 via-transparent to-green-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 text-green-600"})}),"PIX Programado com QR",jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:"TCR"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Gera QR codes automaticamente e os paga em sequência"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"relative space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"TCR - Grupo TCR"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"CNPJ: 53.781.325/0001-15"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"qr-custom-id",children:"ID Personalizado (Opcional)"}),jsxRuntimeExports.jsx(Input,{id:"qr-custom-id",value:formData.custom_id,onChange:e3=>setFormData(prev=>({...prev,custom_id:e3.target.value})),placeholder:"ID personalizado para os QR codes"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Será usado como prefixo: ",formData.custom_id||"QR","-1, ",formData.custom_id||"QR","-2, etc."]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"qr-montante",children:"Montante Total"}),jsxRuntimeExports.jsx(Input,{id:"qr-montante",value:formData.montante,onChange:e3=>{const value=e3.target.value.replace(/\D/g,""),formattedValue=formatCurrency2(value);setFormData(prev=>({...prev,montante:formattedValue}))},placeholder:"R$ 0,00"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"qr-valor",children:"Valor por QR"}),jsxRuntimeExports.jsx(Input,{id:"qr-valor",value:formData.valor,onChange:e3=>{const value=e3.target.value.replace(/\D/g,""),formattedValue=formatCurrency2(value);setFormData(prev=>({...prev,valor:formattedValue}))},placeholder:"R$ 0,00"})]})]}),formData.montante&&formData.valor&&jsxRuntimeExports.jsx("div",{className:"p-2 bg-green-50 rounded-lg border border-green-200",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-800",children:[jsxRuntimeExports.jsxs("strong",{children:[(()=>{const montanteNum=parseFloat(formData.montante.replace(/[^\d,]/g,"").replace(",","."))||0,valorNum=parseFloat(formData.valor.replace(/[^\d,]/g,"").replace(",","."))||0;return 0===valorNum?0:Math.ceil(montanteNum/valorNum)})()," QR codes"]})," serão gerados e pagos automaticamente"]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"qr-intervalo",children:"Intervalo entre QRs (ms)"}),jsxRuntimeExports.jsx(Input,{id:"qr-intervalo",value:formData.intervalo,onChange:e3=>setFormData(prev=>({...prev,intervalo:e3.target.value})),placeholder:"5000",type:"number"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tempo entre gerar e pagar cada QR code"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(!formData.montante||!formData.valor)return void ue$2.error("Montante e valor são obrigatórios");const montanteNumerico=parseFloat(formData.montante.replace(/[^\d,]/g,"").replace(",",".")),valorNumerico=parseFloat(formData.valor.replace(/[^\d,]/g,"").replace(",","."));if(valorNumerico>montanteNumerico)return void ue$2.error("Valor por transação não pode ser maior que o montante total");const totalTransactions=Math.ceil(montanteNumerico/valorNumerico),intervalo=parseInt(formData.intervalo),customId=formData.custom_id.trim();setIsLoading(!0);try{const payload={tax_document:"53781325000115",custom_id:customId||void 0,montante:montanteNumerico,valor:valorNumerico,intervalo:intervalo};(async(totalTransactions,valorPorTransacao,intervalo,customId)=>{const transactions=Array.from({length:totalTransactions},(_2,i2)=>({id:i2+1,status:"pending",value:valorPorTransacao,custom_id:customId?`${customId}-${i2+1}`:`QR-${i2+1}`,message:""}));setProgressData({current:0,total:totalTransactions,currentValue:valorPorTransacao,totalProcessed:0,status:"processing",transactions:transactions}),setShowProgressModal(!0);for(let i2=0;i2<totalTransactions;i2++){setProgressData(prev=>({...prev,transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:"qr_generating"}:t3)})),await new Promise(resolve=>setTimeout(resolve,1e3)),setProgressData(prev=>({...prev,transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:"qr_generated"}:t3)})),await new Promise(resolve=>setTimeout(resolve,500)),setProgressData(prev=>({...prev,transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:"paying"}:t3)})),await new Promise(resolve=>setTimeout(resolve,Math.max(intervalo-1500,1e3)));const isSuccess=Math.random()>.05;setProgressData(prev=>({...prev,current:i2+1,totalProcessed:prev.totalProcessed+(isSuccess?valorPorTransacao:0),transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:isSuccess?"success":"error",message:isSuccess?"QR pago com sucesso":"Erro no pagamento do QR"}:t3)}))}setProgressData(prev=>({...prev,status:"completed"}))})(totalTransactions,valorNumerico,intervalo,customId);const{executarPixProgramadoComQRTCR:executarPixProgramadoComQRTCR2}=await __vitePreload(async()=>{const{executarPixProgramadoComQRTCR:executarPixProgramadoComQRTCR3}=await Promise.resolve().then(()=>tcr);return{executarPixProgramadoComQRTCR:executarPixProgramadoComQRTCR3}},void 0);executarPixProgramadoComQRTCR2(payload).then(result=>{result&&!result.error||setProgressData(prev=>({...prev,status:"error"}))}).catch(error=>{setProgressData(prev=>({...prev,status:"error"}))}),setFormData({custom_id:"",montante:"",valor:"",intervalo:"5000"})}catch(error){ue$2.error("Erro ao executar PIX programado com QR"),setShowProgressModal(!1)}finally{setIsLoading(!1)}},disabled:isLoading,className:"w-full",children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}),"Iniciando PIX com QR..."]}):"Executar PIX Programado com QR"})]}),jsxRuntimeExports.jsx(PixQRProgressModal$1,{isOpen:showProgressModal,onClose:()=>setShowProgressModal(!1),progressData:progressData})]})}function PixActionsTabTCR(){return jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:[jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-5 w-5 text-blue-600"})}),"Enviar PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:"TCR"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Transferência por chave PIX"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionalidade em desenvolvimento"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Aguardando integração com API TCR"})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",disabled:!0,children:"Configurar PIX"})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 via-transparent to-green-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 text-green-600"})}),"Pagar QR Code",jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:"TCR"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Pagamento via código QR"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionalidade em desenvolvimento"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Aguardando integração com API TCR"})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",disabled:!0,children:"Escanear QR Code"})]})})]}),jsxRuntimeExports.jsx(PixProgramadoQRComponent$1,{})]})})}function CriarChavePixTCR({onChaveCriada:onChaveCriada}){const[tipoChave,setTipoChave]=React$1.useState(""),[valorChave,setValorChave]=React$1.useState(""),[isCreating,setIsCreating]=React$1.useState(!1),resetarFormulario=()=>{setTipoChave(""),setValorChave("")};return jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 via-transparent to-green-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 text-green-600"})}),"Criar Chave PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:"TCR"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Registrar nova chave PIX na conta"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"relative space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"tipo-chave",children:"Tipo da Chave PIX"}),jsxRuntimeExports.jsxs(Select,{value:tipoChave,onValueChange:setTipoChave,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🆔"}),jsxRuntimeExports.jsx("span",{children:"CPF"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🏢"}),jsxRuntimeExports.jsx("span",{children:"CNPJ"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📱"}),jsxRuntimeExports.jsx("span",{children:"Celular"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📧"}),jsxRuntimeExports.jsx("span",{children:"E-mail"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🎲"}),jsxRuntimeExports.jsx("span",{children:"Aleatória"})]})})]})]})]}),tipoChave&&"5"!==tipoChave&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$1,{htmlFor:"valor-chave",children:["Valor da Chave ",(tipo=tipoChave,{1:"CPF",2:"CNPJ",3:"Celular",4:"E-mail",5:"Aleatória"}[tipo])]}),jsxRuntimeExports.jsx(Input,{id:"valor-chave",type:"text",value:valorChave,onChange:e3=>setValorChave(e3.target.value),placeholder:(tipo=>({1:"000.000.000-00",2:"00.000.000/0000-00",3:"+554399991234",4:"seuemail@exemplo.com",5:"Será gerada automaticamente"}[tipo]))(tipoChave),disabled:isCreating})]}),"5"===tipoChave&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Chave Aleatória:"})," Será gerada automaticamente uma chave única (UUID) para sua conta."]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{try{if(!tipoChave)return void ue$2.error("Selecione o tipo da chave PIX");const erroValidacao=((tipo,valor)=>{if("5"===tipo)return null;if(!valor.trim())return"Valor da chave é obrigatório";switch(tipo){case"1":if(!/^\d{11}$/.test(valor.replace(/\D/g,"")))return"CPF deve ter 11 dígitos";break;case"2":if(!/^\d{14}$/.test(valor.replace(/\D/g,"")))return"CNPJ deve ter 14 dígitos";break;case"3":break;case"4":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(valor))return"Email inválido"}return null})(tipoChave,valorChave);if(erroValidacao)return void ue$2.error(erroValidacao);setIsCreating(!0);const cnpj="53781325000115",{criarChavePixTCR:criarChavePixTCR2}=await __vitePreload(async()=>{const{criarChavePixTCR:criarChavePixTCR3}=await Promise.resolve().then(()=>tcr);return{criarChavePixTCR:criarChavePixTCR3}},void 0),dadosRequisicao={tax_document:cnpj,tipo:parseInt(tipoChave)};"5"!==tipoChave&&valorChave.trim()&&(dadosRequisicao.key=valorChave.trim());const resultado=await criarChavePixTCR2(dadosRequisicao);resultado&&!resultado.erro?(ue$2.success("Chave PIX criada com sucesso!",{description:resultado.message||"Nova chave registrada na conta",duration:3e3}),resetarFormulario(),onChaveCriada()):ue$2.error("Erro ao criar chave PIX",{description:(null==resultado?void 0:resultado.message)||"Tente novamente",duration:4e3})}catch(err2){ue$2.error("Erro ao criar chave PIX",{description:err2.message||"Verifique os dados e tente novamente",duration:4e3})}finally{setIsCreating(!1)}},disabled:!tipoChave||isCreating,className:"flex-1",children:isCreating?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Criando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Criar Chave"]})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:resetarFormulario,disabled:isCreating,children:"Limpar"})]})]})]});var tipo}function PixKeysTabTCR(){const[chaves,setChaves]=React$1.useState([]),[isLoading,setIsLoading]=React$1.useState(!1),[error,setError]=React$1.useState(""),carregarChaves=async()=>{try{setIsLoading(!0),setError("");const cnpj="53781325000115",{listarChavesPixTCR:listarChavesPixTCR2}=await __vitePreload(async()=>{const{listarChavesPixTCR:listarChavesPixTCR3}=await Promise.resolve().then(()=>tcr);return{listarChavesPixTCR:listarChavesPixTCR3}},void 0),resultado=await listarChavesPixTCR2(cnpj);if(resultado&&!resultado.erro&&resultado.chaves){const chavesMapeadas=resultado.chaves.map((chave,index)=>{return{...chave,type:(tipoNumerico=chave.type,{1:"CNPJ",2:"PHONE",3:"EMAIL",4:"RANDOM",5:"RANDOM"}[String(tipoNumerico)]||"RANDOM"),_original:chave};var tipoNumerico});setChaves(chavesMapeadas)}else setChaves([])}catch(err2){setError(err2.message||"Erro ao carregar chaves PIX"),setChaves([])}finally{setIsLoading(!1)}};React$1.useEffect(()=>{carregarChaves()},[]);const formatarChave=(key,type)=>{if(!key||null==key||""===key)return"Chave inválida";const keyStr=String(key);if("PHONE"===type)return keyStr.replace(/(\+55)(\d{2})(\d{4,5})(\d{4})/,"$1 ($2) $3-****");if("EMAIL"===type){const[local,domain]=keyStr.split("@");return`${local[0]}***@${domain}`}return"CNPJ"===type?keyStr.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-**"):"RANDOM"===type?(36===keyStr.length&&keyStr.includes("-"),keyStr):keyStr};return jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsx(CriarChavePixTCR,{onChaveCriada:carregarChaves}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-500/5 via-transparent to-green-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:jsxRuntimeExports.jsx(Key,{className:"h-5 w-5 text-green-600"})}),"Minhas Chaves PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800 border-green-200 text-xs font-medium",children:"TCR"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Chaves registradas na conta"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-muted-foreground",children:"Carregando chaves..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"p-4 border border-red-200 bg-red-50 rounded-lg text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-red-600",children:["❌ ",error]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:carregarChaves,className:"mt-3",children:"Tentar novamente"})]}):0===chaves.length?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[jsxRuntimeExports.jsx(Key,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma chave PIX registrada"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Crie sua primeira chave PIX usando o painel ao lado"})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"w-full justify-center",children:"0 chaves registradas"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[chaves.length," chave",1!==chaves.length?"s":""," registrada",1!==chaves.length?"s":""]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:carregarChaves,disabled:isLoading,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-3 w-3 mr-1"}),"Atualizar"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:chaves.map(chave=>{return jsxRuntimeExports.jsx("div",{className:"p-4 border rounded-lg hover:bg-muted/20 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:(type=chave.type,{CNPJ:"CNPJ",PHONE:"Celular",EMAIL:"E-mail",RANDOM:"Aleatória"}[type]||type)}),jsxRuntimeExports.jsx(Badge,{variant:"ACTIVE"===chave.status?"default":"secondary",className:"text-xs",children:"ACTIVE"===chave.status?"Ativa":"Inativa"})]}),jsxRuntimeExports.jsx("p",{className:"font-mono text-sm font-medium",children:formatarChave(chave.key,chave.type)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Criada em: ",new Date(chave.created_at).toLocaleDateString("pt-BR")]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{const chaveParaCopiar=chave.key||chave.keypix||"";chaveParaCopiar?(navigator.clipboard.writeText(chaveParaCopiar),ue$2.success("Chave PIX copiada!",{description:`Chave: ${chaveParaCopiar.substring(0,20)}...`,duration:3e3})):ue$2.error("Erro ao copiar chave!",{description:"Chave não encontrada ou inválida",duration:3e3})},className:"h-8 w-8 p-0",title:"Copiar chave PIX",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",disabled:!0,children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})]})},chave.id);var type})})]})})]})]})})}function TcrPage(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsx(TopBarTCR,{}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"extract",className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs(TabsList,{className:"grid grid-cols-3 w-fit bg-muted/30 p-1 h-auto",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"extract",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Extrato"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"actions",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Ações PIX"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"keys",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Chaves PIX"}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"ml-2 text-xs px-2 py-0",children:"0"})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"extract",className:"mt-0",children:jsxRuntimeExports.jsx(ExtractTabTCR,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"actions",className:"mt-0",children:jsxRuntimeExports.jsx(PixActionsTabTCR,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"keys",className:"mt-0",children:jsxRuntimeExports.jsx(PixKeysTabTCR,{})})]})})]})}function TopBarTTF(){const[saldoData,setSaldoData]=reactExports.useState(null),[isLoadingSaldo,setIsLoadingSaldo]=reactExports.useState(!1),[errorSaldo,setErrorSaldo]=reactExports.useState(null),[lastUpdated,setLastUpdated]=reactExports.useState(null),formatCurrency2=value=>value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),handleRefresh=async()=>{setIsLoadingSaldo(!0),setErrorSaldo(null);try{const{consultarSaldoCorpX:consultarSaldoCorpX2}=await __vitePreload(async()=>{const{consultarSaldoCorpX:consultarSaldoCorpX3}=await Promise.resolve().then(()=>corpx);return{consultarSaldoCorpX:consultarSaldoCorpX3}},void 0),resultado=await consultarSaldoCorpX2("14283885000198");resultado&&!resultado.erro?(setSaldoData(resultado),setLastUpdated(new Date)):setErrorSaldo("Erro ao consultar saldo TTF")}catch(error){setErrorSaldo(error.message||"Erro ao consultar saldo")}finally{setIsLoadingSaldo(!1)}};reactExports.useEffect(()=>{handleRefresh()},[]);return jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 bg-tcr-dark/95 backdrop-blur-xl border-b border-border h-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-blue-600 to-blue-800 shadow-xl",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"CorpX TTF → TCR"}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"Banking"}),isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-blue-500"}):errorSaldo||(null==saldoData?void 0:saldoData.erro)?jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Central de transferências PIX - TTF"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:handleRefresh,disabled:isLoadingSaldo,className:"hover:bg-muted rounded-xl",children:[isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"}):jsxRuntimeExports.jsx(RefreshCcw,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:isLoadingSaldo?"Atualizando...":"Atualizar"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"w-full max-w-7xl mx-auto",children:[errorSaldo&&jsxRuntimeExports.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-red-700 text-sm",children:errorSaldo})]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-emerald-500/20",children:jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-emerald-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo principal"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 "+(errorSaldo||(null==saldoData?void 0:saldoData.erro)?"text-destructive":"text-foreground"),children:isLoadingSaldo?"Carregando...":errorSaldo?"Erro ao consultar saldo TTF":(null==saldoData?void 0:saldoData.erro)?"Erro na API":formatCurrency2((null==saldoData?void 0:saldoData.saldo)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Saldo total"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-blue-500/20",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-blue-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Saldo disponível"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 "+(errorSaldo||(null==saldoData?void 0:saldoData.erro)?"text-destructive":"text-foreground"),children:isLoadingSaldo?"Carregando...":errorSaldo||(null==saldoData?void 0:saldoData.erro)?"Erro":formatCurrency2((null==saldoData?void 0:saldoData.saldoDisponivel)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Para transferências"})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-card to-muted/20 rounded-2xl p-4 border border-border shadow-lg backdrop-blur-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-orange-500/20",children:jsxRuntimeExports.jsx(Lock,{className:"h-5 w-5 text-orange-400"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Limite bloqueado"}),jsxRuntimeExports.jsx("p",{className:"font-bold text-lg font-mono mt-1 text-foreground",children:isLoadingSaldo?"Carregando...":errorSaldo||(null==saldoData?void 0:saldoData.erro)?"Erro":formatCurrency2((null==saldoData?void 0:saldoData.limiteBloqueado)||0)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Reservado"})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:jsxRuntimeExports.jsxs("span",{children:["TTF SERVICOS DIGITAIS LTDA • BRL • ",lastUpdated?lastUpdated.toLocaleTimeString("pt-BR"):"Nunca atualizado"]})})})]})]})}function ExtractTabTTF(){const[isLoading,setIsLoading]=reactExports.useState(!1),[allTransactions,setAllTransactions]=reactExports.useState([]),[error,setError]=reactExports.useState(""),getDefaultDates=()=>{const hoje=new Date,doisDiasAtras=new Date;return doisDiasAtras.setDate(hoje.getDate()-2),{dateFrom:doisDiasAtras,dateTo:hoje}},defaultDates=getDefaultDates(),[dateFrom,setDateFrom]=reactExports.useState(defaultDates.dateFrom),[dateTo,setDateTo]=reactExports.useState(defaultDates.dateTo),[searchName,setSearchName]=reactExports.useState(""),[searchValue,setSearchValue]=reactExports.useState(""),[searchDescCliente,setSearchDescCliente]=reactExports.useState(""),[transactionTypeFilter,setTransactionTypeFilter]=reactExports.useState("todos"),[tipoApiFilter,setTipoApiFilter]=reactExports.useState("todos"),[sortOrder,setSortOrder]=reactExports.useState("desc"),[sortBy2,setSortBy]=reactExports.useState("date"),[currentPage,setCurrentPage]=reactExports.useState(1),[totalPages,setTotalPages]=reactExports.useState(1),[hasMorePages,setHasMorePages]=reactExports.useState(!0),[selectedTransaction,setSelectedTransaction]=reactExports.useState(null),[isModalOpen,setIsModalOpen]=reactExports.useState(!1),[compensationModalOpen,setCompensationModalOpen]=reactExports.useState(!1),[selectedCompensationRecord,setSelectedCompensationRecord]=reactExports.useState(null),convertCorpXToStandardFormat=transaction=>{var _a3,_b3,_c2;const descricao=transaction.description||"";let cliente=descricao.includes(" - ")&&descricao.split(" - ")[1]||"Cliente não identificado";(null==(_a3=transaction._original)?void 0:_a3.payerName)&&(cliente=transaction._original.payerName);return{id:transaction.id||Date.now().toString(),dateTime:transaction.date||(new Date).toISOString(),value:transaction.amount||0,type:"credit"===transaction.type?"CRÉDITO":"DÉBITO",client:cliente,document:(null==(_b3=transaction._original)?void 0:_b3.payerDocument)||"",code:(null==(_c2=transaction._original)?void 0:_c2.nrMovimento)||transaction.id||"",descCliente:descricao,identified:!0,descricaoOperacao:descricao,_original:transaction._original||transaction}},filteredAndSortedTransactions=reactExports.useMemo(()=>{let filtered=allTransactions.map(convertCorpXToStandardFormat);return filtered=filtered.filter(transaction=>{var _a3,_b3,_c2,_d2,_e3,_f2;const matchesName=!searchName||(null==(_a3=transaction.client)?void 0:_a3.toLowerCase().includes(searchName.toLowerCase()))||(null==(_b3=transaction.document)?void 0:_b3.toLowerCase().includes(searchName.toLowerCase())),matchesValue=!searchValue||Math.abs(transaction.value).toString().includes(searchValue),matchesDescCliente=!searchDescCliente||(null==(_c2=transaction.descCliente)?void 0:_c2.toLowerCase().includes(searchDescCliente.toLowerCase()))||(null==(_d2=transaction.client)?void 0:_d2.toLowerCase().includes(searchDescCliente.toLowerCase())),matchesType="todos"===transactionTypeFilter||"debito"===transactionTypeFilter&&"DÉBITO"===transaction.type||"credito"===transactionTypeFilter&&"CRÉDITO"===transaction.type,tipoOriginal=(null==(_e3=transaction._original)?void 0:_e3.tipo)||(null==(_f2=transaction.originalItem)?void 0:_f2.tipo)||"",matchesTipoApi="todos"===tipoApiFilter||"C"===tipoApiFilter&&"C"===tipoOriginal||"D"===tipoApiFilter&&"D"===tipoOriginal;let matchesDate=!0;if(dateFrom&&dateTo)try{const transactionDate=new Date(transaction.dateTime),fromDate=new Date(dateFrom),toDate2=new Date(dateTo);fromDate.setHours(0,0,0,0),toDate2.setHours(23,59,59,999),matchesDate=transactionDate>=fromDate&&transactionDate<=toDate2}catch(error2){matchesDate=!0}return matchesName&&matchesValue&&matchesDescCliente&&matchesType&&matchesTipoApi&&matchesDate}),"date"===sortBy2&&"none"!==sortOrder?filtered.sort((a2,b2)=>{const dateA=new Date(a2.dateTime),dateB=new Date(b2.dateTime);return"asc"===sortOrder?dateA.getTime()-dateB.getTime():dateB.getTime()-dateA.getTime()}):"value"===sortBy2&&"none"!==sortOrder&&filtered.sort((a2,b2)=>"asc"===sortOrder?a2.value-b2.value:b2.value-a2.value),filtered},[allTransactions,searchName,searchValue,searchDescCliente,transactionTypeFilter,tipoApiFilter,dateFrom,dateTo,sortBy2,sortOrder]),startIndex=50*(currentPage-1),endIndex=startIndex+50,displayTransactions=filteredAndSortedTransactions.slice(startIndex,endIndex),totalPagesClient=Math.ceil(filteredAndSortedTransactions.length/50),debitCount=filteredAndSortedTransactions.filter(t3=>"DÉBITO"===t3.type).length,creditCount=filteredAndSortedTransactions.filter(t3=>"CRÉDITO"===t3.type).length,totalDebito=filteredAndSortedTransactions.filter(t3=>"DÉBITO"===t3.type).reduce((sum2,t3)=>sum2+t3.value,0),totalCredito=filteredAndSortedTransactions.filter(t3=>"CRÉDITO"===t3.type).reduce((sum2,t3)=>sum2+t3.value,0),loadTTFTransactions=async(customDateFrom,customDateTo,page=1)=>{try{let dataInicio,dataFim;if(setIsLoading(!0),setError(""),customDateFrom&&customDateTo)dataInicio=customDateFrom.toISOString().split("T")[0],dataFim=customDateTo.toISOString().split("T")[0];else if(dateFrom&&dateTo)dataInicio=dateFrom.toISOString().split("T")[0],dataFim=dateTo.toISOString().split("T")[0];else{const hoje=new Date,doisDiasAtras=new Date;doisDiasAtras.setDate(hoje.getDate()-2),dataInicio=doisDiasAtras.toISOString().split("T")[0],dataFim=hoje.toISOString().split("T")[0]}const{consultarExtratoCorpX:consultarExtratoCorpX2}=await __vitePreload(async()=>{const{consultarExtratoCorpX:consultarExtratoCorpX3}=await Promise.resolve().then(()=>corpx);return{consultarExtratoCorpX:consultarExtratoCorpX3}},void 0);let todasTransacoes=[],paginaAtual=1,continuar=!0;for(;continuar;){const params={cnpj:"14283885000198",dataInicio:dataInicio,dataFim:dataFim,page:paginaAtual},resultado=await consultarExtratoCorpX2(params);if(resultado&&!resultado.erro&&resultado.transactions&&resultado.transactions.length>0){const transacoesReais=resultado.transactions.filter(t3=>{const original=t3.originalItem||t3._original||t3;return"Saldo Atual"!==original.data&&"Saldo Atual"!==original.descricao});todasTransacoes=[...todasTransacoes,...transacoesReais],transacoesReais.length>=100?paginaAtual++:continuar=!1}else continuar=!1}if(todasTransacoes.length>0){const transacoesFiltradas=todasTransacoes.filter((transaction,index)=>{var _a3;const original=transaction.originalItem||transaction._original||transaction,tipo=transaction.type,beneficiaryPixKey=null==(_a3=original.beneficiary)?void 0:_a3.pixKey;if("credit"===tipo){const aceita="94ae2011-b8d5-4621-b4fa-db4042327693"===beneficiaryPixKey;return aceita}if("debit"===tipo){const aceita="pix@brasilbitcoin.com.br"===beneficiaryPixKey;return aceita}return!1});setAllTransactions(transacoesFiltradas),setCurrentPage(1),ue$2.success(`${transacoesFiltradas.length} transações filtradas`,{description:`De ${todasTransacoes.length} transações totais`,duration:2e3})}else setAllTransactions([]),ue$2.info("Nenhuma transação encontrada",{description:"Tente ajustar os filtros de data",duration:3e3})}catch(err2){setError(err2.message||"Erro ao carregar extrato"),setAllTransactions([]),ue$2.error("Erro ao carregar extrato",{description:err2.message||"Tente novamente em alguns instantes",duration:4e3})}finally{setIsLoading(!1)}},handlePageChange=newPage=>{newPage>=1&&newPage<=totalPagesClient&&setCurrentPage(newPage)},handleTransactionClick=transaction=>{setSelectedTransaction(transaction),setIsModalOpen(!0)},handleVerificarTransacao=async(transaction,event)=>{event.stopPropagation();let extractRecord={id:transaction.id,dateTime:transaction.dateTime,value:transaction.value,type:transaction.type,client:transaction.client,document:transaction.document||"",code:transaction.code,descCliente:transaction.descCliente,identified:transaction.identified||!0,descricaoOperacao:transaction.descricaoOperacao||transaction.descCliente};try{ue$2.info("Buscando usuário...",{description:"Verificando endtoend da transação via API"});const resultado=await TCRVerificacaoService.verificarTransacaoTCR(transaction);resultado.encontrou&&resultado.id_usuario?(extractRecord.descCliente=`Usuario ${resultado.id_usuario}; ${extractRecord.descCliente}`,ue$2.success(`Usuário encontrado: ID ${resultado.id_usuario}`,{description:"Abrindo modal com todas as funcionalidades"})):ue$2.warning("Usuário não encontrado automaticamente",{description:"Modal aberto - você pode informar o ID manualmente"})}catch(error2){ue$2.error("Erro na verificação automática",{description:"Modal aberto - você pode informar o ID manualmente"})}setSelectedCompensationRecord(extractRecord),setCompensationModalOpen(!0)};return reactExports.useEffect(()=>{loadTTFTransactions(dateFrom,dateTo)},[]),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{className:"bg-card border border-border shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border pb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 shadow-lg",children:jsxRuntimeExports.jsx(Filter,{className:"h-5 w-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold text-card-foreground",children:"Filtros de Pesquisa - TTF"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Personalize sua consulta de extratos"})]})]}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"TTF → TCR"})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"pt-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Data Inicial"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("w-full justify-start text-left font-normal hover:bg-muted/50 transition-colors",!dateFrom&&"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateFrom?format(dateFrom,"dd/MM/yyyy",{locale:ptBR}):"Selecione..."]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateFrom,onSelect:date2=>date2&&setDateFrom(date2),locale:ptBR,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Data Final"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",className:cn("w-full justify-start text-left font-normal hover:bg-muted/50 transition-colors",!dateTo&&"text-muted-foreground"),children:[jsxRuntimeExports.jsx(Calendar$1,{className:"mr-2 h-4 w-4"}),dateTo?format(dateTo,"dd/MM/yyyy",{locale:ptBR}):"Selecione..."]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:dateTo,onSelect:date2=>date2&&setDateTo(date2),locale:ptBR,initialFocus:!0})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Cliente/Documento"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Buscar cliente...",value:searchName,onChange:e3=>setSearchName(e3.target.value),className:"pl-10 hover:border-primary/50 transition-colors"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Valor"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(DollarSign,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Buscar valor...",value:searchValue,onChange:e3=>setSearchValue(e3.target.value),className:"pl-10 hover:border-primary/50 transition-colors"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Descrição"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(FileText,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Buscar descrição...",value:searchDescCliente,onChange:e3=>setSearchDescCliente(e3.target.value),className:"pl-10 hover:border-primary/50 transition-colors"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Tipo"}),jsxRuntimeExports.jsxs(Select,{value:transactionTypeFilter,onValueChange:value=>setTransactionTypeFilter(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"hover:border-primary/50 transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"todos",children:"Todos"}),jsxRuntimeExports.jsx(SelectItem,{value:"credito",children:"Crédito"}),jsxRuntimeExports.jsx(SelectItem,{value:"debito",children:"Débito"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Tipo API (C/D)"}),jsxRuntimeExports.jsxs(Select,{value:tipoApiFilter,onValueChange:value=>setTipoApiFilter(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"hover:border-primary/50 transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"todos",children:"Todos"}),jsxRuntimeExports.jsx(SelectItem,{value:"C",children:"Apenas C (Crédito)"}),jsxRuntimeExports.jsx(SelectItem,{value:"D",children:"Apenas D (Débito)"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Ordenar por"}),jsxRuntimeExports.jsxs(Select,{value:sortBy2,onValueChange:value=>setSortBy(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"hover:border-primary/50 transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Nenhum"}),jsxRuntimeExports.jsx(SelectItem,{value:"date",children:"Data"}),jsxRuntimeExports.jsx(SelectItem,{value:"value",children:"Valor"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-semibold text-muted-foreground",children:"Ordem"}),jsxRuntimeExports.jsxs(Select,{value:sortOrder,onValueChange:value=>setSortOrder(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"hover:border-primary/50 transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"asc",children:"Crescente"}),jsxRuntimeExports.jsx(SelectItem,{value:"desc",children:"Decrescente"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-border",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{if(dateFrom&&dateTo){if(dateFrom>dateTo)return void ue$2.error("Data inicial não pode ser maior que data final",{description:"Verifique as datas selecionadas",duration:3e3});setCurrentPage(1),loadTTFTransactions(dateFrom,dateTo)}else ue$2.warning("Selecione o período de datas",{description:"É necessário informar data inicial e final",duration:3e3})},className:"flex-1 min-w-[200px] bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[jsxRuntimeExports.jsx(Search,{className:"mr-2 h-4 w-4"}),"Aplicar Filtros"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>{const defaultDates2=getDefaultDates();setDateFrom(defaultDates2.dateFrom),setDateTo(defaultDates2.dateTo),setSearchName(""),setSearchValue(""),setSearchDescCliente(""),setTransactionTypeFilter("todos"),setTipoApiFilter("todos"),setSortBy("date"),setSortOrder("desc"),setCurrentPage(1),ue$2.info("Filtros limpos - período padrão de 3 dias",{description:"Recarregando transações...",duration:2e3}),loadTTFTransactions(defaultDates2.dateFrom,defaultDates2.dateTo)},className:"flex-1 min-w-[200px] hover:bg-destructive/10 hover:text-destructive hover:border-destructive transition-all duration-200",children:[jsxRuntimeExports.jsx(X$2,{className:"mr-2 h-4 w-4"}),"Limpar Filtros"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>{if(0===filteredAndSortedTransactions.length)return void ue$2.warning("Nenhuma transação para exportar");const csvContent=[["Data/Hora","Descrição","Valor","Tipo","Cliente","Documento"].join(";"),...filteredAndSortedTransactions.map(t3=>[format(new Date(t3.dateTime),"dd/MM/yyyy HH:mm:ss"),t3.descCliente,t3.value.toFixed(2).replace(".",","),t3.type,t3.client,t3.document].join(";"))].join("\n"),blob=new Blob([csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a"),url=URL.createObjectURL(blob);link.setAttribute("href",url),link.setAttribute("download",`extrato_ttf_${format(new Date,"yyyyMMdd_HHmmss")}.csv`),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link),ue$2.success("CSV exportado com sucesso!")},disabled:0===filteredAndSortedTransactions.length,className:"flex-1 min-w-[200px] hover:bg-green-50 hover:text-green-700 hover:border-green-500 transition-all duration-200",children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 h-4 w-4"}),"Exportar CSV"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-br from-red-50 to-red-100/50 border-red-200 shadow-lg hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsx(CardContent,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-red-600",children:"Total Débito"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-red-700",children:totalDebito.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[debitCount," transações"]})]}),jsxRuntimeExports.jsx(ArrowDown,{className:"h-8 w-8 text-red-500"})]})})}),jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-br from-green-50 to-green-100/50 border-green-200 shadow-lg hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsx(CardContent,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-green-600",children:"Total Crédito"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-green-700",children:totalCredito.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-green-600 mt-1",children:[creditCount," transações"]})]}),jsxRuntimeExports.jsx(ArrowUp,{className:"h-8 w-8 text-green-500"})]})})}),jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-br from-blue-50 to-blue-100/50 border-blue-200 shadow-lg hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsx(CardContent,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-600",children:"Saldo Líquido"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-blue-700",children:(totalCredito-totalDebito).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Período selecionado"})]}),jsxRuntimeExports.jsx(DollarSign,{className:"h-8 w-8 text-blue-500"})]})})}),jsxRuntimeExports.jsx(Card,{className:"bg-gradient-to-br from-purple-50 to-purple-100/50 border-purple-200 shadow-lg hover:shadow-xl transition-shadow",children:jsxRuntimeExports.jsx(CardContent,{className:"pt-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-purple-600",children:"Total Transações"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-purple-700",children:filteredAndSortedTransactions.length}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:["Página ",currentPage," de ",totalPages]})]}),jsxRuntimeExports.jsx(FileText,{className:"h-8 w-8 text-purple-500"})]})})})]}),jsxRuntimeExports.jsxs(Card,{className:"shadow-2xl rounded-3xl overflow-hidden",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted/20 to-muted/30 border-b border-border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-xl font-bold",children:"Extrato de Transações - TTF"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[displayTransactions.length," registros"]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>loadTTFTransactions(dateFrom,dateTo,currentPage),disabled:isLoading,className:"hover:bg-muted/50",children:jsxRuntimeExports.jsx(RefreshCw,{className:cn("h-4 w-4",isLoading&&"animate-spin")})})]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-12 space-y-4",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-12 w-12 animate-spin text-primary"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando transações..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-12 space-y-4",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-12 w-12 text-destructive"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-destructive",children:error}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>loadTTFTransactions(dateFrom,dateTo,currentPage),children:"Tentar Novamente"})]}):0===displayTransactions.length?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-12 space-y-4",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-muted-foreground"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma transação encontrada"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"bg-muted/50",children:[jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Descrição"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-right",children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Tipo"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold",children:"Cliente"}),jsxRuntimeExports.jsx(TableHead,{className:"font-semibold text-center",children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:displayTransactions.map((transaction,index)=>jsxRuntimeExports.jsxs(TableRow,{className:"hover:bg-muted/30 cursor-pointer transition-colors",onClick:()=>handleTransactionClick(transaction),children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-xs",children:format(new Date(transaction.dateTime),"dd/MM/yyyy HH:mm:ss")}),jsxRuntimeExports.jsx(TableCell,{className:"max-w-md",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"truncate text-sm",children:transaction.descCliente}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:e3=>{return description=transaction.descCliente,e3.stopPropagation(),navigator.clipboard.writeText(description),void ue$2.success("Descrição copiada!",{duration:2e3});var description},className:"h-6 w-6 p-0 hover:bg-muted",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]})}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-right font-semibold",children:jsxRuntimeExports.jsx("span",{className:"CRÉDITO"===transaction.type?"text-green-600":"text-red-600",children:transaction.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"CRÉDITO"===transaction.type?"default":"destructive",className:"text-xs",children:transaction.type})}),jsxRuntimeExports.jsx(TableCell,{className:"text-sm",children:transaction.client}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2",children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleVerificarTransacao(transaction,e3),className:"hover:bg-blue-50 hover:text-blue-700 hover:border-blue-500",children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Verificar"]})})})]},`${transaction.id}-${index}`))})]})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden space-y-4 p-4",children:displayTransactions.map((transaction,index)=>jsxRuntimeExports.jsx(Card,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>handleTransactionClick(transaction),children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-4 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx(Badge,{variant:"CRÉDITO"===transaction.type?"default":"destructive",children:transaction.type}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:format(new Date(transaction.dateTime),"dd/MM/yyyy HH:mm")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:transaction.client}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground truncate",children:transaction.descCliente})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[jsxRuntimeExports.jsx("span",{className:cn("text-lg font-bold","CRÉDITO"===transaction.type?"text-green-600":"text-red-600"),children:transaction.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:e3=>handleVerificarTransacao(transaction,e3),className:"hover:bg-blue-50 hover:text-blue-700",children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Verificar"]})]})]})},`${transaction.id}-${index}`))}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",currentPage," de ",totalPagesClient||1," • ",filteredAndSortedTransactions.length," transações filtradas"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>handlePageChange(currentPage-1),disabled:1===currentPage||isLoading,children:"Anterior"}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>handlePageChange(currentPage+1),disabled:currentPage>=totalPagesClient||isLoading,children:"Próxima"})]})]})]})})]}),jsxRuntimeExports.jsx(Dialog,{open:isModalOpen,onOpenChange:setIsModalOpen,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsx(DialogTitle,{children:"Detalhes da Transação"})}),selectedTransaction&&jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Data/Hora"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:format(new Date(selectedTransaction.dateTime),"dd/MM/yyyy HH:mm:ss")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Tipo"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:jsxRuntimeExports.jsx(Badge,{variant:"CRÉDITO"===selectedTransaction.type?"default":"destructive",children:selectedTransaction.type})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Valor"}),jsxRuntimeExports.jsx("p",{className:cn("text-lg font-bold","CRÉDITO"===selectedTransaction.type?"text-green-600":"text-red-600"),children:selectedTransaction.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Cliente"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.client})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Descrição"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:selectedTransaction.descCliente})]}),selectedTransaction.document&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Documento"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:selectedTransaction.document})]}),selectedTransaction.code&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Código"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:selectedTransaction.code})]})]})})]})}),jsxRuntimeExports.jsx(CompensationModalInteligente,{isOpen:compensationModalOpen,onClose:()=>setCompensationModalOpen(!1),extractRecord:selectedCompensationRecord})]})}function PixQRProgressModal({isOpen:isOpen,onClose:onClose,progressData:progressData}){const progressPercentage=Math.round(progressData.current/progressData.total*100),getStatusIcon=status=>{switch(status){case"pending":default:return jsxRuntimeExports.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-300"});case"qr_generating":return jsxRuntimeExports.jsx(QrCode,{className:"w-3 h-3 text-blue-500 animate-pulse"});case"qr_generated":return jsxRuntimeExports.jsx(QrCode,{className:"w-3 h-3 text-green-500"});case"paying":return jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 text-blue-500 animate-spin"});case"success":return jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500"});case"error":return jsxRuntimeExports.jsx(X$2,{className:"w-3 h-3 text-red-500"})}},getStatusText=status=>{switch(status){case"pending":default:return"Pendente";case"qr_generating":return"Gerando QR...";case"qr_generated":return"QR Gerado";case"paying":return"Pagando...";case"success":return"Pago";case"error":return"Erro"}};return jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 "+("processing"===progressData.status?"animate-pulse text-blue-500":"text-green-500")}),"PIX Programado com QR Codes"]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{children:"Progresso Geral"}),jsxRuntimeExports.jsxs("span",{children:[progressData.current," de ",progressData.total," transações"]})]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:jsxRuntimeExports.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-300",style:{width:`${progressPercentage}%`}})}),jsxRuntimeExports.jsxs("div",{className:"text-center text-lg font-bold text-blue-600",children:[progressPercentage,"%"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:progressData.current}),jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-800",children:"Processadas"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:progressData.totalProcessed.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsx("div",{className:"text-sm text-green-800",children:"Total Pago"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-orange-600",children:progressData.total-progressData.current}),jsxRuntimeExports.jsx("div",{className:"text-sm text-orange-800",children:"Restantes"})]})]}),jsxRuntimeExports.jsxs("div",{className:"max-h-60 overflow-y-auto space-y-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Transações QR:"}),progressData.transactions.map(transaction=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[getStatusIcon(transaction.status),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["QR #",transaction.id]}),transaction.custom_id&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",transaction.custom_id]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-mono",children:transaction.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:getStatusText(transaction.status)})]})})]},transaction.id))]}),"processing"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-blue-500"}),jsxRuntimeExports.jsxs("span",{className:"text-blue-700",children:["Processando QR ",progressData.current+1," de ",progressData.total,"..."]})]}),"completed"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-green-500"}),jsxRuntimeExports.jsx("span",{className:"text-green-700",children:"Todos os QR codes foram processados e pagos!"})]}),"error"===progressData.status&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-red-50 rounded-lg",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-red-700",children:"Erro durante o processamento. Verifique as transações acima."})]})]}),"processing"!==progressData.status&&jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx(Button$1,{onClick:onClose,children:"Fechar"})})]})})}function PixProgramadoQRComponent(){const[isLoading,setIsLoading]=React$1.useState(!1),[showProgressModal,setShowProgressModal]=React$1.useState(!1),[progressData,setProgressData]=React$1.useState({current:0,total:0,currentValue:0,totalProcessed:0,status:"processing",transactions:[]}),[formData,setFormData]=React$1.useState({custom_id:"",montante:"",valor:"",intervalo:"5000"}),formatCurrency2=value=>{const numbers2=value.replace(/\D/g,"");return(parseFloat(numbers2)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})};return jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 text-blue-600"})}),"PIX Programado com QR",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"TTF"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Gera QR codes automaticamente e os paga em sequência"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"relative space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-muted/30 rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:"TTF SERVICOS DIGITAIS LTDA"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:"CNPJ: 14.283.885/0001-98"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"qr-custom-id",children:"ID Personalizado (Opcional)"}),jsxRuntimeExports.jsx(Input,{id:"qr-custom-id",value:formData.custom_id,onChange:e3=>setFormData(prev=>({...prev,custom_id:e3.target.value})),placeholder:"ID personalizado para os QR codes"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Será usado como prefixo: ",formData.custom_id||"QR","-1, ",formData.custom_id||"QR","-2, etc."]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"qr-montante",children:"Montante Total"}),jsxRuntimeExports.jsx(Input,{id:"qr-montante",value:formData.montante,onChange:e3=>{const value=e3.target.value.replace(/\D/g,""),formattedValue=formatCurrency2(value);setFormData(prev=>({...prev,montante:formattedValue}))},placeholder:"R$ 0,00"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"qr-valor",children:"Valor por QR"}),jsxRuntimeExports.jsx(Input,{id:"qr-valor",value:formData.valor,onChange:e3=>{const value=e3.target.value.replace(/\D/g,""),formattedValue=formatCurrency2(value);setFormData(prev=>({...prev,valor:formattedValue}))},placeholder:"R$ 0,00"})]})]}),formData.montante&&formData.valor&&jsxRuntimeExports.jsx("div",{className:"p-2 bg-blue-50 rounded-lg border border-blue-200",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-800",children:[jsxRuntimeExports.jsxs("strong",{children:[(()=>{const montanteNum=parseFloat(formData.montante.replace(/[^\d,]/g,"").replace(",","."))||0,valorNum=parseFloat(formData.valor.replace(/[^\d,]/g,"").replace(",","."))||0;return 0===valorNum?0:Math.ceil(montanteNum/valorNum)})()," QR codes"]})," serão gerados e pagos automaticamente"]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"qr-intervalo",children:"Intervalo entre QRs (ms)"}),jsxRuntimeExports.jsx(Input,{id:"qr-intervalo",value:formData.intervalo,onChange:e3=>setFormData(prev=>({...prev,intervalo:e3.target.value})),placeholder:"5000",type:"number"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Tempo entre gerar e pagar cada QR code"})]})]}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(!formData.montante||!formData.valor)return void ue$2.error("Montante e valor são obrigatórios");const montanteNumerico=parseFloat(formData.montante.replace(/[^\d,]/g,"").replace(",",".")),valorNumerico=parseFloat(formData.valor.replace(/[^\d,]/g,"").replace(",","."));if(valorNumerico>montanteNumerico)return void ue$2.error("Valor por transação não pode ser maior que o montante total");const totalTransactions=Math.ceil(montanteNumerico/valorNumerico),intervalo=parseInt(formData.intervalo),customId=formData.custom_id.trim();setIsLoading(!0);try{(async(totalTransactions,valorPorTransacao,intervalo,customId)=>{const transactions=Array.from({length:totalTransactions},(_2,i2)=>({id:i2+1,status:"pending",value:valorPorTransacao,custom_id:customId?`${customId}-${i2+1}`:`QR-${i2+1}`,message:""}));setProgressData({current:0,total:totalTransactions,currentValue:valorPorTransacao,totalProcessed:0,status:"processing",transactions:transactions}),setShowProgressModal(!0);for(let i2=0;i2<totalTransactions;i2++){setProgressData(prev=>({...prev,transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:"qr_generating"}:t3)})),await new Promise(resolve=>setTimeout(resolve,1e3)),setProgressData(prev=>({...prev,transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:"qr_generated"}:t3)})),await new Promise(resolve=>setTimeout(resolve,500)),setProgressData(prev=>({...prev,transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:"paying"}:t3)})),await new Promise(resolve=>setTimeout(resolve,Math.max(intervalo-1500,1e3)));const isSuccess=Math.random()>.05;setProgressData(prev=>({...prev,current:i2+1,totalProcessed:prev.totalProcessed+(isSuccess?valorPorTransacao:0),transactions:prev.transactions.map((t3,idx)=>idx===i2?{...t3,status:isSuccess?"success":"error",message:isSuccess?"QR pago com sucesso":"Erro no pagamento do QR"}:t3)}))}setProgressData(prev=>({...prev,status:"completed"}))})(totalTransactions,valorNumerico,intervalo,customId),setFormData({custom_id:"",montante:"",valor:"",intervalo:"5000"})}catch(error){ue$2.error("Erro ao executar PIX programado com QR"),setShowProgressModal(!1)}finally{setIsLoading(!1)}},disabled:isLoading,className:"w-full",children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin mr-2"}),"Iniciando PIX com QR..."]}):"Executar PIX Programado com QR"})]}),jsxRuntimeExports.jsx(PixQRProgressModal,{isOpen:showProgressModal,onClose:()=>setShowProgressModal(!1),progressData:progressData})]})}function PixActionsTabTTF(){return jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:[jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-5 w-5 text-blue-600"})}),"Enviar PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"TTF"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Transferência por chave PIX"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionalidade em desenvolvimento"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Aguardando integração completa"})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",disabled:!0,children:"Configurar PIX"})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 text-blue-600"})}),"Pagar QR Code",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"TTF"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Pagamento via código QR"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Funcionalidade em desenvolvimento"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Aguardando integração completa"})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",disabled:!0,children:"Escanear QR Code"})]})})]}),jsxRuntimeExports.jsx(PixProgramadoQRComponent,{})]})})}function CriarChavePixTTF({onChaveCriada:onChaveCriada}){const[tipoChave,setTipoChave]=React$1.useState(""),[valorChave,setValorChave]=React$1.useState(""),[isCreating,setIsCreating]=React$1.useState(!1),resetarFormulario=()=>{setTipoChave(""),setValorChave("")};return jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(Plus,{className:"h-5 w-5 text-blue-600"})}),"Criar Chave PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"TTF"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Registrar nova chave PIX na conta"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"relative space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"tipo-chave",children:"Tipo da Chave PIX"}),jsxRuntimeExports.jsxs(Select,{value:tipoChave,onValueChange:setTipoChave,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo..."})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🆔"}),jsxRuntimeExports.jsx("span",{children:"CPF"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🏢"}),jsxRuntimeExports.jsx("span",{children:"CNPJ"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📱"}),jsxRuntimeExports.jsx("span",{children:"Celular"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"📧"}),jsxRuntimeExports.jsx("span",{children:"E-mail"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{children:"🎲"}),jsxRuntimeExports.jsx("span",{children:"Aleatória"})]})})]})]})]}),tipoChave&&"5"!==tipoChave&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$1,{htmlFor:"valor-chave",children:["Valor da Chave ",(tipo=tipoChave,{1:"CPF",2:"CNPJ",3:"Celular",4:"E-mail",5:"Aleatória"}[tipo])]}),jsxRuntimeExports.jsx(Input,{id:"valor-chave",type:"text",value:valorChave,onChange:e3=>setValorChave(e3.target.value),placeholder:(tipo=>({1:"000.000.000-00",2:"00.000.000/0000-00",3:"+554399991234",4:"seuemail@exemplo.com",5:"Será gerada automaticamente"}[tipo]))(tipoChave),disabled:isCreating})]}),"5"===tipoChave&&jsxRuntimeExports.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-700",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Chave Aleatória:"})," Será gerada automaticamente uma chave única (UUID) para sua conta."]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 pt-2",children:[jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{try{if(!tipoChave)return void ue$2.error("Selecione o tipo da chave PIX");const erroValidacao=((tipo,valor)=>{if("5"===tipo)return null;if(!valor.trim())return"Valor da chave é obrigatório";switch(tipo){case"1":if(!/^\d{11}$/.test(valor.replace(/\D/g,"")))return"CPF deve ter 11 dígitos";break;case"2":if(!/^\d{14}$/.test(valor.replace(/\D/g,"")))return"CNPJ deve ter 14 dígitos";break;case"3":break;case"4":if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(valor))return"Email inválido"}return null})(tipoChave,valorChave);if(erroValidacao)return void ue$2.error(erroValidacao);setIsCreating(!0);const{criarChavePixCorpX:criarChavePixCorpX2}=await __vitePreload(async()=>{const{criarChavePixCorpX:criarChavePixCorpX3}=await Promise.resolve().then(()=>corpx);return{criarChavePixCorpX:criarChavePixCorpX3}},void 0),dadosRequisicao={tax_document:"14283885000198",tipo:parseInt(tipoChave)};"5"!==tipoChave&&valorChave.trim()&&(dadosRequisicao.key=valorChave.trim());const resultado=await criarChavePixCorpX2(dadosRequisicao);resultado&&!resultado.erro?(ue$2.success("Chave PIX criada com sucesso!",{description:resultado.message||"Nova chave registrada na conta",duration:3e3}),resetarFormulario(),onChaveCriada()):ue$2.error("Erro ao criar chave PIX",{description:(null==resultado?void 0:resultado.message)||"Tente novamente",duration:4e3})}catch(err2){ue$2.error("Erro ao criar chave PIX",{description:err2.message||"Verifique os dados e tente novamente",duration:4e3})}finally{setIsCreating(!1)}},disabled:!tipoChave||isCreating,className:"flex-1",children:isCreating?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Criando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Criar Chave"]})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:resetarFormulario,disabled:isCreating,children:"Limpar"})]})]})]});var tipo}function PixKeysTabTTF(){const[chaves,setChaves]=React$1.useState([]),[isLoading,setIsLoading]=React$1.useState(!1),[error,setError]=React$1.useState(""),carregarChaves=async()=>{try{setIsLoading(!0),setError("");const{listarChavesPixCorpX:listarChavesPixCorpX2}=await __vitePreload(async()=>{const{listarChavesPixCorpX:listarChavesPixCorpX3}=await Promise.resolve().then(()=>corpx);return{listarChavesPixCorpX:listarChavesPixCorpX3}},void 0),resultado=await listarChavesPixCorpX2("14283885000198");if(resultado&&!resultado.erro&&resultado.chaves){const chavesMapeadas=resultado.chaves.map((chave,index)=>{return{...chave,type:(tipoNumerico=chave.type,{1:"CNPJ",2:"PHONE",3:"EMAIL",4:"RANDOM",5:"RANDOM"}[String(tipoNumerico)]||"RANDOM"),_original:chave};var tipoNumerico});setChaves(chavesMapeadas)}else setChaves([])}catch(err2){setError(err2.message||"Erro ao carregar chaves PIX"),setChaves([])}finally{setIsLoading(!1)}};React$1.useEffect(()=>{carregarChaves()},[]);const formatarChave=(key,type)=>{if(!key||null==key||""===key)return"Chave inválida";const keyStr=String(key);if("PHONE"===type)return keyStr.replace(/(\+55)(\d{2})(\d{4,5})(\d{4})/,"$1 ($2) $3-****");if("EMAIL"===type){const[local,domain]=keyStr.split("@");return`${local[0]}***@${domain}`}return"CNPJ"===type?keyStr.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-**"):"RANDOM"===type?(36===keyStr.length&&keyStr.includes("-"),keyStr):keyStr};return jsxRuntimeExports.jsx("div",{className:"w-full max-w-7xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2",children:[jsxRuntimeExports.jsx(CriarChavePixTTF,{onChaveCriada:carregarChaves}),jsxRuntimeExports.jsxs(Card,{className:"relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/5 via-transparent to-blue-600/5"}),jsxRuntimeExports.jsxs(CardHeader,{className:"relative pb-4",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:jsxRuntimeExports.jsx(Key,{className:"h-5 w-5 text-blue-600"})}),"Minhas Chaves PIX",jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"TTF"})]}),jsxRuntimeExports.jsx(CardDescription,{children:"Chaves registradas na conta"})]}),jsxRuntimeExports.jsx(CardContent,{className:"relative",children:isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center p-8",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-muted-foreground",children:"Carregando chaves..."})]}):error?jsxRuntimeExports.jsxs("div",{className:"p-4 border border-red-200 bg-red-50 rounded-lg text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-red-600",children:["❌ ",error]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:carregarChaves,className:"mt-3",children:"Tentar novamente"})]}):0===chaves.length?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[jsxRuntimeExports.jsx(Key,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Nenhuma chave PIX registrada"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Crie sua primeira chave PIX usando o painel ao lado"})]}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"w-full justify-center",children:"0 chaves registradas"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-xs",children:[chaves.length," chave",1!==chaves.length?"s":""," registrada",1!==chaves.length?"s":""]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:carregarChaves,disabled:isLoading,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-3 w-3 mr-1"}),"Atualizar"]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:chaves.map(chave=>{return jsxRuntimeExports.jsx("div",{className:"p-4 border rounded-lg hover:bg-muted/20 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:(type=chave.type,{CNPJ:"CNPJ",PHONE:"Celular",EMAIL:"E-mail",RANDOM:"Aleatória"}[type]||type)}),jsxRuntimeExports.jsx(Badge,{variant:"ACTIVE"===chave.status?"default":"secondary",className:"text-xs",children:"ACTIVE"===chave.status?"Ativa":"Inativa"})]}),jsxRuntimeExports.jsx("p",{className:"font-mono text-sm font-medium",children:formatarChave(chave.key,chave.type)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Criada em: ",new Date(chave.created_at).toLocaleDateString("pt-BR")]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{const chaveParaCopiar=chave.key||chave.keypix||"";chaveParaCopiar?(navigator.clipboard.writeText(chaveParaCopiar),ue$2.success("Chave PIX copiada!",{description:`Chave: ${chaveParaCopiar.substring(0,20)}...`,duration:3e3})):ue$2.error("Erro ao copiar chave!",{description:"Chave não encontrada ou inválida",duration:3e3})},className:"h-8 w-8 p-0",title:"Copiar chave PIX",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",disabled:!0,children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})]})},chave.id);var type})})]})})]})]})})}function CorpXTTFPage(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsx(TopBarTTF,{}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8 space-y-6 sm:space-y-8",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"extract",className:"w-full",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs(TabsList,{className:"grid grid-cols-3 w-fit bg-muted/30 p-1 h-auto",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"extract",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Extrato"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"actions",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Ações PIX"})]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"keys",className:"data-[state=active]:bg-background data-[state=active]:shadow-sm rounded-lg py-3 px-6 font-medium transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Chaves PIX"}),jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"ml-2 text-xs px-2 py-0",children:"0"})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"extract",className:"mt-0",children:jsxRuntimeExports.jsx(ExtractTabTTF,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"actions",className:"mt-0",children:jsxRuntimeExports.jsx(PixActionsTabTTF,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"keys",className:"mt-0",children:jsxRuntimeExports.jsx(PixKeysTabTTF,{})})]})})]})}const bitsoClient=new class{constructor(){__publicField(this,"baseUrl"),__publicField(this,"defaultHeaders"),this.baseUrl=PUBLIC_ENV.API_BASE_URL,this.defaultHeaders={"Content-Type":"application/json"}}async request(endpoint,options={}){const jwt=this.getJwtToken();if(!jwt)throw new Error("Token JWT não encontrado. Faça login novamente.");const config2={...options,headers:{...this.defaultHeaders,Authorization:`Bearer ${jwt}`,...options.headers}},url=`${this.baseUrl}${endpoint}`;try{0;const response=await fetch(url,config2),data=await response.json();if(!response.ok)throw new Error(data.mensagem||data.message||`HTTP ${response.status}: ${response.statusText}`);return data}catch(error){throw error}}getJwtToken(){try{return sessionStorage.getItem("jwt_token")||localStorage.getItem("jwt_token")||sessionStorage.getItem("auth_token")||localStorage.getItem("auth_token")}catch(error){return logger.warn("[BITSO API] Erro ao obter JWT token",error),null}}async enviarPix(dados){const requestData={...dados,origin_id:dados.origin_id||`frontend_${Date.now()}_${Math.random().toString(36).substr(2,9)}`};return this.request("/api/bitso/pix/transferencia",{method:"POST",body:JSON.stringify(requestData)})}async consultarExtrato(filtros={}){const params=new URLSearchParams;filtros.start_date&&params.append("start_date",filtros.start_date),filtros.end_date&&params.append("end_date",filtros.end_date),filtros.status&&params.append("status",filtros.status),filtros.limit&&params.append("limit",filtros.limit.toString()),filtros.cursor&&params.append("cursor",filtros.cursor);const query=params.toString()?`?${params.toString()}`:"";return this.request(`/api/bitso/pix/extrato/conta${query}`)}async consultarSaldosDisponiveis(){return this.request("/api/bitso/balance/saldos-disponiveis")}async consultarTodosSaldos(){return this.request("/api/bitso/balance/todos-saldos")}async consultarSaldoMoeda(currency){return this.request(`/api/bitso/balance/moeda/${currency.toLowerCase()}`)}async criarQRCodeDinamico(dados){const requestData={amount:dados.valor.toString(),currency:"brl",pix_key:dados.chavePix,pix_key_type:dados.tipoChave.toUpperCase(),reference:`QR-${Date.now()}`,remittanceInformation:dados.descricao||`QR Code dinâmico - R$ ${dados.valor}`};return this.request("/api/bitso/pix/qr-dinamico",{method:"POST",body:JSON.stringify(requestData)})}async criarQRCodeEstatico(dados){const requestData={currency:"brl",pix_key:dados.chavePix,pix_key_type:dados.tipoChave.toUpperCase(),reference:`QR-STATIC-${Date.now()}`,remittanceInformation:dados.descricao||"QR Code estático"};return this.request("/api/bitso/pix/qr-estatico",{method:"POST",body:JSON.stringify(requestData)})}hasValidToken(){const token=this.getJwtToken();if(!token)return!1;try{return 1e3*JSON.parse(atob(token.split(".")[1])).exp>Date.now()}catch{return!1}}detectPixKeyType(key){if(!key)return"EVP";const keyTrimmed=key.toString().trim();if(keyTrimmed.includes("@")&&keyTrimmed.includes("."))return"EMAIL";if(keyTrimmed.startsWith("+"))return"PHONE";const onlyNumbers=keyTrimmed.replace(/\D/g,"");return 11===onlyNumbers.length&&/^[0-9]+$/.test(onlyNumbers)?"CPF":14===onlyNumbers.length&&/^[0-9]+$/.test(onlyNumbers)?"CNPJ":32===keyTrimmed.length&&/^[a-zA-Z0-9-]+$/.test(keyTrimmed)?"EVP":onlyNumbers.length>=10&&onlyNumbers.length<=13&&keyTrimmed.match(/^\(?[0-9]{2}\)?[\s\-]?[0-9]{4,5}[\s\-]?[0-9]{4}$/)?"PHONE":"EVP"}validarDadosPix(dados){const erros=[],valor=parseFloat(dados.amount);if((isNaN(valor)||valor<=0)&&erros.push("Valor deve ser um número positivo"),valor>5e4&&erros.push("Valor máximo de R$ 50.000 por transação"),dados.pix_key&&""!==dados.pix_key.trim()||erros.push("Chave PIX é obrigatória"),"EMAIL"===dados.pix_key_type){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(dados.pix_key)||erros.push("Email inválido")}if("CPF"===dados.pix_key_type){11!==dados.pix_key.replace(/\D/g,"").length&&erros.push("CPF deve ter 11 dígitos")}if("CNPJ"===dados.pix_key_type){14!==dados.pix_key.replace(/\D/g,"").length&&erros.push("CNPJ deve ter 14 dígitos")}return erros}};async function consultarSaldoBitso(){try{const response=await bitsoClient.getBalance();return response.sucesso&&response.dados?response.dados:null}catch(error){return null}}async function consultarExtratoBitso(filters){try{const response=await bitsoClient.getTransactions(filters);if(response.sucesso&&response.dados){return{erro:!1,transactions:response.dados.map(item=>({id:item.id,date:item.data_criacao,description:"pay_in"===item.tipo?"PIX Recebido":"PIX Enviado",amount:parseFloat(item.valor),type:"pay_in"===item.tipo?"credit":"debit",balance:0,_original:item})),page:1,totalPages:1}}return{erro:!0,transactions:[],page:1,totalPages:1}}catch(error){return{erro:!0,transactions:[],page:1,totalPages:1}}}const BitsoService={consultarSaldo:consultarSaldoBitso,consultarExtrato:consultarExtratoBitso,listarChavesPix:async function(){try{return{erro:!1,chaves:[]}}catch(error){return{erro:!0,chaves:[]}}},enviarPix:async function(dados){try{return await bitsoClient.sendPix(dados)}catch(error){return null}},gerarQRCodePix:async function(valor){try{const response=await bitsoClient.generatePixQRCode(valor);return response.sucesso&&response.dados?{erro:!1,qrCode:response.dados.qr_code,pixKey:response.dados.pix_key,message:"QR Code gerado com sucesso"}:{erro:!0,message:response.mensagem||"Erro ao gerar QR Code"}}catch(error){return{erro:!0,message:error.message}}},formatarValor:function(valor){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(valor)},tratarErro:function(error){var _a3;if(error.response)switch(error.response.status){case 400:return"Dados inválidos. Verifique os campos.";case 401:return"Não autorizado. Verifique suas credenciais.";case 402:return"Saldo insuficiente.";case 422:return"Erro de validação dos dados.";case 500:return"Erro interno. Tente novamente.";default:return(null==(_a3=error.response.data)?void 0:_a3.message)||"Erro na operação. Tente novamente."}return"Erro de conexão. Verifique sua internet."}};function TopBarBitso(){const{saldo:saldoData,loading:isLoadingSaldo,error:errorSaldo,refetch:handleRefresh}=function(){const[saldo,setSaldo]=reactExports.useState(null),[loading,setLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),fetchSaldo=async()=>{setLoading(!0),setError(null);try{const resultado=await consultarSaldoBitso();setSaldo(resultado)}catch(err2){setError(err2.message||"Erro ao consultar saldo")}finally{setLoading(!1)}};return reactExports.useEffect(()=>{fetchSaldo()},[]),{saldo:saldo,loading:loading,error:error,refetch:fetchSaldo}}(),formatCurrency2=value=>{const numValue="string"==typeof value?parseFloat(value):value;return BitsoService.formatarValor(numValue)};return jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 bg-gradient-to-r from-blue-600/10 to-purple-600/10 backdrop-blur-xl border-b border-border h-auto p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-3 rounded-2xl bg-gradient-to-br from-blue-600 to-purple-600 shadow-xl",children:jsxRuntimeExports.jsx(SendHorizontal,{className:"h-6 w-6 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Bitso"}),jsxRuntimeExports.jsx(Badge,{className:"bg-blue-100 text-blue-800 border-blue-200 text-xs font-medium",children:"Banking"}),isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-blue-500"}):errorSaldo?jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}):jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"})]}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Central de transferências PIX"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:handleRefresh,disabled:isLoadingSaldo,className:"hover:bg-muted rounded-xl",children:[isLoadingSaldo?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-muted-foreground"}):jsxRuntimeExports.jsx(RefreshCcw,{className:"h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-sm",children:"Atualizar"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-card/50 backdrop-blur-sm border border-border/50 hover:border-blue-500/50 transition-all duration-300 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Saldo Total"}),jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 text-blue-500 group-hover:scale-110 transition-transform"})]}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-foreground",children:isLoadingSaldo?"Carregando...":errorSaldo?"Erro ao consultar saldo Bitso":saldoData?formatCurrency2(saldoData.total||"0"):"Sem dados"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:jsxRuntimeExports.jsxs("span",{children:["Bitso • BRL • ",(new Date).toLocaleTimeString("pt-BR")]})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-card/50 backdrop-blur-sm border border-border/50 hover:border-green-500/50 transition-all duration-300 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Disponível"}),jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500 group-hover:scale-110 transition-transform"})]}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:isLoadingSaldo?"Carregando...":errorSaldo?"Erro":saldoData?formatCurrency2(saldoData.available||"0"):"Sem dados"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Livre para usar"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-card/50 backdrop-blur-sm border border-border/50 hover:border-orange-500/50 transition-all duration-300 group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Bloqueado"}),jsxRuntimeExports.jsx(Lock,{className:"h-4 w-4 text-orange-500 group-hover:scale-110 transition-transform"})]}),jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-orange-600",children:isLoadingSaldo?"Carregando...":errorSaldo?"Erro":saldoData?formatCurrency2(saldoData.locked||"0"):"Sem dados"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:"Em processamento"})]})]})]})}function ExtractTabBitso(){const[searchTerm,setSearchTerm]=reactExports.useState(""),[dateFilter,setDateFilter]=reactExports.useState({start:"",end:""}),[creditOTCModalOpen,setCreditOTCModalOpen]=reactExports.useState(!1),[selectedExtractRecord,setSelectedExtractRecord]=reactExports.useState(null),[creditedRecords,setCreditedRecords]=reactExports.useState(new Set),[bulkMode,setBulkMode]=reactExports.useState(!1),[selectedTransactions,setSelectedTransactions]=reactExports.useState(new Set),[bulkOTCModalOpen,setBulkOTCModalOpen]=reactExports.useState(!1),{extrato:extrato,loading:loading,error:error,refetch:refetch}=function(filters){const[extrato,setExtrato]=reactExports.useState(null),[loading,setLoading]=reactExports.useState(!1),[error,setError]=reactExports.useState(null),fetchExtrato=async()=>{setLoading(!0),setError(null);try{const resultado=await consultarExtratoBitso(filters);setExtrato(resultado)}catch(err2){setError(err2.message||"Erro ao consultar extrato")}finally{setLoading(!1)}};return reactExports.useEffect(()=>{fetchExtrato()},[null==filters?void 0:filters.start_date,null==filters?void 0:filters.end_date]),{extrato:extrato,loading:loading,error:error,refetch:fetchExtrato}}({start_date:dateFilter.start,end_date:dateFilter.end}),transactions=(null==extrato?void 0:extrato.transactions)||[],filteredTransactions=reactExports.useMemo(()=>{if(!searchTerm)return transactions;const term=searchTerm.toLowerCase();return transactions.filter(t3=>{var _a3,_b3,_c2;return(null==(_a3=t3.id)?void 0:_a3.toLowerCase().includes(term))||(null==(_b3=t3.description)?void 0:_b3.toLowerCase().includes(term))||(null==(_c2=t3.amount)?void 0:_c2.toString().includes(term))})},[transactions,searchTerm]),formatDate=dateString=>{try{return new Date(dateString).toLocaleString("pt-BR")}catch{return dateString}},isRecordCredited=transaction=>{const recordKey=`bitso-${transaction.id}`;return creditedRecords.has(recordKey)},toggleTransactionSelection=transactionId=>{setSelectedTransactions(prev=>{const newSet=new Set(prev);return newSet.has(transactionId)?newSet.delete(transactionId):newSet.add(transactionId),newSet})},clearSelection=()=>{setSelectedTransactions(new Set)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(Card,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Buscar por ID, descrição ou valor...",value:searchTerm,onChange:e3=>setSearchTerm(e3.target.value),className:"pl-10"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{type:"date",value:dateFilter.start,onChange:e3=>setDateFilter(prev=>({...prev,start:e3.target.value})),className:"w-40"}),jsxRuntimeExports.jsx(Input,{type:"date",value:dateFilter.end,onChange:e3=>setDateFilter(prev=>({...prev,end:e3.target.value})),className:"w-40"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:refetch,disabled:loading,children:[loading?jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin"}):jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Filtrar"})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>{const rows=filteredTransactions.map(t3=>[formatDate(t3.date),t3.description,"credit"===t3.type?"Crédito":"Débito",t3.amount,t3.id]),csvContent=[["Data","Descrição","Tipo","Valor","ID"].join(","),...rows.map(row=>row.join(","))].join("\n"),blob=new Blob([csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a");link.href=URL.createObjectURL(blob),link.download=`extrato-bitso-${(new Date).toISOString().split("T")[0]}.csv`,link.click()},disabled:0===filteredTransactions.length,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4"}),jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Exportar"})]})]})}),jsxRuntimeExports.jsx(Card,{className:cn("p-4 transition-all",bulkMode?"border-blue-500 bg-blue-50 dark:bg-blue-950/20":"border-border"),children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{variant:bulkMode?"default":"outline",onClick:()=>{const newBulkMode=!bulkMode;setBulkMode(newBulkMode),newBulkMode?ue$2.info("Modo seleção ativado - clique nas transações para selecioná-las"):clearSelection()},className:bulkMode?"bg-blue-600 hover:bg-blue-700":"",children:[jsxRuntimeExports.jsx(SquareCheckBig,{className:"h-4 w-4 mr-2"}),bulkMode?"Sair do Modo Lote":"Modo Seleção em Lote"]}),bulkMode&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"text-sm px-3 py-1",children:[selectedTransactions.size," selecionada",1!==selectedTransactions.size?"s":""]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>{const creditTransactions=filteredTransactions.filter(t3=>"credit"===t3.type&&!isRecordCredited(t3)).map(t3=>t3.id);setSelectedTransactions(new Set(creditTransactions)),ue$2.success(`${creditTransactions.length} transações selecionadas`)},disabled:0===filteredTransactions.filter(t3=>"credit"===t3.type&&!isRecordCredited(t3)).length,children:"Selecionar Todas Visíveis"}),jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:clearSelection,disabled:0===selectedTransactions.size,children:[jsxRuntimeExports.jsx(X$2,{className:"h-3 w-3 mr-1"}),"Limpar Seleção"]})]})]}),bulkMode&&selectedTransactions.size>0&&jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{0!==selectedTransactions.size?setBulkOTCModalOpen(!0):ue$2.error("Selecione pelo menos uma transação")},className:"bg-green-600 hover:bg-green-700 text-white",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Creditar ",selectedTransactions.size," em Lote"]})]})}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[loading&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center py-12",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-8 w-8 animate-spin text-blue-500"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-muted-foreground",children:"Carregando transações..."})]}),error&&jsxRuntimeExports.jsxs(Card,{className:"p-6 text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-red-500",children:["Erro ao carregar extrato: ",error]}),jsxRuntimeExports.jsx(Button$1,{onClick:refetch,className:"mt-4",variant:"outline",children:"Tentar Novamente"})]}),!loading&&!error&&0===filteredTransactions.length&&jsxRuntimeExports.jsxs(Card,{className:"p-12 text-center",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Nenhuma transação encontrada"})]}),!loading&&!error&&filteredTransactions.map(transaction=>{return jsxRuntimeExports.jsx(Card,{className:cn("p-4 transition-all cursor-pointer",bulkMode&&selectedTransactions.has(transaction.id)?"border-2 border-blue-500 bg-blue-50 dark:bg-blue-950/30":"hover:bg-muted/50 border-border"),onClick:()=>{bulkMode&&"credit"===transaction.type&&!isRecordCredited(transaction)&&toggleTransactionSelection(transaction.id)},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[bulkMode&&"credit"===transaction.type&&!isRecordCredited(transaction)&&jsxRuntimeExports.jsx(Checkbox,{checked:selectedTransactions.has(transaction.id),onCheckedChange:()=>toggleTransactionSelection(transaction.id),className:"h-5 w-5",onClick:e3=>e3.stopPropagation()}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[(type=transaction.type,"credit"===type?jsxRuntimeExports.jsx(CircleArrowDown,{className:"h-5 w-5 text-green-500"}):jsxRuntimeExports.jsx(CircleArrowUp,{className:"h-5 w-5 text-red-500"})),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium",children:transaction.description}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[formatDate(transaction.date)," • ID: ",transaction.id]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[!bulkMode&&"credit"===transaction.type&&jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:e3=>{e3.stopPropagation(),(async(transaction,event)=>{event.stopPropagation(),isRecordCredited(transaction)?ue$2.error("Registro já creditado",{description:"Este registro do extrato já foi creditado para um cliente OTC"}):(setSelectedExtractRecord(transaction),setCreditOTCModalOpen(!0))})(transaction,e3)},disabled:isRecordCredited(transaction),className:cn("h-8 px-3 text-xs transition-all",isRecordCredited(transaction)?"bg-gray-100 text-gray-500 border-gray-200 cursor-not-allowed":"bg-green-50 hover:bg-green-100 text-green-700 border-green-200 hover:border-green-300"),title:isRecordCredited(transaction)?"Já creditado para cliente OTC":"Creditar para cliente OTC",children:isRecordCredited(transaction)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"h-3 w-3 mr-1"}),"Creditado"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),"OTC"]})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold "+("credit"===transaction.type?"text-green-600":"text-red-600"),children:["credit"===transaction.type?"+":"-"," ",(value=transaction.amount,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(value))]}),jsxRuntimeExports.jsx(Badge,{variant:"credit"===transaction.type?"default":"secondary",className:"mt-1",children:"credit"===transaction.type?"Crédito":"Débito"})]})]})]})]})},transaction.id);var value,type})]}),!loading&&!error&&filteredTransactions.length>0&&jsxRuntimeExports.jsx(Card,{className:"p-4 bg-muted/30",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Total de transações: ",jsxRuntimeExports.jsx("strong",{children:filteredTransactions.length})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground",children:["Período: ",dateFilter.start||"Todas"," até ",dateFilter.end||"Hoje"]})]})}),jsxRuntimeExports.jsx(CreditExtractToOTCModal,{isOpen:creditOTCModalOpen,onClose:wasSuccessful=>{if(wasSuccessful&&selectedExtractRecord){const recordKey=`bitso-${selectedExtractRecord.id}`;setCreditedRecords(prev=>new Set(prev).add(recordKey))}setCreditOTCModalOpen(!1),setSelectedExtractRecord(null)},extractRecord:selectedExtractRecord}),jsxRuntimeExports.jsx(BulkCreditOTCModal,{isOpen:bulkOTCModalOpen,onClose:(wasSuccessful,successfulIds)=>{wasSuccessful&&successfulIds&&successfulIds.length>0&&(setCreditedRecords(prev=>{const newSet=new Set(prev);return successfulIds.forEach(id2=>newSet.add(`bitso-${id2}`)),newSet}),clearSelection()),setBulkOTCModalOpen(!1)},transactions:filteredTransactions.filter(t3=>selectedTransactions.has(t3.id))})]})}function BitsoPage(){const[isLoading,setIsLoading]=reactExports.useState(!1),[pixResult,setPixResult]=reactExports.useState(null),[qrResult,setQrResult]=reactExports.useState(null),[isBitsoActive,setIsBitsoActive]=reactExports.useState(!1),[pixData,setPixData]=reactExports.useState({keyType:"",pixKey:"",amount:"",description:""}),[qrDynamicData,setQrDynamicData]=reactExports.useState({keyType:"",pixKey:"",amount:"",description:""}),[qrStaticData,setQrStaticData]=reactExports.useState({keyType:"",pixKey:"",description:""});reactExports.useEffect(()=>{const bitsoAccount=getAvailableAccounts().find(acc=>"bitso"===acc.provider);bitsoAccount?(bitsoAccount.isActive||switchAccount("bitso-crypto"),setIsBitsoActive(!0)):(setIsBitsoActive(!1),ue$2.error("Conta Bitso não disponível",{description:"Configure a conta Bitso no sistema"}))},[]);const checkBitsoActive=()=>{const bitsoAccount=getAvailableAccounts().find(acc=>"bitso"===acc.provider);if(!(null==bitsoAccount?void 0:bitsoAccount.isActive)){if(!switchAccount("bitso-crypto"))return ue$2.error("Conta Bitso não disponível",{description:"Selecione a conta Bitso no gerenciador de contas"}),!1}return!0};return jsxRuntimeExports.jsxs("div",{className:"w-full min-h-screen bg-background",children:[jsxRuntimeExports.jsx(TopBarBitso,{}),!isBitsoActive&&jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-4",children:jsxRuntimeExports.jsxs(Alert,{className:"border-amber-200 bg-amber-50",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-amber-600"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-amber-800",children:[jsxRuntimeExports.jsx("strong",{children:"Conta Bitso não configurada"}),jsxRuntimeExports.jsx("br",{}),"Configure a conta Bitso no gerenciador de contas para usar esta funcionalidade."]})]})}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 py-6",children:jsxRuntimeExports.jsxs(Tabs,{defaultValue:"extract",className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-4 mb-6",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"extract",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-4 w-4"}),"Extrato"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"pix",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-4 w-4"}),"Enviar PIX"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"qr-dynamic",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(QrCode,{className:"h-4 w-4"}),"QR Dinâmico"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"qr-static",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(QrCode,{className:"h-4 w-4"}),"QR Estático"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"extract",children:jsxRuntimeExports.jsx(ExtractTabBitso,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"pix",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"h-5 w-5 text-blue-500"}),"Enviar PIX via Bitso"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Transferência imediata usando chave PIX do destinatário"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Tipo de Chave PIX"}),jsxRuntimeExports.jsxs(Select,{value:pixData.keyType,onValueChange:value=>setPixData({...pixData,keyType:value}),disabled:isLoading,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"CPF",children:"CPF"}),jsxRuntimeExports.jsx(SelectItem,{value:"CNPJ",children:"CNPJ"}),jsxRuntimeExports.jsx(SelectItem,{value:"EMAIL",children:"Email"}),jsxRuntimeExports.jsx(SelectItem,{value:"PHONE",children:"Telefone"}),jsxRuntimeExports.jsx(SelectItem,{value:"EVP",children:"Chave Aleatória"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Chave PIX do Destinatário"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[pixData.keyType&&jsxRuntimeExports.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:(type=>{switch(type){case"CPF":return jsxRuntimeExports.jsx(User,{className:"h-4 w-4"});case"CNPJ":return jsxRuntimeExports.jsx(Building2,{className:"h-4 w-4"});case"EMAIL":return jsxRuntimeExports.jsx(Mail,{className:"h-4 w-4"});case"PHONE":return jsxRuntimeExports.jsx(Phone,{className:"h-4 w-4"});case"EVP":return jsxRuntimeExports.jsx(Hash$2,{className:"h-4 w-4"});default:return jsxRuntimeExports.jsx(Key,{className:"h-4 w-4"})}})(pixData.keyType)}),jsxRuntimeExports.jsx(Input,{placeholder:"Digite a chave PIX",className:pixData.keyType?"pl-10":"",value:pixData.pixKey,onChange:e3=>setPixData({...pixData,pixKey:e3.target.value}),disabled:isLoading})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Valor (R$)"}),jsxRuntimeExports.jsx(Input,{type:"number",step:"0.01",placeholder:"0.00",value:pixData.amount,onChange:e3=>setPixData({...pixData,amount:e3.target.value}),disabled:isLoading})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Descrição (opcional)"}),jsxRuntimeExports.jsx(Input,{placeholder:"Motivo da transferência",value:pixData.description,onChange:e3=>setPixData({...pixData,description:e3.target.value}),disabled:isLoading})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",onClick:async()=>{if(pixData.keyType&&pixData.pixKey&&pixData.amount){if(checkBitsoActive()){setIsLoading(!0),setPixResult(null);try{const result=await sendPix({key:pixData.pixKey,amount:parseFloat(pixData.amount),description:pixData.description||"PIX via Bitso",keyType:pixData.keyType});setPixResult({success:!0,transaction:result,message:"PIX enviado com sucesso!"}),ue$2.success("PIX enviado!",{description:`R$ ${pixData.amount} para ${pixData.pixKey}`,duration:4e3}),setPixData({keyType:"",pixKey:"",amount:"",description:""})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";setPixResult({success:!1,message:errorMessage}),ue$2.error("Erro ao enviar PIX",{description:errorMessage,duration:6e3})}finally{setIsLoading(!1)}}}else ue$2.error("Preencha todos os campos obrigatórios")},disabled:isLoading||!isBitsoActive,children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Enviando PIX..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SendHorizontal,{className:"mr-2 h-4 w-4"}),"Enviar PIX"]})}),pixResult&&jsxRuntimeExports.jsx(Card,{className:""+(pixResult.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[pixResult.success?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600 mt-0.5"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-red-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("p",{className:"font-medium "+(pixResult.success?"text-green-800":"text-red-800"),children:pixResult.message}),pixResult.transaction&&jsxRuntimeExports.jsxs("div",{className:"mt-2 text-sm text-muted-foreground",children:[jsxRuntimeExports.jsxs("p",{children:["ID: ",pixResult.transaction.id]}),jsxRuntimeExports.jsxs("p",{children:["Status: ",pixResult.transaction.status]})]})]})]})})})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"qr-dynamic",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 text-purple-500"}),"QR Code Dinâmico"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Gerar QR Code com valor fixo para recebimento"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Tipo da Sua Chave PIX"}),jsxRuntimeExports.jsxs(Select,{value:qrDynamicData.keyType,onValueChange:value=>setQrDynamicData({...qrDynamicData,keyType:value}),disabled:isLoading,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"CPF",children:"CPF"}),jsxRuntimeExports.jsx(SelectItem,{value:"CNPJ",children:"CNPJ"}),jsxRuntimeExports.jsx(SelectItem,{value:"EMAIL",children:"Email"}),jsxRuntimeExports.jsx(SelectItem,{value:"PHONE",children:"Telefone"}),jsxRuntimeExports.jsx(SelectItem,{value:"EVP",children:"Chave Aleatória"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Sua Chave PIX"}),jsxRuntimeExports.jsx(Input,{placeholder:"Digite sua chave PIX",value:qrDynamicData.pixKey,onChange:e3=>setQrDynamicData({...qrDynamicData,pixKey:e3.target.value}),disabled:isLoading})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Valor a Receber (R$)"}),jsxRuntimeExports.jsx(Input,{type:"number",step:"0.01",placeholder:"0.00",value:qrDynamicData.amount,onChange:e3=>setQrDynamicData({...qrDynamicData,amount:e3.target.value}),disabled:isLoading})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Descrição (opcional)"}),jsxRuntimeExports.jsx(Input,{placeholder:"Motivo da cobrança",value:qrDynamicData.description,onChange:e3=>setQrDynamicData({...qrDynamicData,description:e3.target.value}),disabled:isLoading})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",onClick:async()=>{if(qrDynamicData.keyType&&qrDynamicData.pixKey&&qrDynamicData.amount){if(checkBitsoActive()){setIsLoading(!0),setQrResult(null);try{const result=await(async dados=>{const{unifiedBankingService:unifiedBankingService2}=await __vitePreload(async()=>{const{unifiedBankingService:unifiedBankingService22}=await Promise.resolve().then(()=>UnifiedBankingService$1);return{unifiedBankingService:unifiedBankingService22}},void 0);return unifiedBankingService2.criarQRCodeDinamicoBitso(dados)})({valor:parseFloat(qrDynamicData.amount),chavePix:qrDynamicData.pixKey,tipoChave:qrDynamicData.keyType,descricao:qrDynamicData.description||"Cobrança PIX via Bitso"});setQrResult({success:!0,type:"dynamic",qrCode:result.qrCode,txId:result.txId,amount:qrDynamicData.amount}),ue$2.success("QR Code dinâmico criado!",{description:`Valor: R$ ${qrDynamicData.amount}`,duration:4e3}),setQrDynamicData({keyType:"",pixKey:"",amount:"",description:""})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";setQrResult({success:!1,message:errorMessage}),ue$2.error("Erro ao criar QR Code",{description:errorMessage,duration:6e3})}finally{setIsLoading(!1)}}}else ue$2.error("Preencha todos os campos obrigatórios")},disabled:isLoading||!isBitsoActive,children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando QR..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(QrCode,{className:"mr-2 h-4 w-4"}),"Gerar QR Dinâmico"]})})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"qr-static",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(QrCode,{className:"h-5 w-5 text-indigo-500"}),"QR Code Estático"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Gerar QR Code reutilizável (sem valor fixo)"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Tipo da Sua Chave PIX"}),jsxRuntimeExports.jsxs(Select,{value:qrStaticData.keyType,onValueChange:value=>setQrStaticData({...qrStaticData,keyType:value}),disabled:isLoading,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o tipo"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"CPF",children:"CPF"}),jsxRuntimeExports.jsx(SelectItem,{value:"CNPJ",children:"CNPJ"}),jsxRuntimeExports.jsx(SelectItem,{value:"EMAIL",children:"Email"}),jsxRuntimeExports.jsx(SelectItem,{value:"PHONE",children:"Telefone"}),jsxRuntimeExports.jsx(SelectItem,{value:"EVP",children:"Chave Aleatória"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Sua Chave PIX"}),jsxRuntimeExports.jsx(Input,{placeholder:"Digite sua chave PIX",value:qrStaticData.pixKey,onChange:e3=>setQrStaticData({...qrStaticData,pixKey:e3.target.value}),disabled:isLoading})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{children:"Descrição (opcional)"}),jsxRuntimeExports.jsx(Input,{placeholder:"Identificação da chave",value:qrStaticData.description,onChange:e3=>setQrStaticData({...qrStaticData,description:e3.target.value}),disabled:isLoading})]}),jsxRuntimeExports.jsx(Button$1,{className:"w-full",onClick:async()=>{if(qrStaticData.keyType&&qrStaticData.pixKey){if(checkBitsoActive()){setIsLoading(!0),setQrResult(null);try{const result=await(async dados=>{const{unifiedBankingService:unifiedBankingService2}=await __vitePreload(async()=>{const{unifiedBankingService:unifiedBankingService22}=await Promise.resolve().then(()=>UnifiedBankingService$1);return{unifiedBankingService:unifiedBankingService22}},void 0);return unifiedBankingService2.criarQRCodeEstaticoBitso(dados)})({chavePix:qrStaticData.pixKey,tipoChave:qrStaticData.keyType,descricao:qrStaticData.description||"Chave PIX via Bitso"});setQrResult({success:!0,type:"static",qrCode:result.qrCode,txId:result.txId}),ue$2.success("QR Code estático criado!",{description:"QR Code reutilizável gerado",duration:4e3}),setQrStaticData({keyType:"",pixKey:"",description:""})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";setQrResult({success:!1,message:errorMessage}),ue$2.error("Erro ao criar QR Code",{description:errorMessage,duration:6e3})}finally{setIsLoading(!1)}}}else ue$2.error("Preencha todos os campos obrigatórios")},disabled:isLoading||!isBitsoActive,children:isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando QR..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(QrCode,{className:"mr-2 h-4 w-4"}),"Gerar QR Estático"]})})]})]})}),qrResult&&jsxRuntimeExports.jsx(Card,{className:"mt-6 "+(qrResult.success?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4",children:qrResult.success?jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5 text-green-600"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-green-800",children:["QR Code ","dynamic"===qrResult.type?"Dinâmico":"Estático"," Criado!"]})]}),qrResult.amount&&jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:["Valor: R$ ",qrResult.amount]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-green-800",children:"Código QR PIX:"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("code",{className:"flex-1 p-3 bg-white border rounded text-xs font-mono break-all",children:qrResult.qrCode}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>{(null==qrResult?void 0:qrResult.qrCode)&&(navigator.clipboard.writeText(qrResult.qrCode),ue$2.success("QR Code copiado!"))},className:"shrink-0",children:jsxRuntimeExports.jsx(Copy,{className:"h-4 w-4"})})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-green-700",children:["ID da transação: ",qrResult.txId]})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5 text-red-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-red-800",children:"Erro ao gerar QR Code"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-red-700 mt-1",children:qrResult.message})]})]})})})]})})]})}const loginSchema=objectType({email:stringType().email("Email inválido").min(1,"Email é obrigatório"),password:stringType().min(6,"Senha deve ter pelo menos 6 caracteres")}),Login=()=>{var _a3;const{login:login,isLoading:isLoading}=useAuth(),navigate=useNavigate(),location2=useLocation(),[showPassword,setShowPassword]=reactExports.useState(!1),from=(null==(_a3=location2.state)?void 0:_a3.from)||"/",{register:register,handleSubmit:handleSubmit,formState:{errors:errors,isSubmitting:isSubmitting}}=useForm({resolver:t(loginSchema)});return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-black flex",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex lg:w-3/5 bg-black relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 opacity-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(255,165,0,0.1),transparent_50%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-orange-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-orange-600 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-orange-400 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-4000"})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col justify-center px-12 py-12 text-white",children:[jsxRuntimeExports.jsx("div",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 rounded-xl flex items-center justify-center",children:jsxRuntimeExports.jsx(Building2,{className:"w-7 h-7 text-black"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"TCR - OTC"}),jsxRuntimeExports.jsx("p",{className:"text-orange-200 text-sm",children:"Plataforma Financeira"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-4xl font-bold leading-tight mb-4 text-white",children:["Gerencie suas",jsxRuntimeExports.jsx("span",{className:"block bg-gradient-to-r from-orange-400 to-orange-500 bg-clip-text text-transparent",children:"Operações Financeiras"})]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-300 leading-relaxed",children:"Acesse seu painel de controle para visualizar extratos, gerenciar transações e acompanhar cotações em tempo real."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(ChartColumn,{className:"w-4 h-4 text-orange-400"})}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"Relatórios em tempo real"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4 text-orange-400"})}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"Análise de transações"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx(Shield,{className:"w-4 h-4 text-orange-400"})}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"Segurança avançada"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-auto pt-8",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"© 2024 Sistema OTC. Todos os direitos reservados."})})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full lg:w-2/5 bg-gray-900 flex items-center justify-center p-8",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md",children:[jsxRuntimeExports.jsx(Card,{className:"border-gray-800 shadow-2xl bg-gray-800",children:jsxRuntimeExports.jsxs(CardContent,{className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-8",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(User,{className:"w-8 h-8 text-black"})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Bem-vindo de volta"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Faça login para acessar sua conta"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:handleSubmit(async data=>{await login({email:data.email,password:data.password})&&setTimeout(async()=>{try{const storedUser=authService.getCurrentUser();if(storedUser){const userTypeResult=await userTypeService.checkUserType(storedUser);if(userTypeResult.isEmployee||"otc_employee"===userTypeResult.type)navigate("/employee-statement",{replace:!0});else if(userTypeResult.isOTC&&!userTypeResult.isEmployee)navigate("/client-statement",{replace:!0});else if(userTypeResult.isAdmin||"admin"===userTypeResult.type){navigate("/"===from||"/login"===from?"/":from,{replace:!0})}else navigate("/",{replace:!0})}else navigate("/",{replace:!0})}catch(error){navigate("/",{replace:!0})}},500)}),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",className:"text-sm font-semibold text-white",children:"Email"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"seu@email.com",className:"pl-10 h-12 border-2 border-gray-700 bg-gray-900 text-white placeholder-gray-500 focus:border-orange-500 transition-colors",...register("email")})]}),errors.email&&jsxRuntimeExports.jsx("p",{className:"text-red-400 text-sm",children:errors.email.message})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",className:"text-sm font-semibold text-white",children:"Senha"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),jsxRuntimeExports.jsx(Input,{id:"password",type:showPassword?"text":"password",placeholder:"Digite sua senha",className:"pl-10 pr-10 h-12 border-2 border-gray-700 bg-gray-900 text-white placeholder-gray-500 focus:border-orange-500 transition-colors",...register("password")}),jsxRuntimeExports.jsx("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",onClick:()=>setShowPassword(!showPassword),children:showPassword?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]}),errors.password&&jsxRuntimeExports.jsx("p",{className:"text-red-400 text-sm",children:errors.password.message})]}),jsxRuntimeExports.jsx(Button$1,{type:"submit",disabled:isSubmitting||isLoading,className:"w-full h-12 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-black font-semibold text-base transition-all duration-200 disabled:opacity-50",children:isSubmitting||isLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-black"}),jsxRuntimeExports.jsx("span",{children:"Entrando..."})]}):"Entrar"})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 space-y-4",children:jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs",children:"Problemas para acessar? Entre em contato com o suporte"})})})]})}),jsxRuntimeExports.jsx("div",{className:"lg:hidden text-center mt-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-white",children:[jsxRuntimeExports.jsx(Building2,{className:"w-5 h-5 text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Sistema OTC"})]})})]})})]})},registerSchema=objectType({name:stringType().min(2,"Nome deve ter pelo menos 2 caracteres").optional(),email:stringType().min(1,"Email é obrigatório").email("Email inválido"),password:stringType().min(6,"Senha deve ter pelo menos 6 caracteres"),confirmPassword:stringType().min(1,"Confirmação de senha é obrigatória")}).refine(data=>data.password===data.confirmPassword,{message:"Senhas não coincidem",path:["confirmPassword"]}),RegisterForm=()=>{const{register:registerUser,isLoading:isLoading}=useAuth(),navigate=useNavigate(),[showPassword,setShowPassword]=reactExports.useState(!1),[showConfirmPassword,setShowConfirmPassword]=reactExports.useState(!1),{register:register,handleSubmit:handleSubmit,formState:{errors:errors,isSubmitting:isSubmitting}}=useForm({resolver:t(registerSchema)});return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"space-y-1 text-center",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-2xl flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(UserPlus,{className:"h-6 w-6"}),"Criar Conta"]}),jsxRuntimeExports.jsx(CardDescription,{children:"Crie sua conta para acessar o sistema"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("form",{onSubmit:handleSubmit(async data=>{const{confirmPassword:confirmPassword,...registerData}=data;await registerUser(registerData)&&navigate("/",{replace:!0})}),className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Nome (opcional)"}),jsxRuntimeExports.jsx(Input,{id:"name",type:"text",placeholder:"Seu nome completo",...register("name"),disabled:isSubmitting||isLoading}),errors.name&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:errors.name.message})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",placeholder:"seu@email.com",...register("email"),disabled:isSubmitting||isLoading}),errors.email&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:errors.email.message})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:"Senha"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"password",type:showPassword?"text":"password",placeholder:"Mínimo 6 caracteres",...register("password"),disabled:isSubmitting||isLoading}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>setShowPassword(!showPassword),disabled:isSubmitting||isLoading,children:showPassword?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]}),errors.password&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:errors.password.message})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"confirmPassword",children:"Confirmar Senha"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{id:"confirmPassword",type:showConfirmPassword?"text":"password",placeholder:"Digite a senha novamente",...register("confirmPassword"),disabled:isSubmitting||isLoading}),jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>setShowConfirmPassword(!showConfirmPassword),disabled:isSubmitting||isLoading,children:showConfirmPassword?jsxRuntimeExports.jsx(EyeOff,{className:"h-4 w-4"}):jsxRuntimeExports.jsx(Eye,{className:"h-4 w-4"})})]}),errors.confirmPassword&&jsxRuntimeExports.jsx("p",{className:"text-sm text-destructive",children:errors.confirmPassword.message})]}),jsxRuntimeExports.jsx(Button$1,{type:"submit",className:"w-full",disabled:isSubmitting||isLoading,children:isSubmitting||isLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"mr-2 h-4 w-4 animate-spin"}),"Criando conta..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserPlus,{className:"mr-2 h-4 w-4"}),"Criar Conta"]})}),jsxRuntimeExports.jsx("div",{className:"text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:["Já tem uma conta?"," ",jsxRuntimeExports.jsx(Link,{to:"/login",className:"text-primary hover:underline font-medium",children:"Entre aqui"})]})})]})})]})})},Register=()=>jsxRuntimeExports.jsx(RegisterForm,{}),BOT_ENDPOINTS_GET_ALL_BOT_GROUPS="/bot-cotacao/getAllBotGroups",BOT_ENDPOINTS_STATUS="/bot-cotacao/status",BOT_ENDPOINTS_ADD_CLIENT="/bot-cotacao/addBotClient",BOT_ENDPOINTS_ADD_GROUP_TO_CLIENT="/bot-cotacao/addBotGroupToClient",BOT_ENDPOINTS_GET_GROUPS="/bot-cotacao/groups",BOT_ENDPOINTS_UPDATE_GROUP="/bot-cotacao/groups",createBotApiRequest=async(endpoint,options={})=>{const url=`https://vps80270.cloudpublic.com.br:8081${endpoint}`,config2={...options,headers:{"Content-Type":"application/json",Accept:"application/json",...options.headers},mode:"cors",signal:AbortSignal.timeout(3e4)};try{const response=await fetch(url,config2);if(!response.ok){const errorText=await response.text();throw new Error(`API Error ${response.status}: ${errorText}`)}return response}catch(error){throw error}};const botCotacaoService=new class{async getAllWhatsAppGroups(params){var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2,_j2,_k;try{const queryParams=new URLSearchParams;(null==params?void 0:params.page)&&queryParams.append("page",params.page.toString()),(null==params?void 0:params.limit)&&queryParams.append("pageSize",params.limit.toString());const response=await createBotApiRequest(`${BOT_ENDPOINTS_GET_ALL_BOT_GROUPS}?${queryParams.toString()}`,{method:"GET"});let result;try{result=await response.json()}catch(parseError){return{sucesso:!1,mensagem:"Erro na comunicação com a API - resposta inválida",data:{items:[],total:0,page:1,limit:20,totalPages:0}}}const grupos=(null==(_a3=result.response)?void 0:_a3.grupos)||[],mappedGroups=grupos.map((grupo,index)=>({id:grupo.phone||`grupo-${index}`,name:grupo.name||`Grupo ${index+1}`,participants_count:parseInt(grupo.messagesUnread||grupo.unread||"0")||0,is_registered:!1}));return{sucesso:!0,mensagem:result.mensagem||"Grupos obtidos com sucesso",data:{items:mappedGroups,total:(null==(_c2=null==(_b3=result.response)?void 0:_b3.estatisticas)?void 0:_c2.totalGrupos)||grupos.length,page:(null==(_e3=null==(_d2=result.response)?void 0:_d2.paginacao)?void 0:_e3.paginaAtual)||1,limit:(null==(_g2=null==(_f2=result.response)?void 0:_f2.paginacao)?void 0:_g2.tamanhoPagina)||20,totalPages:Math.ceil(((null==(_i2=null==(_h2=result.response)?void 0:_h2.estatisticas)?void 0:_i2.totalGrupos)||grupos.length)/((null==(_k=null==(_j2=result.response)?void 0:_j2.paginacao)?void 0:_k.tamanhoPagina)||20))}}}catch(error){return{sucesso:!1,mensagem:`Erro ao buscar grupos: ${error instanceof Error?error.message:"Erro desconhecido"}`,data:{items:[],total:0,page:1,limit:20,totalPages:0}}}}async getBotStatus(){var _a3,_b3,_c2;try{const response=await createBotApiRequest(BOT_ENDPOINTS_STATUS,{method:"GET"});let result;try{result=await response.json()}catch(parseError){return{sucesso:!1,mensagem:"Erro na comunicação com a API - resposta inválida",data:{is_active:!1,last_activity:(new Date).toISOString(),total_groups:0,total_clients:0,status_message:"Erro de comunicação"}}}return{sucesso:!0,mensagem:result.mensagem||"Status obtido com sucesso",data:{is_active:(null==(_a3=result.response)?void 0:_a3.botAtivo)||!1,last_activity:(null==(_b3=result.response)?void 0:_b3.ultimaVerificacao)||(new Date).toISOString(),total_groups:0,total_clients:0,status_message:(null==(_c2=result.response)?void 0:_c2.configurado)?"Bot configurado e ativo":"Bot não configurado"}}}catch(error){return{sucesso:!1,mensagem:`Erro ao verificar status: ${error instanceof Error?error.message:"Erro desconhecido"}`,data:{is_active:!1,last_activity:(new Date).toISOString(),total_groups:0,total_clients:0,status_message:"Erro de comunicação"}}}}async testConnectivity(){try{const response=await fetch("https://vps80270.cloudpublic.com.br:8081/bot-cotacao/status",{method:"GET",headers:{Accept:"application/json"},mode:"cors"});if(!response.ok){const errorText=await response.text();return{sucesso:!1,mensagem:`HTTP ${response.status}: ${response.statusText}`,data:{error:errorText.substring(0,500)}}}{const text2=await response.text();try{return{sucesso:!0,mensagem:"Conectividade OK",data:JSON.parse(text2)}}catch(e3){return{sucesso:!1,mensagem:"Resposta não é JSON válido",data:{rawResponse:text2.substring(0,500)}}}}}catch(error){return{sucesso:!1,mensagem:`Erro de conexão: ${error instanceof Error?error.message:"Desconhecido"}`,data:{error:error}}}}async createClient(clientData){try{const response=await createBotApiRequest(BOT_ENDPOINTS_ADD_CLIENT,{method:"POST",body:JSON.stringify(clientData)}),result=await response.json();return{sucesso:response.ok,mensagem:result.mensagem,data:result.response}}catch(error){throw error}}async getRegisteredGroups(filters,params){var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2,_j2;try{const queryParams=new URLSearchParams;(null==params?void 0:params.page)&&queryParams.append("page",params.page.toString()),(null==params?void 0:params.limit)&&queryParams.append("pageSize",params.limit.toString());const response=await createBotApiRequest(`${BOT_ENDPOINTS_GET_GROUPS}?${queryParams.toString()}`,{method:"GET"});let result;try{result=await response.json()}catch(parseError){return{sucesso:!1,mensagem:"Erro na comunicação com a API - resposta inválida",data:{items:[],total:0,page:1,limit:20,totalPages:0}}}return{sucesso:!0,mensagem:result.mensagem||"Grupos cadastrados obtidos com sucesso",data:{items:(null==(_b3=null==(_a3=result.response)?void 0:_a3.grupos)?void 0:_b3.map(grupo=>{var _a4,_b4,_c3;return{id:grupo.id,whatsapp_group_name:grupo.whatsapp_group_name,whatsapp_group_id:grupo.whatsapp_group_id,fee_percentual:grupo.fee_percentual,id_otc_user:null==(_a4=grupo.otc_user)?void 0:_a4.id,client_name:(null==(_b4=grupo.otc_user)?void 0:_b4.user_name)||(null==(_c3=grupo.otc_user)?void 0:_c3.user_friendly_name),effective_fee:grupo.fee_percentual||0,otc_user:grupo.otc_user}}))||[],total:(null==(_d2=null==(_c2=result.response)?void 0:_c2.paginacao)?void 0:_d2.totalGrupos)||0,page:(null==(_f2=null==(_e3=result.response)?void 0:_e3.paginacao)?void 0:_f2.paginaAtual)||1,limit:(null==(_h2=null==(_g2=result.response)?void 0:_g2.paginacao)?void 0:_h2.tamanhoPagina)||20,totalPages:(null==(_j2=null==(_i2=result.response)?void 0:_i2.paginacao)?void 0:_j2.totalPaginas)||1}}}catch(error){return{sucesso:!1,mensagem:`Erro ao buscar grupos cadastrados: ${error instanceof Error?error.message:"Erro desconhecido"}`,data:{items:[],total:0,page:1,limit:20,totalPages:0}}}}async addGroupsFromWhatsApp(groupsData){try{const response=await createBotApiRequest("/bot-cotacao/addGroupsFromWhatsApp",{method:"POST",body:JSON.stringify(groupsData)});let result;try{result=await response.json()}catch(parseError){return{sucesso:!1,mensagem:"Erro na comunicação com a API - resposta inválida",data:null}}return{sucesso:response.ok,mensagem:result.mensagem||"Grupos processados",data:result.response,statusCode:response.status}}catch(error){return{sucesso:!1,mensagem:`Erro ao cadastrar grupos: ${error instanceof Error?error.message:"Erro desconhecido"}`,data:null}}}async addGroupToClient(groupData){try{const apiData={id_otc_user:groupData.id_otc_user,whatsapp_group_name:groupData.whatsapp_group_name,whatsapp_group_id:groupData.whatsapp_group_id,id_moeda:2,fee_percentual:groupData.fee_percentual},response=await createBotApiRequest(BOT_ENDPOINTS_ADD_GROUP_TO_CLIENT,{method:"POST",body:JSON.stringify(apiData)}),result=await response.json();return{sucesso:response.ok,mensagem:result.mensagem,data:result.response}}catch(error){throw error}}async updateGroupFee(groupId,feeData){try{const response=await createBotApiRequest(`${BOT_ENDPOINTS_UPDATE_GROUP}/${groupId}`,{method:"PUT",body:JSON.stringify(feeData)}),result=await response.json();return{sucesso:response.ok,mensagem:result.mensagem,data:result.response}}catch(error){throw error}}async removeGroup(groupId){try{const response=await createBotApiRequest(`${BOT_ENDPOINTS_UPDATE_GROUP}/${groupId}`,{method:"DELETE"}),result=await response.json();return{sucesso:response.ok,mensagem:result.mensagem||"Grupo removido com sucesso",data:null}}catch(error){throw error}}async getDashboardStats(){var _a3;try{const groupsResponse=await this.getRegisteredGroups({},{page:1,limit:500});if(groupsResponse.sucesso){const groups=(null==(_a3=groupsResponse.data)?void 0:_a3.items)||[],totalGroups=groups.length,totalClients=new Set(groups.map(g2=>g2.id_otc_user)).size;return{sucesso:!0,mensagem:"Estatísticas calculadas com sucesso",data:{total_clients:totalClients,total_groups:totalGroups,total_active_groups:totalGroups,average_fee:groups.length>0?groups.reduce((sum2,g2)=>sum2+(g2.effective_fee||0),0)/groups.length:0,last_activity:(new Date).toISOString()}}}return{sucesso:!1,mensagem:"Erro ao calcular estatísticas"}}catch(error){throw error}}async syncWhatsAppGroups(){var _a3,_b3;try{const whatsappResponse=await this.getAllWhatsAppGroups({page:1,limit:500}),registeredResponse=await this.getRegisteredGroups({},{page:1,limit:500});if(whatsappResponse.sucesso&&registeredResponse.sucesso){const whatsappGroups=(null==(_a3=whatsappResponse.data)?void 0:_a3.items)||[],registeredGroups=(null==(_b3=registeredResponse.data)?void 0:_b3.items)||[],registeredGroupIds=new Set(registeredGroups.map(group=>group.whatsapp_group_id)),unregisteredGroups=whatsappGroups.filter(group=>!registeredGroupIds.has(group.id));return{sucesso:!0,mensagem:"Sincronização realizada com sucesso",data:{whatsapp_groups:whatsappGroups,registered_groups:registeredGroups,unregistered_groups:unregisteredGroups}}}throw new Error("Erro ao sincronizar grupos")}catch(error){return{sucesso:!1,mensagem:"Erro ao sincronizar grupos do WhatsApp"}}}},BotCotacao=()=>{var _a3;const[stats,setStats]=reactExports.useState(null),[botStatus,setBotStatus]=reactExports.useState(null),[whatsappGroups,setWhatsappGroups]=reactExports.useState([]),[registeredGroups,setRegisteredGroups]=reactExports.useState([]),[loading,setLoading]=reactExports.useState(!1),[syncLoading,setSyncLoading]=reactExports.useState(!1),[showNewClientModal,setShowNewClientModal]=reactExports.useState(!1),[showAddGroupModal,setShowAddGroupModal]=reactExports.useState(!1),[showEditGroupModal,setShowEditGroupModal]=reactExports.useState(!1),[selectedGroup,setSelectedGroup]=reactExports.useState(null),[clientForm,setClientForm]=reactExports.useState({user_name:"",user_document:"",user_type:"personal",user_friendly_name:""}),[groupForm,setGroupForm]=reactExports.useState({whatsapp_group_id:"",whatsapp_group_name:"",id_otc_user:"",fee_percentual:void 0}),[availableClients,setAvailableClients]=reactExports.useState([]),[whatsappFilter,setWhatsappFilter]=reactExports.useState(""),[whatsappPage,setWhatsappPage]=reactExports.useState(1),[whatsappPageSize]=reactExports.useState(10),[registeredFilter,setRegisteredFilter]=reactExports.useState(""),[registeredPage,setRegisteredPage]=reactExports.useState(1),[registeredPageSize]=reactExports.useState(10),[selectedGroups,setSelectedGroups]=reactExports.useState(new Set),[showBulkAddModal,setShowBulkAddModal]=reactExports.useState(!1),[bulkAddForm,setBulkAddForm]=reactExports.useState({id_otc_user:"",fee_percentual_padrao:0}),[bulkAddLoading,setBulkAddLoading]=reactExports.useState(!1);reactExports.useEffect(()=>{loadInitialData()},[]);const loadInitialData=async()=>{setLoading(!0);try{const promises=[loadDashboardStats().catch(()=>{}),loadBotStatus().catch(()=>{}),loadRegisteredGroups().catch(()=>{}),loadWhatsAppGroups().catch(()=>{})];await Promise.allSettled(promises)}catch(error){toast({title:"Aviso",description:"Alguns dados podem não estar disponíveis. Verifique a conexão com a API.",variant:"destructive"})}finally{setLoading(!1)}},loadDashboardStats=async()=>{try{const response=await botCotacaoService.getDashboardStats();(null==response?void 0:response.sucesso)&&setStats(response.data)}catch(error){}},loadBotStatus=async()=>{try{const response=await botCotacaoService.getBotStatus();(null==response?void 0:response.sucesso)?setBotStatus(response.data):setBotStatus({is_active:!1,last_activity:(new Date).toISOString(),total_groups:0,total_clients:0,status_message:"Erro de conexão"})}catch(error){setBotStatus({is_active:!1,last_activity:(new Date).toISOString(),total_groups:0,total_clients:0,status_message:"Erro de conexão"})}},loadWhatsAppGroups=async()=>{var _a4,_b3,_c2;try{const response=await botCotacaoService.getAllWhatsAppGroups({page:1,limit:500});if(null==response?void 0:response.sucesso){const groups=(null==(_a4=response.data)?void 0:_a4.items)||[];setWhatsappGroups(groups),((null==(_b3=response.data)?void 0:_b3.total)||0)>groups.length?toast({title:"Aviso de Paginação WhatsApp",description:`Carregados ${groups.length} de ${null==(_c2=response.data)?void 0:_c2.total} grupos WhatsApp. Alguns podem não estar visíveis.`,variant:"destructive"}):groups.length>0&&toast({title:"Grupos Carregados",description:`${groups.length} grupos do WhatsApp encontrados`})}else setWhatsappGroups([]),toast({title:"Aviso",description:(null==response?void 0:response.mensagem)||"Nenhum grupo encontrado",variant:"destructive"})}catch(error){setWhatsappGroups([]),toast({title:"Erro",description:"Falha ao carregar grupos do WhatsApp",variant:"destructive"})}},loadRegisteredGroups=async()=>{var _a4,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2;try{const response=await botCotacaoService.getRegisteredGroups({},{page:1,limit:500});if(null==response?void 0:response.sucesso){setRegisteredGroups((null==(_a4=response.data)?void 0:_a4.items)||[]);const clientsMap=new Map;null==(_c2=null==(_b3=response.data)?void 0:_b3.items)||_c2.forEach(group=>{group.otc_user&&!clientsMap.has(group.otc_user.id)&&clientsMap.set(group.otc_user.id,{id:group.otc_user.id,name:group.otc_user.user_friendly_name||group.otc_user.user_name,document:group.otc_user.user_document,type:group.otc_user.user_type})}),setAvailableClients(Array.from(clientsMap.values())),((null==(_d2=response.data)?void 0:_d2.total)||0)>((null==(_f2=null==(_e3=response.data)?void 0:_e3.items)?void 0:_f2.length)||0)&&toast({title:"Aviso de Paginação",description:`Carregados ${null==(_h2=null==(_g2=response.data)?void 0:_g2.items)?void 0:_h2.length} de ${null==(_i2=response.data)?void 0:_i2.total} grupos. Alguns podem não estar visíveis.`,variant:"destructive"})}else setRegisteredGroups([]),setAvailableClients([])}catch(error){setRegisteredGroups([]),setAvailableClients([])}},resetClientForm=()=>{setClientForm({user_name:"",user_document:"",user_type:"personal",user_friendly_name:""})},resetGroupForm=()=>{setGroupForm({whatsapp_group_id:"",whatsapp_group_name:"",id_otc_user:"",fee_percentual:void 0})},unregisteredGroups=whatsappGroups.filter(wg=>!registeredGroups.some(rg=>rg.whatsapp_group_id===wg.id));React$1.useEffect(()=>{if(whatsappGroups.length>0&&registeredGroups.length>0){const registeredIds=registeredGroups.map(rg=>rg.whatsapp_group_id),whatsappIds=whatsappGroups.map(wg=>wg.id);whatsappIds.filter(id2=>!registeredIds.includes(id2)),registeredIds.filter(id2=>!whatsappIds.includes(id2)),whatsappIds.filter(id2=>registeredIds.includes(id2));whatsappGroups.filter(wg=>{if(!registeredGroups.some(rg=>rg.whatsapp_group_id===wg.id)){if(registeredGroups.find(rg=>rg.whatsapp_group_name.toLowerCase()===wg.name.toLowerCase()))return!0}return!1}).length,whatsappGroups.filter(wg=>!registeredGroups.some(rg=>rg.whatsapp_group_id===wg.id))}},[whatsappGroups,registeredGroups]);const filteredWhatsappGroups=unregisteredGroups.filter(group=>group.name.toLowerCase().includes(whatsappFilter.toLowerCase())),totalWhatsappPages=Math.ceil(filteredWhatsappGroups.length/whatsappPageSize),paginatedWhatsappGroups=filteredWhatsappGroups.slice((whatsappPage-1)*whatsappPageSize,whatsappPage*whatsappPageSize),filteredRegisteredGroups=registeredGroups.filter(group=>group.whatsapp_group_name.toLowerCase().includes(registeredFilter.toLowerCase())||group.client_name.toLowerCase().includes(registeredFilter.toLowerCase())),totalRegisteredPages=Math.ceil(filteredRegisteredGroups.length/registeredPageSize),paginatedRegisteredGroups=filteredRegisteredGroups.slice((registeredPage-1)*registeredPageSize,registeredPage*registeredPageSize);React$1.useEffect(()=>{setWhatsappPage(1)},[whatsappFilter]),React$1.useEffect(()=>{setRegisteredPage(1)},[registeredFilter]);return loading?jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsx(PageHeader,{title:"Bot de Cotação TCR",description:"Sistema de gestão do bot WhatsApp para cotações automáticas",breadcrumbs:[{label:"Bot Cotação",isActive:!0}]}),jsxRuntimeExports.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-96",children:jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})})]}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-background",children:[jsxRuntimeExports.jsx(PageHeader,{title:"Bot de Cotação TCR",description:"Sistema de gestão do bot WhatsApp para cotações automáticas",breadcrumbs:[{label:"Bot Cotação",isActive:!0}]}),jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Badge,{variant:(null==botStatus?void 0:botStatus.is_active)?"default":"secondary",className:"px-3 py-1",children:[jsxRuntimeExports.jsx(Bot,{className:"h-3 w-3 mr-1"}),(null==botStatus?void 0:botStatus.is_active)?"Ativo":"Inativo"]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:(null==botStatus?void 0:botStatus.status_message)||"Status desconhecido"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:async()=>{toast({title:"Testando Conectividade",description:"Verificando conexão com a API..."});try{const result=await botCotacaoService.testConnectivity();toast({title:result.sucesso?"Sucesso":"Erro",description:result.mensagem,variant:result.sucesso?"default":"destructive"}),result.sucesso&&loadInitialData()}catch(error){toast({title:"Erro de Teste",description:"Falha ao testar conectividade",variant:"destructive"})}},variant:"secondary",size:"sm",children:[jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4 mr-2"}),"Testar API"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:async()=>{setSyncLoading(!0);try{const response=await botCotacaoService.syncWhatsAppGroups();if(!response.sucesso)throw new Error(response.mensagem||"Erro na sincronização");await loadWhatsAppGroups(),await loadRegisteredGroups(),toast({title:"Sucesso",description:"Grupos sincronizados com sucesso"})}catch(error){toast({title:"Erro",description:"Falha ao sincronizar grupos",variant:"destructive"})}finally{setSyncLoading(!1)}},disabled:syncLoading,variant:"outline",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2 "+(syncLoading?"animate-spin":"")}),"Sincronizar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{const problematicos=[];whatsappGroups.forEach(wg=>{const found=registeredGroups.find(rg=>rg.whatsapp_group_id===wg.id),nameMatch=registeredGroups.find(rg=>rg.whatsapp_group_name.toLowerCase()===wg.name.toLowerCase());!found&&nameMatch&&problematicos.push({nome:wg.name,idWhatsApp:wg.id,idBanco:nameMatch.whatsapp_group_id,cliente:nameMatch.client_name})}),problematicos.length>0?toast({title:"Inconsistências Detectadas",description:`${problematicos.length} grupos com possível problema de ID. Verifique o console.`,variant:"destructive"}):toast({title:"Nenhum Problema Detectado",description:"Todos os grupos estão sincronizados corretamente."})},variant:"secondary",size:"sm",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 mr-2"}),"Debug"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total de Clientes"}),jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:(null==stats?void 0:stats.total_clients)||0})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Grupos Ativos"}),jsxRuntimeExports.jsx(MessageSquare,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:(null==stats?void 0:stats.total_groups)||0})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Taxa Média"}),jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[(null==(_a3=null==stats?void 0:stats.average_fee)?void 0:_a3.toFixed(2))||"0.00","%"]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Status do Bot"}),jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4 text-muted-foreground"})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[(null==botStatus?void 0:botStatus.is_active)?jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-500"}):jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-red-500"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:"Online"})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex space-x-4",children:jsxRuntimeExports.jsxs(Dialog,{open:showNewClientModal,onOpenChange:setShowNewClientModal,children:[jsxRuntimeExports.jsx(DialogTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{children:[jsxRuntimeExports.jsx(Users,{className:"h-4 w-4 mr-2"}),"Novo Cliente"]})}),jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Cadastrar Novo Cliente"}),jsxRuntimeExports.jsx(DialogDescription,{children:"Adicione um novo cliente ao sistema para vincular grupos"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"user_name",children:"Nome Completo"}),jsxRuntimeExports.jsx(Input,{id:"user_name",value:clientForm.user_name,onChange:e3=>setClientForm(prev=>({...prev,user_name:e3.target.value})),placeholder:"Nome do cliente"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"user_document",children:"CPF/CNPJ"}),jsxRuntimeExports.jsx(Input,{id:"user_document",value:clientForm.user_document,onChange:e3=>setClientForm(prev=>({...prev,user_document:e3.target.value})),placeholder:"Documento sem pontuação"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"user_friendly_name",children:"Nome Amigável (opcional)"}),jsxRuntimeExports.jsx(Input,{id:"user_friendly_name",value:clientForm.user_friendly_name,onChange:e3=>setClientForm(prev=>({...prev,user_friendly_name:e3.target.value})),placeholder:"Como o cliente prefere ser chamado"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"user_type",children:"Tipo de Cliente"}),jsxRuntimeExports.jsxs(Select,{value:clientForm.user_type,onValueChange:value=>setClientForm(prev=>({...prev,user_type:value})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"personal",children:"Pessoa Física"}),jsxRuntimeExports.jsx(SelectItem,{value:"business",children:"Pessoa Jurídica"})]})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>setShowNewClientModal(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{try{const clientData={...clientForm,user_friendly_name:clientForm.user_friendly_name||clientForm.user_name},response=await botCotacaoService.createClient(clientData);if(!response.sucesso)throw new Error(response.mensagem||"Erro ao cadastrar cliente");toast({title:"Sucesso",description:"Cliente cadastrado com sucesso"}),setShowNewClientModal(!1),resetClientForm(),await loadRegisteredGroups()}catch(error){toast({title:"Erro",description:error.message||"Falha ao cadastrar cliente",variant:"destructive"})}},children:"Cadastrar Cliente"})]})]})]})}),whatsappGroups.length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Grupos do WhatsApp Disponíveis"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[filteredWhatsappGroups.length," grupos filtrados de ",unregisteredGroups.length," não cadastrados"]})]}),jsxRuntimeExports.jsx("div",{className:"w-64",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Buscar por nome do grupo...",value:whatsappFilter,onChange:e3=>setWhatsappFilter(e3.target.value),className:"pl-8"})]})})]})}),jsxRuntimeExports.jsx(CardContent,{children:filteredWhatsappGroups.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[selectedGroups.size>0&&jsxRuntimeExports.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-4",children:[jsxRuntimeExports.jsxs(Badge,{variant:"secondary",className:"px-3 py-1",children:[selectedGroups.size," grupo(s) selecionado(s)"]}),jsxRuntimeExports.jsx(Button$1,{variant:"link",size:"sm",onClick:()=>setSelectedGroups(new Set),className:"text-blue-600",children:"Limpar seleção"})]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>setShowBulkAddModal(!0),className:"bg-blue-600 hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Cadastrar Selecionados"]})]})}),jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{className:"w-12",children:jsxRuntimeExports.jsx(Checkbox,{checked:selectedGroups.size===paginatedWhatsappGroups.length&&paginatedWhatsappGroups.length>0,onCheckedChange:()=>{selectedGroups.size===paginatedWhatsappGroups.length?setSelectedGroups(new Set):setSelectedGroups(new Set(paginatedWhatsappGroups.map(g2=>g2.id)))},"aria-label":"Selecionar todos os grupos"})}),jsxRuntimeExports.jsx(TableHead,{children:"Nome do Grupo"}),jsxRuntimeExports.jsx(TableHead,{children:"ID do Grupo"}),jsxRuntimeExports.jsx(TableHead,{children:"Mensagens"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"})]})}),jsxRuntimeExports.jsx(TableBody,{children:paginatedWhatsappGroups.map(group=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Checkbox,{checked:selectedGroups.has(group.id),onCheckedChange:()=>(groupId=>{const newSelected=new Set(selectedGroups);newSelected.has(groupId)?newSelected.delete(groupId):newSelected.add(groupId),setSelectedGroups(newSelected)})(group.id),"aria-label":`Selecionar ${group.name}`})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("div",{className:"font-medium",children:group.name})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground font-mono",children:group.id})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[group.participants_count," não lidas"]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-orange-600 border-orange-600",children:"Não Cadastrado"})})]},group.id))})]}),totalWhatsappPages>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(whatsappPage-1)*whatsappPageSize+1," a"," ",Math.min(whatsappPage*whatsappPageSize,filteredWhatsappGroups.length)," de"," ",filteredWhatsappGroups.length," grupos"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setWhatsappPage(1),disabled:1===whatsappPage,children:jsxRuntimeExports.jsx(ChevronsLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setWhatsappPage(prev=>Math.max(prev-1,1)),disabled:1===whatsappPage,children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Página ",whatsappPage," de ",totalWhatsappPages]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setWhatsappPage(prev=>Math.min(prev+1,totalWhatsappPages)),disabled:whatsappPage===totalWhatsappPages,children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setWhatsappPage(totalWhatsappPages),disabled:whatsappPage===totalWhatsappPages,children:jsxRuntimeExports.jsx(ChevronsRight,{className:"h-4 w-4"})})]})]})]}):jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground",children:whatsappFilter?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Search,{className:"mx-auto h-8 w-8 mb-2 opacity-50"}),jsxRuntimeExports.jsxs("p",{children:['Nenhum grupo encontrado com o termo "',whatsappFilter,'"']}),jsxRuntimeExports.jsx(Button$1,{variant:"link",onClick:()=>setWhatsappFilter(""),className:"mt-2",children:"Limpar filtro"})]}):jsxRuntimeExports.jsx("p",{children:"Todos os grupos do WhatsApp já estão cadastrados"})})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(CardTitle,{children:"Grupos Cadastrados"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[filteredRegisteredGroups.length," grupos filtrados de ",registeredGroups.length," cadastrados"]})]}),jsxRuntimeExports.jsx("div",{className:"w-64",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Buscar por grupo ou cliente...",value:registeredFilter,onChange:e3=>setRegisteredFilter(e3.target.value),className:"pl-8"})]})})]})}),jsxRuntimeExports.jsx(CardContent,{children:filteredRegisteredGroups.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Grupo"}),jsxRuntimeExports.jsx(TableHead,{children:"Cliente"}),jsxRuntimeExports.jsx(TableHead,{children:"Taxa do Grupo"}),jsxRuntimeExports.jsx(TableHead,{children:"Taxa Efetiva"}),jsxRuntimeExports.jsx(TableHead,{children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:paginatedRegisteredGroups.map(group=>{var _a4;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:group.whatsapp_group_name}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",group.whatsapp_group_id.slice(-8),"..."]})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:group.client_name}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:"business"===(null==(_a4=group.otc_user)?void 0:_a4.user_type)?"Empresa":"Pessoa Física"})]})}),jsxRuntimeExports.jsx(TableCell,{children:null!==group.fee_percentual?jsxRuntimeExports.jsxs(Badge,{variant:"secondary",children:[group.fee_percentual,"%"]}):jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Padrão"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs(Badge,{children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-3 w-3 mr-1"}),group.effective_fee,"%"]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex space-x-2",children:[jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>(group=>{setSelectedGroup(group),setGroupForm({whatsapp_group_id:group.whatsapp_group_id,whatsapp_group_name:group.whatsapp_group_name,id_otc_user:group.id_otc_user,fee_percentual:group.fee_percentual||void 0}),setShowEditGroupModal(!0)})(group),children:jsxRuntimeExports.jsx(SquarePen,{className:"h-3 w-3"})}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>(async groupId=>{if(confirm("Tem certeza que deseja remover este grupo?"))try{const response=await botCotacaoService.removeGroup(groupId);if(!response.sucesso)throw new Error(response.mensagem||"Erro ao remover grupo");toast({title:"Sucesso",description:"Grupo removido com sucesso"}),await loadRegisteredGroups(),await loadDashboardStats()}catch(error){toast({title:"Erro",description:error.message||"Falha ao remover grupo",variant:"destructive"})}})(group.id),children:jsxRuntimeExports.jsx(Trash2,{className:"h-3 w-3"})})]})})]},group.id)})})]}),totalRegisteredPages>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",(registeredPage-1)*registeredPageSize+1," a"," ",Math.min(registeredPage*registeredPageSize,filteredRegisteredGroups.length)," de"," ",filteredRegisteredGroups.length," grupos"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setRegisteredPage(1),disabled:1===registeredPage,children:jsxRuntimeExports.jsx(ChevronsLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setRegisteredPage(prev=>Math.max(prev-1,1)),disabled:1===registeredPage,children:jsxRuntimeExports.jsx(ChevronLeft,{className:"h-4 w-4"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm",children:["Página ",registeredPage," de ",totalRegisteredPages]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setRegisteredPage(prev=>Math.min(prev+1,totalRegisteredPages)),disabled:registeredPage===totalRegisteredPages,children:jsxRuntimeExports.jsx(ChevronRight,{className:"h-4 w-4"})}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setRegisteredPage(totalRegisteredPages),disabled:registeredPage===totalRegisteredPages,children:jsxRuntimeExports.jsx(ChevronsRight,{className:"h-4 w-4"})})]})]})]}):jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-muted-foreground",children:registeredFilter?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Search,{className:"mx-auto h-8 w-8 mb-2 opacity-50"}),jsxRuntimeExports.jsxs("p",{children:['Nenhum grupo encontrado com o termo "',registeredFilter,'"']}),jsxRuntimeExports.jsx(Button$1,{variant:"link",onClick:()=>setRegisteredFilter(""),className:"mt-2",children:"Limpar filtro"})]}):jsxRuntimeExports.jsx("p",{children:"Nenhum grupo cadastrado. Comece vinculando um grupo do WhatsApp."})})})]}),jsxRuntimeExports.jsx(Dialog,{open:showEditGroupModal,onOpenChange:setShowEditGroupModal,children:jsxRuntimeExports.jsxs(DialogContent,{children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Editar Grupo"}),jsxRuntimeExports.jsxs(DialogDescription,{children:["Alterar configurações do grupo ",null==selectedGroup?void 0:selectedGroup.whatsapp_group_name]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"edit_fee_percentual",children:"Taxa Específica (%)"}),jsxRuntimeExports.jsx(Input,{id:"edit_fee_percentual",type:"number",step:"0.01",min:"0",max:"100",value:groupForm.fee_percentual||"",onChange:e3=>setGroupForm(prev=>({...prev,fee_percentual:e3.target.value?parseFloat(e3.target.value):void 0})),placeholder:"Taxa específica do grupo"})]})}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>setShowEditGroupModal(!1),children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(selectedGroup)try{const updateData={};void 0!==groupForm.fee_percentual&&(updateData.fee_percentual=0===groupForm.fee_percentual?null:groupForm.fee_percentual);const response=await botCotacaoService.updateGroupFee(selectedGroup.id,updateData);if(!response.sucesso)throw new Error(response.mensagem||"Erro ao atualizar grupo");toast({title:"Sucesso",description:"Grupo atualizado com sucesso"}),setShowEditGroupModal(!1),setSelectedGroup(null),resetGroupForm(),await loadRegisteredGroups(),await loadDashboardStats()}catch(error){toast({title:"Erro",description:error.message||"Falha ao atualizar grupo",variant:"destructive"})}},children:"Salvar Alterações"})]})]})}),jsxRuntimeExports.jsx(Dialog,{open:showBulkAddModal,onOpenChange:setShowBulkAddModal,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-2xl",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{children:"Cadastrar Grupos Selecionados"}),jsxRuntimeExports.jsxs(DialogDescription,{children:["Cadastrar ",selectedGroups.size," grupos do WhatsApp no sistema"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Label$1,{children:["Grupos Selecionados (",selectedGroups.size,")"]}),jsxRuntimeExports.jsx("div",{className:"mt-2 max-h-40 overflow-y-auto border rounded p-3 bg-gray-50",children:Array.from(selectedGroups).map(groupId=>{const group=unregisteredGroups.find(g2=>g2.id===groupId);return jsxRuntimeExports.jsxs("div",{className:"text-sm py-1 border-b last:border-b-0",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:null==group?void 0:group.name}),jsxRuntimeExports.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",groupId,")"]})]},groupId)})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"bulk_client",children:"Cliente Responsável"}),jsxRuntimeExports.jsxs(Select,{value:bulkAddForm.id_otc_user,onValueChange:value=>setBulkAddForm(prev=>({...prev,id_otc_user:value})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione um cliente"})}),jsxRuntimeExports.jsx(SelectContent,{children:availableClients.map(client2=>jsxRuntimeExports.jsxs(SelectItem,{value:client2.id,children:[client2.name," (",client2.document,")"]},client2.id))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"bulk_fee",children:"Taxa Padrão para os Grupos (%)"}),jsxRuntimeExports.jsx(Input,{id:"bulk_fee",type:"number",step:"0.01",min:"0",max:"100",value:bulkAddForm.fee_percentual_padrao,onChange:e3=>setBulkAddForm(prev=>({...prev,fee_percentual_padrao:parseFloat(e3.target.value)||0})),placeholder:"Deixe 0 para usar taxa do cliente"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Taxa específica para todos os grupos selecionados"})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{setShowBulkAddModal(!1),setBulkAddForm({id_otc_user:"",fee_percentual_padrao:0})},disabled:bulkAddLoading,children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(0!==selectedGroups.size){setBulkAddLoading(!0);try{const selectedGroupsData=Array.from(selectedGroups).map(groupId=>{const group=unregisteredGroups.find(g2=>g2.id===groupId);return{name:(null==group?void 0:group.name)||"",phone:groupId}}),response=await botCotacaoService.addGroupsFromWhatsApp({id_otc_user:bulkAddForm.id_otc_user,grupos_whatsapp:selectedGroupsData,fee_percentual_padrao:bulkAddForm.fee_percentual_padrao||void 0});if(!response.sucesso&&207!==response.statusCode)throw new Error(response.mensagem||"Erro ao cadastrar grupos");{const data=response.data;toast({title:"Sucesso",description:`${(null==data?void 0:data.cadastradosAgora)||0} grupos cadastrados com sucesso`}),(null==data?void 0:data.jaExistiam)>0&&toast({title:"Aviso",description:`${data.jaExistiam} grupos já estavam cadastrados`,variant:"default"}),setShowBulkAddModal(!1),setSelectedGroups(new Set),setBulkAddForm({id_otc_user:"",fee_percentual_padrao:0}),await Promise.all([loadRegisteredGroups(),loadWhatsAppGroups(),loadDashboardStats()])}}catch(error){toast({title:"Erro",description:error.message||"Falha ao cadastrar grupos",variant:"destructive"})}finally{setBulkAddLoading(!1)}}else toast({title:"Aviso",description:"Selecione pelo menos um grupo para cadastrar",variant:"destructive"})},disabled:bulkAddLoading||!bulkAddForm.id_otc_user,className:"bg-blue-600 hover:bg-blue-700",children:bulkAddLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2 animate-spin"}),"Cadastrando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"h-4 w-4 mr-2"}),"Cadastrar ",selectedGroups.size," Grupos"]})})]})]})})]})]})};const StatCard=({title:title,value:value,icon:icon,description:description,trend:trend="neutral",color:color2="blue"})=>jsxRuntimeExports.jsxs(Card,{className:"transition-all duration-200 hover:shadow-lg",children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium text-muted-foreground",children:title}),jsxRuntimeExports.jsx("div",{className:`p-2 rounded-full ${{blue:"border-blue-200 bg-blue-50 text-blue-600",green:"border-green-200 bg-green-50 text-green-600",red:"border-red-200 bg-red-50 text-red-600",yellow:"border-yellow-200 bg-yellow-50 text-yellow-600"}[color2]}`,children:icon})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:value}),description&&jsxRuntimeExports.jsx("p",{className:`text-xs ${{up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"}[trend]}`,children:description})]})]}),StatCardSkeleton=()=>jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-24"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-8 w-8 rounded-full"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx(Skeleton$1,{className:"h-8 w-16 mb-1"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-3 w-32"})]})]}),OTCDashboard=()=>{const{stats:stats,isLoading:isLoading,error:error}=function(){const{data:statsData,isLoading:isLoading,error:error,refetch:refetch}=useQuery({queryKey:["otc-stats"],queryFn:()=>otcService.getStats(),staleTime:6e4,cacheTime:3e5,refetchOnWindowFocus:!0,refetchInterval:6e4,retry:2,onError:error2=>{ue$2.error("Erro ao carregar estatísticas OTC",{description:error2.message||"Falha na comunicação com o servidor"})}});return{stats:(null==statsData?void 0:statsData.data)||{clientes:{total:0,ativos:0,inativos:0},transacoes:{total:0,hoje:0},valores:{total_depositos:0,total_saques:0,saldo_total:0}},isLoading:isLoading,error:error,refetch:refetch}}();return error?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Erro ao carregar dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"Não foi possível carregar as estatísticas do sistema OTC. Tente novamente mais tarde."})]})}):jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Dashboard OTC"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Painel de controle para operações Over-the-Counter"})]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",className:"bg-blue-50 text-blue-600 border-blue-200",children:[jsxRuntimeExports.jsx(Activity,{className:"w-3 h-3 mr-1"}),"Em tempo real"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:isLoading?Array.from({length:6}).map((_2,index)=>jsxRuntimeExports.jsx(StatCardSkeleton,{},index)):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(StatCard,{title:"Total de Clientes",value:stats.clientes.total,icon:jsxRuntimeExports.jsx(Users,{className:"h-4 w-4"}),description:"Clientes cadastrados",color:"blue"}),jsxRuntimeExports.jsx(StatCard,{title:"Clientes Ativos",value:stats.clientes.ativos,icon:jsxRuntimeExports.jsx(UserCheck,{className:"h-4 w-4"}),description:"Contas ativas",color:"green"}),jsxRuntimeExports.jsx(StatCard,{title:"Clientes Inativos",value:stats.clientes.inativos,icon:jsxRuntimeExports.jsx(UserX,{className:"h-4 w-4"}),description:"Contas inativas",color:"red"}),jsxRuntimeExports.jsx(StatCard,{title:"Saldo Total",value:otcService.formatCurrency(stats.valores.saldo_total),icon:jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4"}),description:"Saldo consolidado",color:"green",trend:stats.valores.saldo_total>=0?"up":"down"}),jsxRuntimeExports.jsx(StatCard,{title:"Total de Transações",value:stats.transacoes.total,icon:jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4"}),description:"Transações processadas",color:"blue"}),jsxRuntimeExports.jsx(StatCard,{title:"Transações Hoje",value:stats.transacoes.hoje,icon:jsxRuntimeExports.jsx(Activity,{className:"h-4 w-4"}),description:"Transações do dia",color:"yellow"})]})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:isLoading?Array.from({length:3}).map((_2,index)=>jsxRuntimeExports.jsx(StatCardSkeleton,{},index)):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(StatCard,{title:"Total de Depósitos",value:otcService.formatCurrency(stats.valores.total_depositos),icon:jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4"}),description:"Valor total depositado",color:"green"}),jsxRuntimeExports.jsx(StatCard,{title:"Total de Saques",value:otcService.formatCurrency(stats.valores.total_saques),icon:jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 rotate-180"}),description:"Valor total sacado",color:"red"}),jsxRuntimeExports.jsx(StatCard,{title:"Resultado Líquido",value:otcService.formatCurrency(stats.valores.total_depositos-stats.valores.total_saques),icon:jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4"}),description:"Depósitos - Saques",color:stats.valores.total_depositos-stats.valores.total_saques>=0?"green":"red",trend:stats.valores.total_depositos-stats.valores.total_saques>=0?"up":"down"})]})}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Activity,{className:"h-5 w-5"}),"Resumo do Sistema"]})}),jsxRuntimeExports.jsx(CardContent,{children:isLoading?jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-full"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-3/4"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-1/2"})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"Taxa de Atividade dos Clientes"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:stats.clientes.total>0?`${(stats.clientes.ativos/stats.clientes.total*100).toFixed(1)}%`:"0%"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"Média de Transações por Cliente"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:stats.clientes.total>0?(stats.transacoes.total/stats.clientes.total).toFixed(1):"0"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"Saldo Médio por Cliente"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:stats.clientes.total>0?otcService.formatCurrency(stats.valores.saldo_total/stats.clientes.total):otcService.formatCurrency(0)})]})]})})]})]})},OTCClientTable=({onViewStatement:onViewStatement,onEditClient:onEditClient,onCreateOperation:onCreateOperation,onViewBalance:onViewBalance})=>{const[filters,setFilters]=reactExports.useState({search:"",isActive:null,page:1,limit:20}),{clients:clients,statistics:statistics,isLoading:isLoading,error:error,toggleStatus:toggleStatus,isToggling:isToggling,refetch:refetch}=useOTCClients({search:filters.search||void 0,is_active:filters.isActive??void 0,page:filters.page,limit:filters.limit}),updateFilters=newFilters=>{setFilters(prev=>({...prev,...newFilters,page:newFilters.page||1}))},TableSkeleton=()=>jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Array.from({length:5}).map((_2,index)=>jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 p-4",children:[jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-48"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-32"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-24"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-20"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-16"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-12"})]},index))});return jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"h-5 w-5"}),"Clientes OTC"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:refetch,disabled:isLoading,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2 "+(isLoading?"animate-spin":"")}),"Atualizar"]})]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Buscar por nome, documento ou chave PIX...",value:filters.search,onChange:e3=>updateFilters({search:e3.target.value}),className:"pl-10"})]}),jsxRuntimeExports.jsxs(Select,{value:null===filters.isActive?"all":filters.isActive.toString(),onValueChange:value=>updateFilters({isActive:"all"===value?null:"true"===value}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-48",children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Status"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"Todos os Status"}),jsxRuntimeExports.jsx(SelectItem,{value:"true",children:"Ativos"}),jsxRuntimeExports.jsx(SelectItem,{value:"false",children:"Inativos"})]})]}),jsxRuntimeExports.jsxs(Select,{value:filters.limit.toString(),onValueChange:value=>updateFilters({limit:parseInt(value)}),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-32",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"10",children:"10 por página"}),jsxRuntimeExports.jsx(SelectItem,{value:"20",children:"20 por página"}),jsxRuntimeExports.jsx(SelectItem,{value:"50",children:"50 por página"}),jsxRuntimeExports.jsx(SelectItem,{value:"100",children:"100 por página"})]})]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{setFilters({search:"",isActive:null,page:1,limit:20})},disabled:isLoading,children:"Limpar"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:statistics.total_clientes}),jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-600",children:"Total"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:statistics.clientes_ativos}),jsxRuntimeExports.jsx("div",{className:"text-sm text-green-600",children:"Ativos"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:otcService.formatCurrency(statistics.total_saldo)}),jsxRuntimeExports.jsx("div",{className:"text-sm text-yellow-600",children:"Saldo Total"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-purple-600",children:otcService.formatCurrency(statistics.total_saldo_usd)}),jsxRuntimeExports.jsx("div",{className:"text-sm text-purple-600",children:"Saldo Total USDT"})]})]}),error?jsxRuntimeExports.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:jsxRuntimeExports.jsxs("p",{className:"text-red-600",children:["Erro ao carregar clientes: ",error.message]})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Cliente"}),jsxRuntimeExports.jsx(TableHead,{children:"Chave PIX"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Saldo BRL"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Saldo USD"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Transações"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center",children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:isLoading?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:6,children:jsxRuntimeExports.jsx(TableSkeleton,{})})}):0===clients.length?jsxRuntimeExports.jsx(TableRow,{children:jsxRuntimeExports.jsx(TableCell,{colSpan:6,className:"text-center py-8",children:jsxRuntimeExports.jsx("div",{className:"text-muted-foreground",children:"Nenhum cliente encontrado com os filtros aplicados"})})}):clients.map(client2=>{var _a3;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:client2.name}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:(null==(_a3=client2.user)?void 0:_a3.email)||"N/A"})]}),jsxRuntimeExports.jsxs(TableCell,{children:[jsxRuntimeExports.jsx("div",{className:"font-mono text-sm",children:client2.pix_key}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:client2.pix_key_type.toUpperCase()})]}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:jsxRuntimeExports.jsx("div",{className:"font-semibold "+(client2.current_balance>=0?"text-green-600":"text-red-600"),children:otcService.formatCurrency(client2.current_balance)})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:jsxRuntimeExports.jsxs("div",{className:"font-semibold "+(client2.usd_balance>=0?"text-green-600":"text-red-600"),children:["$",client2.usd_balance.toFixed(2)]})}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:jsxRuntimeExports.jsx("div",{className:"font-medium",children:client2.total_transactions})}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{size:"sm",onClick:()=>null==onCreateOperation?void 0:onCreateOperation(client2),className:"bg-blue-600 hover:bg-blue-700 text-white h-8 px-3",title:"Nova Operação",children:[jsxRuntimeExports.jsx(Plus,{className:"h-3 w-3 mr-1"}),"Nova Operação"]}),jsxRuntimeExports.jsxs(DropdownMenu,{children:[jsxRuntimeExports.jsx(DropdownMenuTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",disabled:isToggling,className:"h-8 w-8 p-0",children:jsxRuntimeExports.jsx(Ellipsis,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsxs(DropdownMenuContent,{align:"end",children:[jsxRuntimeExports.jsx(DropdownMenuLabel,{children:"Ações"}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>null==onViewStatement?void 0:onViewStatement(client2),children:[jsxRuntimeExports.jsx(Eye,{className:"mr-2 h-4 w-4"}),"Ver Extrato"]}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>null==onViewBalance?void 0:onViewBalance(client2),children:[jsxRuntimeExports.jsx(DollarSign,{className:"mr-2 h-4 w-4"}),"Ver Saldo"]}),jsxRuntimeExports.jsx(DropdownMenuSeparator,{}),jsxRuntimeExports.jsxs(DropdownMenuItem,{onClick:()=>null==onEditClient?void 0:onEditClient(client2),children:[jsxRuntimeExports.jsx(SquarePen,{className:"mr-2 h-4 w-4"}),"Editar Cliente"]}),jsxRuntimeExports.jsx(DropdownMenuItem,{onClick:()=>toggleStatus({id:client2.id,isActive:!client2.is_active}),disabled:isToggling,children:client2.is_active?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserX,{className:"mr-2 h-4 w-4"}),"Desativar"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserCheck,{className:"mr-2 h-4 w-4"}),"Ativar"]})})]})]})]})})]},client2.id)})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",clients.length," de ",statistics.total_clientes," clientes"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>updateFilters({page:filters.page-1}),disabled:filters.page<=1||isLoading,children:"Anterior"}),jsxRuntimeExports.jsxs("span",{className:"flex items-center px-3 text-sm",children:["Página ",filters.page]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>updateFilters({page:filters.page+1}),disabled:clients.length<filters.limit||isLoading,children:"Próxima"})]})]})]})]})]})},OTCOperations=()=>{const{toast:toast2}=useToast(),[operations,setOperations]=reactExports.useState([]),[metrics,setMetrics]=reactExports.useState(null),[loading,setLoading]=reactExports.useState(!1),[clients,setClients]=reactExports.useState([]),[pagination,setPagination]=reactExports.useState({page:1,limit:500,total:0,total_pages:0}),[filters,setFilters]=reactExports.useState({otc_client_id:"",dateFrom:"",dateTo:""}),loadOperations=async()=>{var _a3,_b3;try{setLoading(!0);const params={page:pagination.page,limit:pagination.limit};filters.otc_client_id&&(params.otc_client_id=parseInt(filters.otc_client_id)),filters.dateFrom&&(params.dateFrom=filters.dateFrom),filters.dateTo&&(params.dateTo=filters.dateTo);const response=await otcService.getOperations(params);if(response.success&&response.data){const data=response.data;setOperations(data.operacoes),setPagination(data.paginacao),setMetrics(data.metricas)}}catch(error){toast2({title:"Erro ao carregar operações",description:(null==(_b3=null==(_a3=error.response)?void 0:_a3.data)?void 0:_b3.message)||error.message||"Erro desconhecido",variant:"destructive"})}finally{setLoading(!1)}};reactExports.useEffect(()=>{(async()=>{try{const response=await otcService.getClients({is_active:!0});response.success&&response.data&&setClients(response.data.clientes.map(c2=>({id:c2.id,name:c2.name})))}catch(error){}})(),loadOperations()},[]),reactExports.useEffect(()=>{loadOperations()},[pagination.page]);const handleFilterChange=(key,value)=>{setFilters(prev=>({...prev,[key]:value}))},getOperationTypeBadge=type=>{const config2={credit:{label:"Crédito",variant:"success"},debit:{label:"Débito",variant:"destructive"},convert:{label:"Conversão",variant:"default"},reversal:{label:"Estorno",variant:"secondary"}}[type]||{label:type,variant:"default"};return jsxRuntimeExports.jsx(Badge,{variant:config2.variant,children:config2.label})},formatCurrency2=(value,currency="BRL")=>{const locale2="BRL"===currency?"pt-BR":"en-US",currencyCode="BRL"===currency?"BRL":"USD";return new Intl.NumberFormat(locale2,{style:"currency",currency:currencyCode}).format(value)};return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[metrics&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Total Sacado"}),jsxRuntimeExports.jsx(CircleArrowUp,{className:"h-4 w-4 text-red-600"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-red-600",children:formatCurrency2(metrics.total_sacado_geral,"BRL")}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Soma de todos os saques"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Travas (Conversões)"}),jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 text-blue-600"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-blue-600",children:metrics.quantidade_travas}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Quantidade de conversões"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"BRL Vendido"}),jsxRuntimeExports.jsx(CircleArrowDown,{className:"h-4 w-4 text-red-600"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-red-600",children:formatCurrency2(metrics.total_brl_vendido,"BRL")}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total convertido de BRL"})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"USDT Comprado"}),jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 text-green-600"})]}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold text-green-600",children:formatCurrency2(metrics.total_usdt_comprado,"USD")}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total convertido para USD"})]})]})]}),metrics&&metrics.sacado_por_cliente.length>0&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-sm font-medium",children:"Saques por Cliente"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("div",{className:"space-y-2",children:metrics.sacado_por_cliente.sort((a2,b2)=>b2.total_sacado-a2.total_sacado).slice(0,5).map(cliente=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:cliente.cliente_nome}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",cliente.cliente_id]})]}),jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsx("div",{className:"font-bold text-red-600",children:formatCurrency2(cliente.total_sacado,"BRL")})})]},cliente.cliente_id))})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{className:"flex flex-row items-center justify-between",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"h-5 w-5"}),"Filtros de Busca"]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:loadOperations,disabled:loading,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2 "+(loading?"animate-spin":"")}),"Atualizar"]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Cliente OTC"}),jsxRuntimeExports.jsxs(Select,{value:filters.otc_client_id||"all",onValueChange:value=>handleFilterChange("otc_client_id","all"===value?"":value),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Todos os clientes"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"all",children:"Todos os clientes"}),clients.map(client2=>jsxRuntimeExports.jsx(SelectItem,{value:String(client2.id),children:client2.name},client2.id))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Data Inicial"}),jsxRuntimeExports.jsx(Input,{type:"date",value:filters.dateFrom,onChange:e3=>handleFilterChange("dateFrom",e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Data Final"}),jsxRuntimeExports.jsx(Input,{type:"date",value:filters.dateTo,onChange:e3=>handleFilterChange("dateTo",e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{setPagination(prev=>({...prev,page:1})),loadOperations()},disabled:loading,className:"flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"h-4 w-4 mr-2"}),"Buscar"]}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{setFilters({otc_client_id:"",dateFrom:"",dateTo:""}),setPagination(prev=>({...prev,page:1})),setTimeout(()=>loadOperations(),100)},children:"Limpar"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{children:["Operações (",pagination.total," ",1===pagination.total?"registro":"registros",")"]})}),jsxRuntimeExports.jsx(CardContent,{children:loading?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center py-12",children:jsxRuntimeExports.jsx(RefreshCw,{className:"h-8 w-8 animate-spin text-primary"})}):0===operations.length?jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(Lock,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Nenhuma operação encontrada"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"ID"}),jsxRuntimeExports.jsx(TableHead,{children:"Tipo"}),jsxRuntimeExports.jsx(TableHead,{children:"Cliente"}),jsxRuntimeExports.jsx(TableHead,{children:"Valores"}),jsxRuntimeExports.jsx(TableHead,{children:"Moeda"}),jsxRuntimeExports.jsx(TableHead,{children:"Descrição"}),jsxRuntimeExports.jsx(TableHead,{children:"Admin"}),jsxRuntimeExports.jsx(TableHead,{children:"Data"})]})}),jsxRuntimeExports.jsx(TableBody,{children:operations.map(op=>{return jsxRuntimeExports.jsxs(TableRow,{className:op.is_reversed_or_reversal?"opacity-60":"",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-xs",children:op.id}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[(type=op.operation_type,{credit:jsxRuntimeExports.jsx(CircleArrowDown,{className:"h-4 w-4 text-green-600"}),debit:jsxRuntimeExports.jsx(CircleArrowUp,{className:"h-4 w-4 text-red-600"}),convert:jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 text-blue-600"}),reversal:jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 text-gray-600"})}[type]||jsxRuntimeExports.jsx(Lock,{className:"h-4 w-4"})),getOperationTypeBadge(op.operation_type)]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:op.client.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-muted-foreground",children:op.client.document})]})}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:"convert"===op.operation_type&&op.conversion?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"text-red-600",children:["-",formatCurrency2(op.conversion.brl_amount,"BRL")]}),jsxRuntimeExports.jsxs("div",{className:"text-green-600",children:["+",formatCurrency2(op.conversion.usd_amount,"USD")]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-muted-foreground",children:["Taxa: ",op.conversion.conversion_rate.toFixed(4)]})]}):op.amount?jsxRuntimeExports.jsxs("span",{className:"text-red-600",children:["-",formatCurrency2(Math.abs(op.amount),op.currency)]}):jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"-"})}),jsxRuntimeExports.jsx(TableCell,{children:"convert"===op.operation_type?jsxRuntimeExports.jsx("div",{className:"space-y-1",children:jsxRuntimeExports.jsx(Badge,{variant:"outline",children:"BRL → USD"})}):jsxRuntimeExports.jsx(Badge,{variant:"outline",children:op.currency})}),jsxRuntimeExports.jsx(TableCell,{className:"max-w-xs truncate",title:op.description,children:op.description}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"text-xs",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:op.admin.name}),jsxRuntimeExports.jsx("div",{className:"text-muted-foreground",children:op.admin.email})]})}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs",children:format(new Date(op.created_at),"dd/MM/yyyy 'às' HH:mm",{locale:ptBR})})]},op.id);var type})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Página ",pagination.page," de ",pagination.total_pages," (",pagination.total," registros)"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setPagination(prev=>({...prev,page:prev.page-1})),disabled:1===pagination.page||loading,children:"Anterior"}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setPagination(prev=>({...prev,page:prev.page+1})),disabled:pagination.page>=pagination.total_pages||loading,children:"Próxima"})]})]})]})})]})]})},OTCClientModal=({isOpen:isOpen,onClose:onClose,client:client2})=>{const{createClient:createClient,updateClient:updateClient,isCreating:isCreating,isUpdating:isUpdating}=useOTCClients(),isEditing=!!client2,isLoading=isCreating||isUpdating,[formData,setFormData]=reactExports.useState({name:"",email:"",password:"",pix_key:"",pix_key_type:"email",user_id:"",client_name:"",client_document:""}),[errors,setErrors]=reactExports.useState({}),[isValidating,setIsValidating]=reactExports.useState(!1);reactExports.useEffect(()=>{var _a3;isOpen&&(setFormData(client2?{name:"",email:"",password:"",pix_key:client2.pix_key,pix_key_type:client2.pix_key_type,user_id:(null==(_a3=client2.user)?void 0:_a3.id.toString())||"",client_name:client2.name,client_document:client2.document}:{name:"",email:"",password:"",pix_key:"",pix_key_type:"email",user_id:"",client_name:"",client_document:""}),setErrors({}))},[isOpen,client2]);const updateField=(field,value)=>{setFormData(prev=>({...prev,[field]:value})),errors[field]&&setErrors(prev=>({...prev,[field]:""}))};return jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[500px] max-h-[85vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsx(DialogTitle,{className:"flex items-center gap-2",children:isEditing?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),"Editar Cliente OTC"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-5 h-5"}),"Novo Cliente OTC"]})}),jsxRuntimeExports.jsx(DialogDescription,{children:isEditing?"Edite as informações do cliente OTC (todos os campos são opcionais)":"Cadastro simplificado: todos os campos são opcionais"})]}),jsxRuntimeExports.jsxs("form",{onSubmit:async e3=>{if(e3.preventDefault(),(()=>{const newErrors={};return isEditing?(formData.client_name.trim()&&formData.client_name.length<2&&(newErrors.client_name="Nome do cliente deve ter pelo menos 2 caracteres"),formData.client_document.trim()&&!otcService.validateDocument(formData.client_document)&&(newErrors.client_document="CPF ou CNPJ inválido"),formData.pix_key.trim()&&!otcService.validatePixKey(formData.pix_key,formData.pix_key_type)&&(newErrors.pix_key="Chave PIX inválida para o tipo selecionado"),formData.user_id||(newErrors.user_id="Usuário é obrigatório")):(formData.name.trim()&&formData.name.length<2&&(newErrors.name="Nome deve ter pelo menos 2 caracteres"),formData.email.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(formData.email)&&(newErrors.email="Email inválido"),formData.password.trim()&&formData.password.length<6&&(newErrors.password="Senha deve ter pelo menos 6 caracteres"),formData.pix_key.trim()&&!otcService.validatePixKey(formData.pix_key,formData.pix_key_type)&&(newErrors.pix_key="Chave PIX inválida para o tipo selecionado")),setErrors(newErrors),0===Object.keys(newErrors).length})()){setIsValidating(!0);try{if(isEditing){const clientData={user_id:parseInt(formData.user_id),client_name:formData.client_name.trim(),client_document:formData.client_document.replace(/[^\d]/g,""),pix_key:formData.pix_key.trim(),pix_key_type:formData.pix_key_type};await updateClient({id:client2.id,clientData:clientData})}else{const completeData={user_name:formData.name.trim(),user_email:formData.email.trim().toLowerCase(),user_password:formData.password,user_document:"",user_phone:"",client_name:formData.name.trim(),client_document:"",pix_key:formData.pix_key.trim(),pix_key_type:formData.pix_key_type};await createClient(completeData,!0)}onClose()}catch(error){}finally{setIsValidating(!1)}}else ue$2.error("Por favor, corrija os erros no formulário")},className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsx(CardTitle,{className:"text-lg flex items-center gap-2",children:isEditing?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),"Editar Cliente OTC"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4"}),"Dados Básicos"]})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:isEditing?"Edite as informações do cliente OTC (campos opcionais)":"Informações para login e identificação (campos opcionais)"})]}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:isEditing?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"client_name",children:"Nome do Cliente"}),jsxRuntimeExports.jsx(Input,{id:"client_name",value:formData.client_name,onChange:e3=>updateField("client_name",e3.target.value),placeholder:"Ex: João Silva",className:errors.client_name?"border-red-500":""}),errors.client_name&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.client_name})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"client_document",children:"CPF/CNPJ"}),jsxRuntimeExports.jsx(Input,{id:"client_document",value:formData.client_document,onChange:e3=>updateField("client_document",e3.target.value),placeholder:"Ex: 123.456.789-00",className:errors.client_document?"border-red-500":""}),errors.client_document&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.client_document}),formData.client_document&&otcService.validateDocument(formData.client_document)&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600",children:["✓ ",otcService.formatDocument(formData.client_document)]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"user_id",children:"ID do Usuário *"}),jsxRuntimeExports.jsx(Input,{id:"user_id",type:"number",value:formData.user_id,onChange:e3=>updateField("user_id",e3.target.value),placeholder:"Ex: 123",className:errors.user_id?"border-red-500":""}),errors.user_id&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.user_id})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"name",children:"Nome Completo"}),jsxRuntimeExports.jsx(Input,{id:"name",value:formData.name,onChange:e3=>updateField("name",e3.target.value),placeholder:"Ex: João Silva",className:errors.name?"border-red-500":""}),errors.name&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Este nome será usado tanto para login quanto para o cliente OTC (opcional)"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"email",children:"Email (Login)"}),jsxRuntimeExports.jsx(Input,{id:"email",type:"email",value:formData.email,onChange:e3=>updateField("email",e3.target.value),placeholder:"joao@exemplo.com",className:errors.email?"border-red-500":""}),errors.email&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.email})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"password",children:"Senha"}),jsxRuntimeExports.jsx(Input,{id:"password",type:"password",value:formData.password,onChange:e3=>updateField("password",e3.target.value),placeholder:"Mínimo 6 caracteres",className:errors.password?"border-red-500":""}),errors.password&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.password})]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Key,{className:"w-4 h-4"}),"Chave PIX para Recebimentos"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Configurar chave PIX para receber depósitos automaticamente"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"pix_key_type",children:"Tipo de Chave PIX"}),jsxRuntimeExports.jsxs(Select,{value:formData.pix_key_type,onValueChange:value=>updateField("pix_key_type",value),children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"email",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"}),"Email"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"phone",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"}),"Telefone"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"cpf",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(IdCard,{className:"w-4 h-4"}),"CPF"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"cnpj",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(IdCard,{className:"w-4 h-4"}),"CNPJ"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"random",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Hash$2,{className:"w-4 h-4"}),"Chave Aleatória"]})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"pix_key",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[(type=>{switch(type){case"email":return jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4"});case"phone":return jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4"});case"cpf":case"cnpj":return jsxRuntimeExports.jsx(IdCard,{className:"w-4 h-4"});case"random":return jsxRuntimeExports.jsx(Hash$2,{className:"w-4 h-4"});default:return jsxRuntimeExports.jsx(Key,{className:"w-4 h-4"})}})(formData.pix_key_type),(type=>{switch(type){case"email":return"Email";case"phone":return"Telefone";case"cpf":return"CPF";case"cnpj":return"CNPJ";case"random":return"Chave Aleatória";default:return"Chave PIX"}})(formData.pix_key_type)]})}),jsxRuntimeExports.jsx(Input,{id:"pix_key",value:formData.pix_key,onChange:e3=>updateField("pix_key",e3.target.value),placeholder:"email"===formData.pix_key_type?"Ex: otc@tcr.finance":"phone"===formData.pix_key_type?"Ex: +5511999999999":"cpf"===formData.pix_key_type?"Ex: 123.456.789-00":"cnpj"===formData.pix_key_type?"Ex: 12.345.678/0001-90":"Ex: 123e4567-e12b-12d3-a456-426614174000",className:errors.pix_key?"border-red-500":""}),errors.pix_key&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.pix_key}),formData.pix_key&&otcService.validatePixKey(formData.pix_key,formData.pix_key_type)&&jsxRuntimeExports.jsx("p",{className:"text-sm text-green-600",children:"✓ Chave PIX válida"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:onClose,disabled:isLoading,children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{type:"submit",disabled:isLoading||isValidating,className:"bg-blue-600 hover:bg-blue-700",children:isLoading||isValidating?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),isEditing?"Salvando...":"Criando..."]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:isEditing?"Salvar Alterações":"Criar Cliente"})})]})]})]})})};var[createRadioContext,createRadioScope]=createContextScope("Radio"),[RadioProvider,useRadioContext]=createRadioContext("Radio"),Radio=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeRadio:__scopeRadio,name:name,checked:checked=!1,required:required,disabled:disabled,value:value="on",onCheck:onCheck,form:form,...radioProps}=props,[button,setButton]=reactExports.useState(null),composedRefs=useComposedRefs(forwardedRef,node=>setButton(node)),hasConsumerStoppedPropagationRef=reactExports.useRef(!1),isFormControl=!button||(form||!!button.closest("form"));return jsxRuntimeExports.jsxs(RadioProvider,{scope:__scopeRadio,checked:checked,disabled:disabled,children:[jsxRuntimeExports.jsx(Primitive.button,{type:"button",role:"radio","aria-checked":checked,"data-state":getState(checked),"data-disabled":disabled?"":void 0,disabled:disabled,value:value,...radioProps,ref:composedRefs,onClick:composeEventHandlers(props.onClick,event=>{checked||null==onCheck||onCheck(),isFormControl&&(hasConsumerStoppedPropagationRef.current=event.isPropagationStopped(),hasConsumerStoppedPropagationRef.current||event.stopPropagation())})}),isFormControl&&jsxRuntimeExports.jsx(RadioBubbleInput,{control:button,bubbles:!hasConsumerStoppedPropagationRef.current,name:name,value:value,checked:checked,required:required,disabled:disabled,form:form,style:{transform:"translateX(-100%)"}})]})});Radio.displayName="Radio";var RadioIndicator=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeRadio:__scopeRadio,forceMount:forceMount,...indicatorProps}=props,context=useRadioContext("RadioIndicator",__scopeRadio);return jsxRuntimeExports.jsx(Presence,{present:forceMount||context.checked,children:jsxRuntimeExports.jsx(Primitive.span,{"data-state":getState(context.checked),"data-disabled":context.disabled?"":void 0,...indicatorProps,ref:forwardedRef})})});RadioIndicator.displayName="RadioIndicator";var RadioBubbleInput=reactExports.forwardRef(({__scopeRadio:__scopeRadio,control:control,checked:checked,bubbles:bubbles=!0,...props},forwardedRef)=>{const ref=reactExports.useRef(null),composedRefs=useComposedRefs(ref,forwardedRef),prevChecked=usePrevious(checked),controlSize=useSize(control);return reactExports.useEffect(()=>{const input=ref.current;if(!input)return;const inputProto=window.HTMLInputElement.prototype,setChecked=Object.getOwnPropertyDescriptor(inputProto,"checked").set;if(prevChecked!==checked&&setChecked){const event=new Event("click",{bubbles:bubbles});setChecked.call(input,checked),input.dispatchEvent(event)}},[prevChecked,checked,bubbles]),jsxRuntimeExports.jsx(Primitive.input,{type:"radio","aria-hidden":!0,defaultChecked:checked,...props,tabIndex:-1,ref:composedRefs,style:{...props.style,...controlSize,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function getState(checked){return checked?"checked":"unchecked"}RadioBubbleInput.displayName="RadioBubbleInput";var ARROW_KEYS=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],[createRadioGroupContext,createRadioGroupScope]=createContextScope("RadioGroup",[createRovingFocusGroupScope,createRadioScope]),useRovingFocusGroupScope=createRovingFocusGroupScope(),useRadioScope=createRadioScope(),[RadioGroupProvider,useRadioGroupContext]=createRadioGroupContext("RadioGroup"),RadioGroup$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeRadioGroup:__scopeRadioGroup,name:name,defaultValue:defaultValue,value:valueProp,required:required=!1,disabled:disabled=!1,orientation:orientation,dir:dir,loop:loop=!0,onValueChange:onValueChange,...groupProps}=props,rovingFocusGroupScope=useRovingFocusGroupScope(__scopeRadioGroup),direction=useDirection(dir),[value,setValue]=useControllableState({prop:valueProp,defaultProp:defaultValue??null,onChange:onValueChange,caller:"RadioGroup"});return jsxRuntimeExports.jsx(RadioGroupProvider,{scope:__scopeRadioGroup,name:name,required:required,disabled:disabled,value:value,onValueChange:setValue,children:jsxRuntimeExports.jsx(Root$8,{asChild:!0,...rovingFocusGroupScope,orientation:orientation,dir:direction,loop:loop,children:jsxRuntimeExports.jsx(Primitive.div,{role:"radiogroup","aria-required":required,"aria-orientation":orientation,"data-disabled":disabled?"":void 0,dir:direction,...groupProps,ref:forwardedRef})})})});RadioGroup$1.displayName="RadioGroup";var RadioGroupItem$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeRadioGroup:__scopeRadioGroup,disabled:disabled,...itemProps}=props,context=useRadioGroupContext("RadioGroupItem",__scopeRadioGroup),isDisabled=context.disabled||disabled,rovingFocusGroupScope=useRovingFocusGroupScope(__scopeRadioGroup),radioScope=useRadioScope(__scopeRadioGroup),ref=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,ref),checked=context.value===itemProps.value,isArrowKeyPressedRef=reactExports.useRef(!1);return reactExports.useEffect(()=>{const handleKeyDown=event=>{ARROW_KEYS.includes(event.key)&&(isArrowKeyPressedRef.current=!0)},handleKeyUp=()=>isArrowKeyPressedRef.current=!1;return document.addEventListener("keydown",handleKeyDown),document.addEventListener("keyup",handleKeyUp),()=>{document.removeEventListener("keydown",handleKeyDown),document.removeEventListener("keyup",handleKeyUp)}},[]),jsxRuntimeExports.jsx(Item$1,{asChild:!0,...rovingFocusGroupScope,focusable:!isDisabled,active:checked,children:jsxRuntimeExports.jsx(Radio,{disabled:isDisabled,required:context.required,checked:checked,...radioScope,...itemProps,name:context.name,ref:composedRefs,onCheck:()=>context.onValueChange(itemProps.value),onKeyDown:composeEventHandlers(event=>{"Enter"===event.key&&event.preventDefault()}),onFocus:composeEventHandlers(itemProps.onFocus,()=>{var _a3;isArrowKeyPressedRef.current&&(null==(_a3=ref.current)||_a3.click())})})})});RadioGroupItem$1.displayName="RadioGroupItem";var RadioGroupIndicator=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeRadioGroup:__scopeRadioGroup,...indicatorProps}=props,radioScope=useRadioScope(__scopeRadioGroup);return jsxRuntimeExports.jsx(RadioIndicator,{...radioScope,...indicatorProps,ref:forwardedRef})});RadioGroupIndicator.displayName="RadioGroupIndicator";var Root2$1=RadioGroup$1,Item2=RadioGroupItem$1,Indicator=RadioGroupIndicator;const RadioGroup=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Root2$1,{className:cn("grid gap-2",className),...props,ref:ref}));RadioGroup.displayName=Root2$1.displayName;const RadioGroupItem=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Item2,{ref:ref,className:cn("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",className),...props,children:jsxRuntimeExports.jsx(Indicator,{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx(Circle,{className:"h-2.5 w-2.5 fill-current text-current"})})}));RadioGroupItem.displayName=Item2.displayName;const OTCOperationModal=({isOpen:isOpen,onClose:onClose,client:client2})=>{const{createOperation:createOperation,isCreating:isCreating}=useOTCOperations(),[formData,setFormData]=reactExports.useState({operation_type:"credit",currency:"BRL",amount:"",description:"",brl_amount:"",usd_amount:"",conversion_rate:""}),[touchedFields,setTouchedFields]=reactExports.useState(new Set),[calculationTimeout,setCalculationTimeout]=reactExports.useState(null),[errors,setErrors]=reactExports.useState({}),[showConfirmation,setShowConfirmation]=reactExports.useState(!1);reactExports.useEffect(()=>{isOpen?(setFormData({operation_type:"credit",currency:"BRL",amount:"",description:"",brl_amount:"",usd_amount:"",conversion_rate:""}),setTouchedFields(new Set),setErrors({}),setShowConfirmation(!1)):calculationTimeout&&(clearTimeout(calculationTimeout),setCalculationTimeout(null))},[isOpen,calculationTimeout]);const formatUSD=value=>`$ ${value.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})}`,updateField=(field,value)=>{if(setFormData(prev=>({...prev,[field]:value})),!value.trim()){const newTouchedFields=new Set(touchedFields);newTouchedFields.delete(field),setTouchedFields(newTouchedFields)}errors[field]&&setErrors(prev=>({...prev,[field]:""}))},handleFieldBlur=field=>{"brl_amount"!==field&&"usd_amount"!==field&&"conversion_rate"!==field||setFormData(currentFormData=>{const newFormData=((field,value,currentData)=>{const newData={...currentData,[field]:value};if("brl_amount"===field||"usd_amount"===field||"conversion_rate"===field){const newTouchedFields=new Set(touchedFields);newTouchedFields.add(field),setTouchedFields(newTouchedFields);const brlValue=parseFloat(newData.brl_amount)||0,usdValue=parseFloat(newData.usd_amount)||0,rateValue=parseFloat(newData.conversion_rate)||0,hasBrl=brlValue>0,hasUsd=usdValue>0,hasRate=rateValue>0;if(2==(hasBrl?1:0)+(hasUsd?1:0)+(hasRate?1:0))if(hasBrl&&hasUsd&&!hasRate){const calculatedRate=brlValue/usdValue;newData.conversion_rate=calculatedRate>0?calculatedRate.toFixed(4):""}else if(hasBrl&&hasRate&&!hasUsd){const calculatedUsd=brlValue/rateValue;newData.usd_amount=calculatedUsd>0?calculatedUsd.toFixed(4):""}else if(hasUsd&&hasRate&&!hasBrl){const calculatedBrl=usdValue*rateValue;newData.brl_amount=calculatedBrl>0?calculatedBrl.toFixed(2):""}}return newData})(field,currentFormData[field],currentFormData);return newFormData})},getOperationInfo=(type,currency)=>{switch(type){case"credit":return{icon:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),label:"Crédito",description:`Adicionar valor ao saldo ${"USD"===currency?"em dólares":"em reais"} do cliente`,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",requiresAmount:!0,requiresConversion:!1,requiresCurrency:!0};case"debit":return{icon:jsxRuntimeExports.jsx(Minus,{className:"w-4 h-4"}),label:"Débito",description:`Remover valor do saldo ${"USD"===currency?"em dólares":"em reais"} do cliente`,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",requiresAmount:!0,requiresConversion:!1,requiresCurrency:!0};case"convert":return{icon:jsxRuntimeExports.jsx(ArrowRightLeft,{className:"w-4 h-4"}),label:"Conversão BRL → USD",description:"Debita valor em reais (BRL) e credita em dólares (USD)",color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",requiresAmount:!1,requiresConversion:!0,requiresCurrency:!1};default:return{icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-4 h-4"}),label:"Operação",description:"Operação manual",color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",requiresAmount:!1,requiresConversion:!1,requiresCurrency:!1}}};if(!client2)return null;const currentOperationInfo=getOperationInfo(formData.operation_type,formData.currency);return jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CreditCard,{className:"w-5 h-5"}),"Nova Operação Manual"]}),jsxRuntimeExports.jsxs(DialogDescription,{children:["Realizar operação manual para o cliente ",client2.name]})]}),showConfirmation?jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs(Alert,{className:"border-yellow-200 bg-yellow-50",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-yellow-600"}),jsxRuntimeExports.jsxs(AlertDescription,{className:"text-yellow-800",children:[jsxRuntimeExports.jsx("strong",{children:"Confirmação Necessária"}),jsxRuntimeExports.jsx("br",{}),"Você está prestes a executar uma operação manual que afetará o saldo do cliente. Esta ação não pode ser desfeita."]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Resumo da Operação"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Cliente"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:client2.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Tipo de Operação"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[currentOperationInfo.icon,jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:currentOperationInfo.label})]})]}),currentOperationInfo.requiresAmount&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Valor"}),jsxRuntimeExports.jsx("p",{className:`text-sm font-semibold ${currentOperationInfo.color}`,children:"USD"===formData.currency?`$ ${parseFloat(formData.amount).toFixed(4)}`:otcService.formatCurrency(parseFloat(formData.amount))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Novo Saldo"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold "+("credit"===formData.operation_type?"text-green-600":"text-red-600"),children:"USD"===formData.currency?`$ ${((client2.usd_balance||0)+("credit"===formData.operation_type?1:-1)*(parseFloat(formData.amount)||0)).toFixed(4)}`:otcService.formatCurrency((client2.current_balance||0)+("credit"===formData.operation_type?1:-1)*(parseFloat(formData.amount)||0))})]})]})]}),jsxRuntimeExports.jsx(Separator,{}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Descrição"}),jsxRuntimeExports.jsx("p",{className:"text-sm",children:formData.description})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:()=>{setShowConfirmation(!1)},disabled:isCreating,children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:async()=>{if(client2)try{const operationData={otc_client_id:client2.id,operation_type:formData.operation_type,currency:formData.currency,description:formData.description.trim()},operationInfo=getOperationInfo(formData.operation_type,formData.currency);operationInfo.requiresAmount&&(operationData.amount=parseFloat(formData.amount)),operationInfo.requiresConversion&&(operationData.brl_amount=parseFloat(formData.brl_amount),operationData.usd_amount=parseFloat(formData.usd_amount),operationData.conversion_rate=parseFloat(formData.conversion_rate)),await createOperation(operationData),operationInfo.requiresConversion?ue$2.success("Conversão realizada com sucesso!",{description:`R$ ${parseFloat(formData.brl_amount).toFixed(2)} convertidos para $ ${parseFloat(formData.usd_amount).toFixed(4)}`}):ue$2.success("Operação realizada com sucesso!"),onClose()}catch(error){setShowConfirmation(!1)}else ue$2.error("Cliente não selecionado")},disabled:isCreating,className:"bg-red-600 hover:bg-red-700",children:isCreating?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Executando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4 mr-2"}),"Confirmar Operação"]})})]})]}):jsxRuntimeExports.jsxs("form",{onSubmit:async e3=>{e3.preventDefault(),(()=>{const newErrors={},operationInfo=getOperationInfo(formData.operation_type,formData.currency);if(formData.description.trim()?formData.description.length<5&&(newErrors.description="Descrição deve ter pelo menos 5 caracteres"):newErrors.description="Descrição é obrigatória",operationInfo.requiresAmount)if(formData.amount.trim()){const amount=parseFloat(formData.amount);(isNaN(amount)||amount<=0)&&(newErrors.amount="Valor deve ser um número positivo")}else newErrors.amount="Valor é obrigatório";if(operationInfo.requiresConversion){if(formData.brl_amount.trim()){const brlAmount=parseFloat(formData.brl_amount);(isNaN(brlAmount)||brlAmount<=0)&&(newErrors.brl_amount="Valor deve ser um número positivo")}else newErrors.brl_amount="Valor em reais é obrigatório";if(formData.usd_amount.trim()){const usdAmount=parseFloat(formData.usd_amount);(isNaN(usdAmount)||usdAmount<=0)&&(newErrors.usd_amount="Valor deve ser um número positivo")}else newErrors.usd_amount="Valor em dólares é obrigatório";if(formData.conversion_rate.trim()){const rate=parseFloat(formData.conversion_rate);isNaN(rate)||rate<=0?newErrors.conversion_rate="Taxa deve ser um número positivo":(rate<.1||rate>10)&&(newErrors.conversion_rate="Taxa deve estar entre 0.1 e 10.0")}else newErrors.conversion_rate="Taxa de conversão é obrigatória";if(formData.brl_amount&&formData.usd_amount&&formData.conversion_rate){const brlAmount=parseFloat(formData.brl_amount),usdAmount=parseFloat(formData.usd_amount),rate=parseFloat(formData.conversion_rate);isNaN(brlAmount)||isNaN(usdAmount)||isNaN(rate)||otcService.validateConversionData(brlAmount,usdAmount,rate)||(newErrors.conversion_rate="Cálculo de conversão incorreto. Verifique os valores.")}}return setErrors(newErrors),0===Object.keys(newErrors).length})()?setShowConfirmation(!0):ue$2.error("Por favor, corrija os erros no formulário")},className:"space-y-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4"}),"Cliente"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:client2.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Documento"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:otcService.formatDocument(client2.document)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Saldo Atual"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold "+(client2.current_balance>=0?"text-green-600":"text-red-600"),children:otcService.formatCurrency(client2.current_balance)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Status"}),jsxRuntimeExports.jsx(Badge,{variant:client2.is_active?"default":"secondary",className:client2.is_active?"bg-green-100 text-green-800":"",children:client2.is_active?"Ativo":"Inativo"})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Tipo de Operação"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx(RadioGroup,{value:formData.operation_type,onValueChange:value=>updateField("operation_type",value),className:"space-y-3",children:["credit","debit","convert"].map(type=>{const info=getOperationInfo(type,formData.currency);return jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:type,id:type}),jsxRuntimeExports.jsx(Label$1,{htmlFor:type,className:"flex-1 cursor-pointer p-3 rounded-lg border-2 transition-all "+(formData.operation_type===type?`${info.bgColor} ${info.borderColor} ${info.color}`:"border-gray-200 hover:border-gray-300"),children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-full ${info.bgColor} ${info.color}`,children:info.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:info.label}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:info.description})]})]})})]},type)})})})]}),currentOperationInfo.requiresCurrency&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),"Moeda"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium",children:"Selecione a moeda da operação"}),jsxRuntimeExports.jsxs(RadioGroup,{value:formData.currency,onValueChange:value=>updateField("currency",value),className:"flex gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"BRL",id:"brl"}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"brl",className:"cursor-pointer",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-green-600",children:"BRL"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"Real Brasileiro"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(RadioGroupItem,{value:"USD",id:"usd"}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"usd",className:"cursor-pointer",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-blue-600",children:"USD"}),jsxRuntimeExports.jsx("span",{className:"text-sm text-muted-foreground",children:"Dólar Americano"})]})})]})]})]})})]}),currentOperationInfo.requiresAmount&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4"}),"Valor"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs(Label$1,{htmlFor:"amount",children:["Valor da Operação (","USD"===formData.currency?"$":"R$",") *"]}),jsxRuntimeExports.jsx(Input,{id:"amount",type:"number",step:"0.01",min:"0.01",value:formData.amount,onChange:e3=>updateField("amount",e3.target.value),placeholder:"0,00",className:errors.amount?"border-red-500":""}),errors.amount&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.amount}),formData.amount&&!errors.amount&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600",children:["✓ ","USD"===formData.currency?formatUSD(parseFloat(formData.amount)||0):otcService.formatCurrency(parseFloat(formData.amount)||0)]})]})})]}),currentOperationInfo.requiresConversion&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowRightLeft,{className:"w-4 h-4"}),"Dados da Conversão"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Preencha qualquer dois campos que o terceiro será calculado automaticamente"}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[jsxRuntimeExports.jsx(ArrowRightLeft,{className:"w-4 h-4 text-blue-600"}),jsxRuntimeExports.jsxs("span",{className:"font-medium text-blue-900",children:["Esta operação irá ",jsxRuntimeExports.jsx("span",{className:"text-red-600",children:"debitar reais (BRL)"})," do saldo e ",jsxRuntimeExports.jsx("span",{className:"text-green-600",children:"creditar dólares (USD)"})]})]})})]})]}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"brl_amount",children:"Valor em Reais (BRL) *"}),jsxRuntimeExports.jsx(Input,{id:"brl_amount",type:"number",step:"0.01",min:"0.01",value:formData.brl_amount,onChange:e3=>updateField("brl_amount",e3.target.value),onBlur:()=>handleFieldBlur("brl_amount"),placeholder:"0,00",className:errors.brl_amount?"border-red-500":""}),errors.brl_amount&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.brl_amount}),formData.brl_amount&&!errors.brl_amount&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-blue-600",children:["Débito: ",otcService.formatCurrency(parseFloat(formData.brl_amount)||0)]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"usd_amount",children:"Valor em Dólares (USD) *"}),jsxRuntimeExports.jsx(Input,{id:"usd_amount",type:"number",step:"0.0001",min:"0.0001",value:formData.usd_amount,onChange:e3=>updateField("usd_amount",e3.target.value),onBlur:()=>handleFieldBlur("usd_amount"),placeholder:"0,0000",className:errors.usd_amount?"border-red-500":""}),errors.usd_amount&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.usd_amount}),formData.usd_amount&&!errors.usd_amount&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600",children:["Crédito: ",formatUSD(parseFloat(formData.usd_amount||"0"))]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"conversion_rate",children:"Taxa de Conversão (BRL/USD) *"}),jsxRuntimeExports.jsx(Input,{id:"conversion_rate",type:"number",step:"0.0001",min:"0.1",max:"10",value:formData.conversion_rate,onChange:e3=>updateField("conversion_rate",e3.target.value),onBlur:()=>handleFieldBlur("conversion_rate"),placeholder:"0,0000",className:errors.conversion_rate?"border-red-500":""}),errors.conversion_rate&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.conversion_rate}),formData.conversion_rate&&!errors.conversion_rate&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-green-600",children:["✓ Taxa: ",parseFloat(formData.conversion_rate||"0").toFixed(4)," BRL/USD"]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Descrição"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"description",children:"Descrição da Operação *"}),jsxRuntimeExports.jsx(Textarea,{id:"description",value:formData.description,onChange:e3=>updateField("description",e3.target.value),placeholder:"Descreva o motivo da operação...",rows:3,className:errors.description?"border-red-500":""}),errors.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-red-500",children:errors.description}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-muted-foreground",children:[formData.description.length,"/500 caracteres"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:onClose,disabled:isCreating,children:"Cancelar"}),jsxRuntimeExports.jsxs(Button$1,{type:"submit",disabled:isCreating,className:`${currentOperationInfo.color} bg-opacity-10 hover:bg-opacity-20`,children:[currentOperationInfo.icon,jsxRuntimeExports.jsx("span",{className:"ml-2",children:"Continuar"})]})]})]})]})})},OTCEmployeeModal=({isOpen:isOpen,onClose:onClose})=>{const[activeTab,setActiveTab]=reactExports.useState("create"),[loading,setLoading]=reactExports.useState(!1),[clients,setClients]=reactExports.useState([]),[employees,setEmployees]=reactExports.useState([]),[selectedClientId,setSelectedClientId]=reactExports.useState(null),[createForm,setCreateForm]=reactExports.useState({employee_name:"",employee_email:"",employee_password:"",otc_client_id:""}),fetchEmployees=async clientId=>{try{setLoading(!0);const targetClientId=clientId||selectedClientId;if(!targetClientId)return void setEmployees([]);const response=await api.get(`/api/otc/employees/${targetClientId}`);response.data.sucesso&&setEmployees(response.data.dados.funcionarios)}catch(error){ue$2.error("Erro ao carregar funcionários")}finally{setLoading(!1)}};return reactExports.useEffect(()=>{isOpen&&(async()=>{try{const response=await api.get("/api/otc/clients");response.data.sucesso&&setClients(response.data.dados)}catch(error){ue$2.error("Erro ao carregar clientes OTC")}})()},[isOpen]),reactExports.useEffect(()=>{selectedClientId&&"manage"===activeTab&&fetchEmployees()},[selectedClientId,activeTab]),isOpen?jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsx(DialogHeader,{children:jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-5 h-5"}),"Gerenciar Funcionários OTC"]})}),jsxRuntimeExports.jsxs(Tabs,{value:activeTab,onValueChange:setActiveTab,className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-2",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"create",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4"}),"Criar Funcionário"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"manage",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),"Gerenciar Acessos"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"create",className:"space-y-4",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Novo Funcionário OTC"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("form",{onSubmit:async e3=>{var _a3,_b3;if(e3.preventDefault(),createForm.employee_name&&createForm.employee_email&&createForm.employee_password&&createForm.otc_client_id)try{setLoading(!0);(await api.post("/api/otc/employees",{employee_name:createForm.employee_name,employee_email:createForm.employee_email,employee_password:createForm.employee_password,otc_client_id:parseInt(createForm.otc_client_id)})).data.sucesso&&(ue$2.success("Funcionário criado com sucesso!"),setCreateForm({employee_name:"",employee_email:"",employee_password:"",otc_client_id:""}),selectedClientId===parseInt(createForm.otc_client_id)&&await fetchEmployees(),setActiveTab("manage"),setSelectedClientId(parseInt(createForm.otc_client_id)),await fetchEmployees(parseInt(createForm.otc_client_id)))}catch(error){const errorMessage=(null==(_b3=null==(_a3=error.response)?void 0:_a3.data)?void 0:_b3.mensagem)||"Erro ao criar funcionário";ue$2.error(errorMessage)}finally{setLoading(!1)}else ue$2.error("Todos os campos são obrigatórios")},className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"employee_name",children:"Nome do Funcionário"}),jsxRuntimeExports.jsx(Input,{id:"employee_name",value:createForm.employee_name,onChange:e3=>setCreateForm(prev=>({...prev,employee_name:e3.target.value})),placeholder:"Nome completo",required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"employee_email",children:"Email"}),jsxRuntimeExports.jsx(Input,{id:"employee_email",type:"email",value:createForm.employee_email,onChange:e3=>setCreateForm(prev=>({...prev,employee_email:e3.target.value})),placeholder:"email@empresa.com",required:!0})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"employee_password",children:"Senha Inicial"}),jsxRuntimeExports.jsx(Input,{id:"employee_password",type:"password",value:createForm.employee_password,onChange:e3=>setCreateForm(prev=>({...prev,employee_password:e3.target.value})),placeholder:"Senha (mín. 6 caracteres)",minLength:6,required:!0})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"otc_client_id",children:"Cliente OTC"}),jsxRuntimeExports.jsxs(Select,{value:createForm.otc_client_id,onValueChange:value=>setCreateForm(prev=>({...prev,otc_client_id:value})),required:!0,children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione o cliente"})}),jsxRuntimeExports.jsx(SelectContent,{children:clients.map(client2=>jsxRuntimeExports.jsxs(SelectItem,{value:client2.id.toString(),children:[client2.client_name," - ",client2.client_document]},client2.id))})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button$1,{type:"button",variant:"outline",onClick:onClose,children:"Cancelar"}),jsxRuntimeExports.jsxs(Button$1,{type:"submit",disabled:loading,children:[loading&&jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2 animate-spin"}),"Criar Funcionário"]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-4 w-4 text-blue-600 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Acesso limitado de funcionários"}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-blue-700 mt-1 space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Ver apenas depósitos PIX automáticos"}),jsxRuntimeExports.jsx("li",{children:"• Não ver saldos BRL/USD"}),jsxRuntimeExports.jsx("li",{children:"• Não ver operações manuais"}),jsxRuntimeExports.jsx("li",{children:"• Interface simplificada"})]})]})]})})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"manage",className:"space-y-4",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{children:"Funcionários por Cliente"})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx(Label$1,{children:"Selecionar Cliente"}),jsxRuntimeExports.jsxs(Select,{value:(null==selectedClientId?void 0:selectedClientId.toString())||"",onValueChange:value=>setSelectedClientId(parseInt(value)),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Escolha um cliente para ver funcionários"})}),jsxRuntimeExports.jsx(SelectContent,{children:clients.map(client2=>jsxRuntimeExports.jsxs(SelectItem,{value:client2.id.toString(),children:[client2.client_name," - ",client2.client_document]},client2.id))})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-end",children:jsxRuntimeExports.jsxs(Button$1,{onClick:()=>fetchEmployees(),disabled:!selectedClientId||loading,variant:"outline",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2"}),"Atualizar"]})})]}),selectedClientId&&jsxRuntimeExports.jsx("div",{children:loading?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Carregando funcionários..."})]}):0===employees.length?jsxRuntimeExports.jsxs("div",{className:"text-center py-8",children:[jsxRuntimeExports.jsx(Users,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Nenhum funcionário encontrado para este cliente"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Use a aba "Criar Funcionário" para adicionar o primeiro funcionário'})]}):jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Funcionário"}),jsxRuntimeExports.jsx(TableHead,{children:"Email"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Concedido em"}),jsxRuntimeExports.jsx(TableHead,{children:"Concedido por"}),jsxRuntimeExports.jsx(TableHead,{children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:employees.map(employee=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium",children:employee.funcionario.name}),jsxRuntimeExports.jsx(TableCell,{children:employee.funcionario.email}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:employee.is_active?"default":"destructive",children:employee.is_active?"Ativo":"Inativo"})}),jsxRuntimeExports.jsx(TableCell,{children:new Date(employee.granted_at).toLocaleDateString("pt-BR")}),jsxRuntimeExports.jsx(TableCell,{children:employee.concedido_por.name}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"outline",onClick:()=>(async(employeeId,currentStatus)=>{var _a3,_b3;try{setLoading(!0),(await api.put(`/api/otc/employees/${employeeId}/status`,{is_active:!currentStatus})).data.sucesso&&(ue$2.success(`Funcionário ${currentStatus?"desativado":"ativado"} com sucesso!`),await fetchEmployees())}catch(error){const errorMessage=(null==(_b3=null==(_a3=error.response)?void 0:_a3.data)?void 0:_b3.mensagem)||"Erro ao alterar status";ue$2.error(errorMessage)}finally{setLoading(!1)}})(employee.id,employee.is_active),disabled:loading,children:employee.is_active?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4 mr-1"}),"Desativar"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 mr-1"}),"Ativar"]})}),jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:"destructive",onClick:()=>(async employeeId=>{var _a3,_b3;if(confirm("Tem certeza que deseja revogar o acesso deste funcionário?"))try{setLoading(!0),(await api.delete(`/api/otc/employees/${employeeId}`)).data.sucesso&&(ue$2.success("Acesso revogado com sucesso!"),await fetchEmployees())}catch(error){const errorMessage=(null==(_b3=null==(_a3=error.response)?void 0:_a3.data)?void 0:_b3.mensagem)||"Erro ao revogar acesso";ue$2.error(errorMessage)}finally{setLoading(!1)}})(employee.id),disabled:loading,children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4 mr-1"}),"Revogar"]})]})})]},employee.id))})]})})]})]})})]})]})}):null},OTCClients=()=>{const navigate=useNavigate(),[activeTab,setActiveTab]=reactExports.useState("clients"),[clientModal,setClientModal]=reactExports.useState({isOpen:!1}),[operationModal,setOperationModal]=reactExports.useState({isOpen:!1}),[employeeModal,setEmployeeModal]=reactExports.useState({isOpen:!1});return jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Sistema OTC"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Gerenciamento de clientes Over-the-Counter"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{setClientModal({isOpen:!0})},className:"bg-blue-600 hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Novo Cliente"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{setEmployeeModal({isOpen:!0})},variant:"outline",disabled:!0,className:"border-gray-300 text-gray-400 cursor-not-allowed",title:"Funcionalidade em desenvolvimento",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),"Funcionários OTC"]})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:activeTab,onValueChange:setActiveTab,className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full max-w-2xl grid-cols-3",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"dashboard",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"w-4 h-4"}),"Dashboard"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"clients",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Users,{className:"w-4 h-4"}),"Clientes"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"operations",className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Lock,{className:"w-4 h-4"}),"Travas/Saques"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"dashboard",className:"space-y-4",children:jsxRuntimeExports.jsx(OTCDashboard,{})}),jsxRuntimeExports.jsx(TabsContent,{value:"clients",className:"space-y-4",children:jsxRuntimeExports.jsx(OTCClientTable,{onViewStatement:client2=>{navigate(`/otc/admin-statement/${client2.id}`)},onEditClient:client2=>{setClientModal({isOpen:!0,client:client2})},onCreateOperation:client2=>{setOperationModal({isOpen:!0,client:client2})},onViewBalance:client2=>{navigate(`/otc/admin-statement/${client2.id}`)}})}),jsxRuntimeExports.jsx(TabsContent,{value:"operations",className:"space-y-4",children:jsxRuntimeExports.jsx(OTCOperations,{})})]}),jsxRuntimeExports.jsx(OTCClientModal,{isOpen:clientModal.isOpen,onClose:()=>{setClientModal({isOpen:!1,client:void 0})},client:clientModal.client}),jsxRuntimeExports.jsx(OTCOperationModal,{isOpen:operationModal.isOpen,onClose:()=>{setOperationModal({isOpen:!1,client:void 0})},client:operationModal.client}),jsxRuntimeExports.jsx(OTCEmployeeModal,{isOpen:employeeModal.isOpen,onClose:()=>{setEmployeeModal({isOpen:!1})}})]})},BINANCE_CONFIG_endpoints={cotacao:"/api/binance/trade/cotacao",executarTrade:"/api/binance/trade/executar",statusOrdem:"/api/binance/trade/ordem",cancelarOrdem:"/api/binance/trade/ordem",historicoTrades:"/api/binance/trade/historico",historicoOrdens:"/api/binance/trade/ordens",saldos:"/api/binance/withdrawal/saldos",historicoSaques:"/api/binance/withdrawal/historico",criarSaque:"/api/binance/withdrawal/criar",statusSaque:"/api/binance/withdrawal/status",enderecosSaque:"/api/binance/withdrawal/enderecos",enderecosDeposito:"/api/binance/withdrawal/enderecos-deposito",historicoDepositos:"/api/binance/withdrawal/historico-depositos"};function validateApiConfiguration(){if(!API_CONFIG.BASE_URL)return{isValid:!1,error:"API_CONFIG.BASE_URL não está configurada. Verifique as variáveis de ambiente: X_API_BASE_URL, X_API_URL_DEV ou X_API_URL_PROD."};try{new URL(API_CONFIG.BASE_URL)}catch(e3){return{isValid:!1,error:`API_CONFIG.BASE_URL contém uma URL inválida: "${API_CONFIG.BASE_URL}"`}}return{isValid:!0}}async function checkTokenStatus(){try{const token=TOKEN_STORAGE.get();if(!token)return{isValid:!1,isExpired:!0,timeToExpiry:0,details:{error:"No token found"}};const payload=JSON.parse(atob(token.split(".")[1])),now2=Math.floor(Date.now()/1e3),isExpired=payload.exp<now2;return{isValid:!isExpired,isExpired:isExpired,timeToExpiry:payload.exp-now2,details:{userId:payload.sub||payload.id||payload.user_id,exp:payload.exp,iat:payload.iat,currentTime:now2,tokenLength:token.length}}}catch(error){return{isValid:!1,isExpired:!0,timeToExpiry:0,details:{error:error.message}}}}function useBinanceTrade(){const{toast:toast2}=useToast(),[quote,setQuote]=reactExports.useState(null),[quoteLoading,setQuoteLoading]=reactExports.useState(!1),[quoteError,setQuoteError]=reactExports.useState(null),[tradeLoading,setTradeLoading]=reactExports.useState(!1),[tradeError,setTradeError]=reactExports.useState(null),[orderStatus,setOrderStatus]=reactExports.useState(null),[orderStatusLoading,setOrderStatusLoading]=reactExports.useState(!1),[orderStatusError,setOrderStatusError]=reactExports.useState(null),[cancelOrderLoading,setCancelOrderLoading]=reactExports.useState(!1),[cancelOrderError,setCancelOrderError]=reactExports.useState(null),[historico,setHistorico]=reactExports.useState([]),[historicoLoading,setHistoricoLoading]=reactExports.useState(!1),[historicoError,setHistoricoError]=reactExports.useState(null),[ordens,setOrdens]=reactExports.useState([]),[ordensLoading,setOrdensLoading]=reactExports.useState(!1),[ordensError,setOrdensError]=reactExports.useState(null);return{quote:quote,quoteLoading:quoteLoading,quoteError:quoteError,solicitarCotacao:reactExports.useCallback(async(amount,fromCurrency="BRL",symbol="USDTBRL",side="BUY")=>{setQuoteLoading(!0),setQuoteError(null);try{const request={amount:amount,fromCurrency:fromCurrency,symbol:symbol,side:side},response=await async function(dados){try{logger.debug("[BINANCE-QUOTE] Calculando cotação...",dados);const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.cotacao}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-QUOTE] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"POST",headers:requestHeaders,body:JSON.stringify(dados)});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-QUOTE] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-QUOTE] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-QUOTE] Erro ao calcular cotação:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(request);if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao calcular cotação");setQuote(response.data)}catch(error){const errorMessage=error.message||"Erro ao calcular cotação";setQuoteError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setQuoteLoading(!1)}},[toast2]),tradeLoading:tradeLoading,tradeError:tradeError,executarTrade:reactExports.useCallback(async(quantity,fromCurrency,side,price,symbol="USDTBRL")=>{setTradeLoading(!0),setTradeError(null);try{const request={quantity:quantity,fromCurrency:fromCurrency,side:side,price:price,symbol:symbol},response=await async function(dados){try{logger.debug("[BINANCE-TRADE] Executando trade...",dados);const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.executarTrade}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-TRADE] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"POST",headers:requestHeaders,body:JSON.stringify(dados)});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-TRADE] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-TRADE] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-TRADE] Erro ao executar trade:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(request);if(response&&response.success&&response.data)return toast2({title:"Trade executado",description:`Ordem #${response.data.orderId} executada com sucesso`}),response;throw new Error((null==response?void 0:response.message)||"Erro ao executar trade")}catch(error){const errorMessage=error.message||"Erro ao executar trade";return setTradeError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"}),null}finally{setTradeLoading(!1)}},[toast2]),orderStatus:orderStatus,orderStatusLoading:orderStatusLoading,orderStatusError:orderStatusError,consultarStatus:reactExports.useCallback(async(orderId,symbol="USDTBRL")=>{setOrderStatusLoading(!0),setOrderStatusError(null);try{const response=await async function(orderId,symbol="USDTBRL"){try{logger.debug("[BINANCE-ORDER-STATUS] Consultando status...",{orderId:orderId,symbol:symbol});const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.statusOrdem}/${orderId}?symbol=${symbol}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-ORDER-STATUS] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-ORDER-STATUS] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-ORDER-STATUS] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-ORDER-STATUS] Erro ao consultar status:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(orderId,symbol);if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao consultar status");setOrderStatus(response.data)}catch(error){const errorMessage=error.message||"Erro ao consultar status";setOrderStatusError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setOrderStatusLoading(!1)}},[toast2]),cancelOrderLoading:cancelOrderLoading,cancelOrderError:cancelOrderError,cancelarOrdem:reactExports.useCallback(async(orderId,symbol="USDTBRL")=>{setCancelOrderLoading(!0),setCancelOrderError(null);try{const response=await async function(orderId,symbol="USDTBRL"){try{logger.debug("[BINANCE-ORDER-CANCEL] Cancelando ordem...",{orderId:orderId,symbol:symbol});const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.cancelarOrdem}/${orderId}?symbol=${symbol}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-ORDER-CANCEL] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"DELETE",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-ORDER-CANCEL] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-ORDER-CANCEL] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-ORDER-CANCEL] Erro ao cancelar ordem:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(orderId,symbol);if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao cancelar ordem");toast2({title:"Ordem cancelada",description:`Ordem #${orderId} cancelada com sucesso`})}catch(error){const errorMessage=error.message||"Erro ao cancelar ordem";setCancelOrderError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setCancelOrderLoading(!1)}},[toast2]),historico:historico,historicoLoading:historicoLoading,historicoError:historicoError,carregarHistorico:reactExports.useCallback(async(symbol="USDTBRL",limit=500)=>{setHistoricoLoading(!0),setHistoricoError(null);try{const response=await async function(symbol="USDTBRL",limit=500){try{logger.debug("[BINANCE-TRADE-HISTORY] Consultando histórico...",{symbol:symbol,limit:limit});const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.historicoTrades}?symbol=${symbol}&limit=${limit}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-TRADE-HISTORY] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-TRADE-HISTORY] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-TRADE-HISTORY] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-TRADE-HISTORY] Erro ao consultar histórico:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(symbol,limit);if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao carregar histórico");setHistorico(response.data.trades)}catch(error){const errorMessage=error.message||"Erro ao carregar histórico";setHistoricoError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setHistoricoLoading(!1)}},[toast2]),ordens:ordens,ordensLoading:ordensLoading,ordensError:ordensError,carregarOrdens:reactExports.useCallback(async(symbol="USDTBRL",limit=500)=>{setOrdensLoading(!0),setOrdensError(null);try{const response=await async function(symbol="USDTBRL",limit=500){try{logger.debug("[BINANCE-ORDER-HISTORY] Consultando histórico de ordens...",{symbol:symbol,limit:limit});const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.historicoOrdens}?symbol=${symbol}&limit=${limit}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-ORDER-HISTORY] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-ORDER-HISTORY] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-ORDER-HISTORY] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-ORDER-HISTORY] Erro ao consultar histórico de ordens:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(symbol,limit);if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao carregar ordens");setOrdens(response.data.orders)}catch(error){const errorMessage=error.message||"Erro ao carregar ordens";setOrdensError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setOrdensLoading(!1)}},[toast2]),resetarEstado:reactExports.useCallback(()=>{setQuote(null),setQuoteError(null),setTradeError(null),setOrderStatus(null),setOrderStatusError(null),setCancelOrderError(null),setHistoricoError(null)},[])}}function useBinanceWithdrawal(){const{toast:toast2}=useToast(),[historicoSaques,setHistoricoSaques]=reactExports.useState([]),[historicoSaquesLoading,setHistoricoSaquesLoading]=reactExports.useState(!1),[historicoSaquesError,setHistoricoSaquesError]=reactExports.useState(null),[withdrawalLoading,setWithdrawalLoading]=reactExports.useState(!1),[withdrawalError,setWithdrawalError]=reactExports.useState(null),[enderecosSaque,setEnderecosSaque]=reactExports.useState([]),[enderecosSaqueLoading,setEnderecosSaqueLoading]=reactExports.useState(!1),[enderecosSaqueError,setEnderecosSaqueError]=reactExports.useState(null),[enderecosDeposito,setEnderecosDeposito]=reactExports.useState([]),[enderecosDepositoLoading,setEnderecosDepositoLoading]=reactExports.useState(!1),[enderecosDepositoError,setEnderecosDepositoError]=reactExports.useState(null),[historicoDepositos,setHistoricoDepositos]=reactExports.useState([]),[historicoDepositosLoading,setHistoricoDepositosLoading]=reactExports.useState(!1),[historicoDepositosError,setHistoricoDepositosError]=reactExports.useState(null);return{historicoSaques:historicoSaques,historicoSaquesLoading:historicoSaquesLoading,historicoSaquesError:historicoSaquesError,carregarHistoricoSaques:reactExports.useCallback(async(coin,status,startTime,endTime)=>{setHistoricoSaquesLoading(!0),setHistoricoSaquesError(null);try{const response=await async function(coin,status,startTime,endTime){try{logger.debug("[BINANCE-WITHDRAWAL-HISTORY] Consultando histórico de saques...",{coin:coin,status:status,startTime:startTime,endTime:endTime});const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const params=new URLSearchParams;coin&&params.append("coin",coin),void 0!==status&&params.append("status",status.toString()),void 0!==startTime&&params.append("startTime",startTime.toString()),void 0!==endTime&&params.append("endTime",endTime.toString());const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.historicoSaques}${params.toString()?`?${params.toString()}`:""}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-WITHDRAWAL-HISTORY] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-WITHDRAWAL-HISTORY] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-WITHDRAWAL-HISTORY] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-WITHDRAWAL-HISTORY] Erro ao consultar histórico de saques:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(coin,status,startTime,endTime);if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao carregar histórico de saques");setHistoricoSaques(response.data.withdrawals)}catch(error){const errorMessage=error.message||"Erro ao carregar histórico de saques";setHistoricoSaquesError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setHistoricoSaquesLoading(!1)}},[toast2]),withdrawalLoading:withdrawalLoading,withdrawalError:withdrawalError,criarSaque:reactExports.useCallback(async(coin,amount,address,network,addressTag)=>{setWithdrawalLoading(!0),setWithdrawalError(null);try{const request={coin:coin,amount:amount,address:address,network:network,addressTag:addressTag},response=await async function(dados){try{logger.debug("[BINANCE-WITHDRAWAL] Criando saque...",dados);const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.criarSaque}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-WITHDRAWAL] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"POST",headers:requestHeaders,body:JSON.stringify(dados)});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-WITHDRAWAL] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-WITHDRAWAL] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-WITHDRAWAL] Erro ao criar saque:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(request);if(response&&response.success&&response.data)return toast2({title:"Saque solicitado",description:`Saque de ${amount} ${coin} solicitado com sucesso`}),response;throw new Error((null==response?void 0:response.message)||"Erro ao criar saque")}catch(error){const errorMessage=error.message||"Erro ao criar saque";return setWithdrawalError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"}),null}finally{setWithdrawalLoading(!1)}},[toast2]),enderecosSaque:enderecosSaque,enderecosSaqueLoading:enderecosSaqueLoading,enderecosSaqueError:enderecosSaqueError,carregarEnderecosSaque:reactExports.useCallback(async()=>{setEnderecosSaqueLoading(!0),setEnderecosSaqueError(null);try{const response=await async function(){try{logger.debug("[BINANCE-ADDRESSES] Listando endereços de saque...");const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.enderecosSaque}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-ADDRESSES] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-ADDRESSES] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-ADDRESSES] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-ADDRESSES] Erro ao listar endereços:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}();if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao carregar endereços de saque");setEnderecosSaque(response.data.addresses)}catch(error){const errorMessage=error.message||"Erro ao carregar endereços de saque";setEnderecosSaqueError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setEnderecosSaqueLoading(!1)}},[toast2]),enderecosDeposito:enderecosDeposito,enderecosDepositoLoading:enderecosDepositoLoading,enderecosDepositoError:enderecosDepositoError,carregarEnderecosDeposito:reactExports.useCallback(async(coin,network)=>{setEnderecosDepositoLoading(!0),setEnderecosDepositoError(null);try{const response=await async function(coin,network){try{logger.debug("[BINANCE-DEPOSIT-ADDRESSES] Listando endereços de depósito...",{coin:coin,network:network});const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const params=new URLSearchParams;coin&&params.append("coin",coin),network&&params.append("network",network);const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.enderecosDeposito}${params.toString()?`?${params.toString()}`:""}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-DEPOSIT-ADDRESSES] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-DEPOSIT-ADDRESSES] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-DEPOSIT-ADDRESSES] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-DEPOSIT-ADDRESSES] Erro ao listar endereços de depósito:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(coin,network);if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao carregar endereços de depósito");setEnderecosDeposito(response.data.addresses)}catch(error){const errorMessage=error.message||"Erro ao carregar endereços de depósito";setEnderecosDepositoError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setEnderecosDepositoLoading(!1)}},[toast2]),historicoDepositos:historicoDepositos,historicoDepositosLoading:historicoDepositosLoading,historicoDepositosError:historicoDepositosError,carregarHistoricoDepositos:reactExports.useCallback(async(coin,status)=>{setHistoricoDepositosLoading(!0),setHistoricoDepositosError(null);try{const response=await async function(coin,status){try{logger.debug("[BINANCE-DEPOSIT-HISTORY] Consultando histórico de depósitos...",{coin:coin,status:status});const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const params=new URLSearchParams;coin&&params.append("coin",coin),void 0!==status&&params.append("status",status.toString());const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.historicoDepositos}${params.toString()?`?${params.toString()}`:""}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-DEPOSIT-HISTORY] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-DEPOSIT-HISTORY] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-DEPOSIT-HISTORY] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-DEPOSIT-HISTORY] Erro ao consultar histórico de depósitos:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}(coin,status);if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao carregar histórico de depósitos");setHistoricoDepositos(response.data.deposits)}catch(error){const errorMessage=error.message||"Erro ao carregar histórico de depósitos";setHistoricoDepositosError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setHistoricoDepositosLoading(!1)}},[toast2]),resetarEstado:reactExports.useCallback(()=>{setHistoricoSaquesError(null),setWithdrawalError(null),setEnderecosSaqueError(null),setEnderecosDepositoError(null),setHistoricoDepositosError(null)},[])}}function useBinanceBalances(){const{toast:toast2}=useToast(),[balances,setBalances]=reactExports.useState([]),[balancesLoading,setBalancesLoading]=reactExports.useState(!1),[balancesError,setBalancesError]=reactExports.useState(null),carregarSaldos=reactExports.useCallback(async()=>{setBalancesLoading(!0),setBalancesError(null);try{const response=await async function(){try{logger.debug("[BINANCE-BALANCES] Consultando saldos...");const configValidation=validateApiConfiguration();if(!configValidation.isValid)throw new Error(configValidation.error);if(!(await checkTokenStatus()).isValid)throw new Error("Token de autenticação inválido ou expirado. Faça login novamente.");const userToken=TOKEN_STORAGE.get();if(!userToken)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const requestUrl=`${API_CONFIG.BASE_URL}${BINANCE_CONFIG_endpoints.saldos}`,requestHeaders={"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${userToken}`};logger.debug("[BINANCE-BALANCES] Request URL:",requestUrl);const response=await fetch(requestUrl,{method:"GET",headers:requestHeaders});if(!response.ok){const errorText=await response.text();throw logger.error("[BINANCE-BALANCES] Erro HTTP:",{status:response.status,error:errorText}),new Error(`HTTP error! status: ${response.status} - ${errorText}`)}const responseData=await response.json();return logger.debug("[BINANCE-BALANCES] Resposta recebida:",responseData),responseData}catch(error){const errorMessage=(null==error?void 0:error.message)||String(error);return logger.error("[BINANCE-BALANCES] Erro ao consultar saldos:",{message:errorMessage,isNetworkError:error instanceof TypeError,type:null==error?void 0:error.name}),null}}();if(!(response&&response.success&&response.data))throw new Error((null==response?void 0:response.message)||"Erro ao carregar saldos");setBalances(response.data.balances)}catch(error){const errorMessage=error.message||"Erro ao carregar saldos";setBalancesError(errorMessage),toast2({title:"Erro",description:errorMessage,variant:"destructive"})}finally{setBalancesLoading(!1)}},[toast2]),getBalanceByCoin=reactExports.useCallback(coin=>balances.find(b2=>b2.coin===coin),[balances]),getTotalBalance=reactExports.useCallback(coin=>{const balance=getBalanceByCoin(coin);if(!balance)return 0;return(parseFloat(balance.free)||0)+(parseFloat(balance.locked)||0)},[getBalanceByCoin]);return{balances:balances,balancesLoading:balancesLoading,balancesError:balancesError,carregarSaldos:carregarSaldos,getBalanceByCoin:getBalanceByCoin,getTotalBalance:getTotalBalance}}const NETWORKS={USDT:[{value:"TRX",label:"TRX (Tron)"},{value:"MATIC",label:"MATIC (Polygon)"},{value:"ETH",label:"ETH (Ethereum)"}],BTC:[{value:"BTC",label:"BTC"}],ETH:[{value:"ETH",label:"ETH"}]},BinanceWithdrawalModal=({isOpen:isOpen,onClose:onClose,onConfirm:onConfirm,loading:loading=!1,balances:balances=[]})=>{const[coin,setCoin]=reactExports.useState("USDT"),[amount,setAmount]=reactExports.useState(""),[address,setAddress]=reactExports.useState(""),[network,setNetwork]=reactExports.useState("TRX"),[addressTag,setAddressTag]=reactExports.useState(""),networks=NETWORKS[coin]||[{value:"TRX",label:"TRX"}];reactExports.useEffect(()=>{var _a3;const defaultNetwork=(null==(_a3=networks[0])?void 0:_a3.value)||"TRX";setNetwork(defaultNetwork)},[coin]),reactExports.useEffect(()=>{isOpen||(setCoin("USDT"),setAmount(""),setAddress(""),setNetwork("TRX"),setAddressTag(""))},[isOpen]);const isValid2=amount&&address&&parseFloat(amount)>0;return jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[450px] max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(Wallet,{className:"w-4 h-4 text-orange-500"}),"Solicitar Saque"]}),jsxRuntimeExports.jsx(DialogDescription,{className:"text-sm",children:"Preencha os dados para solicitar um saque"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Moeda"}),jsxRuntimeExports.jsxs(Select,{value:coin,onValueChange:setCoin,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full bg-muted/50 h-10",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"USDT",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:"/usdt_logo.png",alt:"USDT",className:"w-6 h-6"}),"USDT"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"BTC",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:"/btc_logo.png",alt:"BTC",className:"w-6 h-6"}),"BTC"]})}),jsxRuntimeExports.jsx(SelectItem,{value:"ETH",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:"/eth_logo.png",alt:"ETH",className:"w-6 h-6"}),"ETH"]})})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Rede"}),jsxRuntimeExports.jsxs(Select,{value:network,onValueChange:setNetwork,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full bg-muted/50 h-10",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsx(SelectContent,{children:networks.map(net=>jsxRuntimeExports.jsx(SelectItem,{value:net.value,children:net.label},net.value))})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Endereço da Wallet"}),jsxRuntimeExports.jsx(Input,{type:"text",value:address,onChange:e3=>setAddress(e3.target.value),placeholder:"0x...",className:"bg-muted/50 font-mono text-sm h-10"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Valor"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{type:"text",value:amount,onChange:e3=>setAmount(e3.target.value),placeholder:"0.00",className:"bg-muted/50 text-sm pr-16 h-10"}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{const coinBalance=balances.find(b2=>b2.coin===coin);if(coinBalance&&parseFloat(coinBalance.free)>0){const maxAmount=parseFloat(coinBalance.free)-1e-4;setAmount(maxAmount>0?maxAmount.toFixed(8):"0")}else setAmount("0")},className:"absolute right-2 top-1/2 -translate-y-1/2 text-blue-500 hover:text-blue-600",children:"MAX"})]})]}),jsxRuntimeExports.jsx(Card,{className:"bg-muted/30 border-border/50",children:jsxRuntimeExports.jsxs(CardContent,{className:"pt-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Taxa de rede"}),jsxRuntimeExports.jsxs("span",{className:"font-medium",children:["0.0001 ",coin]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Você receberá"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-foreground",children:[amount&&parseFloat(amount)>0?(parseFloat(amount)-1e-4).toFixed(8):"0.0000"," ",coin]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 p-2 bg-red-500/10 border border-red-500/20 rounded-lg",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4 text-red-500 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-700 dark:text-red-400",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-0.5",children:"Atenção"}),jsxRuntimeExports.jsx("p",{children:"Saques são operações irreversíveis. Verifique cuidadosamente o endereço de destino antes de confirmar."})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:onClose,disabled:loading,children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>{amount&&address&&onConfirm({coin:coin,amount:amount,address:address,network:network,addressTag:addressTag||void 0})},disabled:loading||!isValid2,className:"bg-orange-600 hover:bg-orange-700",children:loading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Processando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ArrowDown,{className:"w-4 h-4 mr-2"}),"Solicitar Saque"]})})]})]})})},TradeConfirmationModal=({isOpen:isOpen,onClose:onClose,onConfirm:onConfirm,loading:loading=!1,quote:quote,selectedClient:selectedClient,operationType:operationType,binanceFee:binanceFee=.039})=>{const[isEditing,setIsEditing]=reactExports.useState(!1),[editedPrice,setEditedPrice]=reactExports.useState(""),[originalPrice,setOriginalPrice]=reactExports.useState(""),[notes,setNotes]=reactExports.useState(""),[hasBeenEdited,setHasBeenEdited]=reactExports.useState(!1);reactExports.useEffect(()=>{isOpen&&(setHasBeenEdited(!1),setIsEditing(!1),setNotes(`Cliente: ${(null==selectedClient?void 0:selectedClient.name)||""}`),setOriginalPrice(""),setEditedPrice(""))},[isOpen,quote,selectedClient]);const finalPrice=(()=>{if(!quote)return 0;const avgPrice=quote.averagePrice,clientFee=(null==selectedClient?void 0:selectedClient.fee)||0;if("buy"===operationType){const afterBinanceFee=avgPrice+avgPrice*(binanceFee/100);return afterBinanceFee+afterBinanceFee*clientFee}{const afterBinanceFee=avgPrice-avgPrice*(binanceFee/100);return afterBinanceFee-afterBinanceFee*clientFee}})();reactExports.useEffect(()=>{finalPrice>0&&isOpen&&(setOriginalPrice(finalPrice.toFixed(4)),setEditedPrice(finalPrice.toFixed(4)))},[finalPrice,isOpen]),reactExports.useEffect(()=>{hasBeenEdited||isEditing||setEditedPrice(finalPrice.toFixed(4))},[finalPrice,hasBeenEdited,isEditing]);return quote&&selectedClient?jsxRuntimeExports.jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:jsxRuntimeExports.jsxs(DialogContent,{className:"sm:max-w-[500px]",children:[jsxRuntimeExports.jsxs(DialogHeader,{children:[jsxRuntimeExports.jsxs(DialogTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-orange-500"}),"Confirmar Trade"]}),jsxRuntimeExports.jsx(DialogDescription,{className:"text-sm",children:"Revise os detalhes antes de executar o trade na Binance"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(Card,{className:"bg-muted/30 border-border/50",children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Cliente:"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:selectedClient.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Documento:"}),jsxRuntimeExports.jsx("span",{className:"font-mono",children:selectedClient.document})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Taxa do Cliente:"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold",children:[(100*(selectedClient.fee||0)).toFixed(2),"%"]})]})]})})}),jsxRuntimeExports.jsx(Card,{className:"bg-muted/30 border-border/50",children:jsxRuntimeExports.jsx(CardContent,{className:"pt-4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Operação:"}),jsxRuntimeExports.jsx("span",{className:"font-semibold "+("buy"===operationType?"text-blue-600":"text-orange-600"),children:"buy"===operationType?"COMPRA":"VENDA"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Quantidade Entrada:"}),jsxRuntimeExports.jsxs("span",{className:"font-mono",children:[quote.inputAmount.toFixed(4)," ",quote.inputCurrency]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Quantidade Saída:"}),jsxRuntimeExports.jsxs("span",{className:"font-mono",children:[quote.outputAmount.toFixed(4)," ",quote.outputCurrency]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Preço Médio Binance:"}),jsxRuntimeExports.jsxs("span",{className:"font-mono",children:["R$ ",quote.averagePrice.toFixed(4)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-muted-foreground",children:"Taxa Binance:"}),jsxRuntimeExports.jsxs("span",{className:"font-mono",children:[binanceFee,"%"]})]})]})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Preço Final (com taxas)"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{type:"text",value:editedPrice,onChange:e3=>setEditedPrice(e3.target.value),disabled:!isEditing,className:"bg-muted/50 text-lg font-semibold pr-16"}),isEditing?jsxRuntimeExports.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex gap-1",children:[jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{setIsEditing(!1),setEditedPrice(originalPrice),setHasBeenEdited(!1)},className:"h-7 w-7 p-0 hover:bg-red-500/10",children:jsxRuntimeExports.jsx(X$2,{className:"h-4 w-4 text-red-600"})}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{setIsEditing(!1),setHasBeenEdited(!0)},className:"h-7 w-7 p-0 hover:bg-green-500/10",children:jsxRuntimeExports.jsx(Check,{className:"h-4 w-4 text-green-600"})})]}):jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>setIsEditing(!0),className:"absolute right-2 top-1/2 -translate-y-1/2 h-7 w-7 p-0",children:jsxRuntimeExports.jsx(Pencil,{className:"h-4 w-4 text-blue-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"buy"===operationType?"Preço aplicado ao cliente (com taxas adicionadas)":"Preço aplicado ao cliente (com taxas descontadas)"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"notes",className:"text-sm font-medium text-foreground mb-2 block",children:"Descrição da Operação"}),jsxRuntimeExports.jsx(Textarea,{id:"notes",value:notes,onChange:e3=>setNotes(e3.target.value),placeholder:"Adicione detalhes adicionais...",className:"bg-muted/50 text-sm min-h-[80px]",rows:3}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Esta descrição será salva junto com os detalhes da transação"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-yellow-700 dark:text-yellow-400",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-0.5",children:"Atenção"}),jsxRuntimeExports.jsxs("p",{children:["O trade será executado na Binance com o preço médio (",quote.averagePrice.toFixed(4),"). O preço final editado será usado apenas para registro interno."]})]})]})]}),jsxRuntimeExports.jsxs(DialogFooter,{className:"gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:onClose,disabled:loading,children:"Cancelar"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>{const priceToUse=parseFloat(editedPrice);priceToUse>0&&onConfirm(priceToUse,notes)},disabled:loading||!editedPrice||parseFloat(editedPrice)<=0||!notes.trim(),className:"bg-green-600 hover:bg-green-700",children:loading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Executando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 mr-2"}),"Confirmar Trade"]})})]})]})}):null};const toastError=(title,description)=>ue$2.error(title,{description:description,style:{borderLeft:"4px solid rgb(239 68 68)",background:"rgba(239, 68, 68, 0.1)"},duration:5e3}),toastSuccess=(title,description)=>ue$2.success(title,{description:description,style:{borderLeft:"4px solid rgb(34 197 94)",background:"rgba(34, 197, 94, 0.1)"},duration:4e3}),OTCNegociar=()=>{var _a3;const{quote:quote,quoteLoading:quoteLoading,solicitarCotacao:solicitarCotacao,tradeLoading:tradeLoading,executarTrade:executarTrade,carregarOrdens:carregarOrdens,ordens:ordens,ordensLoading:ordensLoading,resetarEstado:resetarEstado}=useBinanceTrade(),{criarSaque:criarSaque,withdrawalLoading:withdrawalLoading,historicoSaques:historicoSaques,historicoSaquesLoading:historicoSaquesLoading,carregarHistoricoSaques:carregarHistoricoSaques}=useBinanceWithdrawal(),{balances:balances,balancesLoading:balancesLoading,carregarSaldos:carregarSaldos,getBalanceByCoin:getBalanceByCoin}=useBinanceBalances(),[operationType,setOperationType]=reactExports.useState("buy"),[selectedClient,setSelectedClient]=reactExports.useState(""),[selectedCurrency,setSelectedCurrency]=reactExports.useState("USDT/BRL"),{clients:clients,isLoading:clientsLoading}=useOTCClients({is_active:!0}),{client:selectedClientData}=function(id2){const{data:clientData,isLoading:isLoading,error:error,refetch:refetch}=useQuery({queryKey:["otc-client",id2],queryFn:()=>otcService.getClient(id2),enabled:!!id2,staleTime:3e4,cacheTime:3e5,onError:error2=>{ue$2.error("Erro ao carregar cliente OTC",{description:error2.message||"Falha na comunicação com o servidor"})}});return{client:(null==clientData?void 0:clientData.data)||null,isLoading:isLoading,error:error,refetch:refetch}}(selectedClient?parseInt(selectedClient):0),{createOperation:createOperation}=useOTCOperations(),{user:user}=useAuth(),[quantity,setQuantity]=reactExports.useState(""),[total,setTotal]=reactExports.useState(""),[searchQuery,setSearchQuery]=reactExports.useState(""),[countdown,setCountdown]=reactExports.useState(0),[editingNoteId,setEditingNoteId]=reactExports.useState(null),[notes,setNotes]=reactExports.useState({}),[savedTransactions,setSavedTransactions]=reactExports.useState({}),[currentPage,setCurrentPage]=reactExports.useState(1),[currentPageWithdrawals,setCurrentPageWithdrawals]=reactExports.useState(1),[activeTab,setActiveTab]=reactExports.useState("operations"),[showWithdrawalModal,setShowWithdrawalModal]=reactExports.useState(!1),[showConfirmationModal,setShowConfirmationModal]=reactExports.useState(!1),[clientPopoverOpen,setClientPopoverOpen]=reactExports.useState(!1),[binanceConfig,setBinanceConfig]=reactExports.useState(null),usdtBalance=getBalanceByCoin("USDT"),brlBalance=getBalanceByCoin("BRL"),availableBalanceUSDT=usdtBalance?`${parseFloat(usdtBalance.free).toLocaleString("pt-BR",{minimumFractionDigits:8,maximumFractionDigits:8})} USDT`:"0.00000000 USDT",availableBalance=brlBalance?`R$${parseFloat(brlBalance.free).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"R$0,00",carregarTransacoesSalvas=async()=>{const result=await async function(params){try{logger.debug("[BINANCE-TRANSACTIONS] Buscando transações...",params);const searchParams=new URLSearchParams;(null==params?void 0:params.otc_client_id)&&searchParams.append("otc_client_id",String(params.otc_client_id)),(null==params?void 0:params.transaction_type)&&searchParams.append("transaction_type",params.transaction_type),(null==params?void 0:params.transaction_status)&&searchParams.append("transaction_status",params.transaction_status),(null==params?void 0:params.page)&&searchParams.append("page",String(params.page)),(null==params?void 0:params.limit)&&searchParams.append("limit",String(params.limit));const url="/api/otc/binance/transactions"+(searchParams.toString()?`?${searchParams.toString()}`:""),response=await api.get(url);if(response.data.success)return logger.debug("[BINANCE-TRANSACTIONS] Transações obtidas:",response.data.data),response.data.data;throw new Error("Resposta inválida da API")}catch(error){return logger.error("[BINANCE-TRANSACTIONS] Erro ao buscar transações:",error),null}}({limit:1e3});if(result){const map2={};result.transactions.forEach(tx=>{tx.binance_transaction_id&&(map2[tx.binance_transaction_id]=tx)}),setSavedTransactions(map2)}},getMonthDateRange=()=>{const now2=new Date,firstDay=new Date(now2.getFullYear(),now2.getMonth(),1),lastDay=new Date(now2.getFullYear(),now2.getMonth()+1,0,23,59,59,999);return{startTime:firstDay.getTime(),endTime:lastDay.getTime()}};reactExports.useEffect(()=>{carregarSaldos(),carregarOrdens("USDTBRL",500),carregarTransacoesSalvas();const{startTime:startTime,endTime:endTime}=getMonthDateRange();carregarHistoricoSaques("USDT",void 0,startTime,endTime),async function(){try{logger.debug("[BINANCE-CONFIG] Buscando configurações...");const response=await api.get("/api/otc/binance/configs");if(response.data.success)return logger.debug("[BINANCE-CONFIG] Configurações obtidas:",response.data.data),response.data.data;throw new Error("Resposta inválida da API")}catch(error){return logger.error("[BINANCE-CONFIG] Erro ao buscar configurações:",error),[]}}().then(configs=>{configs.length>0&&setBinanceConfig({fee:100*configs[0].fee,id:configs[0].id})})},[carregarSaldos,carregarOrdens,carregarHistoricoSaques]),reactExports.useEffect(()=>{if(countdown>0){const timer=setTimeout(()=>{setCountdown(countdown-1)},1e3);return()=>clearTimeout(timer)}},[countdown]),reactExports.useEffect(()=>{if(quote&&5===countdown){const quantityValue=parseFloat(quantity.replace(/[^0-9.-]+/g,"")),totalValue=parseFloat(total.replace(/[^0-9.-]+/g,""));quantityValue>0&&!totalValue?setTotal(quote.outputAmount.toFixed(4)):totalValue>0&&!quantityValue&&setQuantity(quote.outputAmount.toFixed(8))}},[quote,countdown]);const handleSaveNote=async(transactionId,noteValue)=>{setNotes(prev=>({...prev,[transactionId]:noteValue})),setEditingNoteId(null);const transaction=converterOrdens().find(t3=>t3.id===transactionId);let result=null;(null==transaction?void 0:transaction.savedTransactionId)?result=await async function(transactionId,notes){try{logger.debug("[BINANCE-TRANSACTION] Atualizando anotação por ID interno...",{transactionId:transactionId,notes:notes});const response=await api.patch(`/api/otc/binance/transactions/${transactionId}/notes`,{transaction_notes:notes});if(response.data.success)return logger.debug("[BINANCE-TRANSACTION] Anotação atualizada:",response.data.data),response.data.data;throw new Error(response.data.message||"Erro ao atualizar anotação")}catch(error){return logger.error("[BINANCE-TRANSACTION] Erro ao atualizar anotação:",error),null}}(transaction.savedTransactionId,noteValue):(null==transaction?void 0:transaction.orderId)&&(result=await async function(binanceTransactionId,notes){try{logger.debug("[BINANCE-TRANSACTION] Atualizando anotação por binance_transaction_id...",{binanceTransactionId:binanceTransactionId,notes:notes});const response=await api.patch("/api/otc/binance/transactions/0/notes",{binance_transaction_id:binanceTransactionId,transaction_notes:notes});if(response.data.success)return logger.debug("[BINANCE-TRANSACTION] Anotação atualizada:",response.data.data),response.data.data;throw new Error(response.data.message||"Erro ao atualizar anotação")}catch(error){return logger.error("[BINANCE-TRANSACTION] Erro ao atualizar anotação:",error),null}}(transaction.orderId.toString(),noteValue)),result?(toastSuccess("Anotação atualizada","A anotação foi salva no banco de dados"),await carregarTransacoesSalvas()):toastError("Erro ao salvar","Não foi possível salvar a anotação no banco de dados")},getSymbolFromCurrency=currency=>({"USDT/BRL":"USDTBRL","BTC/BRL":"BTCBRL","ETH/BRL":"ETHBRL"}[currency]||"USDTBRL"),formatDate=timestamp=>{try{return new Date(timestamp).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return timestamp}},converterOrdens=()=>ordens.map(item=>{const price=item.averagePrice||0,qty=item.executedQuantity||0,tot=item.total||0,timestamp=item.orderTime||item.updateTime,binanceOrderId=item.orderId.toString(),savedTx=savedTransactions[binanceOrderId],noteFromDb=(null==savedTx?void 0:savedTx.transaction_notes)||"",noteFromLocal=notes[`O${item.orderId}`]||"",finalNote=noteFromDb||noteFromLocal;let transactionStatus="Executada";return"NEW"===item.status||"PARTIALLY_FILLED"===item.status?transactionStatus="Pendente":"CANCELED"!==item.status&&"REJECTED"!==item.status&&"EXPIRED"!==item.status||(transactionStatus="Cancelada"),{id:`O${item.orderId}`,type:"BUY"===item.side?"Compra":"Venda",currency:item.symbol.replace("BRL","").replace("USDT","USDT"),quote:price,quantity:qty,total:tot,date:formatDate(timestamp),timestamp:timestamp,status:transactionStatus,note:finalNote,orderId:item.orderId,savedTransactionId:null==savedTx?void 0:savedTx.id}}).sort((a2,b2)=>{const timestampA=new Date(a2.timestamp||0).getTime();return new Date(b2.timestamp||0).getTime()-timestampA}),getWithdrawalStatusBadge=status=>{const statusInfo={Success:{className:"bg-green-500/10 text-green-500 hover:bg-green-500/20",label:"Sucesso"},Completed:{className:"bg-green-500/10 text-green-500 hover:bg-green-500/20",label:"Completo"},Pending:{className:"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20",label:"Pendente"},Processing:{className:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20",label:"Processando"},Cancelled:{className:"bg-gray-500/10 text-gray-500 hover:bg-gray-500/20",label:"Cancelado"},Failure:{className:"bg-red-500/10 text-red-500 hover:bg-red-500/20",label:"Falhou"},Rejected:{className:"bg-red-500/10 text-red-500 hover:bg-red-500/20",label:"Rejeitado"}}[status]||{className:"bg-gray-500/10 text-gray-500",label:status};return jsxRuntimeExports.jsx(Badge,{className:statusInfo.className,variant:"outline",children:statusInfo.label})},filteredTransactions=converterOrdens().filter(t3=>t3.id.toLowerCase().includes(searchQuery.toLowerCase())||t3.type.toLowerCase().includes(searchQuery.toLowerCase())),totalPages=Math.ceil(filteredTransactions.length/10),startIndex=10*(currentPage-1),endIndex=startIndex+10,paginatedTransactions=filteredTransactions.slice(startIndex,endIndex),filteredWithdrawals=historicoSaques.filter(s2=>s2.coin.toLowerCase().includes(searchQuery.toLowerCase())||s2.address.toLowerCase().includes(searchQuery.toLowerCase())),totalPagesWithdrawals=Math.ceil(filteredWithdrawals.length/10),startIndexWithdrawals=10*(currentPageWithdrawals-1),endIndexWithdrawals=startIndexWithdrawals+10,paginatedWithdrawals=filteredWithdrawals.slice(startIndexWithdrawals,endIndexWithdrawals);return reactExports.useEffect(()=>{setCurrentPage(1),setCurrentPageWithdrawals(1)},[searchQuery,activeTab]),jsxRuntimeExports.jsxs("div",{className:"p-4 sm:p-6 space-y-4 bg-gradient-to-br from-background via-background to-muted/20 min-h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-5 h-5 text-white"})}),"OTC Trading"]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"relative flex h-2 w-2",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),"Binance Connected • ",(new Date).toLocaleTimeString("pt-BR")]})]}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>{carregarSaldos(),carregarOrdens("USDTBRL",500),carregarTransacoesSalvas()},className:"gap-2 h-8 text-xs",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-3 h-3"}),"Atualizar"]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-xl transition-all duration-300 border-2",children:[jsxRuntimeExports.jsx(CardHeader,{className:"pb-2",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-xs text-muted-foreground font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Wallet,{className:"w-3 h-3"}),"Saldo Total Disponível"]})}),jsxRuntimeExports.jsx(CardContent,{children:balancesLoading?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin text-primary"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"Carregando saldos..."})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-end gap-2",children:jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-foreground",children:availableBalance})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2 p-2 bg-muted/50 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-xs font-mono text-muted-foreground",children:availableBalanceUSDT})})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-xl transition-all duration-300 flex-1 flex flex-col border-2",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-base font-semibold flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowUpDown,{className:"w-4 h-4 text-primary"}),"Nova Operação"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"pt-4 flex-1 flex flex-col gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-semibold text-foreground mb-2 block flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),"Cliente OTC"]}),jsxRuntimeExports.jsxs(Popover,{open:clientPopoverOpen,onOpenChange:setClientPopoverOpen,children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsxs(Button$1,{variant:"outline",role:"combobox",className:"w-full justify-between bg-muted/80 h-10 border-2 hover:border-primary/50 transition-colors",children:[selectedClient&&(null==(_a3=clients.find(client2=>client2.id.toString()===selectedClient))?void 0:_a3.name)||"Selecione um cliente...",jsxRuntimeExports.jsx("svg",{className:"ml-2 h-4 w-4 shrink-0 opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:jsxRuntimeExports.jsx("path",{d:"m6 9 6 6 6-6"})})]})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:jsxRuntimeExports.jsxs(Command,{children:[jsxRuntimeExports.jsx(CommandInput,{placeholder:"Buscar cliente..."}),jsxRuntimeExports.jsx(CommandList,{children:clientsLoading?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center p-4",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin text-muted-foreground"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CommandEmpty,{children:"Nenhum cliente encontrado."}),jsxRuntimeExports.jsx(CommandGroup,{children:clients.map(client2=>jsxRuntimeExports.jsxs(CommandItem,{value:`${client2.name} ${client2.document}`,onSelect:()=>{setSelectedClient(client2.id.toString()===selectedClient?"":client2.id.toString()),setClientPopoverOpen(!1)},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm",children:client2.name}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",client2.document,")"]})]}),selectedClient===client2.id.toString()&&jsxRuntimeExports.jsx("svg",{className:"ml-auto h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:jsxRuntimeExports.jsx("polyline",{points:"20 6 9 17 4 12"})})]},client2.id))})]})})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-semibold text-foreground mb-2 block flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),"Par de Negociação"]}),jsxRuntimeExports.jsxs(Select,{value:selectedCurrency,onValueChange:setSelectedCurrency,children:[jsxRuntimeExports.jsx(SelectTrigger,{className:"w-full bg-muted/80 h-10 border-2 hover:border-primary/50 transition-colors",children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"USDT/BRL",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:"/usdt_logo.png",alt:"USDT",className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm",children:"USDT/BRL"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"BTC/BRL",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:"/btc_logo.png",alt:"BTC",className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm",children:"BTC/BRL"})]})}),jsxRuntimeExports.jsx(SelectItem,{value:"ETH/BRL",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:"/eth_logo.png",alt:"ETH",className:"w-6 h-6"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-sm",children:"ETH/BRL"})]})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3 flex-1",children:[jsxRuntimeExports.jsx(Button$1,{size:"lg",className:"h-10 text-sm font-bold transition-all duration-300 "+("buy"===operationType?"bg-blue-600 hover:bg-blue-700 text-white":"bg-muted hover:bg-muted/80 text-muted-foreground"),onClick:()=>setOperationType("buy"),children:"↑ Comprar"}),jsxRuntimeExports.jsx(Button$1,{size:"lg",className:"h-10 text-sm font-bold transition-all duration-300 "+("sell"===operationType?"bg-orange-600 hover:bg-orange-700 text-white":"bg-muted hover:bg-muted/80 text-muted-foreground"),onClick:()=>setOperationType("sell"),children:"↓ Vender"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-semibold text-foreground mb-2 block flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),"Quantidade (USDT)"]}),jsxRuntimeExports.jsx(Input,{type:"text",value:quantity,onChange:e3=>(value=>{const numericValue=value.replace(/[^0-9.]/g,"");setQuantity(numericValue),numericValue&&setTotal("")})(e3.target.value),className:"bg-muted/80 text-base h-10 border-2 border-transparent hover:border-primary/30 focus:border-primary transition-colors font-semibold",placeholder:"0.0000"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-xs font-semibold text-foreground mb-2 block flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary"}),"Total (BRL)"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Input,{type:"text",value:total,onChange:e3=>(value=>{const numericValue=value.replace(/[^0-9.]/g,"");setTotal(numericValue),numericValue&&setQuantity("")})(e3.target.value),className:"bg-muted/80 text-base h-10 pr-14 border-2 border-transparent hover:border-primary/30 focus:border-primary transition-colors font-semibold",placeholder:"0.0000"}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",onClick:()=>{if(brlBalance){const maxBRL=parseFloat(brlBalance.free);!isNaN(maxBRL)&&maxBRL>0&&(setTotal(maxBRL.toFixed(4)),setQuantity(""))}},className:"absolute right-2 top-1/2 -translate-y-1/2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-950 h-7 px-2 text-xs font-bold",children:"MAX"})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx(Button$1,{size:"lg",className:"w-full bg-primary hover:bg-primary/90 text-sm font-bold h-10",onClick:async()=>{const symbol=getSymbolFromCurrency(selectedCurrency),side="buy"===operationType?"BUY":"SELL",quantityValue=parseFloat(quantity.replace(/[^0-9.-]+/g,"")),totalValue=parseFloat(total.replace(/[^0-9.-]+/g,""));if(quantityValue>0)await solicitarCotacao(quantityValue,"USDT",symbol,side);else{if(!(totalValue>0))return void toastError("Valor inválido","Por favor, informe um valor válido em USDT ou BRL");await solicitarCotacao(totalValue,"BRL",symbol,side)}setCountdown(10)},disabled:quoteLoading,children:quoteLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 mr-2 animate-spin"}),"Calculando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Zap,{className:"w-3 h-3 mr-2"}),"Solicitar Cotação"]})})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-xl transition-all duration-300 sticky top-6 border-2",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsx(CardTitle,{className:"text-base font-bold flex items-center justify-between text-foreground",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),"Cotação para ","buy"===operationType?"Comprar":"Vender"]})})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-4",children:quote?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-center space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"px-5 rounded-xl mt-3",children:jsxRuntimeExports.jsxs("p",{className:"text-[32px] font-medium text-foreground",children:["R$ ",quote.averagePrice.toFixed(4)]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 text-left",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Entrada"}),jsxRuntimeExports.jsxs("p",{className:"font-mono text-sm font-medium",children:[quote.inputAmount.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})," ",quote.inputCurrency]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Saída"}),jsxRuntimeExports.jsxs("p",{className:"font-mono text-sm font-medium",children:[quote.outputAmount.toLocaleString("pt-BR",{minimumFractionDigits:4,maximumFractionDigits:4})," ",quote.outputCurrency]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordens Usadas"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-sm font-medium",children:quote.ordersUsed})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"Orderbook Depth"}),jsxRuntimeExports.jsx("p",{className:"font-mono text-sm font-medium",children:quote.orderBookDepth})]})]})]}),countdown>0?jsxRuntimeExports.jsx(Button$1,{className:"w-full bg-blue-600 hover:bg-blue-700 text-sm font-bold h-10 text-white",onClick:async()=>{quote?selectedClient?setShowConfirmationModal(!0):toastError("Cliente não selecionado","Por favor, selecione um cliente antes de executar o trade"):toastError("Cotação não encontrada","Por favor, solicite uma cotação primeiro")},disabled:tradeLoading,children:tradeLoading?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 mr-2 animate-spin"}),"Executando..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Zap,{className:"w-3 h-3 mr-2"}),"Executar Trade (",countdown,"s)"]})}):jsxRuntimeExports.jsx(Button$1,{variant:"outline",className:"w-full",onClick:()=>{setCountdown(0),setQuantity(""),setTotal(""),resetarEstado()},children:"Solicitar Nova Cotação"})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-6",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 mx-auto rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-3",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),jsxRuntimeExports.jsx("p",{className:"text-foreground font-semibold text-sm",children:"Nenhuma cotação disponível"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:'Clique em "Solicitar cotação" para obter uma cotação'})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-xl transition-all duration-300 border-2",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b",children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-base font-bold flex items-center justify-between text-foreground",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Wallet,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),"Saque para Wallets"]}),jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center",children:jsxRuntimeExports.jsx("span",{className:"text-orange-600 dark:text-orange-400 text-xs font-bold",children:"₿"})})]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3 pt-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center py-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 mx-auto rounded-full bg-orange-100 dark:bg-orange-900/30 flex items-center justify-center mb-3",children:jsxRuntimeExports.jsx(Wallet,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-foreground text-sm",children:"Transferências para Wallets"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Suporte para USDT, BTC e ETH"})]}),jsxRuntimeExports.jsxs(Button$1,{size:"lg",className:"w-full bg-orange-600 hover:bg-orange-700 text-xs font-bold h-10 text-white disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{selectedClient?setShowWithdrawalModal(!0):toastError("Cliente não selecionado","Por favor, selecione um cliente antes de realizar o saque")},disabled:!selectedClient,children:[jsxRuntimeExports.jsx(Wallet,{className:"w-3 h-3 mr-2"}),selectedClient?"Solicitar Saque":"Selecione um Cliente"]})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"hover:shadow-xl transition-all duration-300 border-2",children:[jsxRuntimeExports.jsx(CardHeader,{className:"border-b bg-gradient-to-r from-muted/50 to-transparent",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[jsxRuntimeExports.jsxs(CardTitle,{className:"text-xl font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"p-1.5 rounded-lg bg-primary/10",children:jsxRuntimeExports.jsx(TrendingUp,{className:"w-4 h-4 text-primary"})}),"Histórico de Operações"]}),jsxRuntimeExports.jsxs("div",{className:"relative w-full sm:w-56",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3 w-3 text-muted-foreground"}),jsxRuntimeExports.jsx(Input,{placeholder:"Pesquisar transações...",value:searchQuery,onChange:e3=>setSearchQuery(e3.target.value),className:"pl-7 bg-muted/80 border-2 hover:border-primary/30 focus:border-primary transition-colors text-sm h-9"})]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0 overflow-hidden",children:jsxRuntimeExports.jsxs(Tabs,{value:activeTab,onValueChange:v2=>setActiveTab(v2),className:"w-full",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-[calc(100%-3rem)] grid-cols-2 mx-6 mt-4",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"operations",className:"truncate",children:"Operações"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"withdrawals",className:"truncate",children:"Saques USDT"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"operations",className:"mt-0",children:ordensLoading?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12 px-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):0===filteredTransactions.length?jsxRuntimeExports.jsx("div",{className:"text-center py-12 px-6 text-muted-foreground",children:jsxRuntimeExports.jsx("p",{children:"Nenhuma transação encontrada"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"h-8",children:[jsxRuntimeExports.jsx(TableHead,{className:"w-16 text-xs px-4",children:"ID"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Tipo"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Moeda"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-xs px-4",children:"Cotação"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-xs px-4",children:"Quantidade"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-xs px-4",children:"Total"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Data"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center text-xs w-48 px-4",children:"Anotação"})]})}),jsxRuntimeExports.jsx(TableBody,{children:paginatedTransactions.map(transaction=>{return jsxRuntimeExports.jsxs(TableRow,{className:"hover:bg-muted/50 h-8",children:[jsxRuntimeExports.jsxs(TableCell,{className:"font-medium text-primary text-xs px-4",children:["#",transaction.id]}),jsxRuntimeExports.jsx(TableCell,{className:"px-4",children:jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-[10px] "+("Compra"===transaction.type?"bg-blue-500/10 text-blue-500 border-blue-500/20":"bg-orange-500/10 text-orange-500 border-orange-500/20"),children:transaction.type})}),jsxRuntimeExports.jsx(TableCell,{className:"font-medium text-xs px-4",children:transaction.currency}),jsxRuntimeExports.jsxs(TableCell,{className:"text-right font-mono text-xs px-4",children:["R$",transaction.quote.toFixed(4)]}),jsxRuntimeExports.jsx(TableCell,{className:"text-right font-mono text-[10px] px-4",children:transaction.quantity.toLocaleString("pt-BR",{minimumFractionDigits:8,maximumFractionDigits:8})}),jsxRuntimeExports.jsxs(TableCell,{className:"text-right font-semibold text-xs px-4",children:["R$",transaction.total.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs text-muted-foreground whitespace-nowrap px-4",children:transaction.date}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs px-4",children:(status=transaction.status,jsxRuntimeExports.jsx(Badge,{className:{Executada:"bg-green-500/10 text-green-500 hover:bg-green-500/20",Pendente:"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20",Cancelada:"bg-red-500/10 text-red-500 hover:bg-red-500/20"}[status],variant:"outline",children:status}))}),jsxRuntimeExports.jsx(TableCell,{className:"text-center w-48",children:editingNoteId===transaction.id?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx(Input,{type:"text",defaultValue:transaction.note,className:"h-7 text-xs w-full",autoFocus:!0,onKeyDown:e3=>{"Enter"===e3.key?handleSaveNote(transaction.id,e3.currentTarget.value):"Escape"===e3.key&&setEditingNoteId(null)}}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 flex-shrink-0",onClick:e3=>{var _a4;const input=null==(_a4=e3.currentTarget.parentElement)?void 0:_a4.querySelector("input");input&&handleSaveNote(transaction.id,input.value)},children:jsxRuntimeExports.jsx(Save,{className:"h-3 w-3"})})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-1",children:[transaction.note?jsxRuntimeExports.jsx("span",{className:"text-xs font-medium truncate max-w-[180px]",children:transaction.note}):jsxRuntimeExports.jsx("span",{className:"text-muted-foreground text-xs",children:"-"}),jsxRuntimeExports.jsx(Button$1,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 flex-shrink-0",onClick:()=>setEditingNoteId(transaction.id),children:jsxRuntimeExports.jsx(SquarePen,{className:"h-2.5 w-2.5"})})]})})]},transaction.id);var status})})]})}),totalPages>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",startIndex+1," - ",Math.min(endIndex,filteredTransactions.length)," de ",filteredTransactions.length," transações"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setCurrentPage(prev=>Math.max(1,prev-1)),disabled:1===currentPage,className:"h-8",children:"Anterior"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:totalPages},(_2,i2)=>i2+1).map(page=>1===page||page===totalPages||page>=currentPage-1&&page<=currentPage+1?jsxRuntimeExports.jsx(Button$1,{variant:currentPage===page?"default":"outline",size:"sm",onClick:()=>setCurrentPage(page),className:"h-8 w-8 p-0",children:page},page):page===currentPage-2||page===currentPage+2?jsxRuntimeExports.jsx("span",{className:"px-2 text-sm text-muted-foreground",children:"..."},page):null)}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setCurrentPage(prev=>Math.min(totalPages,prev+1)),disabled:currentPage===totalPages,className:"h-8",children:"Próxima"})]})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"withdrawals",className:"mt-0",children:historicoSaquesLoading?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12 px-6",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):0===filteredWithdrawals.length?jsxRuntimeExports.jsx("div",{className:"text-center py-12 px-6 text-muted-foreground",children:jsxRuntimeExports.jsx("p",{children:"Nenhum saque encontrado"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{className:"h-8",children:[jsxRuntimeExports.jsx(TableHead,{className:"w-20 text-xs px-4",children:"ID"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Moeda"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-xs px-4",children:"Quantidade"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right text-xs px-4",children:"Taxa"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Endereço"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Rede"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{className:"text-xs px-4",children:"Data"})]})}),jsxRuntimeExports.jsx(TableBody,{children:paginatedWithdrawals.map(saque=>{const blockchainLink=((network,txId)=>{if(!txId)return null;const baseUrl={TRX:"https://tronscan.org/#/transaction/",TRC20:"https://tronscan.org/#/transaction/",BSC:"https://bscscan.com/tx/",BEP20:"https://bscscan.com/tx/",ETH:"https://etherscan.io/tx/",ERC20:"https://etherscan.io/tx/",MATIC:"https://polygonscan.com/tx/",POLYGON:"https://polygonscan.com/tx/",ARBITRUM:"https://arbiscan.io/tx/",OPTIMISM:"https://optimistic.etherscan.io/tx/",AVAX:"https://snowtrace.io/tx/",AVAXC:"https://snowtrace.io/tx/",AllMainnet:"https://etherscan.io/tx/"}[network.toUpperCase()];return baseUrl?`${baseUrl}${txId}`:null})(saque.network,saque.txId);return jsxRuntimeExports.jsxs(TableRow,{className:"hover:bg-muted/50 h-8",children:[jsxRuntimeExports.jsx(TableCell,{className:"font-medium text-primary text-xs px-4",children:blockchainLink?jsxRuntimeExports.jsxs("a",{href:blockchainLink,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:underline text-primary hover:text-primary/80 transition-colors",children:["#",saque.withdrawId||saque.id,jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3"})]}):`#${saque.withdrawId||saque.id}`}),jsxRuntimeExports.jsx(TableCell,{className:"px-4",children:jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20 text-[10px]",children:saque.coin})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right font-mono text-xs px-4",children:saque.amount.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right font-mono text-xs px-4",children:saque.transactionFee}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs px-4 font-mono max-w-[150px] truncate",children:saque.address}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs px-4",children:jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-[10px]",children:saque.network})}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs px-4",children:getWithdrawalStatusBadge(saque.status)}),jsxRuntimeExports.jsx(TableCell,{className:"text-xs text-muted-foreground whitespace-nowrap px-4",children:formatDate(saque.applyTime||saque.timestamp||"")})]},saque.withdrawId||saque.id)})})]})}),totalPagesWithdrawals>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Mostrando ",startIndexWithdrawals+1," - ",Math.min(endIndexWithdrawals,filteredWithdrawals.length)," de ",filteredWithdrawals.length," saques"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setCurrentPageWithdrawals(prev=>Math.max(1,prev-1)),disabled:1===currentPageWithdrawals,className:"h-8",children:"Anterior"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:totalPagesWithdrawals},(_2,i2)=>i2+1).map(page=>1===page||page===totalPagesWithdrawals||page>=currentPageWithdrawals-1&&page<=currentPageWithdrawals+1?jsxRuntimeExports.jsx(Button$1,{variant:currentPageWithdrawals===page?"default":"outline",size:"sm",onClick:()=>setCurrentPageWithdrawals(page),className:"h-8 w-8 p-0",children:page},page):page===currentPageWithdrawals-2||page===currentPageWithdrawals+2?jsxRuntimeExports.jsx("span",{className:"px-2 text-sm text-muted-foreground",children:"..."},page):null)}),jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",onClick:()=>setCurrentPageWithdrawals(prev=>Math.min(totalPagesWithdrawals,prev+1)),disabled:currentPageWithdrawals===totalPagesWithdrawals,className:"h-8",children:"Próxima"})]})]})]})})]})})]}),jsxRuntimeExports.jsx(BinanceWithdrawalModal,{isOpen:showWithdrawalModal,onClose:()=>setShowWithdrawalModal(!1),onConfirm:async data=>{if(!selectedClient)return void toastError("Cliente não selecionado","Por favor, selecione um cliente antes de realizar o saque");if(!(null==user?void 0:user.email))return void toastError("Usuário não identificado","Não foi possível identificar o usuário logado");const response=await criarSaque(data.coin,data.amount,data.address,data.network,data.addressTag);if(response&&response.data){setShowWithdrawalModal(!1);try{const withdrawId=response.data.withdrawId||"N/A",description=`Operação Automática USDT por ${user.email}: SAQUE - Binance ID: ${withdrawId}`,debitOperation={otc_client_id:parseInt(selectedClient),operation_type:"debit",currency:"USD",amount:parseFloat(data.amount),description:description};await createOperation(debitOperation);const{startTime:startTime,endTime:endTime}=getMonthDateRange();await carregarHistoricoSaques("USDT",void 0,startTime,endTime)}catch(error){toastError("Aviso","Saque realizado mas não foi possível criar operação de débito USD")}}},loading:withdrawalLoading,balances:balances}),jsxRuntimeExports.jsx(TradeConfirmationModal,{isOpen:showConfirmationModal,onClose:()=>setShowConfirmationModal(!1),onConfirm:async(finalPrice,notes2)=>{if(!quote||!selectedClient||!binanceConfig)return;const symbol=getSymbolFromCurrency(selectedCurrency),response=await executarTrade(quote.inputAmount,quote.inputCurrency,quote.side,void 0,symbol);if(response&&response.data){setShowConfirmationModal(!1),toastSuccess("Trade executado com sucesso",`Ordem #${response.data.orderId} executada na Binance`);try{const avgPrice=quote.averagePrice,binanceFee=binanceConfig.fee/100,binanceFeeAmount=avgPrice*binanceFee,afterBinanceFee="buy"===operationType?avgPrice+binanceFeeAmount:avgPrice-binanceFeeAmount;let clientFeeAmount,clientFeePercentage;"buy"===operationType?(clientFeeAmount=finalPrice-afterBinanceFee,clientFeePercentage=afterBinanceFee>0?clientFeeAmount/afterBinanceFee:0):(clientFeeAmount=afterBinanceFee-finalPrice,clientFeePercentage=afterBinanceFee>0?clientFeeAmount/afterBinanceFee:0);const transactionData={id_binance_account:binanceConfig.id,otc_client_id:parseInt(selectedClient),binance_transaction_id:response.data.orderId.toString(),transaction_type:"buy"===operationType?"BUY":"SELL",binance_price_average_no_fees:avgPrice,binance_fee_percentage:binanceFee,binance_fee_amount:binanceFeeAmount,binance_price_average_with_fees:afterBinanceFee,client_fee_percentage_applied:clientFeePercentage,client_fee_amount_applied:clientFeeAmount,client_final_price:finalPrice,input_coin_id:"BRL"===quote.inputCurrency?7:3,input_coin_amount:quote.inputAmount,output_coin_id:"BRL"===quote.outputCurrency?7:3,output_coin_amount:quote.outputAmount,binance_transaction_date:(new Date).toISOString(),transaction_status:"COMPLETED",transaction_notes:notes2.trim()},savedTransaction=await async function(transactionData){try{logger.debug("[BINANCE-TRANSACTION] Criando transação...",transactionData);const response=await api.post("/api/otc/binance/transactions",transactionData);if(response.data.success)return logger.debug("[BINANCE-TRANSACTION] Transação criada:",response.data.data),response.data.data;throw new Error(response.data.message||"Erro ao criar transação")}catch(error){return logger.error("[BINANCE-TRANSACTION] Erro ao criar transação:",error),null}}(transactionData);if(savedTransaction)try{let brlValue,usdValue;usdValue="USDT"===quote.inputCurrency?quote.inputAmount:"USDT"===quote.outputCurrency?quote.outputAmount:quote.inputAmount,brlValue=usdValue*finalPrice;const conversionRate=finalPrice,conversionData={otc_client_id:parseInt(selectedClient),operation_type:"convert",brl_amount:brlValue,usd_amount:usdValue,conversion_rate:conversionRate,description:`Conversão via Binance - ${notes2.trim()}`};createOperation(conversionData)}catch(conversionError){toastError("Aviso","Transação Binance salva mas não foi possível criar operação de conversão")}}catch(error){toastError("Aviso","Trade executado mas não foi possível salvar os detalhes")}await carregarOrdens("USDTBRL",500),await carregarTransacoesSalvas(),setSelectedClient(""),setQuantity(""),setTotal("")}},loading:tradeLoading,quote:quote,selectedClient:selectedClientData||clients.find(c2=>c2.id.toString()===selectedClient)||null,operationType:operationType,binanceFee:(null==binanceConfig?void 0:binanceConfig.fee)||.039})]})};var[createAlertDialogContext,createAlertDialogScope]=createContextScope("AlertDialog",[createDialogScope]),useDialogScope=createDialogScope(),AlertDialog$1=props=>{const{__scopeAlertDialog:__scopeAlertDialog,...alertDialogProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Root$9,{...dialogScope,...alertDialogProps,modal:!0})};AlertDialog$1.displayName="AlertDialog";reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog:__scopeAlertDialog,...triggerProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Trigger$4,{...dialogScope,...triggerProps,ref:forwardedRef})}).displayName="AlertDialogTrigger";var AlertDialogPortal$1=props=>{const{__scopeAlertDialog:__scopeAlertDialog,...portalProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Portal$3,{...dialogScope,...portalProps})};AlertDialogPortal$1.displayName="AlertDialogPortal";var AlertDialogOverlay$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog:__scopeAlertDialog,...overlayProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Overlay,{...dialogScope,...overlayProps,ref:forwardedRef})});AlertDialogOverlay$1.displayName="AlertDialogOverlay";var CONTENT_NAME="AlertDialogContent",[AlertDialogContentProvider,useAlertDialogContentContext]=createAlertDialogContext(CONTENT_NAME),Slottable=createSlottable("AlertDialogContent"),AlertDialogContent$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog:__scopeAlertDialog,children:children,...contentProps}=props,dialogScope=useDialogScope(__scopeAlertDialog),contentRef=reactExports.useRef(null),composedRefs=useComposedRefs(forwardedRef,contentRef),cancelRef=reactExports.useRef(null);return jsxRuntimeExports.jsx(WarningProvider,{contentName:CONTENT_NAME,titleName:TITLE_NAME,docsSlug:"alert-dialog",children:jsxRuntimeExports.jsx(AlertDialogContentProvider,{scope:__scopeAlertDialog,cancelRef:cancelRef,children:jsxRuntimeExports.jsxs(Content$2,{role:"alertdialog",...dialogScope,...contentProps,ref:composedRefs,onOpenAutoFocus:composeEventHandlers(contentProps.onOpenAutoFocus,event=>{var _a3;event.preventDefault(),null==(_a3=cancelRef.current)||_a3.focus({preventScroll:!0})}),onPointerDownOutside:event=>event.preventDefault(),onInteractOutside:event=>event.preventDefault(),children:[jsxRuntimeExports.jsx(Slottable,{children:children}),jsxRuntimeExports.jsx(DescriptionWarning,{contentRef:contentRef})]})})})});AlertDialogContent$1.displayName=CONTENT_NAME;var TITLE_NAME="AlertDialogTitle",AlertDialogTitle$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog:__scopeAlertDialog,...titleProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Title$1,{...dialogScope,...titleProps,ref:forwardedRef})});AlertDialogTitle$1.displayName=TITLE_NAME;var AlertDialogDescription$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog:__scopeAlertDialog,...descriptionProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Description$1,{...dialogScope,...descriptionProps,ref:forwardedRef})});AlertDialogDescription$1.displayName="AlertDialogDescription";var AlertDialogAction$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog:__scopeAlertDialog,...actionProps}=props,dialogScope=useDialogScope(__scopeAlertDialog);return jsxRuntimeExports.jsx(Close$1,{...dialogScope,...actionProps,ref:forwardedRef})});AlertDialogAction$1.displayName="AlertDialogAction";var AlertDialogCancel$1=reactExports.forwardRef((props,forwardedRef)=>{const{__scopeAlertDialog:__scopeAlertDialog,...cancelProps}=props,{cancelRef:cancelRef}=useAlertDialogContentContext("AlertDialogCancel",__scopeAlertDialog),dialogScope=useDialogScope(__scopeAlertDialog),ref=useComposedRefs(forwardedRef,cancelRef);return jsxRuntimeExports.jsx(Close$1,{...dialogScope,...cancelProps,ref:ref})});AlertDialogCancel$1.displayName="AlertDialogCancel";var DescriptionWarning=({contentRef:contentRef})=>{const MESSAGE=`\`${CONTENT_NAME}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${CONTENT_NAME}\` by passing a \`AlertDialogDescription\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CONTENT_NAME}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return reactExports.useEffect(()=>{var _a3;document.getElementById(null==(_a3=contentRef.current)?void 0:_a3.getAttribute("aria-describedby"))},[MESSAGE,contentRef]),null},Overlay2=AlertDialogOverlay$1,Content2=AlertDialogContent$1,Action=AlertDialogAction$1,Cancel=AlertDialogCancel$1,Title2=AlertDialogTitle$1,Description2=AlertDialogDescription$1;const AlertDialog=AlertDialog$1,AlertDialogPortal=AlertDialogPortal$1,AlertDialogOverlay=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Overlay2,{className:cn("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props,ref:ref}));AlertDialogOverlay.displayName=Overlay2.displayName;const AlertDialogContent=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsxs(AlertDialogPortal,{children:[jsxRuntimeExports.jsx(AlertDialogOverlay,{}),jsxRuntimeExports.jsx(Content2,{ref:ref,className:cn("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",className),...props})]}));AlertDialogContent.displayName=Content2.displayName;const AlertDialogHeader=({className:className,...props})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col space-y-2 text-center sm:text-left",className),...props});AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=({className:className,...props})=>jsxRuntimeExports.jsx("div",{className:cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Title2,{ref:ref,className:cn("text-lg font-semibold",className),...props}));AlertDialogTitle.displayName=Title2.displayName;const AlertDialogDescription=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Description2,{ref:ref,className:cn("text-sm text-muted-foreground",className),...props}));AlertDialogDescription.displayName=Description2.displayName;const AlertDialogAction=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Action,{ref:ref,className:cn(buttonVariants(),className),...props}));AlertDialogAction.displayName=Action.displayName;const AlertDialogCancel=reactExports.forwardRef(({className:className,...props},ref)=>jsxRuntimeExports.jsx(Cancel,{ref:ref,className:cn(buttonVariants({variant:"outline"}),"mt-2 sm:mt-0",className),...props}));AlertDialogCancel.displayName=Cancel.displayName;const AdminClientStatement=()=>{var _a3,_b3,_c2;const{clientId:clientId}=useParams(),navigate=useNavigate(),[activeTab,setActiveTab]=reactExports.useState("transactions"),[filters,setFilters]=reactExports.useState({page:1,limit:1e4,dateFrom:"",dateTo:"",hideReversals:!1}),[showOnlyToday,setShowOnlyToday]=reactExports.useState(!1),[searchName,setSearchName]=reactExports.useState(""),[searchValue,setSearchValue]=reactExports.useState(""),[searchDate,setSearchDate]=reactExports.useState(""),[reversalModalOpen,setReversalModalOpen]=reactExports.useState(!1),[transactionToReverse,setTransactionToReverse]=reactExports.useState(null),[isReversing,setIsReversing]=reactExports.useState(!1),[reversalReason,setReversalReason]=reactExports.useState(""),[operationModalOpen,setOperationModalOpen]=reactExports.useState(!1),[exportingPDF,setExportingPDF]=reactExports.useState(!1),{statement:statement,isLoading:isLoading,error:error,refetch:refetch}=function(clientId,params={}){const{data:statementData,isLoading:isLoading,error:error,refetch:refetch}=useQuery({queryKey:["otc-statement",clientId,params],queryFn:async()=>await otcService.getClientStatement(clientId,params),enabled:!!clientId,staleTime:3e4,gcTime:3e5,refetchOnWindowFocus:!0,retry:2}),defaultStatement={cliente:{id:clientId,name:"",document:"",pix_key:"",current_balance:0,usd_balance:0,last_conversion_rate:0,last_updated:(new Date).toISOString()},transacoes:[],historico_saldo:[],paginacao:{page:1,limit:50,total:0,total_pages:0}};return{statement:(null==statementData?void 0:statementData.data)||defaultStatement,isLoading:isLoading,error:error,refetch:refetch}}(clientId?parseInt(clientId):0,filters);reactExports.useEffect(()=>{setShowOnlyToday(!1),setSearchName(""),setSearchValue(""),setSearchDate("")},[clientId]);const updateFilters=newFilters=>{const updatedFilters={...filters,...newFilters,page:newFilters.page||1,hideReversals:void 0!==newFilters.hideReversals?newFilters.hideReversals:filters.hideReversals};newFilters.dateFrom||newFilters.dateTo,setFilters(updatedFilters)},convertDateToISO=(dateString,isEndDate=!1)=>{if(!dateString)return"";try{const[year,month,day]=dateString.split("-");if(isEndDate){const fimData=new Date(parseInt(year),parseInt(month)-1,parseInt(day),23,59,59);return fimData.toISOString()}{const inicioData=new Date(parseInt(year),parseInt(month)-1,parseInt(day));return inicioData.toISOString()}}catch(error2){return""}},convertISOToLocalDate=isoString=>{if(!isoString)return"";try{const date2=new Date(isoString),localDate2=new Date(date2.getTime()-6e4*date2.getTimezoneOffset()),year=localDate2.getUTCFullYear(),month=String(localDate2.getUTCMonth()+1).padStart(2,"0"),day=String(localDate2.getUTCDate()).padStart(2,"0");return`${year}-${month}-${day}`}catch(error2){return""}};reactExports.useEffect(()=>{if(!clientId)return;let dateFilters={};if(showOnlyToday&&!searchDate.trim()){const hoje=new Date,inicioHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate()),fimHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate(),23,59,59);dateFilters.dateFrom=inicioHoje.toISOString(),dateFilters.dateTo=fimHoje.toISOString()}else if(searchDate.trim())try{const[day,month,year]=searchDate.split("/"),fullYear=2===year.length?`20${year}`:year,dataEspecifica=new Date(parseInt(fullYear),parseInt(month)-1,parseInt(day)),inicioData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate()),fimData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate(),23,59,59);dateFilters.dateFrom=inicioData.toISOString(),dateFilters.dateTo=fimData.toISOString()}catch(error2){dateFilters={}}dateFilters.dateFrom===filters.dateFrom&&dateFilters.dateTo===filters.dateTo||updateFilters(dateFilters)},[showOnlyToday,searchDate,clientId]),reactExports.useEffect(()=>{clientId&&(filters.dateFrom||filters.dateTo)&&!showOnlyToday&&searchDate.trim()},[filters.dateFrom,filters.dateTo,clientId,showOnlyToday,searchDate]);const filteredAndSortedTransactions=reactExports.useMemo(()=>{if(!(null==statement?void 0:statement.transacoes))return[];let filtered=[...statement.transacoes];if(searchName.trim()){const searchTerm=searchName.toLowerCase();filtered=filtered.filter(transaction=>{const payerName=(transaction.payer_name||"").toLowerCase(),payerDoc=(transaction.payer_document||"").toLowerCase(),notes=(transaction.notes||"").toLowerCase();return payerName.includes(searchTerm)||payerDoc.includes(searchTerm)||notes.includes(searchTerm)})}if(searchValue.trim()){const searchAmount=parseFloat(searchValue.replace(",","."));isNaN(searchAmount)||(filtered=filtered.filter(transaction=>Math.abs(transaction.amount)===Math.abs(searchAmount)))}return filtered.sort((a2,b2)=>{const getOrderingTimestamp=transaction=>{const isManualOperation=["manual_credit","manual_debit","manual_adjustment"].includes(transaction.type);if("string"==typeof transaction.date){const baseDate=new Date(transaction.date);return isManualOperation?baseDate.getTime():baseDate.getTime()+18e6}return new Date(transaction.date).getTime()},timestampA=getOrderingTimestamp(a2);return getOrderingTimestamp(b2)-timestampA}),filtered},[null==statement?void 0:statement.transacoes,searchName,searchValue]),filteredBalanceHistory=reactExports.useMemo(()=>{if(!(null==statement?void 0:statement.historico_saldo))return[];let filtered=[...statement.historico_saldo];if(searchName.trim()){const searchTerm=searchName.toLowerCase();filtered=filtered.filter(history=>(history.description||"").toLowerCase().includes(searchTerm))}return filtered},[null==statement?void 0:statement.historico_saldo,searchName]),openReversalModal=transaction=>{setTransactionToReverse(transaction);const autoReason=(transaction=>{var _a4,_b4;const operationType=(null==(_a4=transaction.manual_operation)?void 0:_a4.operation_type)||transaction.type,amount=transaction.amount,date2=formatTimestamp(transaction.date,"dd/MM/yyyy"),isUsdOperation=null==(_b4=transaction.notes)?void 0:_b4.toLowerCase().includes("usd");let operationLabel="";switch(operationType){case"credit":case"manual_credit":operationLabel=isUsdOperation?"crédito USD":"crédito BRL";break;case"debit":case"manual_debit":operationLabel=isUsdOperation?"débito USD":"débito BRL";break;case"manual_adjustment":operationLabel="ajuste manual";break;default:operationLabel=operationType}return`Estorno do ${operationLabel} de ${isUsdOperation&&0===amount?"conversão":`${otcService.formatCurrency(amount)}`} realizado em ${date2} - Transação #${transaction.id}`})(transaction);setReversalReason(autoReason),setReversalModalOpen(!0)},getUsdValueFromHistory=transactionId=>{if(!(null==statement?void 0:statement.historico_saldo))return null;const historyRecord=statement.historico_saldo.find(h2=>h2.transaction_id===transactionId&&0!==h2.usd_amount_change);return(null==historyRecord?void 0:historyRecord.usd_amount_change)||null},getBrlValueFromHistory=transactionId=>{if(!(null==statement?void 0:statement.historico_saldo))return null;const historyRecord=statement.historico_saldo.find(h2=>h2.transaction_id===transactionId&&0!==h2.amount_change);return(null==historyRecord?void 0:historyRecord.amount_change)||null},LoadingSkeleton=()=>jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Array.from({length:5}).map((_2,index)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center p-3 border rounded",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-32"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-3 w-24"})]}),jsxRuntimeExports.jsxs("div",{className:"text-right space-y-2",children:[jsxRuntimeExports.jsx(Skeleton$1,{className:"h-4 w-20"}),jsxRuntimeExports.jsx(Skeleton$1,{className:"h-3 w-16"})]})]},index))}),TransactionRow=({transaction:transaction})=>{var _a4,_b4,_c3,_d2;const isConversion=null==(_a4=transaction.notes)?void 0:_a4.includes("Conversão BRL→USD"),isConversionReversal=null==(_b4=transaction.notes)?void 0:_b4.includes("ESTORNO - Conversão USD→BRL"),isCredit=!isConversion&&!isConversionReversal&&("deposit"===transaction.type||"manual_credit"===transaction.type||"manual_adjustment"===transaction.type&&transaction.amount>0);return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[(type=>{switch(type){case"deposit":return jsxRuntimeExports.jsx(ArrowUpDown,{className:"w-4 h-4 text-green-600 rotate-180"});case"withdrawal":return jsxRuntimeExports.jsx(ArrowUpDown,{className:"w-4 h-4 text-red-600"});case"manual_credit":return jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-blue-600"});case"manual_debit":return jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-orange-600"});case"manual_adjustment":return jsxRuntimeExports.jsx(DollarSign,{className:"w-4 h-4 text-purple-600"});default:return jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 text-gray-600"})}})(transaction.type),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:(type=>{var _a5,_b5;switch(type){case"deposit":return"Depósito";case"withdrawal":return"Saque";case"manual_credit":return"Crédito Manual";case"manual_debit":return"Débito Manual";case"manual_adjustment":if(null==(_a5=transaction.notes)?void 0:_a5.includes("Conversão BRL→USD"))return"Conversão BRL→USD";if(null==(_b5=transaction.notes)?void 0:_b5.includes("ESTORNO - Conversão USD→BRL"))return"Estorno Conversão USD→BRL";const usdValue=getUsdValueFromHistory(transaction.id);return 0===transaction.amount&&null!==usdValue?usdValue>0?"Crédito USD":"Débito USD":transaction.amount>0?"Crédito Manual":"Débito Manual";default:return type}})(transaction.type)}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:["manual_credit","manual_debit","manual_adjustment"].includes(transaction.type)?formatTimestamp(transaction.date,"dd/MM/yy HH:mm"):formatOTCTimestamp(transaction.date,"dd/MM/yy HH:mm")})]})]})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:jsxRuntimeExports.jsx("div",{className:"space-y-1",children:(()=>{var _a5,_b5,_c4,_d3,_e3;const usdValue=getUsdValueFromHistory(transaction.id),isUsdOperation=(null==(_a5=transaction.notes)?void 0:_a5.toLowerCase().includes("usd"))||(null==(_b5=transaction.notes)?void 0:_b5.includes("Conversão BRL→USD"))||(null==(_c4=transaction.notes)?void 0:_c4.includes("ESTORNO - Conversão USD→BRL")),isConversion2=null==(_d3=transaction.notes)?void 0:_d3.includes("Conversão BRL→USD");if((null==(_e3=transaction.notes)?void 0:_e3.includes("ESTORNO - Conversão USD→BRL"))&&null!==usdValue){const brlValue=getBrlValueFromHistory(transaction.id);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-green-600 font-semibold",children:["+R$ ",Math.abs(brlValue||0).toFixed(2)]}),jsxRuntimeExports.jsxs("div",{className:"text-red-600 font-semibold",children:["-$ ",Math.abs(usdValue).toFixed(2)]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white",children:"Estorno USD→BRL"})]})}if(isConversion2&&null!==usdValue){const brlValue=getBrlValueFromHistory(transaction.id);return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"text-red-600 font-semibold",children:["-R$ ",Math.abs(brlValue||0).toFixed(2)]}),jsxRuntimeExports.jsxs("div",{className:"text-green-600 font-semibold",children:["+$ ",Math.abs(usdValue).toFixed(2)]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white",children:"Conversão BRL→USD"})]})}return isUsdOperation&&0===transaction.amount&&null!==usdValue?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold "+(usdValue>=0?"text-green-600":"text-red-600"),children:[usdValue>=0?"+":"","$ ",Math.abs(usdValue).toFixed(2)]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white",children:"USD"})]}):isUsdOperation&&0!==transaction.amount&&null!==usdValue?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold "+(isCredit?"text-green-600":"text-red-600"),children:[isCredit?"+":"-","R$ ",Math.abs(transaction.amount).toFixed(2)]}),jsxRuntimeExports.jsxs("div",{className:"text-xs font-medium "+(usdValue>=0?"text-green-600":"text-red-600"),children:[usdValue>=0?"+":"","$ ",Math.abs(usdValue).toFixed(2)]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white",children:"BRL + USD"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold "+(isCredit?"text-green-600":"text-red-600"),children:[isCredit?"+":"-","R$ ",Math.abs(transaction.amount).toFixed(2)]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white",children:"BRL"})]})})()})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:(()=>{var _a5,_b5,_c4,_d3,_e3,_f2;const historyRecord=null==(_a5=null==statement?void 0:statement.historico_saldo)?void 0:_a5.find(h2=>h2.transaction_id===transaction.id),usdValue=getUsdValueFromHistory(transaction.id),isUsdOperation=(null==(_b5=transaction.notes)?void 0:_b5.toLowerCase().includes("usd"))||(null==(_c4=transaction.notes)?void 0:_c4.includes("Conversão BRL→USD"))||(null==(_d3=transaction.notes)?void 0:_d3.includes("ESTORNO - Conversão USD→BRL"));return isUsdOperation&&0===transaction.amount&&null!==usdValue?jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-600",children:["$ ",(null==(_e3=null==historyRecord?void 0:historyRecord.usd_balance_before)?void 0:_e3.toFixed(2))||"0.00"]}):isUsdOperation&&null!==(null==historyRecord?void 0:historyRecord.usd_balance_before)?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:otcService.formatCurrency((null==historyRecord?void 0:historyRecord.balance_before)||0)}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-600",children:["$ ",(null==(_f2=null==historyRecord?void 0:historyRecord.usd_balance_before)?void 0:_f2.toFixed(2))||"0.00"]})]}):jsxRuntimeExports.jsx("div",{className:"text-sm",children:otcService.formatCurrency((null==historyRecord?void 0:historyRecord.balance_before)||0)})})()}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:(()=>{var _a5,_b5,_c4,_d3,_e3,_f2;const historyRecord=null==(_a5=null==statement?void 0:statement.historico_saldo)?void 0:_a5.find(h2=>h2.transaction_id===transaction.id),usdValue=getUsdValueFromHistory(transaction.id),isUsdOperation=(null==(_b5=transaction.notes)?void 0:_b5.toLowerCase().includes("usd"))||(null==(_c4=transaction.notes)?void 0:_c4.includes("Conversão BRL→USD"))||(null==(_d3=transaction.notes)?void 0:_d3.includes("ESTORNO - Conversão USD→BRL"));return isUsdOperation&&0===transaction.amount&&null!==usdValue?jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-600",children:["$ ",(null==(_e3=null==historyRecord?void 0:historyRecord.usd_balance_after)?void 0:_e3.toFixed(2))||"0.00"]}):isUsdOperation&&null!==(null==historyRecord?void 0:historyRecord.usd_balance_after)?jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:otcService.formatCurrency((null==historyRecord?void 0:historyRecord.balance_after)||0)}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-blue-600",children:["$ ",(null==(_f2=null==historyRecord?void 0:historyRecord.usd_balance_after)?void 0:_f2.toFixed(2))||"0.00"]})]}):jsxRuntimeExports.jsx("div",{className:"text-sm",children:otcService.formatCurrency((null==historyRecord?void 0:historyRecord.balance_after)||0)})})()}),jsxRuntimeExports.jsx(TableCell,{className:"text-center",children:(status=>{switch(status){case"processed":return jsxRuntimeExports.jsx(Badge,{className:"bg-green-100 text-green-800",children:"Processado"});case"pending":return jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Pendente"});case"failed":return jsxRuntimeExports.jsx(Badge,{variant:"destructive",children:"Falhou"});case"cancelled":return jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:"Cancelado"});default:return jsxRuntimeExports.jsx(Badge,{variant:"outline",children:status})}})(transaction.status)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"text-sm space-y-2",children:[transaction.payer_name&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("strong",{children:"Pagador:"})," ",transaction.payer_name]}),transaction.payer_document&&jsxRuntimeExports.jsx("div",{className:"text-muted-foreground",children:otcService.formatDocument(transaction.payer_document)}),transaction.notes&&jsxRuntimeExports.jsx("div",{className:"text-muted-foreground",children:transaction.notes}),["manual_credit","manual_debit","manual_adjustment"].includes(transaction.type)&&(null==(_c3=transaction.manual_operation)?void 0:_c3.id)&&!(null==(_d2=transaction.manual_operation)?void 0:_d2.is_reversed_or_reversal)&&jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsxs(Button$1,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{var _a5;(null==(_a5=transaction.manual_operation)?void 0:_a5.id)?openReversalModal(transaction):ue$2.error("Operação manual não encontrada para esta transação")},children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-3 h-3 mr-1"}),"Estornar"]})})]})})]},transaction.id)},BalanceHistoryRow=({history:history})=>{var _a4,_b4,_c3,_d2;const hasUsdChange=history.usd_amount_change&&0!==history.usd_amount_change,hasBrlChange=history.amount_change&&0!==history.amount_change,isUsdOnlyOperation=hasUsdChange&&!hasBrlChange;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Clock,{className:"w-4 h-4 text-gray-600"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"font-medium",children:[history.operation_type,isUsdOnlyOperation&&jsxRuntimeExports.jsx("span",{className:"text-blue-600 text-xs ml-2",children:"USD"})]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-muted-foreground",children:formatTimestamp(history.created_at,"dd/MM/yy HH:mm")})]})]})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:isUsdOnlyOperation?jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-500",children:["$ ",(null==(_a4=history.usd_balance_before)?void 0:_a4.toFixed(2))||"0.00"]}):jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["BRL: ",otcService.formatCurrency(history.balance_before)]}),hasUsdChange&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-500",children:["USD: $ ",(null==(_b4=history.usd_balance_before)?void 0:_b4.toFixed(2))||"0.00"]})]})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:isUsdOnlyOperation?jsxRuntimeExports.jsxs("div",{className:"font-semibold text-sm "+(history.usd_amount_change>=0?"text-green-600":"text-red-600"),children:[history.usd_amount_change>=0?"+":"","$ ",Math.abs(history.usd_amount_change).toFixed(2)]}):jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[hasBrlChange&&jsxRuntimeExports.jsxs("div",{className:"font-semibold text-sm "+(history.amount_change>=0?"text-green-600":"text-red-600"),children:[history.amount_change>=0?"+":"",otcService.formatCurrency(history.amount_change)," BRL"]}),hasUsdChange&&jsxRuntimeExports.jsxs("div",{className:"font-semibold text-sm "+(history.usd_amount_change>=0?"text-green-600":"text-red-600"),children:[history.usd_amount_change>=0?"+":"","$ ",Math.abs(history.usd_amount_change).toFixed(2)," USD"]})]})}),jsxRuntimeExports.jsx(TableCell,{className:"text-right",children:isUsdOnlyOperation?jsxRuntimeExports.jsxs("div",{className:"font-semibold text-sm text-blue-600",children:["$ ",(null==(_c3=history.usd_balance_after)?void 0:_c3.toFixed(2))||"0.0000"]}):jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-sm",children:["BRL: ",otcService.formatCurrency(history.balance_after)]}),hasUsdChange&&jsxRuntimeExports.jsxs("div",{className:"font-semibold text-sm text-blue-600",children:["USD: $ ",(null==(_d2=history.usd_balance_after)?void 0:_d2.toFixed(2))||"0.0000"]})]})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("div",{children:history.description}),jsxRuntimeExports.jsxs("div",{className:"text-muted-foreground",children:["por ",history.created_by]})]})})]},history.id)};return clientId?jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"ghost",size:"sm",onClick:()=>navigate("/otc"),children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 mr-2"}),"Voltar"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6"}),"Extrato Administrativo"]}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:["Histórico completo de transações e saldo de ",(null==(_a3=null==statement?void 0:statement.cliente)?void 0:_a3.name)||"Carregando..."]})]})]}),(null==statement?void 0:statement.cliente)&&jsxRuntimeExports.jsxs(Button$1,{onClick:()=>setOperationModalOpen(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Nova Operação"]})]}),(null==statement?void 0:statement.cliente)&&jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"}),"Informações do Cliente"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Nome"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium",children:statement.cliente.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Documento"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:otcService.formatDocument(statement.cliente.document)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Chave PIX"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-mono",children:statement.cliente.pix_key})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Saldo BRL"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold "+(statement.cliente.current_balance>=0?"text-green-600":"text-red-600"),children:otcService.formatCurrency(statement.cliente.current_balance)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm font-medium text-muted-foreground",children:"Saldo USD"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-semibold text-blue-600",children:["$ ",parseFloat(statement.cliente.usd_balance||0).toFixed(2)]}),statement.cliente.last_conversion_rate&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Taxa: ",parseFloat(statement.cliente.last_conversion_rate||0).toFixed(2)]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"w-4 h-4"}),"Filtros de Busca"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"showOnlyToday",checked:showOnlyToday,onCheckedChange:checked=>setShowOnlyToday(checked)}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"showOnlyToday",className:"text-sm font-medium cursor-pointer",children:"📅 Mostrar apenas transações de hoje"}),showOnlyToday&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",(new Date).toLocaleDateString("pt-BR"),")"]})]}),showOnlyToday&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:"Para ver outras datas, desmarque esta opção ou use o filtro de data abaixo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchName",children:"Buscar por nome"}),jsxRuntimeExports.jsx(Input,{id:"searchName",placeholder:"Nome ou documento do pagador",value:searchName,onChange:e3=>setSearchName(e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchValue",children:"Buscar por valor"}),jsxRuntimeExports.jsx(Input,{id:"searchValue",placeholder:"Ex: 100.50",value:searchValue,onChange:e3=>setSearchValue(e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchDate",children:"Buscar por data"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{id:"searchDate",placeholder:"Ex: 16/07/25",value:searchDate,onChange:e3=>setSearchDate(e3.target.value),className:"flex-1"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",className:"px-3",children:jsxRuntimeExports.jsx(CalendarDays,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:void 0,onSelect:date2=>{if(date2){const formattedDate=date2.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"});setSearchDate(formattedDate),setShowOnlyToday(!1)}},initialFocus:!0})})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"dateFrom",children:"Data Inicial"}),jsxRuntimeExports.jsx(Input,{id:"dateFrom",type:"date",value:convertISOToLocalDate(filters.dateFrom),onChange:e3=>(dateString=>{const isoDate=convertDateToISO(dateString,!1);updateFilters({dateFrom:isoDate})})(e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"dateTo",children:"Data Final"}),jsxRuntimeExports.jsx(Input,{id:"dateTo",type:"date",value:convertISOToLocalDate(filters.dateTo),onChange:e3=>(dateString=>{const isoDate=convertDateToISO(dateString,!0);updateFilters({dateTo:isoDate})})(e3.target.value)})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2 mt-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{setFilters({page:1,limit:1e4,dateFrom:"",dateTo:"",hideReversals:!1}),setShowOnlyToday(!1),setSearchName(""),setSearchValue(""),setSearchDate("")},disabled:isLoading,children:"Limpar Filtros"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>refetch(),disabled:isLoading,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2 "+(isLoading?"animate-spin":"")}),"Atualizar"]}),jsxRuntimeExports.jsxs(Button$1,{className:"bg-blue-600 hover:bg-blue-700 text-white",disabled:exportingPDF||isLoading||!(null==statement?void 0:statement.transacoes)||0===filteredAndSortedTransactions.length,onClick:async()=>{var _a4;if((null==statement?void 0:statement.transacoes)&&(null==statement?void 0:statement.cliente)){setExportingPDF(!0),ue$2.info("Gerando PDF... Aguarde alguns segundos.");try{const pdf=new E("p","mm","a4"),pageWidth=pdf.internal.pageSize.getWidth(),pageHeight=pdf.internal.pageSize.getHeight(),margin=15;let yPosition=margin;pdf.setFont("helvetica"),pdf.setFontSize(20),pdf.setTextColor(0,0,0),pdf.setFont("helvetica","bold"),pdf.text("EXTRATO ADMINISTRATIVO OTC",pageWidth/2,yPosition+10,{align:"center"}),pdf.setFontSize(11),pdf.setTextColor(60,60,60),pdf.setFont("helvetica","normal");const currentDate=(new Date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});pdf.text(`Relatório gerado em: ${currentDate}`,pageWidth/2,yPosition+18,{align:"center"}),pdf.setDrawColor(0,0,0),pdf.setLineWidth(1),pdf.line(margin,yPosition+25,pageWidth-margin,yPosition+25),yPosition+=35,pdf.setFontSize(14),pdf.setTextColor(0,0,0),pdf.setFont("helvetica","bold"),pdf.text("DADOS DO CLIENTE",margin,yPosition),yPosition+=8,pdf.setDrawColor(0,0,0),pdf.line(margin,yPosition,pageWidth-margin,yPosition),yPosition+=8,pdf.setFontSize(10),pdf.setFont("helvetica","normal"),pdf.text(`Nome: ${statement.cliente.name}`,margin,yPosition),yPosition+=5,pdf.text(`Documento: ${statement.cliente.document}`,margin,yPosition),yPosition+=5,pdf.text(`Chave PIX: ${statement.cliente.pix_key}`,margin,yPosition),yPosition+=5,pdf.setTextColor(0,128,0),pdf.text(`Saldo BRL: R$ ${statement.cliente.current_balance.toFixed(2)}`,margin,yPosition),yPosition+=5,pdf.setTextColor(0,0,255),pdf.text(`Saldo USD: $ ${statement.cliente.usd_balance.toFixed(2)}`,margin,yPosition),yPosition+=10,pdf.setFontSize(14),pdf.setTextColor(0,0,0),pdf.setFont("helvetica","bold"),pdf.text("HISTÓRICO DE TRANSAÇÕES",margin,yPosition),yPosition+=8,pdf.setDrawColor(0,0,0),pdf.line(margin,yPosition,pageWidth-margin,yPosition),yPosition+=8,pdf.setFontSize(9),pdf.setFont("helvetica","bold"),pdf.text("Data",margin,yPosition),pdf.text("Tipo",margin+30,yPosition),pdf.text("Valor",margin+80,yPosition),pdf.text("Status",margin+120,yPosition),pdf.text("Observações",margin+150,yPosition),yPosition+=5,pdf.setDrawColor(200,200,200),pdf.line(margin,yPosition,pageWidth-margin,yPosition),yPosition+=3;const transacoes=filteredAndSortedTransactions.slice(0,50);pdf.setFont("helvetica","normal");for(const transaction of transacoes){yPosition>pageHeight-30&&(pdf.addPage(),yPosition=margin);const date2=new Date(transaction.date).toLocaleDateString("pt-BR"),type=((type2,notes2)=>{switch(type2){case"deposit":return"Depósito";case"withdrawal":return"Saque";case"manual_credit":return"Crédito Manual";case"manual_debit":return"Débito Manual";case"manual_adjustment":return(null==notes2?void 0:notes2.includes("Conversão BRL→USD"))?"Conversão BRL→USD":"Ajuste Manual";default:return type2}})(transaction.type,transaction.notes),usdValue=getUsdValueFromHistory(transaction.id),isConversion=null==(_a4=transaction.notes)?void 0:_a4.includes("Conversão BRL→USD");let valueText="";if(isConversion&&usdValue){const brlValue=getBrlValueFromHistory(transaction.id);valueText=`-R$ ${Math.abs(brlValue||0).toFixed(2)} +$ ${Math.abs(usdValue).toFixed(2)}`}else valueText=0===transaction.amount&&usdValue?`${usdValue>=0?"+":""}$ ${Math.abs(usdValue).toFixed(2)}`:`${transaction.amount>=0?"+":""}R$ ${Math.abs(transaction.amount).toFixed(2)}`;pdf.setFontSize(8),pdf.text(date2,margin,yPosition),pdf.text(type,margin+30,yPosition),pdf.text(valueText,margin+80,yPosition),pdf.text(transaction.status,margin+120,yPosition);const notes=transaction.notes||"",shortNotes=notes.length>25?notes.substring(0,25)+"...":notes;pdf.text(shortNotes,margin+150,yPosition),yPosition+=4}pdf.save(`extrato-admin-${statement.cliente.name}-${(new Date).toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`),ue$2.success("PDF gerado com sucesso!")}catch(error2){ue$2.error("Erro ao gerar PDF")}finally{setExportingPDF(!1)}}else ue$2.error("Nenhum dado disponível para exportar")},children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),exportingPDF?"Gerando PDF...":"Exportar PDF"]})]})]})]}),jsxRuntimeExports.jsxs(Tabs,{value:activeTab,onValueChange:setActiveTab,children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full max-w-md grid-cols-2",children:[jsxRuntimeExports.jsx(TabsTrigger,{value:"transactions",children:"Transações"}),jsxRuntimeExports.jsx(TabsTrigger,{value:"balance_history",children:"Histórico de Saldo"})]}),jsxRuntimeExports.jsx(TabsContent,{value:"transactions",className:"space-y-4",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Transações"})}),jsxRuntimeExports.jsx(CardContent,{children:error?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"Erro ao carregar transações"})}):isLoading?jsxRuntimeExports.jsx(LoadingSkeleton,{}):0===filteredAndSortedTransactions.length?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Nenhuma transação encontrada"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{className:"w-[180px]",children:"Transação"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right w-[200px]",children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right w-[140px]",children:"Saldo Anterior"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right w-[140px]",children:"Saldo Posterior"}),jsxRuntimeExports.jsx(TableHead,{className:"text-center w-[120px]",children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Detalhes"})]})}),jsxRuntimeExports.jsx(TableBody,{children:filteredAndSortedTransactions.map(transaction=>jsxRuntimeExports.jsx(TransactionRow,{transaction:transaction},transaction.id))})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-4",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",filteredAndSortedTransactions.length," de ",(null==(_b3=null==statement?void 0:statement.transacoes)?void 0:_b3.length)||0," transação(ões) encontrada(s)"]})})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"balance_history",className:"space-y-4",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-lg",children:"Histórico de Saldo"})}),jsxRuntimeExports.jsx(CardContent,{children:error?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"Erro ao carregar histórico"})}):isLoading?jsxRuntimeExports.jsx(LoadingSkeleton,{}):0===filteredBalanceHistory.length?jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Nenhum histórico encontrado"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Operação"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Saldo Anterior"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Alteração"}),jsxRuntimeExports.jsx(TableHead,{className:"text-right",children:"Saldo Posterior"}),jsxRuntimeExports.jsx(TableHead,{children:"Descrição"})]})}),jsxRuntimeExports.jsx(TableBody,{children:filteredBalanceHistory.map(history=>jsxRuntimeExports.jsx(BalanceHistoryRow,{history:history},history.id))})]})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center mt-4",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total: ",filteredBalanceHistory.length," de ",(null==(_c2=null==statement?void 0:statement.historico_saldo)?void 0:_c2.length)||0," registro(s) de histórico encontrado(s)"]})})]})})]})})]}),jsxRuntimeExports.jsx(AlertDialog,{open:reversalModalOpen,onOpenChange:setReversalModalOpen,children:jsxRuntimeExports.jsxs(AlertDialogContent,{children:[jsxRuntimeExports.jsxs(AlertDialogHeader,{children:[jsxRuntimeExports.jsxs(AlertDialogTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-red-600"}),"Confirmar Reversão da Operação"]}),jsxRuntimeExports.jsx(AlertDialogDescription,{children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-red-800 font-medium",children:"⚠️ Esta ação não pode ser desfeita!"}),jsxRuntimeExports.jsx("p",{className:"text-red-700 text-sm mt-1",children:"A operação será revertida e os saldos do cliente serão ajustados automaticamente."})]}),transactionToReverse&&jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Detalhes da Operação:"}),jsxRuntimeExports.jsxs("div",{className:"text-sm space-y-1",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Tipo:"})," ",transactionToReverse.type]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Valor:"})," ",(()=>{var _a4;const usdValue=getUsdValueFromHistory(transactionToReverse.id),isUsdOperation=null==(_a4=transactionToReverse.notes)?void 0:_a4.toLowerCase().includes("usd");return isUsdOperation&&0===transactionToReverse.amount&&null!==usdValue?`$ ${Math.abs(usdValue).toFixed(2)} USD`:isUsdOperation&&0!==transactionToReverse.amount&&null!==usdValue?`${otcService.formatCurrency(transactionToReverse.amount)} BRL + $ ${Math.abs(usdValue).toFixed(2)} USD`:`${otcService.formatCurrency(transactionToReverse.amount)} BRL`})()]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Data:"})," ",otcService.formatDate(transactionToReverse.date)]}),transactionToReverse.notes&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Observações:"})," ",transactionToReverse.notes]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"reversalReason",className:"text-sm font-medium",children:"Motivo da Reversão *"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx(Input,{id:"reversalReason",placeholder:"Motivo gerado automaticamente (editável se necessário)",value:reversalReason,onChange:e3=>setReversalReason(e3.target.value),disabled:isReversing,className:(reversalReason.length>0&&reversalReason.length<10?"border-red-300":"")+" bg-gray-50 border-dashed"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"💡 Descrição gerada automaticamente. Você pode editá-la se necessário."})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center text-xs",children:jsxRuntimeExports.jsx("span",{className:reversalReason.length<10?"text-red-500":"text-green-600",children:reversalReason.length<10?`Mínimo 10 caracteres (atual: ${reversalReason.length})`:`✓ Motivo válido (${reversalReason.length} caracteres)`})})]}),jsxRuntimeExports.jsx("div",{className:"text-center text-sm text-muted-foreground",children:"A operação será revertida automaticamente com registro no sistema."})]})})]}),jsxRuntimeExports.jsxs(AlertDialogFooter,{children:[jsxRuntimeExports.jsx(AlertDialogCancel,{disabled:isReversing,children:"Cancelar"}),jsxRuntimeExports.jsx(AlertDialogAction,{onClick:async()=>{var _a4,_b4,_c3;if(transactionToReverse)if(null==(_a4=transactionToReverse.manual_operation)?void 0:_a4.id)if(!reversalReason.trim()||reversalReason.trim().length<10)ue$2.error("Motivo da reversão deve ter pelo menos 10 caracteres");else{setIsReversing(!0);try{await otcService.reverseOperation(transactionToReverse.manual_operation.id,reversalReason.trim()),ue$2.success("Operação revertida com sucesso!"),setReversalModalOpen(!1),setTransactionToReverse(null),setReversalReason(""),refetch()}catch(error2){let errorMessage="Erro ao reverter operação";(null==(_c3=null==(_b4=error2.response)?void 0:_b4.data)?void 0:_c3.message)?errorMessage=error2.response.data.message:error2.message?errorMessage=error2.message:"string"==typeof error2&&(errorMessage=error2),ue$2.error(errorMessage,{duration:5e3,description:"Verifique os dados e tente novamente"})}finally{setIsReversing(!1)}}else ue$2.error("Esta transação não possui operação manual associada para reversão");else ue$2.error("Nenhuma transação selecionada")},disabled:isReversing||reversalReason.trim().length<10,className:"bg-red-600 hover:bg-red-700",children:isReversing?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2 animate-spin"}),"Revertendo..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(RotateCcw,{className:"w-4 h-4 mr-2"}),"Confirmar Reversão"]})})]})]})}),jsxRuntimeExports.jsx(OTCOperationModal,{isOpen:operationModalOpen,onClose:()=>{setOperationModalOpen(!1),refetch()},client:null==statement?void 0:statement.cliente})]}):jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"Cliente não encontrado"}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>navigate("/otc"),className:"mt-4",children:"Voltar para Clientes OTC"})]})})},ClientStatement=()=>{var _a3,_b3,_c2,_d2;const{user:user,logout:logout}=useAuth(),[data,setData]=reactExports.useState(null),[loading,setLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[exportingPDF,setExportingPDF]=reactExports.useState(!1),isUSDOnlyOperation=item=>item.usd_amount_change&&Math.abs(item.usd_amount_change)>0&&!item.amount_change&&!item.conversion_rate,[searchName,setSearchName]=reactExports.useState(""),[searchValue,setSearchValue]=reactExports.useState(""),[searchDate,setSearchDate]=reactExports.useState(""),[selectedDate,setSelectedDate]=reactExports.useState(void 0),[sortOrder,setSortOrder]=reactExports.useState("none"),[sortBy2,setSortBy]=reactExports.useState("none"),[checkedItems,setCheckedItems]=reactExports.useState({}),[updatingCheck,setUpdatingCheck]=reactExports.useState(null),[showOnlyToday,setShowOnlyToday]=reactExports.useState(!0),totalDepositado=reactExports.useMemo(()=>{if(!(null==data?void 0:data.transacoes))return 0;let depositos=data.transacoes.filter(transacao=>{const operationType=transacao.operation_type||transacao.type;return"deposit"===operationType||"manual_credit"===operationType});if(showOnlyToday&&!searchDate.trim()){const hojeFormatado=(new Date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"});depositos=depositos.filter(transacao=>{const dataTransacao=transacao.sort_date||transacao.date,operationType=transacao.operation_type;return("manual_credit"===operationType||"manual_debit"===operationType?formatTimestamp(dataTransacao,"dd/MM/yy"):formatOTCTimestamp(dataTransacao,"dd/MM/yy"))===hojeFormatado})}return searchDate.trim()&&(depositos=depositos.filter(transacao=>{const dataTransacao=transacao.sort_date||transacao.date,operationType=transacao.operation_type;return("manual_credit"===operationType||"manual_debit"===operationType?formatTimestamp(dataTransacao,"dd/MM/yy"):formatOTCTimestamp(dataTransacao,"dd/MM/yy"))===searchDate})),depositos.reduce((total,transacao)=>total+transacao.amount,0)},[null==data?void 0:data.transacoes,searchDate,showOnlyToday]),filteredAndSortedTransactions=reactExports.useMemo(()=>{if(!(null==data?void 0:data.transacoes))return[];let filtered=data.transacoes;if(searchName.trim()){const searchTerm=searchName.toLowerCase();filtered=filtered.filter(transaction=>{var _a4,_b4;return(null==(_a4=transaction.payer_name)?void 0:_a4.toLowerCase().includes(searchTerm))||(null==(_b4=transaction.payer_document)?void 0:_b4.toLowerCase().includes(searchTerm))})}if(searchValue.trim()){const searchAmount=parseFloat(searchValue.replace(/[^\d,.-]/g,"").replace(",","."));isNaN(searchAmount)||(filtered=filtered.filter(transaction=>Math.abs(transaction.amount-searchAmount)<.01))}return filtered=[...filtered].sort((a2,b2)=>{const getOrderingTimestamp=transaction=>{const isManualOperation=["manual_credit","manual_debit","manual_adjustment"].includes(transaction.type),dateToUse=transaction.date;if("string"==typeof dateToUse){const baseDate=new Date(dateToUse);return isManualOperation?baseDate.getTime():baseDate.getTime()+18e6}return new Date(dateToUse).getTime()},timestampA=getOrderingTimestamp(a2);return getOrderingTimestamp(b2)-timestampA}),"none"!==sortBy2&&"none"!==sortOrder&&(filtered=[...filtered].sort((a2,b2)=>{let comparison=0;if("value"===sortBy2)comparison=a2.amount-b2.amount;else if("date"===sortBy2){const getOrderingTimestamp=transaction=>{const isManualOperation=["manual_credit","manual_debit","manual_adjustment"].includes(transaction.type),dateToUse=transaction.date;if("string"==typeof dateToUse){const baseDate=new Date(dateToUse);return isManualOperation?baseDate.getTime():baseDate.getTime()+18e6}return new Date(dateToUse).getTime()};comparison=getOrderingTimestamp(a2)-getOrderingTimestamp(b2)}return"asc"===sortOrder?comparison:-comparison})),filtered},[null==data?void 0:data.transacoes,searchName,searchValue,sortBy2,sortOrder]),formatUSD=value=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(value),[clientId,setClientId]=reactExports.useState(null);reactExports.useEffect(()=>{(null==user?void 0:user.id)&&findOTCClient()},[null==user?void 0:user.id]);const findOTCClient=async()=>{var _a4,_b4;try{if(setLoading(!0),setError(null),!(null==user?void 0:user.id))throw new Error("Usuário não identificado. Faça login novamente.");const clientsResponse=await otcService.getClients({limit:200});if(!(null==(_a4=clientsResponse.data)?void 0:_a4.clientes)||0===clientsResponse.data.clientes.length)throw new Error("Nenhum cliente OTC encontrado no sistema.");const client2=clientsResponse.data.clientes.find(c2=>{var _a5,_b5,_c3;return String(null==(_a5=c2.user)?void 0:_a5.id)===String(user.id)||(null==(_b5=c2.user)?void 0:_b5.email)===user.email||(null==(_c3=c2.user)?void 0:_c3.name)===user.name});if(!client2)throw new Error(`Você não possui acesso a nenhum cliente OTC. Usuário: ${user.email} (ID: ${user.id})`);if(String(null==(_b4=client2.user)?void 0:_b4.id)!==String(user.id))throw new Error("Acesso negado. Você não tem permissão para visualizar este extrato.");setClientId(client2.id)}catch(error2){setError(error2 instanceof Error?error2.message:"Erro desconhecido"),setLoading(!1)}},fetchClientStatement=async filters=>{if(clientId)try{setLoading(!0),setError(null);const statementParams={limit:1e4};(null==filters?void 0:filters.dateFrom)&&(statementParams.dateFrom=filters.dateFrom),(null==filters?void 0:filters.dateTo)&&(statementParams.dateTo=filters.dateTo);const statementResponse=await otcService.getClientStatement(clientId,statementParams);if(!statementResponse.success||!statementResponse.data)throw new Error(statementResponse.message||"Erro ao buscar extrato do cliente");const historicoSaldo=statementResponse.data.historico_saldo||[],transacoes=statementResponse.data.transacoes||[],transacoesComSaldo=historicoSaldo.map(historico=>{const transacao=transacoes.find(t3=>t3.id===historico.transaction_id);return transacao?{...transacao,saldo_anterior:historico.balance_before,saldo_posterior:historico.balance_after,operation_type:historico.operation_type,operation_description:historico.description,amount_change:historico.amount_change,usd_amount_change:historico.usd_amount_change,usd_balance_before:historico.usd_balance_before,usd_balance_after:historico.usd_balance_after,conversion_rate:historico.conversion_rate,checked_by_client:historico.checked_by_client||!1,history_id:historico.id}:null}).filter(Boolean);setData({...statementResponse.data,transacoes:transacoesComSaldo});const initialChecked={};transacoesComSaldo.forEach(transacao=>{transacao.history_id&&(initialChecked[transacao.history_id]=transacao.checked_by_client||!1)}),setCheckedItems(initialChecked)}catch(err2){setError(err2 instanceof Error?err2.message:"Erro de conexão com o servidor")}finally{setLoading(!1)}};reactExports.useEffect(()=>{if(clientId){let dateFilters={};if(showOnlyToday&&!searchDate.trim()){const hoje=new Date,inicioHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate()),fimHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate(),23,59,59);dateFilters.dateFrom=inicioHoje.toISOString(),dateFilters.dateTo=fimHoje.toISOString()}else if(searchDate.trim())try{const[day,month,year]=searchDate.split("/"),fullYear=2===year.length?`20${year}`:year,dataEspecifica=new Date(parseInt(fullYear),parseInt(month)-1,parseInt(day)),inicioData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate()),fimData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate(),23,59,59);dateFilters.dateFrom=inicioData.toISOString(),dateFilters.dateTo=fimData.toISOString()}catch(error2){dateFilters={}}fetchClientStatement(dateFilters)}},[clientId,showOnlyToday,searchDate]);const handleRefresh=()=>{if(clientId){let dateFilters={};if(showOnlyToday&&!searchDate.trim()){const hoje=new Date,inicioHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate()),fimHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate(),23,59,59);dateFilters.dateFrom=inicioHoje.toISOString(),dateFilters.dateTo=fimHoje.toISOString()}else if(searchDate.trim())try{const[day,month,year]=searchDate.split("/"),fullYear=2===year.length?`20${year}`:year,dataEspecifica=new Date(parseInt(fullYear),parseInt(month)-1,parseInt(day)),inicioData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate()),fimData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate(),23,59,59);dateFilters.dateFrom=inicioData.toISOString(),dateFilters.dateTo=fimData.toISOString()}catch(error2){dateFilters={}}fetchClientStatement(dateFilters)}},handleLogout=async()=>{try{await logout(),window.location.href="/login"}catch(error2){window.location.href="/login"}};return user?loading?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-foreground",children:"Carregando seu extrato..."}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground text-sm mt-2",children:["Usuário: ",user.email]})]})}):error?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-lg banking-shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-red-500 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5"}),"Erro ao Carregar Extrato"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-destructive/10 border border-destructive/30 rounded-lg p-4",children:jsxRuntimeExports.jsx("p",{className:"text-foreground text-sm",children:error})}),jsxRuntimeExports.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Informações do usuário:"}),jsxRuntimeExports.jsxs("ul",{className:"text-foreground text-sm space-y-1",children:[jsxRuntimeExports.jsxs("li",{children:["• Email: ",user.email]}),jsxRuntimeExports.jsxs("li",{children:["• ID: ",user.id]}),jsxRuntimeExports.jsxs("li",{children:["• Nome: ",user.name]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Possíveis soluções:"}),jsxRuntimeExports.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[jsxRuntimeExports.jsx("li",{children:"• Verifique se seu usuário está vinculado a um cliente OTC"}),jsxRuntimeExports.jsx("li",{children:"• Confirme se está logado com o usuário correto"}),jsxRuntimeExports.jsx("li",{children:"• Entre em contato com o suporte técnico"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:handleRefresh,className:"flex-1 bg-primary text-primary-foreground py-2 px-4 rounded-md hover:bg-primary/90 transition-colors",children:"Tentar Novamente"}),jsxRuntimeExports.jsx("button",{onClick:handleLogout,className:"flex-1 bg-muted text-foreground py-2 px-4 rounded-md hover:bg-muted/80 transition-colors",children:"Fazer Logout"})]})]})]})}):data?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6 py-6 max-w-7xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground mb-1",children:"Meu Extrato OTC"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground text-sm",children:"Suas transações e saldo pessoal"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 bg-card rounded-lg px-4 py-2 border border-border",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary rounded-full p-2",children:jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-primary-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:user.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:user.email})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsxs("button",{onClick:handleLogout,className:"flex items-center gap-2 bg-destructive hover:bg-destructive/90 text-destructive-foreground px-3 py-2 rounded-lg transition-colors",title:"Sair da conta",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-4 w-4"}),"Sair"]})})]})]}),jsxRuntimeExports.jsxs(Card,{className:"mb-6 banking-shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground rounded-t-lg py-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),"Suas Informações OTC"]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Nome"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground",children:data.cliente.name})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Documento"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground",children:data.cliente.document})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Chave PIX"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground",children:data.cliente.pix_key})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Total Depositado Hoje"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-blue-500",children:formatCurrency(totalDepositado)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:searchDate?`Data: ${searchDate}`:""})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Saldo Total (BRL)"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-green-500",children:formatCurrency(data.cliente.current_balance)})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Saldo USD"}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-blue-500",children:["$ ",formatUSD(parseFloat(data.cliente.usd_balance||0))]}),data.cliente.last_conversion_rate&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground/70 mt-1",children:["Taxa Media Dia: ",parseFloat(data.cliente.last_conversion_rate||0).toFixed(2)]})]})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"mb-6 banking-shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted to-muted/80 text-foreground rounded-t-lg py-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4"}),"Filtros de Busca"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"showOnlyToday",checked:showOnlyToday,onCheckedChange:checked=>setShowOnlyToday(checked)}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"showOnlyToday",className:"text-sm font-medium cursor-pointer",children:"📅 Mostrar apenas transações de hoje"}),showOnlyToday&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",(new Date).toLocaleDateString("pt-BR"),")"]})]}),showOnlyToday&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:"Para ver outras datas, desmarque esta opção ou use o filtro de data abaixo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchName",children:"Buscar por nome"}),jsxRuntimeExports.jsx(Input,{id:"searchName",placeholder:"Nome ou documento do pagador",value:searchName,onChange:e3=>setSearchName(e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchValue",children:"Buscar por valor"}),jsxRuntimeExports.jsx(Input,{id:"searchValue",placeholder:"Ex: 100.50",value:searchValue,onChange:e3=>setSearchValue(e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchDate",children:"Buscar por data"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{id:"searchDate",placeholder:"Ex: 16/07/25",value:searchDate,onChange:e3=>setSearchDate(e3.target.value),className:"flex-1"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",className:"px-3",children:jsxRuntimeExports.jsx(CalendarDays,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:selectedDate,onSelect:date2=>{if(setSelectedDate(date2),date2){const formattedDate=formatTimestamp(date2.getTime()/1e3,"dd/MM/yy");setSearchDate(formattedDate)}else setSearchDate("")},initialFocus:!0})})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"sortBy",children:"Ordenar por"}),jsxRuntimeExports.jsxs(Select,{value:sortBy2,onValueChange:value=>setSortBy(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"value",children:"Valor"}),jsxRuntimeExports.jsx(SelectItem,{value:"date",children:"Data"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"sortOrder",children:"Ordem"}),jsxRuntimeExports.jsxs(Select,{value:sortOrder,onValueChange:value=>setSortOrder(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"asc",children:"Crescente"}),jsxRuntimeExports.jsx(SelectItem,{value:"desc",children:"Decrescente"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2 mt-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{setSearchName(""),setSearchValue(""),setSearchDate(""),setSelectedDate(void 0),setSortBy("none"),setSortOrder("none"),setShowOnlyToday(!0)},disabled:loading,children:"Limpar Filtros"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:handleRefresh,disabled:loading,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2 "+(loading?"animate-spin":"")}),"Atualizar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{try{const headers=["Data/Hora","Tipo","Pagador/Descrição","Valor BRL","Valor USD","Saldo Anterior BRL","Saldo Posterior BRL","Saldo Anterior USD","Saldo Posterior USD","Taxa Conversão","Documento Pagador","ID BMP"],csvData=filteredAndSortedTransactions.map(item=>{const operationType=item.operation_type;let tipo="";switch(operationType){case"deposit":tipo="Deposito";break;case"withdrawal":tipo="Saque";break;case"manual_credit":tipo="Credito Manual";break;case"manual_debit":tipo=item.conversion_rate?"Conversao BRL para USD":"Debito Manual";break;default:tipo="deposit"===item.type?"Deposito":"Saque"}const dataFormatada="manual_credit"===item.operation_type||"manual_debit"===item.operation_type?formatTimestamp(item.date,"dd/MM/yyyy HH:mm"):formatOTCTimestamp(item.date,"dd/MM/yyyy HH:mm");let pagadorDescricao="";pagadorDescricao="manual_credit"===operationType||"manual_debit"===operationType?(item.operation_description||"N/A").replace(/[,;]/g," "):(item.payer_name||"N/A").replace(/[,;]/g," ");const formatMoney=value=>value.toFixed(2).replace(".",",");let valorBRL="",valorUSD="";if("manual_debit"===operationType&&item.conversion_rate)valorBRL=`-${formatMoney(Math.abs(item.amount_change||0))}`,valorUSD=`+${formatMoney(Math.abs(item.usd_amount_change||0))}`;else if(isUSDOnlyOperation(item))valorBRL="0,00",valorUSD=`${item.usd_amount_change>0?"+":"-"}${formatMoney(Math.abs(item.usd_amount_change))}`;else{valorBRL=`${"deposit"===operationType||"manual_credit"===operationType?"+":"-"}${formatMoney(Math.abs(item.amount))}`,valorUSD="0,00"}return[dataFormatada,tipo,pagadorDescricao,valorBRL,valorUSD,formatMoney(item.saldo_anterior||0),formatMoney(item.saldo_posterior||0),formatMoney(item.usd_balance_before||0),formatMoney(item.usd_balance_after||0),item.conversion_rate?formatMoney(parseFloat(item.conversion_rate)):"",(item.payer_document||"").replace(/[,;]/g," "),(item.bmp_identifier||"").replace(/[,;]/g," ")]}),csvContent=[headers.join(";"),...csvData.map(row=>row.map(field=>{const str=String(field||"");return str.includes(";")||str.includes('"')||str.includes("\n")?`"${str.replace(/"/g,'""')}"`:str}).join(";"))].join("\n"),blob=new Blob(["\ufeff"+csvContent],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a");let dateForFileName="";dateForFileName=searchDate?searchDate.replace(/\//g,"-"):showOnlyToday?(new Date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\//g,"-"):"periodo-completo";const nomeArquivo=`extrato-otc-${null==data?void 0:data.cliente.name.replace(/\s+/g,"-").toLowerCase()}-${dateForFileName}.csv`;if(void 0!==link.download){const url=URL.createObjectURL(blob);link.setAttribute("href",url),link.setAttribute("download",nomeArquivo),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link),URL.revokeObjectURL(url)}ue$2.success("CSV exportado com sucesso!",{description:`${filteredAndSortedTransactions.length} registros exportados para ${nomeArquivo}`,duration:3e3})}catch(error2){ue$2.error("Erro ao exportar CSV",{description:"Não foi possível gerar o arquivo de exportação",duration:4e3})}},disabled:!data||0===filteredAndSortedTransactions.length,variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 hover:text-green-700",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),"Exportar CSV"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:async()=>{if(data){setExportingPDF(!0),ue$2.info("Gerando PDF... Aguarde alguns segundos.");try{const pdf=new E("p","mm","a4"),pageWidth=pdf.internal.pageSize.getWidth(),pageHeight=pdf.internal.pageSize.getHeight(),margin=15;let yPosition=margin;pdf.setFont("helvetica"),pdf.setFontSize(20),pdf.setTextColor(0,0,0),pdf.setFont("helvetica","bold"),pdf.text("EXTRATO OTC",pageWidth/2,yPosition+10,{align:"center"}),pdf.setFontSize(11),pdf.setTextColor(60,60,60),pdf.setFont("helvetica","normal");const currentDate=(new Date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});pdf.text(`Relatório gerado em: ${currentDate}`,pageWidth/2,yPosition+18,{align:"center"}),pdf.setDrawColor(0,0,0),pdf.setLineWidth(1),pdf.line(margin,yPosition+25,pageWidth-margin,yPosition+25),yPosition+=35,pdf.setFontSize(14),pdf.setTextColor(0,0,0),pdf.setFont("helvetica","bold"),pdf.text("DADOS DO CLIENTE",margin,yPosition),yPosition+=8,pdf.setDrawColor(0,0,0),pdf.line(margin,yPosition,pageWidth-margin,yPosition),yPosition+=5,pdf.setFontSize(10),pdf.setFont("helvetica","normal"),pdf.setTextColor(0,0,0);if([[`Nome: ${data.cliente.name}`,`Documento: ${data.cliente.document}`],[`Chave PIX: ${data.cliente.pix_key}`,`Saldo BRL: ${formatCurrency(data.cliente.current_balance)}`],[`Saldo USD: $ ${formatUSD(parseFloat(data.cliente.usd_balance||0))}`,`Total Depositado: ${formatCurrency(totalDepositado)}${searchDate?` (${searchDate})`:" (Hoje)"}`]].forEach(([left,right])=>{yPosition+=6,pdf.text(left,margin,yPosition),pdf.text(right,pageWidth/2+5,yPosition)}),yPosition+=15,searchName||searchValue||searchDate||!showOnlyToday){pdf.setFontSize(12),pdf.setFont("helvetica","bold"),pdf.setTextColor(0,0,0),pdf.text("FILTROS APLICADOS",margin,yPosition),yPosition+=8,pdf.setDrawColor(0,0,0),pdf.line(margin,yPosition,pageWidth-margin,yPosition),yPosition+=5,pdf.setFontSize(9),pdf.setFont("helvetica","normal"),pdf.setTextColor(60,60,60);const filters=[];searchName&&filters.push(`Nome: ${searchName}`),searchValue&&filters.push(`Valor: ${searchValue}`),searchDate&&filters.push(`Data: ${searchDate}`),showOnlyToday?filters.push("Período: Apenas hoje"):filters.push("Período: Todas as datas");const filterText=filters.join(" | ");yPosition+=5,pdf.text(filterText,margin,yPosition),yPosition+=15}pdf.setFontSize(14),pdf.setFont("helvetica","bold"),pdf.setTextColor(0,0,0),pdf.text(`TRANSAÇÕES (${filteredAndSortedTransactions.length} registros)`,margin,yPosition),yPosition+=8,pdf.setDrawColor(0,0,0),pdf.line(margin,yPosition,pageWidth-margin,yPosition),yPosition+=5;const tableWidth=pageWidth-2*margin,colWidths=[22,30,50,30,30,30],rowHeight=12;pdf.setFillColor(240,240,240),pdf.rect(margin,yPosition,tableWidth,8,"F"),pdf.setDrawColor(0,0,0),pdf.rect(margin,yPosition,tableWidth,8,"S"),pdf.setFontSize(9),pdf.setTextColor(0,0,0),pdf.setFont("helvetica","bold");const headers=["DATA","TIPO","PAGADOR/DESCRIÇÃO","VALOR","SALDO ANT.","SALDO POST."];let xPos=margin+2;headers.forEach((header,index)=>{pdf.text(header,xPos,yPosition+5),xPos+=colWidths[index]}),yPosition+=8,pdf.setFont("helvetica","normal");let rowIndex=0;for(const item of filteredAndSortedTransactions){yPosition>pageHeight-35&&(pdf.addPage(),yPosition=margin,pdf.setFillColor(240,240,240),pdf.rect(margin,yPosition,tableWidth,8,"F"),pdf.setDrawColor(0,0,0),pdf.rect(margin,yPosition,tableWidth,8,"S"),pdf.setFontSize(9),pdf.setTextColor(0,0,0),pdf.setFont("helvetica","bold"),xPos=margin+2,headers.forEach((header,index)=>{pdf.text(header,xPos,yPosition+5),xPos+=colWidths[index]}),yPosition+=8,pdf.setFont("helvetica","normal"),rowIndex=0),rowIndex%2==0&&(pdf.setFillColor(250,250,250),pdf.rect(margin,yPosition,tableWidth,rowHeight,"F")),pdf.setDrawColor(180,180,180),pdf.rect(margin,yPosition,tableWidth,rowHeight,"S"),xPos=margin+2,pdf.setFontSize(8),pdf.setTextColor(0,0,0);const dateParts=("manual_credit"===item.operation_type||"manual_debit"===item.operation_type?formatTimestamp(item.date,"dd/MM/yy HH:mm"):formatOTCTimestamp(item.date,"dd/MM/yy HH:mm")).split(" ");pdf.text(dateParts[0],xPos,yPosition+4),dateParts[1]&&pdf.text(dateParts[1],xPos,yPosition+8),xPos+=colWidths[0];const operationType=item.operation_type;let typeText="";switch(operationType){case"deposit":typeText="Depósito";break;case"withdrawal":typeText="Saque";break;case"manual_credit":typeText="Crédito Manual";break;case"manual_debit":typeText=item.conversion_rate?"Conversão BRL>USD":"Débito Manual";break;default:typeText="deposit"===item.type?"Depósito":"Saque"}pdf.setFont("helvetica","bold");pdf.splitTextToSize(typeText,colWidths[1]-2).forEach((line,lineIndex)=>{pdf.text(line,xPos,yPosition+4+4*lineIndex)}),pdf.setFont("helvetica","normal"),xPos+=colWidths[1];let payerText="";payerText="manual_credit"===operationType||"manual_debit"===operationType?item.operation_description||"N/A":item.payer_name||"N/A";pdf.splitTextToSize(payerText,colWidths[2]-2).forEach((line,lineIndex)=>{lineIndex<2&&pdf.text(line,xPos,yPosition+4+4*lineIndex)}),xPos+=colWidths[2];let valueText="";if("manual_debit"===item.operation_type&&item.conversion_rate)valueText=`${formatCurrency(Math.abs(item.amount_change||0))} → $${Math.abs(item.usd_amount_change||0).toFixed(2)}`;else if(isUSDOnlyOperation(item)){valueText=`${item.usd_amount_change>0?"+":"-"}$${Math.abs(item.usd_amount_change).toFixed(2)}`}else{valueText=`${"deposit"===operationType||"manual_credit"===operationType?"+":"-"}${formatCurrency(item.amount)}`}pdf.setFont("helvetica","bold");pdf.splitTextToSize(valueText,colWidths[3]-2).forEach((line,lineIndex)=>{pdf.text(line,xPos,yPosition+4+4*lineIndex)}),pdf.setFont("helvetica","normal"),xPos+=colWidths[3];const balanceBefore=item.usd_amount_change&&Math.abs(item.usd_amount_change)>0&&!item.amount_change?`$${(item.usd_balance_before||0).toFixed(2)}`:formatCurrency(item.saldo_anterior||0);pdf.text(balanceBefore,xPos,yPosition+6),xPos+=colWidths[4];const balanceAfter=item.usd_amount_change&&Math.abs(item.usd_amount_change)>0&&!item.amount_change?`$${(item.usd_balance_after||0).toFixed(2)}`:formatCurrency(item.saldo_posterior||0);pdf.text(balanceAfter,xPos,yPosition+6),yPosition+=rowHeight,rowIndex++}const footerY=pageHeight-15;pdf.setDrawColor(0,0,0),pdf.line(margin,footerY-5,pageWidth-margin,footerY-5),pdf.setFontSize(8),pdf.setTextColor(60,60,60),pdf.text(`Última atualização: ${formatTimestamp(data.cliente.last_updated,"dd/MM/yyyy HH:mm")}`,margin,footerY),pdf.text("Página 1",pageWidth-margin,footerY,{align:"right"});let dateForFileName="";dateForFileName=searchDate?searchDate.replace(/\//g,"-"):showOnlyToday?(new Date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"}).replace(/\//g,"-"):"periodo-completo";const fileName=`extrato-otc-${data.cliente.name.replace(/\s+/g,"-").toLowerCase()}-${dateForFileName}.pdf`;pdf.save(fileName),ue$2.success("PDF exportado com sucesso!")}catch(error2){ue$2.error("Erro ao gerar PDF. Tente novamente.")}finally{setExportingPDF(!1)}}else ue$2.error("Nenhum dado disponível para exportar")},disabled:exportingPDF||!data||0===filteredAndSortedTransactions.length,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4 mr-2"}),exportingPDF?"Gerando PDF...":"Exportar PDF"]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"banking-shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted to-muted/80 text-foreground rounded-t-lg py-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(CalendarDays,{className:"h-4 w-4"}),"Suas Transações",filteredAndSortedTransactions.length!==(null==(_a3=data.transacoes)?void 0:_a3.length)&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",filteredAndSortedTransactions.length," de ",(null==(_b3=data.transacoes)?void 0:_b3.length)||0," registros)"]}),filteredAndSortedTransactions.length===(null==(_c2=data.transacoes)?void 0:_c2.length)&&jsxRuntimeExports.jsxs("span",{className:"text-sm text-muted-foreground ml-2",children:["(",(null==(_d2=data.transacoes)?void 0:_d2.length)||0," registros)"]})]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:filteredAndSortedTransactions&&filteredAndSortedTransactions.length>0?jsxRuntimeExports.jsx("div",{className:"divide-y divide-border",children:filteredAndSortedTransactions.map((item,index)=>jsxRuntimeExports.jsxs("div",{className:"relative px-4 py-3 hover:bg-muted/30 transition-colors banking-transition",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-full "+("deposit"===item.operation_type||"manual_credit"===item.operation_type?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"),children:"deposit"===item.operation_type||"manual_credit"===item.operation_type?jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 text-green-500"}):jsxRuntimeExports.jsx(ArrowDownRight,{className:"h-3 w-3 text-red-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:"manual_credit"===item.operation_type||"manual_debit"===item.operation_type?formatTimestamp(item.date,"dd/MM/yy"):formatOTCTimestamp(item.date,"dd/MM/yy")}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70",children:"manual_credit"===item.operation_type||"manual_debit"===item.operation_type?formatTimestamp(item.date,"HH:mm"):formatOTCTimestamp(item.date,"HH:mm")})]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:(()=>{const operationType=item.operation_type,description=item.operation_description;switch(operationType){case"deposit":return"Depósito recebido";case"withdrawal":return"Saque realizado";case"manual_credit":return description||"Crédito manual";case"manual_debit":return description||"Débito manual";default:return"deposit"===item.type?"Depósito recebido":"Saque realizado"}})()}),item.payer_name&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["De: ",item.payer_name]}),item.payer_document&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Doc: ",item.payer_document]}),item.bmp_identifier&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["ID: ",item.bmp_identifier]})]}),jsxRuntimeExports.jsx("div",{className:"col-span-2 text-right",children:"manual_debit"===item.operation_type&&Math.abs(item.amount)<.01&&item.conversion_rate?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-red-500",children:["-R$ ",Math.abs(item.amount_change||0).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold text-green-500",children:["+$ ",Math.abs(item.usd_amount_change||0).toFixed(2)]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white font-medium",children:"Conversão BRL→USD"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Taxa: ",parseFloat(item.conversion_rate||0).toFixed(2)]})]}):isUSDOnlyOperation(item)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold "+(item.usd_amount_change>0?"text-green-500":"text-red-500"),children:[item.usd_amount_change>0?"+":"-","$ ",Math.abs(item.usd_amount_change).toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white font-medium",children:"USD"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold "+("deposit"===item.operation_type||"manual_credit"===item.operation_type?"text-green-500":"text-red-500"),children:["deposit"===item.operation_type||"manual_credit"===item.operation_type?"+":"-","R$ ",Math.abs(item.amount).toFixed(2)]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white font-medium",children:"BRL"})]})}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Saldo Anterior",item.usd_amount_change&&Math.abs(item.usd_amount_change)>0&&!item.amount_change?" USD":""]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:item.usd_amount_change&&Math.abs(item.usd_amount_change)>0&&!item.amount_change?`$ ${formatUSD(item.usd_balance_before||0)}`:formatCurrency(item.saldo_anterior||0)})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 text-center",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["Saldo Posterior",item.usd_amount_change&&Math.abs(item.usd_amount_change)>0&&!item.amount_change?" USD":""]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:item.usd_amount_change&&Math.abs(item.usd_amount_change)>0&&!item.amount_change?`$ ${formatUSD(item.usd_balance_after||0)}`:formatCurrency(item.saldo_posterior||0)})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Checkbox,{checked:checkedItems[item.history_id]||!1,onCheckedChange:checked=>(async(historyId,checked)=>{var _a4;if(null==(_a4=null==data?void 0:data.cliente)?void 0:_a4.id){setUpdatingCheck(historyId);try{await otcService.updateHistoryCheckStatus(data.cliente.id,historyId,checked),setCheckedItems(prev=>({...prev,[historyId]:checked})),ue$2.success(checked?"Registro marcado como conferido":"Registro desmarcado")}catch(error2){ue$2.error("Erro ao salvar. Tente novamente."),setCheckedItems(prev=>({...prev,[historyId]:!checked}))}finally{setUpdatingCheck(null)}}else ue$2.error("Erro: cliente não identificado")})(item.history_id,!!checked),disabled:updatingCheck===item.history_id,className:"h-4 w-4"}),updatingCheck===item.history_id&&jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"})]})]},item.id))}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:searchName||searchValue?"Nenhuma transação encontrada com os filtros aplicados":"Você ainda não possui transações"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground/70 text-sm mt-2",children:searchName||searchValue?"Tente ajustar os filtros de busca":"Suas transações aparecerão aqui quando disponíveis"})]})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Última atualização: ",formatTimestamp(data.cliente.last_updated,"dd/MM/yyyy HH:mm")]})})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md banking-shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"text-foreground",children:"Nenhum dado encontrado"})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Não foi possível carregar seu extrato."})})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black flex items-center justify-center",children:jsxRuntimeExports.jsxs(Card,{className:"w-full max-w-md shadow-2xl bg-gray-800 border-gray-700",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"text-primary flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"h-5 w-5"}),"Sessão Expirada"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsx("p",{className:"text-muted-foreground mb-4",children:"Sua sessão expirou. Faça login novamente para acessar seu extrato."}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/login",className:"w-full bg-primary text-primary-foreground py-2 px-4 rounded-md hover:bg-primary/90 transition-colors",children:"Fazer Login"})]})]})})},EmployeeStatement=()=>{const{user:user,logout:logout,userType:userType}=useAuth();usePermissions();const[data,setData]=reactExports.useState(null),[loading,setLoading]=reactExports.useState(!0),[error,setError]=reactExports.useState(null),[searchName,setSearchName]=reactExports.useState(""),[searchValue,setSearchValue]=reactExports.useState(""),[searchDate,setSearchDate]=reactExports.useState(""),[selectedDate,setSelectedDate]=reactExports.useState(void 0),[sortOrder,setSortOrder]=reactExports.useState("none"),[sortBy2,setSortBy]=reactExports.useState("none"),[showOnlyToday,setShowOnlyToday]=reactExports.useState(!0),formatOperationType=transacao=>"deposit"===transacao.transaction_type?"Depósito PIX":"withdrawal"===transacao.transaction_type?"Saque BRL":"manual_adjustment"===transacao.transaction_type&&"manual_operation"===transacao.source?"credit"===transacao.operation_type?"Crédito Manual":"debit"===transacao.operation_type?"Débito Manual":"Operação Manual":"Desconhecido",fetchEmployeeStatement=async filters=>{var _a3,_b3;try{setLoading(!0),setError(null);let url="/api/otc/employee/statement";const params=new URLSearchParams;(null==filters?void 0:filters.dateFrom)&&params.append("dateFrom",filters.dateFrom),(null==filters?void 0:filters.dateTo)&&params.append("dateTo",filters.dateTo),params.toString()&&(url+=`?${params.toString()}`);const response=await api.get(url);if(!response.data.sucesso)throw new Error(response.data.mensagem||"Erro ao carregar extrato");setData(response.data.dados)}catch(error2){setError((null==(_b3=null==(_a3=error2.response)?void 0:_a3.data)?void 0:_b3.mensagem)||error2.message||"Erro ao carregar dados"),ue$2.error("Erro ao carregar extrato")}finally{setLoading(!1)}};reactExports.useEffect(()=>{let dateFilters={};if(showOnlyToday&&!searchDate.trim()){const hoje=new Date,inicioHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate()),fimHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate(),23,59,59);dateFilters.dateFrom=inicioHoje.toISOString(),dateFilters.dateTo=fimHoje.toISOString()}else if(searchDate.trim())try{const[day,month,year]=searchDate.split("/"),fullYear=2===year.length?`20${year}`:year,dataEspecifica=new Date(parseInt(fullYear),parseInt(month)-1,parseInt(day)),inicioData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate()),fimData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate(),23,59,59);dateFilters.dateFrom=inicioData.toISOString(),dateFilters.dateTo=fimData.toISOString()}catch(error2){dateFilters={}}fetchEmployeeStatement(dateFilters)},[showOnlyToday,searchDate]);const filteredAndSortedTransactions=reactExports.useMemo(()=>{if(!(null==data?void 0:data.transacoes))return[];let filtered=data.transacoes.filter(t3=>t3.amount>0&&("deposit"===t3.transaction_type&&(t3.payer_name||t3.payer_document)||"withdrawal"===t3.transaction_type||"manual_adjustment"===t3.transaction_type&&"manual_operation"===t3.source));if(searchName.trim()&&(filtered=filtered.filter(t3=>{var _a3;return null==(_a3=t3.payer_name)?void 0:_a3.toLowerCase().includes(searchName.toLowerCase())})),searchValue.trim()){const searchNum=parseFloat(searchValue.replace(",","."));isNaN(searchNum)||(filtered=filtered.filter(t3=>Math.abs(t3.amount-searchNum)<.01))}if(showOnlyToday&&!searchDate.trim()){const hojeFormatado=(new Date).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"});filtered=filtered.filter(t3=>{if(!t3.transaction_date)return!1;const dataFormatada=formatOTCTimestamp(t3.transaction_date,"dd/MM/yy");return"Data inválida"!==dataFormatada&&dataFormatada===hojeFormatado})}return searchDate.trim()&&(filtered=filtered.filter(t3=>{if(!t3.transaction_date)return!1;const dataFormatada=formatOTCTimestamp(t3.transaction_date,"dd/MM/yy");return"Data inválida"!==dataFormatada&&dataFormatada.includes(searchDate.trim())})),filtered=[...filtered].sort((a2,b2)=>{const getOrderingTimestamp=transaction=>{const isManualOperation="manual_adjustment"===transaction.transaction_type&&"manual_operation"===transaction.source,dateToUse=transaction.transaction_date;if("string"==typeof dateToUse){const baseDate=new Date(dateToUse);return isManualOperation?baseDate.getTime():baseDate.getTime()+18e6}return new Date(dateToUse).getTime()},timestampA=getOrderingTimestamp(a2);return getOrderingTimestamp(b2)-timestampA}),"none"!==sortBy2&&"none"!==sortOrder&&(filtered=[...filtered].sort((a2,b2)=>{let comparison=0;if("value"===sortBy2)comparison=a2.amount-b2.amount;else if("date"===sortBy2){const getOrderingTimestamp=transaction=>{const isManualOperation="manual_adjustment"===transaction.transaction_type&&"manual_operation"===transaction.source,dateToUse=transaction.transaction_date;if("string"==typeof dateToUse){const baseDate=new Date(dateToUse);return isManualOperation?baseDate.getTime():baseDate.getTime()+18e6}return new Date(dateToUse).getTime()};comparison=getOrderingTimestamp(a2)-getOrderingTimestamp(b2)}return"asc"===sortOrder?comparison:-comparison})),filtered},[null==data?void 0:data.transacoes,searchName,searchValue,searchDate,showOnlyToday,sortBy2,sortOrder]);return loading?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-8 w-8 animate-spin text-primary"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Carregando extrato..."})]})}):error?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md text-center",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-12 w-12 text-destructive"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Erro ao carregar extrato"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:error}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>fetchEmployeeStatement(),className:"mt-4",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2"}),"Tentar novamente"]})]})}):data?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-background",children:jsxRuntimeExports.jsxs("div",{className:"container mx-auto px-6 py-6 max-w-7xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center flex-1",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-foreground mb-1",children:"Extrato - Funcionário"}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground text-sm",children:[data.cliente.name," • Acesso limitado a depósitos PIX"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 bg-card rounded-lg px-4 py-2 border border-border",children:[jsxRuntimeExports.jsx("div",{className:"bg-primary rounded-full p-2",children:jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-primary-foreground"})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:user.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:user.email})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsxs("button",{onClick:logout,className:"flex items-center gap-2 bg-destructive hover:bg-destructive/90 text-destructive-foreground px-3 py-2 rounded-lg transition-colors",title:"Sair da conta",children:[jsxRuntimeExports.jsx(LogOut,{className:"h-4 w-4"}),"Sair"]})})]})]}),jsxRuntimeExports.jsxs(Card,{className:"mb-6 banking-shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground rounded-t-lg py-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4"}),"Informações do Cliente"]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-4",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Nome"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground",children:data.cliente.name})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Documento"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground",children:data.cliente.document})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-left",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Chave PIX"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-foreground",children:data.cliente.pix_key})]}),jsxRuntimeExports.jsxs("div",{className:"text-center md:text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:"Saldo Total (BRL)"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-green-500",children:formatCurrency(data.cliente.current_balance)})]})]})})]}),jsxRuntimeExports.jsxs(Card,{className:"mb-6 banking-shadow-lg",children:[jsxRuntimeExports.jsx(CardHeader,{className:"bg-gradient-to-r from-muted to-muted/80 text-foreground rounded-t-lg py-3",children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-lg",children:[jsxRuntimeExports.jsx(Filter,{className:"h-4 w-4"}),"Filtros de Busca"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4 p-3 bg-muted/50 rounded-lg",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx(Checkbox,{id:"showOnlyToday",checked:showOnlyToday,onCheckedChange:checked=>setShowOnlyToday(checked)}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"showOnlyToday",className:"text-sm font-medium cursor-pointer",children:"📅 Mostrar apenas transações de hoje"}),showOnlyToday&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(",(new Date).toLocaleDateString("pt-BR"),")"]})]}),showOnlyToday&&jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1 ml-6",children:"Para ver outras datas, desmarque esta opção ou use o filtro de data abaixo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchName",children:"Buscar por nome"}),jsxRuntimeExports.jsx(Input,{id:"searchName",placeholder:"Nome ou documento do pagador",value:searchName,onChange:e3=>setSearchName(e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchValue",children:"Buscar por valor"}),jsxRuntimeExports.jsx(Input,{id:"searchValue",placeholder:"Ex: 100.50",value:searchValue,onChange:e3=>setSearchValue(e3.target.value)})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"searchDate",children:"Buscar por data"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx(Input,{id:"searchDate",placeholder:"Ex: 16/07/25",value:searchDate,onChange:e3=>setSearchDate(e3.target.value),className:"flex-1"}),jsxRuntimeExports.jsxs(Popover,{children:[jsxRuntimeExports.jsx(PopoverTrigger,{asChild:!0,children:jsxRuntimeExports.jsx(Button$1,{variant:"outline",size:"sm",className:"px-3",children:jsxRuntimeExports.jsx(CalendarDays,{className:"h-4 w-4"})})}),jsxRuntimeExports.jsx(PopoverContent,{className:"w-auto p-0",align:"start",children:jsxRuntimeExports.jsx(Calendar,{mode:"single",selected:selectedDate,onSelect:date2=>{if(setSelectedDate(date2),date2){const formattedDate=date2.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"2-digit"});setSearchDate(formattedDate)}else setSearchDate("")},initialFocus:!0})})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"sortBy",children:"Ordenar por"}),jsxRuntimeExports.jsxs(Select,{value:sortBy2,onValueChange:value=>setSortBy(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"value",children:"Valor"}),jsxRuntimeExports.jsx(SelectItem,{value:"date",children:"Data"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"sortOrder",children:"Ordem"}),jsxRuntimeExports.jsxs(Select,{value:sortOrder,onValueChange:value=>setSortOrder(value),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{placeholder:"Selecione"})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"none",children:"Padrão"}),jsxRuntimeExports.jsx(SelectItem,{value:"asc",children:"Crescente"}),jsxRuntimeExports.jsx(SelectItem,{value:"desc",children:"Decrescente"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2 mt-4",children:[jsxRuntimeExports.jsx(Button$1,{variant:"outline",onClick:()=>{setSearchName(""),setSearchValue(""),setSearchDate(""),setSelectedDate(void 0),setSortBy("none"),setSortOrder("none"),setShowOnlyToday(!1)},disabled:loading,children:"Limpar Filtros"}),jsxRuntimeExports.jsxs(Button$1,{variant:"outline",onClick:()=>{let dateFilters={};if(showOnlyToday&&!searchDate.trim()){const hoje=new Date,inicioHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate()),fimHoje=new Date(hoje.getFullYear(),hoje.getMonth(),hoje.getDate(),23,59,59);dateFilters.dateFrom=inicioHoje.toISOString(),dateFilters.dateTo=fimHoje.toISOString()}else if(searchDate.trim())try{const[day,month,year]=searchDate.split("/"),fullYear=2===year.length?`20${year}`:year,dataEspecifica=new Date(parseInt(fullYear),parseInt(month)-1,parseInt(day)),inicioData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate()),fimData=new Date(dataEspecifica.getFullYear(),dataEspecifica.getMonth(),dataEspecifica.getDate(),23,59,59);dateFilters.dateFrom=inicioData.toISOString(),dateFilters.dateTo=fimData.toISOString()}catch(error2){dateFilters={}}fetchEmployeeStatement(dateFilters)},disabled:loading,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4 mr-2 "+(loading?"animate-spin":"")}),"Atualizar"]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),"Operações BRL (",filteredAndSortedTransactions.length," operações)"]})}),jsxRuntimeExports.jsx(CardContent,{className:"p-0",children:filteredAndSortedTransactions&&filteredAndSortedTransactions.length>0?jsxRuntimeExports.jsx("div",{className:"divide-y divide-border",children:filteredAndSortedTransactions.map((item,index)=>{return jsxRuntimeExports.jsx("div",{className:"relative px-4 py-3 hover:bg-muted/30 transition-colors banking-transition",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-12 gap-4 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"p-2 rounded-full "+("deposit"===item.transaction_type||"credit"===item.operation_type?"bg-green-500/10 border border-green-500/30":"bg-red-500/10 border border-red-500/30"),children:"deposit"===item.transaction_type||"credit"===item.operation_type?jsxRuntimeExports.jsx(ArrowUpRight,{className:"h-3 w-3 text-green-500"}):jsxRuntimeExports.jsx(ArrowDownRight,{className:"h-3 w-3 text-red-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground",children:item.transaction_date?"manual_adjustment"===item.transaction_type&&"manual_operation"===item.source?formatTimestamp(item.transaction_date,"dd/MM/yy"):formatOTCTimestamp(item.transaction_date,"dd/MM/yy"):"Data inválida"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground/70",children:item.transaction_date?"manual_adjustment"===item.transaction_type&&"manual_operation"===item.source?formatTimestamp(item.transaction_date,"HH:mm"):formatOTCTimestamp(item.transaction_date,"HH:mm"):""})]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-4",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-foreground",children:(()=>{switch(item.transaction_type){case"deposit":return"Depósito recebido";case"withdrawal":return"Saque realizado";case"manual_adjustment":return"credit"===item.operation_type?item.description||"Crédito manual":"debit"===item.operation_type?item.description||"Débito manual":"Operação manual";default:return"Operação desconhecida"}})()}),item.payer_name&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground",children:["De: ",item.payer_name]}),item.payer_document&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["Doc: ",item.payer_document]}),item.bmp_identifier&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-muted-foreground/70",children:["ID: ",item.bmp_identifier]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2 text-right",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-bold "+("deposit"===item.transaction_type||"credit"===item.operation_type?"text-green-500":"text-red-500"),children:["withdrawal"===item.transaction_type||"debit"===item.operation_type?"-":"+",formatCurrency(item.amount)]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white font-medium",children:"BRL"})]}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsx(Badge,{variant:"processed"!==item.status&&item.status?"destructive":"default",className:"text-xs",children:item.status||"Processado"})}),jsxRuntimeExports.jsx("div",{className:"col-span-2",children:jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(transacao=item,"deposit"===transacao.transaction_type?"text-green-600 bg-green-50":"withdrawal"===transacao.transaction_type?"text-red-600 bg-red-50":"manual_adjustment"===transacao.transaction_type?"credit"===transacao.operation_type?"text-blue-600 bg-blue-50":"debit"===transacao.operation_type?"text-orange-600 bg-orange-50":"text-gray-600 bg-gray-50":"text-gray-600 bg-gray-50"),children:formatOperationType(item)})})]})},item.id);var transacao})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(FileText,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:searchName||searchValue?"Nenhuma operação encontrada com os filtros aplicados":"Nenhuma operação BRL disponível"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground/70 text-sm mt-2",children:searchName||searchValue?"Tente ajustar os filtros de busca":"As operações aparecerão aqui quando disponíveis"})]})})]})]})}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-8 w-8 text-muted-foreground"}),jsxRuntimeExports.jsx("p",{className:"text-muted-foreground",children:"Nenhum dado encontrado"})]})})},BRBTC_API_CONFIG_baseUrl=PUBLIC_ENV.DIAGNOSTICO_API_URL,BRBTC_API_CONFIG_endpoints={cryptoDeposits:"/brbtc/getUserCryptoDeposits",cryptoWithdraws:"/brbtc/getUserCryptoWithdraws",trades:"/brbtc/getUserTrades",fiatDeposits:"/brbtc/getUserFiatDeposits",fiatWithdraws:"/brbtc/getUserFiatWithdraws",internalDeposits:"/brbtc/getUserInternalDeposits",internalWithdraws:"/brbtc/getUserInternalWithdraws",getAllRecords:"/brbtc/getAllUserRecords"},BRBTC_API_CONFIG_timeout=9e4,makeAuthenticatedRequest=async(endpoint,params)=>{const token=localStorage.getItem("jwt_token")||sessionStorage.getItem("jwt_token")||localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token");if(!token)throw new Error("Token de autenticação não encontrado. Faça login novamente.");const queryString=(params=>{const filteredParams=Object.entries(params).filter(([_2,value])=>null!=value&&""!==value).reduce((acc,[key,value])=>({...acc,[key]:value}),{});return new URLSearchParams(filteredParams).toString()})(params),url=`${BRBTC_API_CONFIG_baseUrl}${endpoint}?${queryString}`,response=await fetch(url,{method:"GET",headers:{Authorization:`Bearer ${token}`,"Content-Type":"application/json"},signal:AbortSignal.timeout(BRBTC_API_CONFIG_timeout)});if(!response.ok){const errorText=await response.text();let errorMessage=`Erro ${response.status}: ${response.statusText}`;try{const errorData=JSON.parse(errorText);errorMessage=errorData.mensagem||errorData.erro||errorMessage}catch{}throw new Error(errorMessage)}return await response.json()},getAllRecordsWithSpecialRoute=async(endpoint,baseParams,dataKey)=>{var _a3;try{Date.now();const queryParams={id_usuario:baseParams.id_usuario,endpoint:endpoint,max_records:baseParams.max_records||100,...baseParams.coin&&{coin:baseParams.coin},...baseParams.type&&{type:baseParams.type}},response=await makeAuthenticatedRequest(BRBTC_API_CONFIG_endpoints.getAllRecords,queryParams);if(!response.sucesso)throw new Error(response.erro||response.mensagem||`Erro ao consultar ${endpoint}`);const records=(null==(_a3=response.dados)?void 0:_a3.registros)||[];return{...response,dados:{...response.dados,[dataKey]:records,total_registros:records.length,paginated:records.length>1e3,total_pages:Math.ceil(records.length/1e3)}}}catch(error){throw error}},formatarData=timestamp=>!timestamp||isNaN(timestamp)?(new Date).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date(1e3*timestamp).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),formatarValor=(valor,moeda="BRL")=>{if(null==valor||""===valor)return"BRL"===moeda?"R$ 0,00":"0";const num="string"==typeof valor?parseFloat(valor):valor;return isNaN(num)?"BRL"===moeda?"R$ 0,00":"0":"BRL"===moeda?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(num):`${num} ${moeda}`},getStatusBadge=status=>{if(!status)return jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"bg-gray-500/20 text-gray-800",children:"N/A"});const config2={credited:{variant:"default",color:"bg-green-500/100/20 text-green-400"},sent:{variant:"default",color:"bg-blue-500/100/20 text-blue-400"},filled:{variant:"default",color:"bg-green-500/100/20 text-green-400"},pending:{variant:"secondary",color:"bg-yellow-500/20 text-yellow-400"},cancelled:{variant:"destructive",color:"bg-red-500/100/20 text-red-400"},failed:{variant:"destructive",color:"bg-red-500/100/20 text-red-400"}}[status.toLowerCase()]||{variant:"outline",color:"bg-gray-500/20 text-gray-400"};return jsxRuntimeExports.jsx(Badge,{variant:config2.variant,className:config2.color,children:status})},copiarTexto=(texto,label="Texto")=>{navigator.clipboard.writeText(texto),ue$2.success(`${label} copiado!`)},formatarValorCSV=valor=>{if(null==valor||""===valor)return"0,00";const num="string"==typeof valor?parseFloat(valor):valor;return isNaN(num)?"0,00":num.toFixed(2).replace(".",",")},formatarDataCSV=timestamp=>!timestamp||isNaN(timestamp)?(new Date).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):new Date(1e3*timestamp).toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),escaparTextoCSV=texto=>{if(!texto)return"";const textoLimpo=texto.toString().replace(/"/g,'""');return textoLimpo.includes(",")||textoLimpo.includes(";")||textoLimpo.includes("\n")||textoLimpo.includes('"')?`"${textoLimpo}"`:textoLimpo};function AnaliseUsuario(){var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n,_o,_p,_q,_r,_s,_t2,_u,_v,_w,_x,_y,_z,_A,_B;const{id:id2}=useParams(),navigate=useNavigate(),[idUsuarioAtual,setIdUsuarioAtual]=reactExports.useState(parseInt(id2||"32",10)),[inputIdUsuario,setInputIdUsuario]=reactExports.useState(id2||"32"),[isLoading,setIsLoading]=reactExports.useState(!1),[activeTab,setActiveTab]=reactExports.useState("dashboard"),[filtros,setFiltros]=reactExports.useState({max_records:100,startDate:"",endDate:""}),[dadosBrutos,setDadosBrutos]=reactExports.useState(null),[dadosUsuario,setDadosUsuario]=reactExports.useState(null),totaisFinanceiros=(()=>{var _a4,_b4,_c3,_d3,_e4,_f3,_g3,_h3,_i3,_j3,_k2,_l2,_m2,_n2,_o2,_p2,_q2,_r2,_s2,_t3,_u2,_v2,_w2,_x2,_y2,_z2;if(!dadosUsuario)return null;const depositosCrypto=(null==(_b4=null==(_a4=dadosUsuario.cryptoDeposits)?void 0:_a4.dados)?void 0:_b4.depositos)||[],depositosCryptoPorMoeda={BRL:0,USDT:0,BTC:0,ETH:0,outros:0,count:depositosCrypto.length};depositosCrypto.forEach(dep=>{const valor=parseFloat(dep.amount||"0"),moeda=(dep.coin||"").toUpperCase();isNaN(valor)||("BRL"===moeda?depositosCryptoPorMoeda.BRL+=valor:"USDT"===moeda?depositosCryptoPorMoeda.USDT+=valor:"BTC"===moeda?depositosCryptoPorMoeda.BTC+=valor:"ETH"===moeda?depositosCryptoPorMoeda.ETH+=valor:depositosCryptoPorMoeda.outros+=valor)});const saquesCrypto=(null==(_d3=null==(_c3=dadosUsuario.cryptoWithdraws)?void 0:_c3.dados)?void 0:_d3.saques)||[],saquesCryptoPorMoeda={BRL:0,USDT:0,BTC:0,ETH:0,outros:0,count:saquesCrypto.length};saquesCrypto.forEach(saque=>{const valor=parseFloat(saque.amount||"0"),moeda=(saque.coin||"").toUpperCase();isNaN(valor)||("BRL"===moeda?saquesCryptoPorMoeda.BRL+=valor:"USDT"===moeda?saquesCryptoPorMoeda.USDT+=valor:"BTC"===moeda?saquesCryptoPorMoeda.BTC+=valor:"ETH"===moeda?saquesCryptoPorMoeda.ETH+=valor:saquesCryptoPorMoeda.outros+=valor)});const trades=(null==(_f3=null==(_e4=dadosUsuario.trades)?void 0:_e4.dados)?void 0:_f3.trades)||[],tradesDetalhado={volumeTotal:0,totalCompras:0,totalVendas:0,count:trades.length,pares:{}};trades.forEach(trade=>{const valorBRL=parseFloat(trade.total||"0"),quantidadeCrypto=parseFloat(trade.amount||"0"),par=trade.pair||"",tipo=trade.side;isNaN(valorBRL)||(tradesDetalhado.volumeTotal+=valorBRL,"buy"===tipo?tradesDetalhado.totalCompras+=valorBRL:"sell"===tipo&&(tradesDetalhado.totalVendas+=valorBRL),tradesDetalhado.pares[par]||(tradesDetalhado.pares[par]={compras:0,vendas:0,volume:0,countCompras:0,countVendas:0,cryptoComprada:0,cryptoVendida:0}),"buy"===tipo?(tradesDetalhado.pares[par].compras+=valorBRL,tradesDetalhado.pares[par].countCompras++,tradesDetalhado.pares[par].cryptoComprada+=quantidadeCrypto):"sell"===tipo&&(tradesDetalhado.pares[par].vendas+=valorBRL,tradesDetalhado.pares[par].countVendas++,tradesDetalhado.pares[par].cryptoVendida+=quantidadeCrypto),tradesDetalhado.pares[par].volume+=valorBRL)});const depositosFiat=(null==(_h3=null==(_g3=dadosUsuario.fiatDeposits)?void 0:_g3.dados)?void 0:_h3.depositos)||[],totalDepositosFiat=depositosFiat.reduce((acc,dep)=>{const valor=parseFloat(dep.value||"0");return acc+(isNaN(valor)?0:valor)},0),saquesFiat=(null==(_j3=null==(_i3=dadosUsuario.fiatWithdraws)?void 0:_i3.dados)?void 0:_j3.saques)||[],totalSaquesFiat=saquesFiat.reduce((acc,saque)=>{const valor=parseFloat(saque.value||"0");return acc+(isNaN(valor)?0:valor)},0),transferenciasRecebidas=(null==(_l2=null==(_k2=dadosUsuario.internalDeposits)?void 0:_k2.dados)?void 0:_l2.depositos)||[],totalTransferenciasRecebidas=transferenciasRecebidas.reduce((acc,trans)=>{const valor=parseFloat(trans.amount||"0");return acc+(isNaN(valor)?0:valor)},0),transferenciasEnviadas=(null==(_n2=null==(_m2=dadosUsuario.internalWithdraws)?void 0:_m2.dados)?void 0:_n2.saques)||[],totalTransferenciasEnviadas=transferenciasEnviadas.reduce((acc,trans)=>{const valor=parseFloat(trans.amount||"0");return acc+(isNaN(valor)?0:valor)},0),entradasBRL=totalDepositosFiat+totalTransferenciasRecebidas+tradesDetalhado.totalVendas,saidasBRL=totalSaquesFiat+totalTransferenciasEnviadas+tradesDetalhado.totalCompras,balancoBRL=entradasBRL-saidasBRL,totalEntradas=entradasBRL,totalSaidas=saidasBRL,saldoLiquido=balancoBRL,volumeTotal=tradesDetalhado.volumeTotal+totalDepositosFiat+totalSaquesFiat+totalTransferenciasRecebidas+totalTransferenciasEnviadas,paresEstatisticas=Object.entries(tradesDetalhado.pares).map(([par,dados])=>({par:par,...dados,saldoCrypto:dados.cryptoComprada-dados.cryptoVendida,saldoBRL:dados.vendas-dados.compras})).sort((a2,b2)=>b2.volume-a2.volume),saldoRealBRL={depositosFiat:totalDepositosFiat,transferenciasRecebidas:totalTransferenciasRecebidas,vendasCrypto:tradesDetalhado.totalVendas,totalEntradas:totalDepositosFiat+totalTransferenciasRecebidas+tradesDetalhado.totalVendas,saquesFiat:totalSaquesFiat,transferenciasEnviadas:totalTransferenciasEnviadas,comprasCrypto:tradesDetalhado.totalCompras,totalSaidas:totalSaquesFiat+totalTransferenciasEnviadas+tradesDetalhado.totalCompras,saldoFinal:totalDepositosFiat+totalTransferenciasRecebidas+tradesDetalhado.totalVendas-(totalSaquesFiat+totalTransferenciasEnviadas+tradesDetalhado.totalCompras)},saldoRealCrypto={USDT:{deposits:depositosCryptoPorMoeda.USDT,withdraws:saquesCryptoPorMoeda.USDT,comprado:(null==(_o2=paresEstatisticas.find(p2=>"USDTBRL"===p2.par))?void 0:_o2.cryptoComprada)||0,vendido:(null==(_p2=paresEstatisticas.find(p2=>"USDTBRL"===p2.par))?void 0:_p2.cryptoVendida)||0,saldo:depositosCryptoPorMoeda.USDT+((null==(_q2=paresEstatisticas.find(p2=>"USDTBRL"===p2.par))?void 0:_q2.cryptoComprada)||0)-(saquesCryptoPorMoeda.USDT+((null==(_r2=paresEstatisticas.find(p2=>"USDTBRL"===p2.par))?void 0:_r2.cryptoVendida)||0))},BTC:{deposits:depositosCryptoPorMoeda.BTC,withdraws:saquesCryptoPorMoeda.BTC,comprado:(null==(_s2=paresEstatisticas.find(p2=>p2.par.includes("BTC")))?void 0:_s2.cryptoComprada)||0,vendido:(null==(_t3=paresEstatisticas.find(p2=>p2.par.includes("BTC")))?void 0:_t3.cryptoVendida)||0,saldo:depositosCryptoPorMoeda.BTC+((null==(_u2=paresEstatisticas.find(p2=>p2.par.includes("BTC")))?void 0:_u2.cryptoComprada)||0)-(saquesCryptoPorMoeda.BTC+((null==(_v2=paresEstatisticas.find(p2=>p2.par.includes("BTC")))?void 0:_v2.cryptoVendida)||0))},ETH:{deposits:depositosCryptoPorMoeda.ETH,withdraws:saquesCryptoPorMoeda.ETH,comprado:(null==(_w2=paresEstatisticas.find(p2=>p2.par.includes("ETH")))?void 0:_w2.cryptoComprada)||0,vendido:(null==(_x2=paresEstatisticas.find(p2=>p2.par.includes("ETH")))?void 0:_x2.cryptoVendida)||0,saldo:depositosCryptoPorMoeda.ETH+((null==(_y2=paresEstatisticas.find(p2=>p2.par.includes("ETH")))?void 0:_y2.cryptoComprada)||0)-(saquesCryptoPorMoeda.ETH+((null==(_z2=paresEstatisticas.find(p2=>p2.par.includes("ETH")))?void 0:_z2.cryptoVendida)||0))}};return{cryptoDeposits:depositosCryptoPorMoeda,cryptoWithdraws:saquesCryptoPorMoeda,trades:tradesDetalhado,paresEstatisticas:paresEstatisticas,fiatDeposits:{total:totalDepositosFiat,count:depositosFiat.length},fiatWithdraws:{total:totalSaquesFiat,count:saquesFiat.length},internalTransfers:{total:totalTransferenciasRecebidas,count:transferenciasRecebidas.length},internalWithdraws:{total:totalTransferenciasEnviadas,count:transferenciasEnviadas.length},balances:{BRL:{entradas:entradasBRL,saidas:saidasBRL,saldo:balancoBRL},geral:{totalEntradas:totalEntradas,totalSaidas:totalSaidas,saldoLiquido:saldoLiquido,volumeTotal:volumeTotal}},saldosReais:{BRL:saldoRealBRL,crypto:saldoRealCrypto}}})();reactExports.useEffect(()=>{const urlId=parseInt(id2||"0",10);urlId!==idUsuarioAtual&&(setIdUsuarioAtual(urlId),setInputIdUsuario(id2||""))},[id2,idUsuarioAtual]),reactExports.useEffect(()=>{if(!idUsuarioAtual||idUsuarioAtual<=0)return ue$2.error("ID do usuário inválido"),void navigate(-1)},[idUsuarioAtual,navigate]);const carregarDados=async()=>{if(idUsuarioAtual){setIsLoading(!0);try{const dados=await(async(idUsuario,filtros)=>{var _a3,_b3,_c2,_d2,_e3,_f2,_g2,_h2,_i2,_j2,_k,_l,_m,_n;try{const baseParams={id_usuario:idUsuario,max_records:(null==filtros?void 0:filtros.max_records)||100,...(null==filtros?void 0:filtros.coin)&&{coin:filtros.coin},...(null==filtros?void 0:filtros.type)&&{type:filtros.type}},[cryptoDeposits,cryptoWithdraws,trades,fiatDeposits,fiatWithdraws,internalDeposits,internalWithdraws]=await Promise.allSettled([getAllRecordsWithSpecialRoute("getUserCryptoDeposits",baseParams,"depositos"),getAllRecordsWithSpecialRoute("getUserCryptoWithdraws",baseParams,"saques"),getAllRecordsWithSpecialRoute("getUserTrades",baseParams,"trades"),getAllRecordsWithSpecialRoute("getUserFiatDeposits",baseParams,"depositos"),getAllRecordsWithSpecialRoute("getUserFiatWithdraws",baseParams,"saques"),getAllRecordsWithSpecialRoute("getUserInternalDeposits",baseParams,"depositos"),getAllRecordsWithSpecialRoute("getUserInternalWithdraws",baseParams,"saques")]),result={cryptoDeposits:"fulfilled"===cryptoDeposits.status?cryptoDeposits.value:null,cryptoWithdraws:"fulfilled"===cryptoWithdraws.status?cryptoWithdraws.value:null,trades:"fulfilled"===trades.status?trades.value:null,fiatDeposits:"fulfilled"===fiatDeposits.status?fiatDeposits.value:null,fiatWithdraws:"fulfilled"===fiatWithdraws.status?fiatWithdraws.value:null,internalDeposits:"fulfilled"===internalDeposits.status?internalDeposits.value:null,internalWithdraws:"fulfilled"===internalWithdraws.status?internalWithdraws.value:null,errors:["rejected"===cryptoDeposits.status?cryptoDeposits.reason:null,"rejected"===cryptoWithdraws.status?cryptoWithdraws.reason:null,"rejected"===trades.status?trades.reason:null,"rejected"===fiatDeposits.status?fiatDeposits.reason:null,"rejected"===fiatWithdraws.status?fiatWithdraws.reason:null,"rejected"===internalDeposits.status?internalDeposits.reason:null,"rejected"===internalWithdraws.status?internalWithdraws.reason:null].filter(Boolean)},paginationInfo=[];return(null==(_b3=null==(_a3=result.cryptoDeposits)?void 0:_a3.dados)?void 0:_b3.paginated)&&paginationInfo.push(`Depósitos Crypto: ${result.cryptoDeposits.dados.total_registros} registros`),(null==(_d2=null==(_c2=result.cryptoWithdraws)?void 0:_c2.dados)?void 0:_d2.paginated)&&paginationInfo.push(`Saques Crypto: ${result.cryptoWithdraws.dados.total_registros} registros`),(null==(_f2=null==(_e3=result.trades)?void 0:_e3.dados)?void 0:_f2.paginated)&&paginationInfo.push(`Trades: ${result.trades.dados.total_registros} registros`),(null==(_h2=null==(_g2=result.fiatDeposits)?void 0:_g2.dados)?void 0:_h2.paginated)&&paginationInfo.push(`Depósitos Fiat: ${result.fiatDeposits.dados.total_registros} registros`),(null==(_j2=null==(_i2=result.fiatWithdraws)?void 0:_i2.dados)?void 0:_j2.paginated)&&paginationInfo.push(`Saques Fiat: ${result.fiatWithdraws.dados.total_registros} registros`),(null==(_l=null==(_k=result.internalDeposits)?void 0:_k.dados)?void 0:_l.paginated)&&paginationInfo.push(`Transferências Recebidas: ${result.internalDeposits.dados.total_registros} registros`),(null==(_n=null==(_m=result.internalWithdraws)?void 0:_m.dados)?void 0:_n.paginated)&&paginationInfo.push(`Transferências Enviadas: ${result.internalWithdraws.dados.total_registros} registros`),paginationInfo.length>0&&ue$2.success("🎯 ESTRATÉGIA REVOLUCIONÁRIA Ativada!",{description:`Paginação por timestamp - ZERO duplicação: ${paginationInfo.join(", ")}`}),result}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";throw ue$2.error("Erro ao buscar dados do usuário",{description:errorMessage}),error}})(idUsuarioAtual,{max_records:filtros.max_records});setDadosBrutos(dados),dados.errors.length>0?ue$2.warning("Alguns dados não puderam ser carregados",{description:`${dados.errors.length} API(s) falharam`}):ue$2.success(`${filtros.max_records} registros carregados com sucesso!`)}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";ue$2.error("Erro ao carregar dados do usuário",{description:errorMessage})}finally{setIsLoading(!1)}}},filtrarDadosPorData=dados=>{var _a4,_b4,_c3,_d3,_e4,_f3,_g3;if(!dados||!filtros.startDate&&!filtros.endDate)return dados;const filtrarArray=(array2,timestampField="timestamp")=>array2?array2.filter(item=>{const timestamp=item[timestampField];if(!timestamp)return!0;const itemDate=new Date(1e3*timestamp),startDate=filtros.startDate?new Date(filtros.startDate):null,endDate=filtros.endDate?new Date(filtros.endDate+"T23:59:59"):null;return!(startDate&&itemDate<startDate)&&!(endDate&&itemDate>endDate)}):array2;return{...dados,cryptoDeposits:dados.cryptoDeposits?{...dados.cryptoDeposits,dados:{...dados.cryptoDeposits.dados,depositos:filtrarArray(null==(_a4=dados.cryptoDeposits.dados)?void 0:_a4.depositos)}}:null,cryptoWithdraws:dados.cryptoWithdraws?{...dados.cryptoWithdraws,dados:{...dados.cryptoWithdraws.dados,saques:filtrarArray(null==(_b4=dados.cryptoWithdraws.dados)?void 0:_b4.saques)}}:null,trades:dados.trades?{...dados.trades,dados:{...dados.trades.dados,trades:filtrarArray(null==(_c3=dados.trades.dados)?void 0:_c3.trades)}}:null,fiatDeposits:dados.fiatDeposits?{...dados.fiatDeposits,dados:{...dados.fiatDeposits.dados,depositos:filtrarArray(null==(_d3=dados.fiatDeposits.dados)?void 0:_d3.depositos)}}:null,fiatWithdraws:dados.fiatWithdraws?{...dados.fiatWithdraws,dados:{...dados.fiatWithdraws.dados,saques:filtrarArray(null==(_e4=dados.fiatWithdraws.dados)?void 0:_e4.saques)}}:null,internalDeposits:dados.internalDeposits?{...dados.internalDeposits,dados:{...dados.internalDeposits.dados,depositos:filtrarArray(null==(_f3=dados.internalDeposits.dados)?void 0:_f3.depositos)}}:null,internalWithdraws:dados.internalWithdraws?{...dados.internalWithdraws,dados:{...dados.internalWithdraws.dados,saques:filtrarArray(null==(_g3=dados.internalWithdraws.dados)?void 0:_g3.saques)}}:null}};reactExports.useEffect(()=>{if(dadosBrutos){const dadosFiltrados=filtrarDadosPorData(dadosBrutos);setDadosUsuario(dadosFiltrados)}},[dadosBrutos,filtros.startDate,filtros.endDate]),reactExports.useEffect(()=>{carregarDados()},[idUsuarioAtual,filtros.max_records]);const estatisticas=(()=>{var _a4,_b4,_c3,_d3,_e4,_f3,_g3,_h3,_i3,_j3,_k2,_l2,_m2,_n2,_o2,_p2,_q2,_r2,_s2,_t3,_u2,_v2,_w2,_x2,_y2,_z2,_A2,_B2,_C,_D,_E,_F,_G,_H,_I,_J,_K,_L,_M,_N,_O,_P,_Q,_R,_S,_T,_U,_V,_W,_X,_Y,_Z,__,_$,_aa,_ba,_ca,_da,_ea,_fa;if(!dadosUsuario)return null;return{totalCryptoDeposits:(null==(_b4=null==(_a4=dadosUsuario.cryptoDeposits)?void 0:_a4.dados)?void 0:_b4.total_registros)||0,totalCryptoWithdraws:(null==(_d3=null==(_c3=dadosUsuario.cryptoWithdraws)?void 0:_c3.dados)?void 0:_d3.total_registros)||0,totalTrades:(null==(_f3=null==(_e4=dadosUsuario.trades)?void 0:_e4.dados)?void 0:_f3.total_registros)||0,totalFiatDeposits:(null==(_h3=null==(_g3=dadosUsuario.fiatDeposits)?void 0:_g3.dados)?void 0:_h3.total_registros)||0,totalFiatWithdraws:(null==(_j3=null==(_i3=dadosUsuario.fiatWithdraws)?void 0:_i3.dados)?void 0:_j3.total_registros)||0,totalInternalDeposits:(null==(_l2=null==(_k2=dadosUsuario.internalDeposits)?void 0:_k2.dados)?void 0:_l2.total_registros)||0,totalInternalWithdraws:(null==(_n2=null==(_m2=dadosUsuario.internalWithdraws)?void 0:_m2.dados)?void 0:_n2.total_registros)||0,nomeUsuario:(null==(_q2=null==(_p2=null==(_o2=dadosUsuario.cryptoDeposits)?void 0:_o2.dados)?void 0:_p2.usuario)?void 0:_q2.nome)||(null==(_t3=null==(_s2=null==(_r2=dadosUsuario.trades)?void 0:_r2.dados)?void 0:_s2.usuario)?void 0:_t3.nome)||"Usuário não identificado",emailUsuario:(null==(_w2=null==(_v2=null==(_u2=dadosUsuario.cryptoDeposits)?void 0:_u2.dados)?void 0:_v2.usuario)?void 0:_w2.email)||(null==(_z2=null==(_y2=null==(_x2=dadosUsuario.trades)?void 0:_x2.dados)?void 0:_y2.usuario)?void 0:_z2.email)||"Email não disponível",idBrasilBitcoin:(null==(_C=null==(_B2=null==(_A2=dadosUsuario.cryptoDeposits)?void 0:_A2.dados)?void 0:_B2.usuario)?void 0:_C.id_brasil_bitcoin)||(null==(_F=null==(_E=null==(_D=dadosUsuario.trades)?void 0:_D.dados)?void 0:_E.usuario)?void 0:_F.id_brasil_bitcoin)||"N/A",paginationInfo:{cryptoDeposits:(null==(_H=null==(_G=dadosUsuario.cryptoDeposits)?void 0:_G.dados)?void 0:_H.paginated)||!1,cryptoWithdraws:(null==(_J=null==(_I=dadosUsuario.cryptoWithdraws)?void 0:_I.dados)?void 0:_J.paginated)||!1,trades:(null==(_L=null==(_K=dadosUsuario.trades)?void 0:_K.dados)?void 0:_L.paginated)||!1,fiatDeposits:(null==(_N=null==(_M=dadosUsuario.fiatDeposits)?void 0:_M.dados)?void 0:_N.paginated)||!1,fiatWithdraws:(null==(_P=null==(_O=dadosUsuario.fiatWithdraws)?void 0:_O.dados)?void 0:_P.paginated)||!1,internalDeposits:(null==(_R=null==(_Q=dadosUsuario.internalDeposits)?void 0:_Q.dados)?void 0:_R.paginated)||!1,internalWithdraws:(null==(_T=null==(_S=dadosUsuario.internalWithdraws)?void 0:_S.dados)?void 0:_T.paginated)||!1,anyPaginated:[null==(_V=null==(_U=dadosUsuario.cryptoDeposits)?void 0:_U.dados)?void 0:_V.paginated,null==(_X=null==(_W=dadosUsuario.cryptoWithdraws)?void 0:_W.dados)?void 0:_X.paginated,null==(_Z=null==(_Y=dadosUsuario.trades)?void 0:_Y.dados)?void 0:_Z.paginated,null==(_$=null==(__=dadosUsuario.fiatDeposits)?void 0:__.dados)?void 0:_$.paginated,null==(_ba=null==(_aa=dadosUsuario.fiatWithdraws)?void 0:_aa.dados)?void 0:_ba.paginated,null==(_da=null==(_ca=dadosUsuario.internalDeposits)?void 0:_ca.dados)?void 0:_da.paginated,null==(_fa=null==(_ea=dadosUsuario.internalWithdraws)?void 0:_ea.dados)?void 0:_fa.paginated].some(Boolean)}}})();return jsxRuntimeExports.jsxs("div",{className:"container mx-auto p-6 space-y-6 max-w-7xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs(Button$1,{variant:"outline",size:"sm",onClick:()=>navigate(-1),className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"h-4 w-4"}),"Voltar"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[jsxRuntimeExports.jsx(ChartColumn,{className:"h-8 w-8 text-blue-400"}),"Análise do Usuário ",idUsuarioAtual]}),estatisticas&&jsxRuntimeExports.jsxs("div",{className:"mt-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground",children:[estatisticas.nomeUsuario," • ",estatisticas.emailUsuario]}),estatisticas.paginationInfo.anyPaginated&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-500/100/20 text-green-400 rounded-md text-xs",children:[jsxRuntimeExports.jsx(Activity,{className:"h-3 w-3"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Rota Otimizada Ativa (3x mais rápida)"})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-green-400",children:"Chamadas paralelas + delay 50ms - TODOS os registros carregados"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(Card,{className:"bg-blue-500/100/10 border-blue-500/30",children:jsxRuntimeExports.jsx(CardContent,{className:"p-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"h-4 w-4 text-blue-400"}),jsxRuntimeExports.jsx(Label$1,{htmlFor:"id-usuario",className:"text-sm font-medium text-blue-400",children:"Alterar ID:"}),jsxRuntimeExports.jsx(Input,{id:"id-usuario",type:"number",placeholder:"ID do usuário",value:inputIdUsuario,onChange:e3=>setInputIdUsuario(e3.target.value),className:"w-24 h-8 text-center",min:"1"}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{const novoId=parseInt(inputIdUsuario,10);isNaN(novoId)||novoId<=0?ue$2.error("ID inválido",{description:"Digite um ID de usuário válido (número positivo)"}):novoId!==idUsuarioAtual?(setIdUsuarioAtual(novoId),navigate(`/analise-usuario/${novoId}`,{replace:!0}),ue$2.success("ID alterado!",{description:`Carregando dados do usuário ${novoId}...`})):ue$2.info("Mesmo ID",{description:"O ID informado é o mesmo que já está sendo analisado"})},disabled:isLoading||!inputIdUsuario||parseInt(inputIdUsuario,10)===idUsuarioAtual,size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[jsxRuntimeExports.jsx(Search,{className:"h-3 w-3 mr-1"}),"Analisar"]})]})})}),jsxRuntimeExports.jsxs(Button$1,{onClick:carregarDados,disabled:isLoading,variant:"outline",size:"sm",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2 "+(isLoading?"animate-spin":"")}),"Atualizar"]}),jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{var _a4,_b4,_c3,_d3,_e4,_f3,_g3,_h3,_i3,_j3,_k2,_l2,_m2,_n2,_o2,_p2,_q2,_r2,_s2,_t3,_u2;if(dadosUsuario){ue$2.info("Gerando extrato cronológico...",{description:"Preparando extrato completo com evolução de saldo"});try{const todasMovimentacoes=[];null==(_c3=null==(_b4=null==(_a4=dadosUsuario.cryptoDeposits)?void 0:_a4.dados)?void 0:_b4.depositos)||_c3.forEach(dep=>{var _a5,_b5;todasMovimentacoes.push({timestamp:dep.timestamp||0,data:formatarDataCSV(dep.timestamp).split(" ")[0],hora:formatarDataCSV(dep.timestamp).split(" ")[1]||"",tipo:"Depósito Crypto",descricao:`Depósito de ${(null==(_a5=dep.coin)?void 0:_a5.toUpperCase())||"CRYPTO"}`,entrada:parseFloat(dep.amount||"0"),saida:0,moeda:(null==(_b5=dep.coin)?void 0:_b5.toUpperCase())||"CRYPTO",detalhes:`Status: ${dep.status||"N/A"}`})}),null==(_f3=null==(_e4=null==(_d3=dadosUsuario.cryptoWithdraws)?void 0:_d3.dados)?void 0:_e4.saques)||_f3.forEach(saque=>{var _a5,_b5;todasMovimentacoes.push({timestamp:saque.timestamp||0,data:formatarDataCSV(saque.timestamp).split(" ")[0],hora:formatarDataCSV(saque.timestamp).split(" ")[1]||"",tipo:"Saque Crypto",descricao:`Saque de ${(null==(_a5=saque.coin)?void 0:_a5.toUpperCase())||"CRYPTO"}`,entrada:0,saida:parseFloat(saque.amount||"0"),moeda:(null==(_b5=saque.coin)?void 0:_b5.toUpperCase())||"CRYPTO",detalhes:`Status: ${saque.status||"N/A"}`})}),null==(_i3=null==(_h3=null==(_g3=dadosUsuario.trades)?void 0:_g3.dados)?void 0:_h3.trades)||_i3.forEach(trade=>{var _a5;const isBuy="buy"===trade.side;todasMovimentacoes.push({timestamp:trade.timestamp||0,data:formatarDataCSV(trade.timestamp).split(" ")[0],hora:formatarDataCSV(trade.timestamp).split(" ")[1]||"",tipo:isBuy?"Compra Crypto":"Venda Crypto",descricao:`${isBuy?"Comprou":"Vendeu"} ${trade.pair||"CRYPTO"}`,entrada:isBuy?0:parseFloat(trade.total||"0"),saida:isBuy?parseFloat(trade.total||"0"):0,moeda:"BRL",detalhes:`${trade.amount||"0"} ${(null==(_a5=trade.pair)?void 0:_a5.split("BRL")[0])||""} | Status: ${trade.status||"N/A"}`})}),null==(_l2=null==(_k2=null==(_j3=dadosUsuario.fiatDeposits)?void 0:_j3.dados)?void 0:_k2.depositos)||_l2.forEach(dep=>{todasMovimentacoes.push({timestamp:dep.timestamp||0,data:formatarDataCSV(dep.timestamp).split(" ")[0],hora:formatarDataCSV(dep.timestamp).split(" ")[1]||"",tipo:"Depósito Fiat",descricao:`Depósito BRL via ${dep.bank||"Banco"}`,entrada:parseFloat(dep.value||"0"),saida:0,moeda:"BRL",detalhes:`Status: ${dep.status||"N/A"}`})}),null==(_o2=null==(_n2=null==(_m2=dadosUsuario.fiatWithdraws)?void 0:_m2.dados)?void 0:_n2.saques)||_o2.forEach(saque=>{todasMovimentacoes.push({timestamp:saque.timestamp||0,data:formatarDataCSV(saque.timestamp).split(" ")[0],hora:formatarDataCSV(saque.timestamp).split(" ")[1]||"",tipo:"Saque Fiat",descricao:`Saque BRL para ${saque.bank||"Banco"}`,entrada:0,saida:parseFloat(saque.value||"0"),moeda:"BRL",detalhes:`Status: ${saque.status||"N/A"}`})}),null==(_r2=null==(_q2=null==(_p2=dadosUsuario.internalDeposits)?void 0:_p2.dados)?void 0:_q2.depositos)||_r2.forEach(trans=>{var _a5,_b5;todasMovimentacoes.push({timestamp:trans.timestamp||0,data:formatarDataCSV(trans.timestamp).split(" ")[0],hora:formatarDataCSV(trans.timestamp).split(" ")[1]||"",tipo:"Transferência Recebida",descricao:`Recebeu ${(null==(_a5=trans.coin)?void 0:_a5.toUpperCase())||"BRL"} de outro usuário`,entrada:parseFloat(trans.amount||"0"),saida:0,moeda:(null==(_b5=trans.coin)?void 0:_b5.toUpperCase())||"BRL",detalhes:`De: ${trans.fromUserDocument||"N/A"}`})}),null==(_u2=null==(_t3=null==(_s2=dadosUsuario.internalWithdraws)?void 0:_s2.dados)?void 0:_t3.saques)||_u2.forEach(trans=>{var _a5,_b5;todasMovimentacoes.push({timestamp:trans.timestamp||0,data:formatarDataCSV(trans.timestamp).split(" ")[0],hora:formatarDataCSV(trans.timestamp).split(" ")[1]||"",tipo:"Transferência Enviada",descricao:`Enviou ${(null==(_a5=trans.coin)?void 0:_a5.toUpperCase())||"BRL"} para outro usuário`,entrada:0,saida:parseFloat(trans.amount||"0"),moeda:(null==(_b5=trans.coin)?void 0:_b5.toUpperCase())||"BRL",detalhes:`Para: ${trans.toUserDocument||"N/A"}`})}),todasMovimentacoes.sort((a2,b2)=>a2.timestamp-b2.timestamp);let saldoBRL=0,saldoUSDT=0,saldoBTC=0,saldoETH=0;const movimentacoesComSaldo=todasMovimentacoes.map(mov=>{const saldoAnteriorBRL=saldoBRL,saldoAnteriorUSDT=saldoUSDT,saldoAnteriorBTC=saldoBTC,saldoAnteriorETH=saldoETH;"BRL"===mov.moeda?saldoBRL+=mov.entrada-mov.saida:"USDT"===mov.moeda?saldoUSDT+=mov.entrada-mov.saida:"BTC"===mov.moeda?saldoBTC+=mov.entrada-mov.saida:"ETH"===mov.moeda&&(saldoETH+=mov.entrada-mov.saida);const saldoPosteriorBRL=saldoBRL,saldoPosteriorUSDT=saldoUSDT,saldoPosteriorBTC=saldoBTC,saldoPosteriorETH=saldoETH;return{...mov,saldoAnterior:"BRL"===mov.moeda?saldoAnteriorBRL:"USDT"===mov.moeda?saldoAnteriorUSDT:"BTC"===mov.moeda?saldoAnteriorBTC:saldoAnteriorETH,saldoPosterior:"BRL"===mov.moeda?saldoPosteriorBRL:"USDT"===mov.moeda?saldoPosteriorUSDT:"BTC"===mov.moeda?saldoPosteriorBTC:saldoPosteriorETH}});let csvCompleto="";const dataExportacao=(new Date).toLocaleString("pt-BR");csvCompleto+="╔══════════════════════════════════════════════════════════════════════════════╗\n",csvCompleto+="║  EXTRATO CRONOLÓGICO COMPLETO - SISTEMA BRBTC                              ║\n",csvCompleto+="║  🚀 Todas as movimentações ordenadas por data/hora                        ║\n",csvCompleto+="╚══════════════════════════════════════════════════════════════════════════════╝\n",csvCompleto+="\n",csvCompleto+=`Exportado em;${dataExportacao}\n`,csvCompleto+=`Usuário (ID);${idUsuarioAtual}\n`,csvCompleto+=`Total de Movimentações;${movimentacoesComSaldo.length}\n`,csvCompleto+=`Período;${filtros.startDate||"Início"} até ${filtros.endDate||"Hoje"}\n`,csvCompleto+="\n",csvCompleto+="SALDOS FINAIS (após todas as movimentações)\n",csvCompleto+="Moeda;Saldo Final\n",csvCompleto+=`BRL;${formatarValorCSV(saldoBRL)}\n`,csvCompleto+=`USDT;${saldoUSDT.toFixed(2)}\n`,csvCompleto+=`BTC;${saldoBTC.toFixed(8)}\n`,csvCompleto+=`ETH;${saldoETH.toFixed(8)}\n`,csvCompleto+="\n",csvCompleto+="EXTRATO CRONOLÓGICO DETALHADO\n",csvCompleto+="Data;Hora;Tipo de Operação;Descrição;Entrada;Saída;Moeda;Saldo Anterior;Saldo Posterior;Detalhes\n",movimentacoesComSaldo.forEach(mov=>{const entradaFormatada=mov.entrada>0?formatarValorCSV(mov.entrada):"-",saidaFormatada=mov.saida>0?formatarValorCSV(mov.saida):"-",formatarSaldo=(valor,moeda)=>"BRL"===moeda?formatarValorCSV(valor):"USDT"===moeda?valor.toFixed(2):valor.toFixed(8);csvCompleto+=`${mov.data};`,csvCompleto+=`${mov.hora};`,csvCompleto+=`${escaparTextoCSV(mov.tipo)};`,csvCompleto+=`${escaparTextoCSV(mov.descricao)};`,csvCompleto+=`${entradaFormatada};`,csvCompleto+=`${saidaFormatada};`,csvCompleto+=`${mov.moeda};`,csvCompleto+=`${formatarSaldo(mov.saldoAnterior,mov.moeda)};`,csvCompleto+=`${formatarSaldo(mov.saldoPosterior,mov.moeda)};`,csvCompleto+=`${escaparTextoCSV(mov.detalhes)}\n`}),csvCompleto+="\n",csvCompleto+="ESTATÍSTICAS POR TIPO DE OPERAÇÃO\n",csvCompleto+="Tipo;Quantidade;Total (BRL equivalente)\n";const estatisticasPorTipo=movimentacoesComSaldo.reduce((acc,mov)=>(acc[mov.tipo]||(acc[mov.tipo]={count:0,total:0}),acc[mov.tipo].count++,acc[mov.tipo].total+=mov.entrada-mov.saida,acc),{});Object.entries(estatisticasPorTipo).forEach(([tipo,stats])=>{csvCompleto+=`${escaparTextoCSV(tipo)};${stats.count};${formatarValorCSV(stats.total)}\n`}),csvCompleto+="\n",csvCompleto+="╔══════════════════════════════════════════════════════════════════════════════╗\n",csvCompleto+="║  OBSERVAÇÕES IMPORTANTES                                                   ║\n",csvCompleto+="╠══════════════════════════════════════════════════════════════════════════════╣\n",csvCompleto+="║  • Todas as movimentações estão em ordem cronológica                       ║\n",csvCompleto+="║  • Saldo Anterior = Saldo ANTES da operação ser aplicada                  ║\n",csvCompleto+="║  • Saldo Posterior = Saldo DEPOIS da operação ser aplicada                ║\n",csvCompleto+="║  • Entrada = Valores que SOMAM ao saldo                                   ║\n",csvCompleto+="║  • Saída = Valores que SUBTRAEM do saldo                                  ║\n",csvCompleto+="║  • Saldos são separados por moeda (BRL, USDT, BTC, ETH)                   ║\n",csvCompleto+="╚══════════════════════════════════════════════════════════════════════════════╝\n";const nomeArquivo=`extrato_cronologico_usuario_${idUsuarioAtual}_${(new Date).toISOString().split("T")[0]}.csv`;((conteudo,nomeArquivo)=>{const blob=new Blob(["\ufeff"+conteudo],{type:"text/csv;charset=utf-8;"}),link=document.createElement("a");if(void 0!==link.download){const url=URL.createObjectURL(blob);link.setAttribute("href",url),link.setAttribute("download",nomeArquivo),link.style.visibility="hidden",document.body.appendChild(link),link.click(),document.body.removeChild(link),URL.revokeObjectURL(url)}})(csvCompleto,nomeArquivo),ue$2.success("🚀 Extrato Cronológico Gerado! 🎉",{description:`${movimentacoesComSaldo.length} movimentações ordenadas com saldo anterior/posterior`})}catch(error){const errorMessage=error instanceof Error?error.message:"Erro desconhecido";ue$2.error("Erro na exportação",{description:`Falha ao gerar extrato cronológico: ${errorMessage}`})}}else ue$2.error("Nenhum dado para exportar",{description:"Carregue os dados do usuário primeiro"})},variant:"outline",size:"sm",disabled:!dadosUsuario,children:[jsxRuntimeExports.jsx(Download,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Filter,{className:"h-5 w-5"}),"Filtros de Consulta"]})}),jsxRuntimeExports.jsxs(CardContent,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"max_records",children:"Máximo de Registros (API)"}),jsxRuntimeExports.jsxs(Select,{value:filtros.max_records.toString(),onValueChange:value=>setFiltros(prev=>({...prev,max_records:parseInt(value)})),children:[jsxRuntimeExports.jsx(SelectTrigger,{children:jsxRuntimeExports.jsx(SelectValue,{})}),jsxRuntimeExports.jsxs(SelectContent,{children:[jsxRuntimeExports.jsx(SelectItem,{value:"100",children:"100 registros"}),jsxRuntimeExports.jsx(SelectItem,{value:"250",children:"250 registros"}),jsxRuntimeExports.jsx(SelectItem,{value:"500",children:"500 registros"}),jsxRuntimeExports.jsx(SelectItem,{value:"1000",children:"1.000 registros"}),jsxRuntimeExports.jsx(SelectItem,{value:"2500",children:"2.500 registros"}),jsxRuntimeExports.jsx(SelectItem,{value:"5000",children:"5.000 registros"}),jsxRuntimeExports.jsx(SelectItem,{value:"10000",children:"10.000 registros"}),jsxRuntimeExports.jsx(SelectItem,{value:"25000",children:"25.000 registros (máximo)"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"⚠️ Valores altos podem demorar mais para carregar"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"startDate",children:"Data Início (Filtro Local)"}),jsxRuntimeExports.jsx(Input,{id:"startDate",type:"date",value:filtros.startDate,onChange:e3=>setFiltros(prev=>({...prev,startDate:e3.target.value}))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"📅 Filtra registros já carregados"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{htmlFor:"endDate",children:"Data Fim (Filtro Local)"}),jsxRuntimeExports.jsx(Input,{id:"endDate",type:"date",value:filtros.endDate,onChange:e3=>setFiltros(prev=>({...prev,endDate:e3.target.value}))}),jsxRuntimeExports.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"📅 Filtra registros já carregados"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-end gap-2",children:[jsxRuntimeExports.jsxs(Button$1,{onClick:()=>{if(dadosBrutos){const dadosFiltrados=filtrarDadosPorData(dadosBrutos);setDadosUsuario(dadosFiltrados),ue$2.success("Filtros aplicados!")}},disabled:isLoading,className:"flex-1",children:[jsxRuntimeExports.jsx(Search,{className:"h-4 w-4 mr-2"}),"Aplicar Filtros"]}),jsxRuntimeExports.jsx(Button$1,{onClick:()=>{setFiltros({max_records:100,startDate:"",endDate:""})},variant:"outline",children:"Limpar"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 p-3 bg-blue-500/10 rounded-lg border border-blue-500/30",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-blue-400 mt-0.5",children:"ℹ️"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-400",children:[jsxRuntimeExports.jsx("p",{className:"font-medium mb-1",children:"Como funcionam os filtros:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-1 text-xs",children:[jsxRuntimeExports.jsxs("li",{children:["• ",jsxRuntimeExports.jsx("strong",{children:"Máximo de Registros:"})," Define quantos registros buscar da API (requer nova consulta)"]}),jsxRuntimeExports.jsxs("li",{children:["• ",jsxRuntimeExports.jsx("strong",{children:"Filtros de Data:"})," Filtram os registros já carregados no navegador (instantâneo)"]}),jsxRuntimeExports.jsx("li",{children:"• Para períodos específicos, carregue mais registros primeiro, depois filtre por data"})]})]})]})})]})]}),isLoading&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-12",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-6 w-6 animate-spin text-blue-400"}),jsxRuntimeExports.jsx("span",{className:"text-lg",children:"Carregando dados do usuário..."})]})}),!isLoading&&dadosUsuario&&jsxRuntimeExports.jsxs(Tabs,{value:activeTab,onValueChange:setActiveTab,className:"space-y-6",children:[jsxRuntimeExports.jsxs(TabsList,{className:"grid w-full grid-cols-8",children:[jsxRuntimeExports.jsxs(TabsTrigger,{value:"dashboard",children:[jsxRuntimeExports.jsx(ChartPie,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"crypto-deposits",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-4 w-4 mr-2"}),"Depósitos Crypto"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"crypto-withdraws",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-4 w-4 mr-2"}),"Saques Crypto"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"trades",children:[jsxRuntimeExports.jsx(ChartLine,{className:"h-4 w-4 mr-2"}),"Trades"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"fiat-deposits",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 mr-2"}),"Depósitos Fiat"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"fiat-withdraws",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-4 w-4 mr-2"}),"Saques Fiat"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"internal",children:[jsxRuntimeExports.jsx(Repeat,{className:"h-4 w-4 mr-2"}),"Transferências Int"]}),jsxRuntimeExports.jsxs(TabsTrigger,{value:"internal-withdraws",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-4 w-4 mr-2"}),"Saques Internos"]})]}),jsxRuntimeExports.jsx(TabsContent,{value:"dashboard",className:"space-y-6",children:estatisticas&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-7 gap-4",children:[jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-green-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Depósitos Crypto"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:estatisticas.totalCryptoDeposits})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5 text-red-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Saques Crypto"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:estatisticas.totalCryptoWithdraws})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartLine,{className:"h-5 w-5 text-blue-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Trades"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:estatisticas.totalTrades})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-green-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Depósitos Fiat"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:estatisticas.totalFiatDeposits})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-red-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Saques Fiat"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:estatisticas.totalFiatWithdraws})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Repeat,{className:"h-5 w-5 text-purple-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Transferências Int"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:estatisticas.totalInternalDeposits})]})]})})}),jsxRuntimeExports.jsx(Card,{children:jsxRuntimeExports.jsx(CardContent,{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5 text-orange-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"Saques Internos"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold",children:estatisticas.totalInternalWithdraws}),estatisticas.paginationInfo.internalWithdraws&&jsxRuntimeExports.jsx("div",{className:"text-xs bg-blue-500/100/20 text-blue-400 px-1 py-0.5 rounded",children:"TODOS"})]})]})]})})})]}),totaisFinanceiros&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 border-green-500/30",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"flex items-center gap-2 text-green-400",children:"💵 Balanço Financeiro (BRL)"})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-green-500/100/20 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-400 font-medium",children:"Entradas BRL"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-green-400",children:formatarValor(totaisFinanceiros.balances.BRL.entradas)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-400",children:"Depósitos + Transferências + Vendas"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-red-500/100/20 rounded-lg",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-red-400 font-medium",children:"Saídas BRL"}),jsxRuntimeExports.jsx("p",{className:"text-xl font-bold text-red-400",children:formatarValor(totaisFinanceiros.balances.BRL.saidas)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-red-400",children:"Saques + Compras Crypto"})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-lg border-2 border-dashed border-green-500/40",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 font-medium",children:"Saldo Líquido"}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold "+(totaisFinanceiros.balances.BRL.saldo>0?"text-green-400":totaisFinanceiros.balances.BRL.saldo<0?"text-red-400":"text-gray-400"),children:formatarValor(totaisFinanceiros.balances.BRL.saldo)}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-1 mt-1",children:totaisFinanceiros.balances.BRL.saldo>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-green-400",children:"Saldo Positivo"})]}):totaisFinanceiros.balances.BRL.saldo<0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-red-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-red-400",children:"Saldo Negativo"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"Saldo Neutro"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-green-400",children:"📥 Depósitos Fiat:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.fiatDeposits.total)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-400",children:"🔄 Transferências Recebidas:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.internalTransfers.total)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-green-400",children:"💰 Vendas Crypto:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.trades.totalVendas)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-red-400",children:"📤 Saques Fiat:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.fiatWithdraws.total)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-orange-400",children:"📤 Transferências Enviadas:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.internalWithdraws.total)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-red-400",children:"🛒 Compras Crypto:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.trades.totalCompras)})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border-blue-500/30",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsx(CardTitle,{className:"flex items-center gap-2 text-blue-400",children:"📊 Pares Mais Negociados"})}),jsxRuntimeExports.jsx(CardContent,{className:"space-y-3",children:totaisFinanceiros.paresEstatisticas&&totaisFinanceiros.paresEstatisticas.length>0?totaisFinanceiros.paresEstatisticas.slice(0,4).map((par,index)=>jsxRuntimeExports.jsxs("div",{className:"p-3 bg-gray-800/50 rounded-lg border border-gray-600/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("span",{className:"font-bold text-blue-400",children:["#",index+1," ",par.par]}),jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-400",children:formatarValor(par.volume)})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"text-green-400",children:["💰 Vendas: ",formatarValor(par.vendas)]}),jsxRuntimeExports.jsxs("div",{className:"text-red-400",children:["🛒 Compras: ",formatarValor(par.compras)]}),jsxRuntimeExports.jsxs("div",{className:"text-blue-400",children:["📈 Crypto: ",par.cryptoComprada.toFixed(2)]}),jsxRuntimeExports.jsxs("div",{className:"text-purple-400",children:["📉 Crypto: ",par.cryptoVendida.toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"text-center mt-2 pt-2 border-t",children:jsxRuntimeExports.jsxs("span",{className:"text-sm font-bold "+(par.saldoBRL>0?"text-green-400":par.saldoBRL<0?"text-red-400":"text-gray-400"),children:["Saldo: ",formatarValor(par.saldoBRL)]})})]},par.par)):jsxRuntimeExports.jsxs("div",{className:"text-center py-8 text-gray-400",children:[jsxRuntimeExports.jsx(ChartLine,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Nenhuma negociação encontrada"})]})})]})]}),jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-br from-purple-500/10 to-violet-500/10 border-purple-500/30",children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-purple-800",children:[jsxRuntimeExports.jsx(ChartLine,{className:"h-6 w-6"}),"Análise Detalhada das Conversões"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-gray-800/50 rounded-lg border",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-purple-800 mb-2",children:"Resumo Geral"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold text-purple-400",children:totaisFinanceiros.trades.count}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Operações realizadas"}),jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-green-400",children:"💰 Vendas (BRL recebido):"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.trades.totalVendas)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-red-400",children:"🛒 Compras (BRL gasto):"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.trades.totalCompras)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm border-t pt-1",children:[jsxRuntimeExports.jsx("span",{className:"text-purple-400",children:"📊 Volume Total:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.trades.volumeTotal)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-amber-500/10 to-orange-500/10 rounded-lg border",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-orange-800 mb-2",children:"Saldo de Trading"}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-bold "+(totaisFinanceiros.trades.totalVendas-totaisFinanceiros.trades.totalCompras>0?"text-green-400":totaisFinanceiros.trades.totalVendas-totaisFinanceiros.trades.totalCompras<0?"text-red-400":"text-gray-400"),children:formatarValor(totaisFinanceiros.trades.totalVendas-totaisFinanceiros.trades.totalCompras)}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Vendas - Compras"}),jsxRuntimeExports.jsxs("div",{className:"mt-3 space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-400",children:"📈 Pares Únicos:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:Object.keys(totaisFinanceiros.trades.pares).length})]}),totaisFinanceiros.paresEstatisticas&&totaisFinanceiros.paresEstatisticas.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-blue-400",children:"🏆 Mais Negociado:"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:totaisFinanceiros.paresEstatisticas[0].par})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-1 mt-2",children:totaisFinanceiros.trades.totalVendas-totaisFinanceiros.trades.totalCompras>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-4 w-4 text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-green-400",children:"Lucro no Trading"})]}):totaisFinanceiros.trades.totalVendas-totaisFinanceiros.trades.totalCompras<0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-4 w-4 text-red-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-red-400",children:"Prejuízo no Trading"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Clock,{className:"h-4 w-4 text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"Trading Neutro"})]})})]})]})]})})]}),(null==totaisFinanceiros?void 0:totaisFinanceiros.saldosReais)&&jsxRuntimeExports.jsxs(Card,{className:"bg-gradient-to-br from-amber-500/10 to-yellow-500/10 border-amber-500/30",children:[jsxRuntimeExports.jsxs(CardHeader,{children:[jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2 text-amber-900",children:[jsxRuntimeExports.jsx(ChartPie,{className:"h-6 w-6"}),"💰 Balanço Financeiro Geral (Saldos Reais)"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-amber-400 mt-1",children:"Análise completa de todos os registros com justificativas detalhadas"})]}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border-2 border-green-500/30",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-green-400 mb-3 flex items-center gap-2",children:"💵 SALDO REAL EM BRL"}),jsxRuntimeExports.jsxs("div",{className:"bg-green-500/10 rounded p-3 mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-green-400 mb-2",children:"✅ ENTRADAS DE BRL:"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-xs text-green-400 ml-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"📥 Depósitos Fiat (bancos externos):"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.saldosReais.BRL.depositosFiat)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"🔄 Transferências Recebidas (de outros usuários):"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.saldosReais.BRL.transferenciasRecebidas)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"💰 Vendas de Crypto (converteu crypto → BRL):"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.saldosReais.BRL.vendasCrypto)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-t border-green-500/40 pt-1 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"TOTAL DE ENTRADAS:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-green-400",children:formatarValor(totaisFinanceiros.saldosReais.BRL.totalEntradas)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-red-500/10 rounded p-3 mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-red-400 mb-2",children:"❌ SAÍDAS DE BRL:"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-xs text-red-400 ml-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"📤 Saques Fiat (retirou para bancos):"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.saldosReais.BRL.saquesFiat)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"📤 Transferências Enviadas (para outros usuários):"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.saldosReais.BRL.transferenciasEnviadas)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"🛒 Compras de Crypto (converteu BRL → crypto):"}),jsxRuntimeExports.jsx("span",{className:"font-bold",children:formatarValor(totaisFinanceiros.saldosReais.BRL.comprasCrypto)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-t border-red-500/40 pt-1 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"TOTAL DE SAÍDAS:"}),jsxRuntimeExports.jsx("span",{className:"font-bold text-red-400",children:formatarValor(totaisFinanceiros.saldosReais.BRL.totalSaidas)})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-4 border-2 "+(totaisFinanceiros.saldosReais.BRL.saldoFinal>0?"bg-green-500/100/20 border-green-500/50":totaisFinanceiros.saldosReais.BRL.saldoFinal<0?"bg-red-500/100/20 border-red-500/50":"bg-gray-500/20 border-gray-500/50"),children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-sm",children:"🎯 SALDO REAL EM BRL:"}),jsxRuntimeExports.jsx("span",{className:"text-2xl font-bold "+(totaisFinanceiros.saldosReais.BRL.saldoFinal>0?"text-green-400":totaisFinanceiros.saldosReais.BRL.saldoFinal<0?"text-red-400":"text-gray-300"),children:formatarValor(totaisFinanceiros.saldosReais.BRL.saldoFinal)})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400 mt-1 text-center",children:["Fórmula: (",formatarValor(totaisFinanceiros.saldosReais.BRL.totalEntradas)," entradas) - (",formatarValor(totaisFinanceiros.saldosReais.BRL.totalSaidas)," saídas)"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 border-2 border-blue-500/30",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-blue-400 mb-3 flex items-center gap-2",children:"💎 SALDO REAL EM CRYPTO"}),jsxRuntimeExports.jsxs("div",{className:"mb-3 p-3 bg-blue-500/10 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-blue-400 mb-2",children:"🪙 USDT (Tether):"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-xs ml-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-green-400",children:[jsxRuntimeExports.jsx("span",{children:"📥 Depósitos USDT:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[totaisFinanceiros.saldosReais.crypto.USDT.deposits.toFixed(2)," USDT"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-green-400",children:[jsxRuntimeExports.jsx("span",{children:"🛒 Comprado (com BRL):"}),jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[totaisFinanceiros.saldosReais.crypto.USDT.comprado.toFixed(2)," USDT"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-red-400",children:[jsxRuntimeExports.jsx("span",{children:"📤 Saques USDT:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[totaisFinanceiros.saldosReais.crypto.USDT.withdraws.toFixed(2)," USDT"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-red-400",children:[jsxRuntimeExports.jsx("span",{children:"💰 Vendido (por BRL):"}),jsxRuntimeExports.jsxs("span",{className:"font-bold",children:[totaisFinanceiros.saldosReais.crypto.USDT.vendido.toFixed(2)," USDT"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-t border-blue-300 pt-1 mt-1",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:"🎯 SALDO USDT:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg "+(totaisFinanceiros.saldosReais.crypto.USDT.saldo>0?"text-green-400":"text-red-400"),children:[totaisFinanceiros.saldosReais.crypto.USDT.saldo.toFixed(2)," USDT"]})]})]})]}),(totaisFinanceiros.saldosReais.crypto.BTC.deposits>0||0!==totaisFinanceiros.saldosReais.crypto.BTC.saldo)&&jsxRuntimeExports.jsxs("div",{className:"mb-3 p-3 bg-yellow-50 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-yellow-400 mb-2",children:"₿ BTC (Bitcoin):"}),jsxRuntimeExports.jsx("div",{className:"space-y-1 text-xs ml-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Depósitos + Compras - Saques - Vendas:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg text-yellow-400",children:[totaisFinanceiros.saldosReais.crypto.BTC.saldo.toFixed(8)," BTC"]})]})})]}),(totaisFinanceiros.saldosReais.crypto.ETH.deposits>0||0!==totaisFinanceiros.saldosReais.crypto.ETH.saldo)&&jsxRuntimeExports.jsxs("div",{className:"p-3 bg-purple-50 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-purple-400 mb-2",children:"Ξ ETH (Ethereum):"}),jsxRuntimeExports.jsx("div",{className:"space-y-1 text-xs ml-4",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Depósitos + Compras - Saques - Vendas:"}),jsxRuntimeExports.jsxs("span",{className:"font-bold text-lg text-purple-400",children:[totaisFinanceiros.saldosReais.crypto.ETH.saldo.toFixed(8)," ETH"]})]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-amber-500/10 to-orange-500/10 rounded-lg p-4 border-2 border-amber-500/50",children:[jsxRuntimeExports.jsx("h4",{className:"font-bold text-amber-900 mb-2 flex items-center gap-2",children:"📊 RESUMO INTERPRETATIVO:"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-amber-800 space-y-1",children:[totaisFinanceiros.saldosReais.BRL.saldoFinal>0?jsxRuntimeExports.jsxs("p",{children:["✅ O usuário tem ",jsxRuntimeExports.jsx("strong",{className:"text-green-400",children:formatarValor(totaisFinanceiros.saldosReais.BRL.saldoFinal)})," em saldo positivo de BRL"]}):totaisFinanceiros.saldosReais.BRL.saldoFinal<0?jsxRuntimeExports.jsxs("p",{children:["⚠️ O usuário tem ",jsxRuntimeExports.jsx("strong",{className:"text-red-400",children:formatarValor(Math.abs(totaisFinanceiros.saldosReais.BRL.saldoFinal))})," em saldo negativo de BRL"]}):jsxRuntimeExports.jsx("p",{children:"⚖️ O usuário tem saldo neutro em BRL"}),totaisFinanceiros.saldosReais.crypto.USDT.saldo>0&&jsxRuntimeExports.jsxs("p",{children:["💎 O usuário possui ",jsxRuntimeExports.jsxs("strong",{className:"text-blue-400",children:[totaisFinanceiros.saldosReais.crypto.USDT.saldo.toFixed(2)," USDT"]})," em carteira"]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 pt-2 border-t border-amber-500/30",children:["💡 ",jsxRuntimeExports.jsx("strong",{children:"Justificativa:"})," O saldo considera TODAS as operações: depósitos, transferências, vendas, saques e compras de crypto."]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-green-400"}),"Depósitos por Moeda"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-green-500/100/20 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-green-400 font-medium",children:"BRL (Fiat)"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-green-400",children:formatarValor(totaisFinanceiros.fiatDeposits.total)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400",children:[totaisFinanceiros.fiatDeposits.count," depósitos"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-blue-500/100/20 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-blue-400 font-medium",children:"BRL (Interno)"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-blue-400",children:formatarValor(totaisFinanceiros.internalTransfers.total)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400",children:[totaisFinanceiros.internalTransfers.count," transferências"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-orange-100 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-orange-400 font-medium",children:"USDT (Crypto)"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-orange-800",children:totaisFinanceiros.cryptoDeposits.USDT.toFixed(2)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"crypto deposits"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Outras Criptomoedas:"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"p-2 bg-yellow-500/20 rounded text-xs",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-yellow-400",children:"BTC"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-400",children:totaisFinanceiros.cryptoDeposits.BTC.toFixed(4)})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 bg-purple-100 rounded text-xs",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-purple-800",children:"ETH"}),jsxRuntimeExports.jsx("p",{className:"text-purple-400",children:totaisFinanceiros.cryptoDeposits.ETH.toFixed(4)})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 bg-gray-500/20 rounded text-xs",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-gray-800",children:"Outras"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:totaisFinanceiros.cryptoDeposits.outros.toFixed(2)})]})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5 text-red-400"}),"Saques por Moeda"]})}),jsxRuntimeExports.jsxs(CardContent,{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-red-500/100/20 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-red-400 font-medium",children:"BRL (Fiat)"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-red-400",children:formatarValor(totaisFinanceiros.fiatWithdraws.total)}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-400",children:[totaisFinanceiros.fiatWithdraws.count," saques"]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center p-3 bg-orange-100 rounded",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-orange-400 font-medium",children:"USDT (Crypto)"}),jsxRuntimeExports.jsx("p",{className:"text-lg font-bold text-orange-800",children:totaisFinanceiros.cryptoWithdraws.USDT.toFixed(2)}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"crypto withdraws"})]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Outras Criptomoedas:"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"p-2 bg-yellow-500/20 rounded text-xs",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-yellow-400",children:"BTC"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-400",children:totaisFinanceiros.cryptoWithdraws.BTC.toFixed(4)})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 bg-purple-100 rounded text-xs",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-purple-800",children:"ETH"}),jsxRuntimeExports.jsx("p",{className:"text-purple-400",children:totaisFinanceiros.cryptoWithdraws.ETH.toFixed(4)})]}),jsxRuntimeExports.jsxs("div",{className:"p-2 bg-gray-500/20 rounded text-xs",children:[jsxRuntimeExports.jsx("p",{className:"font-bold text-gray-800",children:"Outras"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:totaisFinanceiros.cryptoWithdraws.outros.toFixed(2)})]})]})]})]})]})]})]}),jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(User,{className:"h-5 w-5"}),"Informações do Usuário"]})}),jsxRuntimeExports.jsx(CardContent,{children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"Nome"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:estatisticas.nomeUsuario})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:estatisticas.emailUsuario})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Label$1,{className:"text-sm text-muted-foreground",children:"ID Brasil Bitcoin"}),jsxRuntimeExports.jsx("p",{className:"font-medium",children:estatisticas.idBrasilBitcoin})]})]})})]})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"crypto-deposits",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-5 w-5 text-green-400"}),"Depósitos de Criptomoedas"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[(null==(_b3=null==(_a3=dadosUsuario.cryptoDeposits)?void 0:_a3.dados)?void 0:_b3.total_registros)||0," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:(null==(_d2=null==(_c2=dadosUsuario.cryptoDeposits)?void 0:_c2.dados)?void 0:_d2.depositos)&&dadosUsuario.cryptoDeposits.dados.depositos.length>0?jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{children:"Moeda"}),jsxRuntimeExports.jsx(TableHead,{children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{children:"Taxa"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Rede"}),jsxRuntimeExports.jsx(TableHead,{children:"Hash"}),jsxRuntimeExports.jsx(TableHead,{children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dadosUsuario.cryptoDeposits.dados.depositos.map((deposito,index)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:formatarData(deposito.timestamp)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bitcoin,{className:"h-4 w-4 text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:deposito.coin||"N/A"})]})}),jsxRuntimeExports.jsxs(TableCell,{className:"font-mono",children:[deposito.amount||"0"," ",deposito.coin||"N/A"]}),jsxRuntimeExports.jsxs(TableCell,{className:"font-mono text-sm text-muted-foreground",children:[deposito.fee||"0"," ",deposito.coin||"N/A"]}),jsxRuntimeExports.jsx(TableCell,{children:getStatusBadge(deposito.status)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:deposito.networkName||deposito.network})}),jsxRuntimeExports.jsx(TableCell,{className:"max-w-32",children:deposito.hash?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("span",{className:"font-mono text-xs text-muted-foreground truncate",children:[deposito.hash.substring(0,8),"..."]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>copiarTexto(deposito.hash,"Hash"),className:"h-6 w-6 p-0",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[deposito.address&&jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>copiarTexto(deposito.address,"Endereço"),className:"h-8 px-2",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})}),deposito.hash&&deposito.network&&jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>window.open(`https://blockchair.com/${deposito.network}/transaction/${deposito.hash}`,"_blank"),className:"h-8 px-2",children:jsxRuntimeExports.jsx(ExternalLink,{className:"h-3 w-3"})})]})})]},deposito.id||index))})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(TrendingUp,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Nenhum depósito de criptomoedas encontrado"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",children:"Os depósitos aparecerão aqui quando disponíveis"})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"crypto-withdraws",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5 text-red-400"}),"Saques de Criptomoedas"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[(null==(_f2=null==(_e3=dadosUsuario.cryptoWithdraws)?void 0:_e3.dados)?void 0:_f2.total_registros)||0," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:(null==(_h2=null==(_g2=dadosUsuario.cryptoWithdraws)?void 0:_g2.dados)?void 0:_h2.saques)&&dadosUsuario.cryptoWithdraws.dados.saques.length>0?jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{children:"Moeda"}),jsxRuntimeExports.jsx(TableHead,{children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{children:"Taxa"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Destino"}),jsxRuntimeExports.jsx(TableHead,{children:"Hash"}),jsxRuntimeExports.jsx(TableHead,{children:"Ações"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dadosUsuario.cryptoWithdraws.dados.saques.map((saque,index)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:formatarData(saque.timestamp)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Bitcoin,{className:"h-4 w-4 text-orange-500"}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:saque.coin||"N/A"})]})}),jsxRuntimeExports.jsxs(TableCell,{className:"font-mono",children:[saque.amount||"0"," ",saque.coin||"N/A"]}),jsxRuntimeExports.jsxs(TableCell,{className:"font-mono text-sm text-muted-foreground",children:[saque.fee||"0"," ",saque.coin||"N/A"]}),jsxRuntimeExports.jsx(TableCell,{children:getStatusBadge(saque.status)}),jsxRuntimeExports.jsx(TableCell,{className:"max-w-32",children:saque.address?jsxRuntimeExports.jsxs("span",{className:"font-mono text-xs text-muted-foreground truncate",children:[saque.address.substring(0,12),"..."]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})}),jsxRuntimeExports.jsx(TableCell,{className:"max-w-32",children:saque.hash?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsxs("span",{className:"font-mono text-xs text-muted-foreground truncate",children:[saque.hash.substring(0,8),"..."]}),jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>copiarTexto(saque.hash,"Hash"),className:"h-6 w-6 p-0",children:jsxRuntimeExports.jsx(Copy,{className:"h-3 w-3"})})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})}),jsxRuntimeExports.jsx(TableCell,{children:saque.hash&&saque.network?jsxRuntimeExports.jsx(Button$1,{variant:"ghost",size:"sm",onClick:()=>window.open(`https://blockchair.com/${saque.network}/transaction/${saque.hash}`,"_blank"),className:"h-8 px-2",children:jsxRuntimeExports.jsx(ExternalLink,{className:"h-3 w-3"})}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})]},saque.id||index))})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Nenhum saque de criptomoedas encontrado"})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"trades",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(ChartLine,{className:"h-5 w-5 text-blue-400"}),"Negociações (Trades)"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[(null==(_j2=null==(_i2=dadosUsuario.trades)?void 0:_i2.dados)?void 0:_j2.total_registros)||0," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:(null==(_l=null==(_k=dadosUsuario.trades)?void 0:_k.dados)?void 0:_l.trades)&&dadosUsuario.trades.dados.trades.length>0?jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{children:"Par"}),jsxRuntimeExports.jsx(TableHead,{children:"Tipo"}),jsxRuntimeExports.jsx(TableHead,{children:"Quantidade"}),jsxRuntimeExports.jsx(TableHead,{children:"Preço"}),jsxRuntimeExports.jsx(TableHead,{children:"Total"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Markup"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dadosUsuario.trades.dados.trades.map((trade,index)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:formatarData(trade.timestamp)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",children:trade.pair||"N/A"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"buy"===trade.side?"default":"destructive",children:"buy"===trade.side?"Compra":"sell"===trade.side?"Venda":"N/A"})}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono",children:trade.amount||"0"}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono",children:formatarValor(trade.priceWithoutMarkup)}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono",children:formatarValor(trade.total)}),jsxRuntimeExports.jsx(TableCell,{children:getStatusBadge(trade.status)}),jsxRuntimeExports.jsxs(TableCell,{className:"font-mono text-sm",children:[trade.markup||"0","%"]})]},trade.transactionId||index))})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(ChartLine,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Nenhuma negociação encontrada"})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"fiat-deposits",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-green-400"}),"Depósitos Fiat (BRL)"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[(null==(_n=null==(_m=dadosUsuario.fiatDeposits)?void 0:_m.dados)?void 0:_n.total_registros)||0," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:(null==(_p=null==(_o=dadosUsuario.fiatDeposits)?void 0:_o.dados)?void 0:_p.depositos)&&dadosUsuario.fiatDeposits.dados.depositos.length>0?jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{children:"Banco"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"}),jsxRuntimeExports.jsx(TableHead,{children:"Documento"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dadosUsuario.fiatDeposits.dados.depositos.map((deposito,index)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:formatarData(deposito.timestamp)}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono",children:formatarValor(deposito.value)}),jsxRuntimeExports.jsx(TableCell,{children:deposito.bank||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:getStatusBadge(deposito.status)}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:deposito.userDocument||"N/A"})]},deposito.id||index))})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Nenhum depósito fiat encontrado"})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"fiat-withdraws",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-5 w-5 text-red-400"}),"Saques Fiat (BRL)"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[(null==(_r=null==(_q=dadosUsuario.fiatWithdraws)?void 0:_q.dados)?void 0:_r.total_registros)||0," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:(null==(_t2=null==(_s=dadosUsuario.fiatWithdraws)?void 0:_s.dados)?void 0:_t2.saques)&&dadosUsuario.fiatWithdraws.dados.saques.length>0?jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{children:"Taxa"}),jsxRuntimeExports.jsx(TableHead,{children:"Banco"}),jsxRuntimeExports.jsx(TableHead,{children:"Chave PIX"}),jsxRuntimeExports.jsx(TableHead,{children:"Status"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dadosUsuario.fiatWithdraws.dados.saques.map((saque,index)=>jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:formatarData(saque.timestamp)}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono",children:formatarValor(saque.value)}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:formatarValor(saque.withdrawFee)}),jsxRuntimeExports.jsx(TableCell,{children:saque.bank||"N/A"}),jsxRuntimeExports.jsx(TableCell,{className:"max-w-32",children:saque.pixKey?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm truncate",children:saque.pixKey}),jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"text-xs",children:saque.pixKeyType||"N/A"})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-muted-foreground",children:"N/A"})}),jsxRuntimeExports.jsx(TableCell,{children:getStatusBadge(saque.status)})]},saque.id||index))})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(DollarSign,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Nenhum saque fiat encontrado"})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"internal",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Repeat,{className:"h-5 w-5 text-purple-400"}),"Transferências Internas"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[(null==(_v=null==(_u=dadosUsuario.internalDeposits)?void 0:_u.dados)?void 0:_v.total_registros)||0," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:(null==(_x=null==(_w=dadosUsuario.internalDeposits)?void 0:_w.dados)?void 0:_x.depositos)&&dadosUsuario.internalDeposits.dados.depositos.length>0?jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"ID"}),jsxRuntimeExports.jsx(TableHead,{children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{children:"Moeda"}),jsxRuntimeExports.jsx(TableHead,{children:"Tipo"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dadosUsuario.internalDeposits.dados.depositos.map((transferencia,index)=>{var _a4;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsxs(TableCell,{className:"font-mono text-sm",children:["#",transferencia.id]}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:formatarData(transferencia.timestamp)}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-lg font-semibold",children:formatarValor(transferencia.amount)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"uppercase",children:(null==(_a4=transferencia.coin)?void 0:_a4.toUpperCase())||"BRL"})}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"bg-blue-500/10 text-blue-400",children:"🔄 Transferência Interna"})})]},transferencia.id||index)})})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(Repeat,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Nenhuma transferência interna encontrada"}),dadosUsuario.internalDeposits&&jsxRuntimeExports.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-sm",children:[jsxRuntimeExports.jsx("strong",{children:"🔍 Debug API Response:"}),jsxRuntimeExports.jsx("pre",{className:"mt-2 text-xs text-left overflow-x-auto",children:JSON.stringify(dadosUsuario.internalDeposits,null,2)})]})]})})]})}),jsxRuntimeExports.jsx(TabsContent,{value:"internal-withdraws",children:jsxRuntimeExports.jsxs(Card,{children:[jsxRuntimeExports.jsx(CardHeader,{children:jsxRuntimeExports.jsxs(CardTitle,{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-5 w-5 text-orange-400"}),"Saques Internos (Transferências Enviadas)"]}),jsxRuntimeExports.jsxs(Badge,{variant:"outline",children:[(null==(_z=null==(_y=dadosUsuario.internalWithdraws)?void 0:_y.dados)?void 0:_z.total_registros)||0," registros"]})]})}),jsxRuntimeExports.jsx(CardContent,{children:(null==(_B=null==(_A=dadosUsuario.internalWithdraws)?void 0:_A.dados)?void 0:_B.saques)&&dadosUsuario.internalWithdraws.dados.saques.length>0?jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:jsxRuntimeExports.jsxs(Table,{children:[jsxRuntimeExports.jsx(TableHeader,{children:jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsx(TableHead,{children:"ID"}),jsxRuntimeExports.jsx(TableHead,{children:"Data/Hora"}),jsxRuntimeExports.jsx(TableHead,{children:"Valor"}),jsxRuntimeExports.jsx(TableHead,{children:"Moeda"}),jsxRuntimeExports.jsx(TableHead,{children:"Para (Documento)"}),jsxRuntimeExports.jsx(TableHead,{children:"Tipo"})]})}),jsxRuntimeExports.jsx(TableBody,{children:dadosUsuario.internalWithdraws.dados.saques.map((saque,index)=>{var _a4;return jsxRuntimeExports.jsxs(TableRow,{children:[jsxRuntimeExports.jsxs(TableCell,{className:"font-mono text-sm",children:["#",saque.id]}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:formatarData(saque.timestamp)}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-lg font-semibold",children:formatarValor(saque.amount)}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"secondary",className:"uppercase",children:(null==(_a4=saque.coin)?void 0:_a4.toUpperCase())||"BRL"})}),jsxRuntimeExports.jsx(TableCell,{className:"font-mono text-sm",children:saque.toUserDocument||"N/A"}),jsxRuntimeExports.jsx(TableCell,{children:jsxRuntimeExports.jsx(Badge,{variant:"outline",className:"bg-orange-50 text-orange-400",children:"📤 Transferência Enviada"})})]},saque.id||index)})})]})}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[jsxRuntimeExports.jsx(TrendingDown,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),jsxRuntimeExports.jsx("p",{children:"Nenhum saque interno encontrado"}),jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",children:"As transferências enviadas aparecerão aqui quando disponíveis"})]})})]})})]}),!isLoading&&!dadosUsuario&&jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"h-12 w-12 mx-auto text-amber-500 mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Erro ao carregar dados"}),jsxRuntimeExports.jsxs("p",{className:"text-muted-foreground mb-4",children:["Não foi possível carregar os dados do usuário ",idUsuarioAtual]}),jsxRuntimeExports.jsxs(Button$1,{onClick:carregarDados,children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-4 w-4 mr-2"}),"Tentar Novamente"]})]})]})}const queryClient=new QueryClient({defaultOptions:{queries:{staleTime:3e5,gcTime:6e5,refetchOnWindowFocus:!1,refetchOnReconnect:!0,retry:2,retryDelay:attemptIndex=>Math.min(1e3*2**attemptIndex,3e4)}}}),BankingSystemInitializer=({children:children})=>(reactExports.useEffect(()=>{(async()=>{try{await initializeBankingSystem()}catch(error){}})()},[]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:children})),App=()=>jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(TooltipProvider,{children:jsxRuntimeExports.jsx(BankingSystemInitializer,{children:jsxRuntimeExports.jsxs(AuthProvider,{children:[jsxRuntimeExports.jsx(Toaster$1,{}),jsxRuntimeExports.jsx(Toaster,{position:"top-right",theme:"dark"}),jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(Login,{})}),jsxRuntimeExports.jsx(Route,{path:"/login-cliente",element:jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/register",element:jsxRuntimeExports.jsx(Register,{})}),jsxRuntimeExports.jsx(Route,{path:"/client-statement",element:jsxRuntimeExports.jsx(ProtectedRoute,{redirectTo:"/login",children:jsxRuntimeExports.jsx(ClientStatement,{})})}),jsxRuntimeExports.jsx(Route,{path:"/employee-statement",element:jsxRuntimeExports.jsx(ProtectedRoute,{requireEmployee:!0,redirectTo:"/login",children:jsxRuntimeExports.jsx(EmployeeStatement,{})})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(ProtectedRoute,{requireAdmin:!0,children:jsxRuntimeExports.jsx(MainLayout,{})}),children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"/extrato_tcr",element:jsxRuntimeExports.jsx(ExtratoTcr,{})}),jsxRuntimeExports.jsx(Route,{path:"/compensacao-depositos",element:jsxRuntimeExports.jsx(CompensacaoDepositos,{})}),jsxRuntimeExports.jsx(Route,{path:"/grupo-tcr/saldos",element:jsxRuntimeExports.jsx(GrupoTcrSaldos,{})}),jsxRuntimeExports.jsx(Route,{path:"/grupo-tcr/tcr",element:jsxRuntimeExports.jsx(TcrPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/grupo-tcr/corpx-ttf",element:jsxRuntimeExports.jsx(CorpXTTFPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/bmp-531",element:jsxRuntimeExports.jsx(Bmp531Page,{})}),jsxRuntimeExports.jsx(Route,{path:"/corpx",element:jsxRuntimeExports.jsx(CorpXPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/pagamentos",element:jsxRuntimeExports.jsx(PaymentsPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/cotacoes",element:jsxRuntimeExports.jsx(Cotacoes,{})}),jsxRuntimeExports.jsx(Route,{path:"/bot-cotacao",element:jsxRuntimeExports.jsx(BotCotacao,{})}),jsxRuntimeExports.jsx(Route,{path:"/otc",element:jsxRuntimeExports.jsx(OTCClients,{})}),jsxRuntimeExports.jsx(Route,{path:"/otc/negociar",element:jsxRuntimeExports.jsx(OTCNegociar,{})}),jsxRuntimeExports.jsx(Route,{path:"/otc/admin-statement/:clientId",element:jsxRuntimeExports.jsx(AdminClientStatement,{})}),jsxRuntimeExports.jsx(Route,{path:"/bitso",element:jsxRuntimeExports.jsx(BitsoPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/analise-usuario/:id",element:jsxRuntimeExports.jsx(AnaliseUsuario,{})})]}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(NotFound,{})})]})})]})})})});client.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React$1.StrictMode,{children:jsxRuntimeExports.jsx(App,{})}));export{_typeof$4 as _};
